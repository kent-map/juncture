var nL=Object.defineProperty;var oL=(n,r,t)=>r in n?nL(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var hi=(n,r,t)=>(oL(n,typeof r!="symbol"?r+"":r,t),t),sL=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)};var uw=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)};var z0=(n,r,t)=>(sL(n,r,"access private method"),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();const aL="modulepreload",lL=function(n){return"/mdpress/mdpress/dist/"+n},M2={},cL=function(r,t,o){if(!t||t.length===0)return r();const l=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=lL(u),u in M2)return;M2[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!o)for(let _=l.length-1;_>=0;_--){const k=l[_];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${p}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":aL,d||(v.as="script",v.crossOrigin=""),v.href=u,document.head.appendChild(v),d)return new Promise((_,k)=>{v.addEventListener("load",_),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r()).catch(u=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u})};function F1(n,r){const t=Object.create(null),o=n.split(",");for(let l=0;l<o.length;l++)t[o[l]]=!0;return r?l=>!!t[l.toLowerCase()]:l=>!!t[l]}const Bi={},rp=[],Ia=()=>{},uL=()=>!1,hL=/^on[^a-z]/,py=n=>hL.test(n),B1=n=>n.startsWith("onUpdate:"),Mn=Object.assign,j1=(n,r)=>{const t=n.indexOf(r);t>-1&&n.splice(t,1)},dL=Object.prototype.hasOwnProperty,li=(n,r)=>dL.call(n,r),ar=Array.isArray,ip=n=>fy(n)==="[object Map]",VT=n=>fy(n)==="[object Set]",Xr=n=>typeof n=="function",In=n=>typeof n=="string",H1=n=>typeof n=="symbol",Xi=n=>n!==null&&typeof n=="object",WT=n=>Xi(n)&&Xr(n.then)&&Xr(n.catch),ZT=Object.prototype.toString,fy=n=>ZT.call(n),pL=n=>fy(n).slice(8,-1),YT=n=>fy(n)==="[object Object]",U1=n=>In(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,uv=F1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gy=n=>{const r=Object.create(null);return t=>r[t]||(r[t]=n(t))},fL=/-(\w)/g,ic=gy(n=>n.replace(fL,(r,t)=>t?t.toUpperCase():"")),gL=/\B([A-Z])/g,Ta=gy(n=>n.replace(gL,"-$1").toLowerCase()),XT=gy(n=>n.charAt(0).toUpperCase()+n.slice(1)),hw=gy(n=>n?`on${XT(n)}`:""),kg=(n,r)=>!Object.is(n,r),dw=(n,r)=>{for(let t=0;t<n.length;t++)n[t](r)},Tv=(n,r,t)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value:t})},mL=n=>{const r=parseFloat(n);return isNaN(r)?n:r},I2=n=>{const r=In(n)?Number(n):NaN;return isNaN(r)?n:r};let L2;const Xw=()=>L2||(L2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function lp(n){if(ar(n)){const r={};for(let t=0;t<n.length;t++){const o=n[t],l=In(o)?wL(o):lp(o);if(l)for(const u in l)r[u]=l[u]}return r}else{if(In(n))return n;if(Xi(n))return n}}const vL=/;(?![^(]*\))/g,yL=/:([^]+)/,bL=/\/\*[^]*?\*\//g;function wL(n){const r={};return n.replace(bL,"").split(vL).forEach(t=>{if(t){const o=t.split(yL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function $g(n){let r="";if(In(n))r=n;else if(ar(n))for(let t=0;t<n.length;t++){const o=$g(n[t]);o&&(r+=o+" ")}else if(Xi(n))for(const t in n)n[t]&&(r+=t+" ");return r.trim()}const xL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_L=F1(xL);function KT(n){return!!n||n===""}const Sv=n=>In(n)?n:n==null?"":ar(n)||Xi(n)&&(n.toString===ZT||!Xr(n.toString))?JSON.stringify(n,JT,2):String(n),JT=(n,r)=>r&&r.__v_isRef?JT(n,r.value):ip(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((t,[o,l])=>(t[`${o} =>`]=l,t),{})}:VT(r)?{[`Set(${r.size})`]:[...r.values()]}:Xi(r)&&!ar(r)&&!YT(r)?String(r):r;let Ea;class kL{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ea,!r&&Ea&&(this.index=(Ea.scopes||(Ea.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const t=Ea;try{return Ea=this,r()}finally{Ea=t}}}on(){Ea=this}off(){Ea=this.parent}stop(r){if(this._active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!r){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function EL(n,r=Ea){r&&r.active&&r.effects.push(n)}function TL(){return Ea}const G1=n=>{const r=new Set(n);return r.w=0,r.n=0,r},QT=n=>(n.w&au)>0,$T=n=>(n.n&au)>0,SL=({deps:n})=>{if(n.length)for(let r=0;r<n.length;r++)n[r].w|=au},CL=n=>{const{deps:r}=n;if(r.length){let t=0;for(let o=0;o<r.length;o++){const l=r[o];QT(l)&&!$T(l)?l.delete(n):r[t++]=l,l.w&=~au,l.n&=~au}r.length=t}},Kw=new WeakMap;let ng=0,au=1;const Jw=30;let Sa;const fh=Symbol(""),Qw=Symbol("");class q1{constructor(r,t=null,o){this.fn=r,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,EL(this,o)}run(){if(!this.active)return this.fn();let r=Sa,t=ru;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Sa,Sa=this,ru=!0,au=1<<++ng,ng<=Jw?SL(this):R2(this),this.fn()}finally{ng<=Jw&&CL(this),au=1<<--ng,Sa=this.parent,ru=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sa===this?this.deferStop=!0:this.active&&(R2(this),this.onStop&&this.onStop(),this.active=!1)}}function R2(n){const{deps:r}=n;if(r.length){for(let t=0;t<r.length;t++)r[t].delete(n);r.length=0}}let ru=!0;const tS=[];function Tp(){tS.push(ru),ru=!1}function Sp(){const n=tS.pop();ru=n===void 0?!0:n}function Jo(n,r,t){if(ru&&Sa){let o=Kw.get(n);o||Kw.set(n,o=new Map);let l=o.get(t);l||o.set(t,l=G1()),eS(l)}}function eS(n,r){let t=!1;ng<=Jw?$T(n)||(n.n|=au,t=!QT(n)):t=!n.has(Sa),t&&(n.add(Sa),Sa.deps.push(n))}function sc(n,r,t,o,l,u){const d=Kw.get(n);if(!d)return;let p=[];if(r==="clear")p=[...d.values()];else if(t==="length"&&ar(n)){const m=Number(o);d.forEach((v,_)=>{(_==="length"||_>=m)&&p.push(v)})}else switch(t!==void 0&&p.push(d.get(t)),r){case"add":ar(n)?U1(t)&&p.push(d.get("length")):(p.push(d.get(fh)),ip(n)&&p.push(d.get(Qw)));break;case"delete":ar(n)||(p.push(d.get(fh)),ip(n)&&p.push(d.get(Qw)));break;case"set":ip(n)&&p.push(d.get(fh));break}if(p.length===1)p[0]&&$w(p[0]);else{const m=[];for(const v of p)v&&m.push(...v);$w(G1(m))}}function $w(n,r){const t=ar(n)?n:[...n];for(const o of t)o.computed&&A2(o);for(const o of t)o.computed||A2(o)}function A2(n,r){(n!==Sa||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const PL=F1("__proto__,__v_isRef,__isVue"),rS=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(H1)),ML=V1(),IL=V1(!1,!0),LL=V1(!0),O2=RL();function RL(){const n={};return["includes","indexOf","lastIndexOf"].forEach(r=>{n[r]=function(...t){const o=oi(this);for(let u=0,d=this.length;u<d;u++)Jo(o,"get",u+"");const l=o[r](...t);return l===-1||l===!1?o[r](...t.map(oi)):l}}),["push","pop","shift","unshift","splice"].forEach(r=>{n[r]=function(...t){Tp();const o=oi(this)[r].apply(this,t);return Sp(),o}}),n}function AL(n){const r=oi(this);return Jo(r,"has",n),r.hasOwnProperty(n)}function V1(n=!1,r=!1){return function(o,l,u){if(l==="__v_isReactive")return!n;if(l==="__v_isReadonly")return n;if(l==="__v_isShallow")return r;if(l==="__v_raw"&&u===(n?r?XL:aS:r?sS:oS).get(o))return o;const d=ar(o);if(!n){if(d&&li(O2,l))return Reflect.get(O2,l,u);if(l==="hasOwnProperty")return AL}const p=Reflect.get(o,l,u);return(H1(l)?rS.has(l):PL(l))||(n||Jo(o,"get",l),r)?p:fo(p)?d&&U1(l)?p:p.value:Xi(p)?n?lS(p):Y1(p):p}}const OL=iS(),zL=iS(!0);function iS(n=!1){return function(t,o,l,u){let d=t[o];if(cp(d)&&fo(d)&&!fo(l))return!1;if(!n&&(!Cv(l)&&!cp(l)&&(d=oi(d),l=oi(l)),!ar(t)&&fo(d)&&!fo(l)))return d.value=l,!0;const p=ar(t)&&U1(o)?Number(o)<t.length:li(t,o),m=Reflect.set(t,o,l,u);return t===oi(u)&&(p?kg(l,d)&&sc(t,"set",o,l):sc(t,"add",o,l)),m}}function NL(n,r){const t=li(n,r);n[r];const o=Reflect.deleteProperty(n,r);return o&&t&&sc(n,"delete",r,void 0),o}function DL(n,r){const t=Reflect.has(n,r);return(!H1(r)||!rS.has(r))&&Jo(n,"has",r),t}function FL(n){return Jo(n,"iterate",ar(n)?"length":fh),Reflect.ownKeys(n)}const nS={get:ML,set:OL,deleteProperty:NL,has:DL,ownKeys:FL},BL={get:LL,set(n,r){return!0},deleteProperty(n,r){return!0}},jL=Mn({},nS,{get:IL,set:zL}),W1=n=>n,my=n=>Reflect.getPrototypeOf(n);function N0(n,r,t=!1,o=!1){n=n.__v_raw;const l=oi(n),u=oi(r);t||(r!==u&&Jo(l,"get",r),Jo(l,"get",u));const{has:d}=my(l),p=o?W1:t?K1:Eg;if(d.call(l,r))return p(n.get(r));if(d.call(l,u))return p(n.get(u));n!==l&&n.get(r)}function D0(n,r=!1){const t=this.__v_raw,o=oi(t),l=oi(n);return r||(n!==l&&Jo(o,"has",n),Jo(o,"has",l)),n===l?t.has(n):t.has(n)||t.has(l)}function F0(n,r=!1){return n=n.__v_raw,!r&&Jo(oi(n),"iterate",fh),Reflect.get(n,"size",n)}function z2(n){n=oi(n);const r=oi(this);return my(r).has.call(r,n)||(r.add(n),sc(r,"add",n,n)),this}function N2(n,r){r=oi(r);const t=oi(this),{has:o,get:l}=my(t);let u=o.call(t,n);u||(n=oi(n),u=o.call(t,n));const d=l.call(t,n);return t.set(n,r),u?kg(r,d)&&sc(t,"set",n,r):sc(t,"add",n,r),this}function D2(n){const r=oi(this),{has:t,get:o}=my(r);let l=t.call(r,n);l||(n=oi(n),l=t.call(r,n)),o&&o.call(r,n);const u=r.delete(n);return l&&sc(r,"delete",n,void 0),u}function F2(){const n=oi(this),r=n.size!==0,t=n.clear();return r&&sc(n,"clear",void 0,void 0),t}function B0(n,r){return function(o,l){const u=this,d=u.__v_raw,p=oi(d),m=r?W1:n?K1:Eg;return!n&&Jo(p,"iterate",fh),d.forEach((v,_)=>o.call(l,m(v),m(_),u))}}function j0(n,r,t){return function(...o){const l=this.__v_raw,u=oi(l),d=ip(u),p=n==="entries"||n===Symbol.iterator&&d,m=n==="keys"&&d,v=l[n](...o),_=t?W1:r?K1:Eg;return!r&&Jo(u,"iterate",m?Qw:fh),{next(){const{value:k,done:C}=v.next();return C?{value:k,done:C}:{value:p?[_(k[0]),_(k[1])]:_(k),done:C}},[Symbol.iterator](){return this}}}}function Jc(n){return function(...r){return n==="delete"?!1:this}}function HL(){const n={get(u){return N0(this,u)},get size(){return F0(this)},has:D0,add:z2,set:N2,delete:D2,clear:F2,forEach:B0(!1,!1)},r={get(u){return N0(this,u,!1,!0)},get size(){return F0(this)},has:D0,add:z2,set:N2,delete:D2,clear:F2,forEach:B0(!1,!0)},t={get(u){return N0(this,u,!0)},get size(){return F0(this,!0)},has(u){return D0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:B0(!0,!1)},o={get(u){return N0(this,u,!0,!0)},get size(){return F0(this,!0)},has(u){return D0.call(this,u,!0)},add:Jc("add"),set:Jc("set"),delete:Jc("delete"),clear:Jc("clear"),forEach:B0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=j0(u,!1,!1),t[u]=j0(u,!0,!1),r[u]=j0(u,!1,!0),o[u]=j0(u,!0,!0)}),[n,t,r,o]}const[UL,GL,qL,VL]=HL();function Z1(n,r){const t=r?n?VL:qL:n?GL:UL;return(o,l,u)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?o:Reflect.get(li(t,l)&&l in o?t:o,l,u)}const WL={get:Z1(!1,!1)},ZL={get:Z1(!1,!0)},YL={get:Z1(!0,!1)},oS=new WeakMap,sS=new WeakMap,aS=new WeakMap,XL=new WeakMap;function KL(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JL(n){return n.__v_skip||!Object.isExtensible(n)?0:KL(pL(n))}function Y1(n){return cp(n)?n:X1(n,!1,nS,WL,oS)}function QL(n){return X1(n,!1,jL,ZL,sS)}function lS(n){return X1(n,!0,BL,YL,aS)}function X1(n,r,t,o,l){if(!Xi(n)||n.__v_raw&&!(r&&n.__v_isReactive))return n;const u=l.get(n);if(u)return u;const d=JL(n);if(d===0)return n;const p=new Proxy(n,d===2?o:t);return l.set(n,p),p}function np(n){return cp(n)?np(n.__v_raw):!!(n&&n.__v_isReactive)}function cp(n){return!!(n&&n.__v_isReadonly)}function Cv(n){return!!(n&&n.__v_isShallow)}function cS(n){return np(n)||cp(n)}function oi(n){const r=n&&n.__v_raw;return r?oi(r):n}function uS(n){return Tv(n,"__v_skip",!0),n}const Eg=n=>Xi(n)?Y1(n):n,K1=n=>Xi(n)?lS(n):n;function hS(n){ru&&Sa&&(n=oi(n),eS(n.dep||(n.dep=G1())))}function dS(n,r){n=oi(n);const t=n.dep;t&&$w(t)}function fo(n){return!!(n&&n.__v_isRef===!0)}function ke(n){return $L(n,!1)}function $L(n,r){return fo(n)?n:new t5(n,r)}class t5{constructor(r,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?r:oi(r),this._value=t?r:Eg(r)}get value(){return hS(this),this._value}set value(r){const t=this.__v_isShallow||Cv(r)||cp(r);r=t?r:oi(r),kg(r,this._rawValue)&&(this._rawValue=r,this._value=t?r:Eg(r),dS(this))}}function e5(n){return fo(n)?n.value:n}const r5={get:(n,r,t)=>e5(Reflect.get(n,r,t)),set:(n,r,t,o)=>{const l=n[r];return fo(l)&&!fo(t)?(l.value=t,!0):Reflect.set(n,r,t,o)}};function pS(n){return np(n)?n:new Proxy(n,r5)}class i5{constructor(r,t,o,l){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new q1(r,()=>{this._dirty||(this._dirty=!0,dS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const r=oi(this);return hS(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function n5(n,r,t=!1){let o,l;const u=Xr(n);return u?(o=n,l=Ia):(o=n.get,l=n.set),new i5(o,l,u||!l,t)}function iu(n,r,t,o){let l;try{l=o?n(...o):n()}catch(u){vy(u,r,t)}return l}function La(n,r,t,o){if(Xr(n)){const u=iu(n,r,t,o);return u&&WT(u)&&u.catch(d=>{vy(d,r,t)}),u}const l=[];for(let u=0;u<n.length;u++)l.push(La(n[u],r,t,o));return l}function vy(n,r,t,o=!0){const l=r?r.vnode:null;if(r){let u=r.parent;const d=r.proxy,p=t;for(;u;){const v=u.ec;if(v){for(let _=0;_<v.length;_++)if(v[_](n,d,p)===!1)return}u=u.parent}const m=r.appContext.config.errorHandler;if(m){iu(m,null,10,[n,d,p]);return}}o5(n,t,l,o)}function o5(n,r,t,o=!0){console.error(n)}let Tg=!1,t1=!1;const ho=[];let al=0;const op=[];let Ql=null,uh=0;const fS=Promise.resolve();let J1=null;function Q1(n){const r=J1||fS;return n?r.then(this?n.bind(this):n):r}function s5(n){let r=al+1,t=ho.length;for(;r<t;){const o=r+t>>>1;Sg(ho[o])<n?r=o+1:t=o}return r}function $1(n){(!ho.length||!ho.includes(n,Tg&&n.allowRecurse?al+1:al))&&(n.id==null?ho.push(n):ho.splice(s5(n.id),0,n),gS())}function gS(){!Tg&&!t1&&(t1=!0,J1=fS.then(vS))}function a5(n){const r=ho.indexOf(n);r>al&&ho.splice(r,1)}function l5(n){ar(n)?op.push(...n):(!Ql||!Ql.includes(n,n.allowRecurse?uh+1:uh))&&op.push(n),gS()}function B2(n,r=Tg?al+1:0){for(;r<ho.length;r++){const t=ho[r];t&&t.pre&&(ho.splice(r,1),r--,t())}}function mS(n){if(op.length){const r=[...new Set(op)];if(op.length=0,Ql){Ql.push(...r);return}for(Ql=r,Ql.sort((t,o)=>Sg(t)-Sg(o)),uh=0;uh<Ql.length;uh++)Ql[uh]();Ql=null,uh=0}}const Sg=n=>n.id==null?1/0:n.id,c5=(n,r)=>{const t=Sg(n)-Sg(r);if(t===0){if(n.pre&&!r.pre)return-1;if(r.pre&&!n.pre)return 1}return t};function vS(n){t1=!1,Tg=!0,ho.sort(c5);const r=Ia;try{for(al=0;al<ho.length;al++){const t=ho[al];t&&t.active!==!1&&iu(t,null,14)}}finally{al=0,ho.length=0,mS(),Tg=!1,J1=null,(ho.length||op.length)&&vS()}}function u5(n,r,...t){if(n.isUnmounted)return;const o=n.vnode.props||Bi;let l=t;const u=r.startsWith("update:"),d=u&&r.slice(7);if(d&&d in o){const _=`${d==="modelValue"?"model":d}Modifiers`,{number:k,trim:C}=o[_]||Bi;C&&(l=t.map(M=>In(M)?M.trim():M)),k&&(l=t.map(mL))}let p,m=o[p=hw(r)]||o[p=hw(ic(r))];!m&&u&&(m=o[p=hw(Ta(r))]),m&&La(m,n,6,l);const v=o[p+"Once"];if(v){if(!n.emitted)n.emitted={};else if(n.emitted[p])return;n.emitted[p]=!0,La(v,n,6,l)}}function yS(n,r,t=!1){const o=r.emitsCache,l=o.get(n);if(l!==void 0)return l;const u=n.emits;let d={},p=!1;if(!Xr(n)){const m=v=>{const _=yS(v,r,!0);_&&(p=!0,Mn(d,_))};!t&&r.mixins.length&&r.mixins.forEach(m),n.extends&&m(n.extends),n.mixins&&n.mixins.forEach(m)}return!u&&!p?(Xi(n)&&o.set(n,null),null):(ar(u)?u.forEach(m=>d[m]=null):Mn(d,u),Xi(n)&&o.set(n,d),d)}function yy(n,r){return!n||!py(r)?!1:(r=r.slice(2).replace(/Once$/,""),li(n,r[0].toLowerCase()+r.slice(1))||li(n,Ta(r))||li(n,r))}let Zo=null,by=null;function Pv(n){const r=Zo;return Zo=n,by=n&&n.type.__scopeId||null,r}function h5(n){by=n}function d5(){by=null}function p5(n,r=Zo,t){if(!r||n._n)return n;const o=(...l)=>{o._d&&X2(-1);const u=Pv(r);let d;try{d=n(...l)}finally{Pv(u),o._d&&X2(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function pw(n){const{type:r,vnode:t,proxy:o,withProxy:l,props:u,propsOptions:[d],slots:p,attrs:m,emit:v,render:_,renderCache:k,data:C,setupState:M,ctx:A,inheritAttrs:F}=n;let U,H;const W=Pv(n);try{if(t.shapeFlag&4){const q=l||o;U=sl(_.call(q,q,k,u,M,C,A)),H=m}else{const q=r;U=sl(q.length>1?q(u,{attrs:m,slots:p,emit:v}):q(u,null)),H=r.props?m:f5(m)}}catch(q){pg.length=0,vy(q,n,1),U=Ra(lu)}let j=U;if(H&&F!==!1){const q=Object.keys(H),{shapeFlag:nt}=j;q.length&&nt&7&&(d&&q.some(B1)&&(H=g5(H,d)),j=up(j,H))}return t.dirs&&(j=up(j),j.dirs=j.dirs?j.dirs.concat(t.dirs):t.dirs),t.transition&&(j.transition=t.transition),U=j,Pv(W),U}const f5=n=>{let r;for(const t in n)(t==="class"||t==="style"||py(t))&&((r||(r={}))[t]=n[t]);return r},g5=(n,r)=>{const t={};for(const o in n)(!B1(o)||!(o.slice(9)in r))&&(t[o]=n[o]);return t};function m5(n,r,t){const{props:o,children:l,component:u}=n,{props:d,children:p,patchFlag:m}=r,v=u.emitsOptions;if(r.dirs||r.transition)return!0;if(t&&m>=0){if(m&1024)return!0;if(m&16)return o?j2(o,d,v):!!d;if(m&8){const _=r.dynamicProps;for(let k=0;k<_.length;k++){const C=_[k];if(d[C]!==o[C]&&!yy(v,C))return!0}}}else return(l||p)&&(!p||!p.$stable)?!0:o===d?!1:o?d?j2(o,d,v):!0:!!d;return!1}function j2(n,r,t){const o=Object.keys(r);if(o.length!==Object.keys(n).length)return!0;for(let l=0;l<o.length;l++){const u=o[l];if(r[u]!==n[u]&&!yy(t,u))return!0}return!1}function v5({vnode:n,parent:r},t){for(;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}const y5=n=>n.__isSuspense;function b5(n,r){r&&r.pendingBranch?ar(n)?r.effects.push(...n):r.effects.push(n):l5(n)}const H0={};function sr(n,r,t){return bS(n,r,t)}function bS(n,r,{immediate:t,deep:o,flush:l,onTrack:u,onTrigger:d}=Bi){var p;const m=TL()===((p=po)==null?void 0:p.scope)?po:null;let v,_=!1,k=!1;if(fo(n)?(v=()=>n.value,_=Cv(n)):np(n)?(v=()=>n,o=!0):ar(n)?(k=!0,_=n.some(q=>np(q)||Cv(q)),v=()=>n.map(q=>{if(fo(q))return q.value;if(np(q))return Jd(q);if(Xr(q))return iu(q,m,2)})):Xr(n)?r?v=()=>iu(n,m,2):v=()=>{if(!(m&&m.isUnmounted))return C&&C(),La(n,m,3,[M])}:v=Ia,r&&o){const q=v;v=()=>Jd(q())}let C,M=q=>{C=W.onStop=()=>{iu(q,m,4)}},A;if(Pg)if(M=Ia,r?t&&La(r,m,3,[v(),k?[]:void 0,M]):v(),l==="sync"){const q=dR();A=q.__watcherHandles||(q.__watcherHandles=[])}else return Ia;let F=k?new Array(n.length).fill(H0):H0;const U=()=>{if(W.active)if(r){const q=W.run();(o||_||(k?q.some((nt,pt)=>kg(nt,F[pt])):kg(q,F)))&&(C&&C(),La(r,m,3,[q,F===H0?void 0:k&&F[0]===H0?[]:F,M]),F=q)}else W.run()};U.allowRecurse=!!r;let H;l==="sync"?H=U:l==="post"?H=()=>qo(U,m&&m.suspense):(U.pre=!0,m&&(U.id=m.uid),H=()=>$1(U));const W=new q1(v,H);r?t?U():F=W.run():l==="post"?qo(W.run.bind(W),m&&m.suspense):W.run();const j=()=>{W.stop(),m&&m.scope&&j1(m.scope.effects,W)};return A&&A.push(j),j}function w5(n,r,t){const o=this.proxy,l=In(n)?n.includes(".")?wS(o,n):()=>o[n]:n.bind(o,o);let u;Xr(r)?u=r:(u=r.handler,t=r);const d=po;hp(this);const p=bS(l,u.bind(o),t);return d?hp(d):gh(),p}function wS(n,r){const t=r.split(".");return()=>{let o=n;for(let l=0;l<t.length&&o;l++)o=o[t[l]];return o}}function Jd(n,r){if(!Xi(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),fo(n))Jd(n.value,r);else if(ar(n))for(let t=0;t<n.length;t++)Jd(n[t],r);else if(VT(n)||ip(n))n.forEach(t=>{Jd(t,r)});else if(YT(n))for(const t in n)Jd(n[t],r);return n}function ah(n,r,t,o){const l=n.dirs,u=r&&r.dirs;for(let d=0;d<l.length;d++){const p=l[d];u&&(p.oldValue=u[d].value);let m=p.dir[o];m&&(Tp(),La(m,t,8,[n.el,p,n,r]),Sp())}}function Qo(n,r){return Xr(n)?(()=>Mn({name:n.name},r,{setup:n}))():n}const hg=n=>!!n.type.__asyncLoader,xS=n=>n.type.__isKeepAlive;function x5(n,r){_S(n,"a",r)}function _5(n,r){_S(n,"da",r)}function _S(n,r,t=po){const o=n.__wdc||(n.__wdc=()=>{let l=t;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(wy(r,o,t),t){let l=t.parent;for(;l&&l.parent;)xS(l.parent.vnode)&&k5(o,r,t,l),l=l.parent}}function k5(n,r,t,o){const l=wy(r,n,o,!0);kS(()=>{j1(o[r],l)},t)}function wy(n,r,t=po,o=!1){if(t){const l=t[n]||(t[n]=[]),u=r.__weh||(r.__weh=(...d)=>{if(t.isUnmounted)return;Tp(),hp(t);const p=La(r,t,n,d);return gh(),Sp(),p});return o?l.unshift(u):l.push(u),u}}const uc=n=>(r,t=po)=>(!Pg||n==="sp")&&wy(n,(...o)=>r(...o),t),E5=uc("bm"),ml=uc("m"),T5=uc("bu"),S5=uc("u"),C5=uc("bum"),kS=uc("um"),P5=uc("sp"),M5=uc("rtg"),I5=uc("rtc");function L5(n,r=po){wy("ec",n,r)}const R5=Symbol.for("v-ndc");function nu(n,r,t,o){let l;const u=t&&t[o];if(ar(n)||In(n)){l=new Array(n.length);for(let d=0,p=n.length;d<p;d++)l[d]=r(n[d],d,void 0,u&&u[d])}else if(typeof n=="number"){l=new Array(n);for(let d=0;d<n;d++)l[d]=r(d+1,d,void 0,u&&u[d])}else if(Xi(n))if(n[Symbol.iterator])l=Array.from(n,(d,p)=>r(d,p,void 0,u&&u[p]));else{const d=Object.keys(n);l=new Array(d.length);for(let p=0,m=d.length;p<m;p++){const v=d[p];l[p]=r(n[v],v,p,u&&u[p])}}else l=[];return t&&(t[o]=l),l}function A5(n,r,t={},o,l){if(Zo.isCE||Zo.parent&&hg(Zo.parent)&&Zo.parent.isCE)return r!=="default"&&(t.name=r),Ra("slot",t,o&&o());let u=n[r];u&&u._c&&(u._d=!1),Pe();const d=u&&ES(u(t)),p=OS(Yi,{key:t.key||d&&d.key||`_${r}`},d||(o?o():[]),d&&n._===1?64:-2);return!l&&p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function ES(n){return n.some(r=>zS(r)?!(r.type===lu||r.type===Yi&&!ES(r.children)):!0)?n:null}const e1=n=>n?DS(n)?nx(n)||n.proxy:e1(n.parent):null,dg=Mn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>e1(n.parent),$root:n=>e1(n.root),$emit:n=>n.emit,$options:n=>tx(n),$forceUpdate:n=>n.f||(n.f=()=>$1(n.update)),$nextTick:n=>n.n||(n.n=Q1.bind(n.proxy)),$watch:n=>w5.bind(n)}),fw=(n,r)=>n!==Bi&&!n.__isScriptSetup&&li(n,r),O5={get({_:n},r){const{ctx:t,setupState:o,data:l,props:u,accessCache:d,type:p,appContext:m}=n;let v;if(r[0]!=="$"){const M=d[r];if(M!==void 0)switch(M){case 1:return o[r];case 2:return l[r];case 4:return t[r];case 3:return u[r]}else{if(fw(o,r))return d[r]=1,o[r];if(l!==Bi&&li(l,r))return d[r]=2,l[r];if((v=n.propsOptions[0])&&li(v,r))return d[r]=3,u[r];if(t!==Bi&&li(t,r))return d[r]=4,t[r];r1&&(d[r]=0)}}const _=dg[r];let k,C;if(_)return r==="$attrs"&&Jo(n,"get",r),_(n);if((k=p.__cssModules)&&(k=k[r]))return k;if(t!==Bi&&li(t,r))return d[r]=4,t[r];if(C=m.config.globalProperties,li(C,r))return C[r]},set({_:n},r,t){const{data:o,setupState:l,ctx:u}=n;return fw(l,r)?(l[r]=t,!0):o!==Bi&&li(o,r)?(o[r]=t,!0):li(n.props,r)||r[0]==="$"&&r.slice(1)in n?!1:(u[r]=t,!0)},has({_:{data:n,setupState:r,accessCache:t,ctx:o,appContext:l,propsOptions:u}},d){let p;return!!t[d]||n!==Bi&&li(n,d)||fw(r,d)||(p=u[0])&&li(p,d)||li(o,d)||li(dg,d)||li(l.config.globalProperties,d)},defineProperty(n,r,t){return t.get!=null?n._.accessCache[r]=0:li(t,"value")&&this.set(n,r,t.value,null),Reflect.defineProperty(n,r,t)}};function H2(n){return ar(n)?n.reduce((r,t)=>(r[t]=null,r),{}):n}let r1=!0;function z5(n){const r=tx(n),t=n.proxy,o=n.ctx;r1=!1,r.beforeCreate&&U2(r.beforeCreate,n,"bc");const{data:l,computed:u,methods:d,watch:p,provide:m,inject:v,created:_,beforeMount:k,mounted:C,beforeUpdate:M,updated:A,activated:F,deactivated:U,beforeDestroy:H,beforeUnmount:W,destroyed:j,unmounted:q,render:nt,renderTracked:pt,renderTriggered:ut,errorCaptured:ct,serverPrefetch:V,expose:at,inheritAttrs:ht,components:mt,directives:Qt,filters:ie}=r;if(v&&N5(v,o,null),d)for(const de in d){const Jt=d[de];Xr(Jt)&&(o[de]=Jt.bind(t))}if(l){const de=l.call(t,t);Xi(de)&&(n.data=Y1(de))}if(r1=!0,u)for(const de in u){const Jt=u[de],Qe=Xr(Jt)?Jt.bind(t,t):Xr(Jt.get)?Jt.get.bind(t,t):Ia,wt=!Xr(Jt)&&Xr(Jt.set)?Jt.set.bind(t):Ia,Ot=wr({get:Qe,set:wt});Object.defineProperty(o,de,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Wt=>Ot.value=Wt})}if(p)for(const de in p)TS(p[de],o,t,de);if(m){const de=Xr(m)?m.call(t):m;Reflect.ownKeys(de).forEach(Jt=>{U5(Jt,de[Jt])})}_&&U2(_,n,"c");function Gt(de,Jt){ar(Jt)?Jt.forEach(Qe=>de(Qe.bind(t))):Jt&&de(Jt.bind(t))}if(Gt(E5,k),Gt(ml,C),Gt(T5,M),Gt(S5,A),Gt(x5,F),Gt(_5,U),Gt(L5,ct),Gt(I5,pt),Gt(M5,ut),Gt(C5,W),Gt(kS,q),Gt(P5,V),ar(at))if(at.length){const de=n.exposed||(n.exposed={});at.forEach(Jt=>{Object.defineProperty(de,Jt,{get:()=>t[Jt],set:Qe=>t[Jt]=Qe})})}else n.exposed||(n.exposed={});nt&&n.render===Ia&&(n.render=nt),ht!=null&&(n.inheritAttrs=ht),mt&&(n.components=mt),Qt&&(n.directives=Qt)}function N5(n,r,t=Ia){ar(n)&&(n=i1(n));for(const o in n){const l=n[o];let u;Xi(l)?"default"in l?u=hv(l.from||o,l.default,!0):u=hv(l.from||o):u=hv(l),fo(u)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):r[o]=u}}function U2(n,r,t){La(ar(n)?n.map(o=>o.bind(r.proxy)):n.bind(r.proxy),r,t)}function TS(n,r,t,o){const l=o.includes(".")?wS(t,o):()=>t[o];if(In(n)){const u=r[n];Xr(u)&&sr(l,u)}else if(Xr(n))sr(l,n.bind(t));else if(Xi(n))if(ar(n))n.forEach(u=>TS(u,r,t,o));else{const u=Xr(n.handler)?n.handler.bind(t):r[n.handler];Xr(u)&&sr(l,u,n)}}function tx(n){const r=n.type,{mixins:t,extends:o}=r,{mixins:l,optionsCache:u,config:{optionMergeStrategies:d}}=n.appContext,p=u.get(r);let m;return p?m=p:!l.length&&!t&&!o?m=r:(m={},l.length&&l.forEach(v=>Mv(m,v,d,!0)),Mv(m,r,d)),Xi(r)&&u.set(r,m),m}function Mv(n,r,t,o=!1){const{mixins:l,extends:u}=r;u&&Mv(n,u,t,!0),l&&l.forEach(d=>Mv(n,d,t,!0));for(const d in r)if(!(o&&d==="expose")){const p=D5[d]||t&&t[d];n[d]=p?p(n[d],r[d]):r[d]}return n}const D5={data:G2,props:q2,emits:q2,methods:og,computed:og,beforeCreate:Po,created:Po,beforeMount:Po,mounted:Po,beforeUpdate:Po,updated:Po,beforeDestroy:Po,beforeUnmount:Po,destroyed:Po,unmounted:Po,activated:Po,deactivated:Po,errorCaptured:Po,serverPrefetch:Po,components:og,directives:og,watch:B5,provide:G2,inject:F5};function G2(n,r){return r?n?function(){return Mn(Xr(n)?n.call(this,this):n,Xr(r)?r.call(this,this):r)}:r:n}function F5(n,r){return og(i1(n),i1(r))}function i1(n){if(ar(n)){const r={};for(let t=0;t<n.length;t++)r[n[t]]=n[t];return r}return n}function Po(n,r){return n?[...new Set([].concat(n,r))]:r}function og(n,r){return n?Mn(Object.create(null),n,r):r}function q2(n,r){return n?ar(n)&&ar(r)?[...new Set([...n,...r])]:Mn(Object.create(null),H2(n),H2(r??{})):r}function B5(n,r){if(!n)return r;if(!r)return n;const t=Mn(Object.create(null),n);for(const o in r)t[o]=Po(n[o],r[o]);return t}function SS(){return{app:null,config:{isNativeTag:uL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let j5=0;function H5(n,r){return function(o,l=null){Xr(o)||(o=Mn({},o)),l!=null&&!Xi(l)&&(l=null);const u=SS(),d=new Set;let p=!1;const m=u.app={_uid:j5++,_component:o,_props:l,_container:null,_context:u,_instance:null,version:pR,get config(){return u.config},set config(v){},use(v,..._){return d.has(v)||(v&&Xr(v.install)?(d.add(v),v.install(m,..._)):Xr(v)&&(d.add(v),v(m,..._))),m},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),m},component(v,_){return _?(u.components[v]=_,m):u.components[v]},directive(v,_){return _?(u.directives[v]=_,m):u.directives[v]},mount(v,_,k){if(!p){const C=Ra(o,l);return C.appContext=u,_&&r?r(C,v):n(C,v,k),p=!0,m._container=v,v.__vue_app__=m,nx(C.component)||C.component.proxy}},unmount(){p&&(n(null,m._container),delete m._container.__vue_app__)},provide(v,_){return u.provides[v]=_,m},runWithContext(v){Iv=m;try{return v()}finally{Iv=null}}};return m}}let Iv=null;function U5(n,r){if(po){let t=po.provides;const o=po.parent&&po.parent.provides;o===t&&(t=po.provides=Object.create(o)),t[n]=r}}function hv(n,r,t=!1){const o=po||Zo;if(o||Iv){const l=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Iv._context.provides;if(l&&n in l)return l[n];if(arguments.length>1)return t&&Xr(r)?r.call(o&&o.proxy):r}}function G5(n,r,t,o=!1){const l={},u={};Tv(u,_y,1),n.propsDefaults=Object.create(null),CS(n,r,l,u);for(const d in n.propsOptions[0])d in l||(l[d]=void 0);t?n.props=o?l:QL(l):n.type.props?n.props=l:n.props=u,n.attrs=u}function q5(n,r,t,o){const{props:l,attrs:u,vnode:{patchFlag:d}}=n,p=oi(l),[m]=n.propsOptions;let v=!1;if((o||d>0)&&!(d&16)){if(d&8){const _=n.vnode.dynamicProps;for(let k=0;k<_.length;k++){let C=_[k];if(yy(n.emitsOptions,C))continue;const M=r[C];if(m)if(li(u,C))M!==u[C]&&(u[C]=M,v=!0);else{const A=ic(C);l[A]=n1(m,p,A,M,n,!1)}else M!==u[C]&&(u[C]=M,v=!0)}}}else{CS(n,r,l,u)&&(v=!0);let _;for(const k in p)(!r||!li(r,k)&&((_=Ta(k))===k||!li(r,_)))&&(m?t&&(t[k]!==void 0||t[_]!==void 0)&&(l[k]=n1(m,p,k,void 0,n,!0)):delete l[k]);if(u!==p)for(const k in u)(!r||!li(r,k))&&(delete u[k],v=!0)}v&&sc(n,"set","$attrs")}function CS(n,r,t,o){const[l,u]=n.propsOptions;let d=!1,p;if(r)for(let m in r){if(uv(m))continue;const v=r[m];let _;l&&li(l,_=ic(m))?!u||!u.includes(_)?t[_]=v:(p||(p={}))[_]=v:yy(n.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,d=!0)}if(u){const m=oi(t),v=p||Bi;for(let _=0;_<u.length;_++){const k=u[_];t[k]=n1(l,m,k,v[k],n,!li(v,k))}}return d}function n1(n,r,t,o,l,u){const d=n[t];if(d!=null){const p=li(d,"default");if(p&&o===void 0){const m=d.default;if(d.type!==Function&&!d.skipFactory&&Xr(m)){const{propsDefaults:v}=l;t in v?o=v[t]:(hp(l),o=v[t]=m.call(null,r),gh())}else o=m}d[0]&&(u&&!p?o=!1:d[1]&&(o===""||o===Ta(t))&&(o=!0))}return o}function PS(n,r,t=!1){const o=r.propsCache,l=o.get(n);if(l)return l;const u=n.props,d={},p=[];let m=!1;if(!Xr(n)){const _=k=>{m=!0;const[C,M]=PS(k,r,!0);Mn(d,C),M&&p.push(...M)};!t&&r.mixins.length&&r.mixins.forEach(_),n.extends&&_(n.extends),n.mixins&&n.mixins.forEach(_)}if(!u&&!m)return Xi(n)&&o.set(n,rp),rp;if(ar(u))for(let _=0;_<u.length;_++){const k=ic(u[_]);V2(k)&&(d[k]=Bi)}else if(u)for(const _ in u){const k=ic(_);if(V2(k)){const C=u[_],M=d[k]=ar(C)||Xr(C)?{type:C}:Mn({},C);if(M){const A=Y2(Boolean,M.type),F=Y2(String,M.type);M[0]=A>-1,M[1]=F<0||A<F,(A>-1||li(M,"default"))&&p.push(k)}}}const v=[d,p];return Xi(n)&&o.set(n,v),v}function V2(n){return n[0]!=="$"}function W2(n){const r=n&&n.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:n===null?"null":""}function Z2(n,r){return W2(n)===W2(r)}function Y2(n,r){return ar(r)?r.findIndex(t=>Z2(t,n)):Xr(r)&&Z2(r,n)?0:-1}const MS=n=>n[0]==="_"||n==="$stable",ex=n=>ar(n)?n.map(sl):[sl(n)],V5=(n,r,t)=>{if(r._n)return r;const o=p5((...l)=>ex(r(...l)),t);return o._c=!1,o},IS=(n,r,t)=>{const o=n._ctx;for(const l in n){if(MS(l))continue;const u=n[l];if(Xr(u))r[l]=V5(l,u,o);else if(u!=null){const d=ex(u);r[l]=()=>d}}},LS=(n,r)=>{const t=ex(r);n.slots.default=()=>t},W5=(n,r)=>{if(n.vnode.shapeFlag&32){const t=r._;t?(n.slots=oi(r),Tv(r,"_",t)):IS(r,n.slots={})}else n.slots={},r&&LS(n,r);Tv(n.slots,_y,1)},Z5=(n,r,t)=>{const{vnode:o,slots:l}=n;let u=!0,d=Bi;if(o.shapeFlag&32){const p=r._;p?t&&p===1?u=!1:(Mn(l,r),!t&&p===1&&delete l._):(u=!r.$stable,IS(r,l)),d=r}else r&&(LS(n,r),d={default:1});if(u)for(const p in l)!MS(p)&&!(p in d)&&delete l[p]};function o1(n,r,t,o,l=!1){if(ar(n)){n.forEach((C,M)=>o1(C,r&&(ar(r)?r[M]:r),t,o,l));return}if(hg(o)&&!l)return;const u=o.shapeFlag&4?nx(o.component)||o.component.proxy:o.el,d=l?null:u,{i:p,r:m}=n,v=r&&r.r,_=p.refs===Bi?p.refs={}:p.refs,k=p.setupState;if(v!=null&&v!==m&&(In(v)?(_[v]=null,li(k,v)&&(k[v]=null)):fo(v)&&(v.value=null)),Xr(m))iu(m,p,12,[d,_]);else{const C=In(m),M=fo(m);if(C||M){const A=()=>{if(n.f){const F=C?li(k,m)?k[m]:_[m]:m.value;l?ar(F)&&j1(F,u):ar(F)?F.includes(u)||F.push(u):C?(_[m]=[u],li(k,m)&&(k[m]=_[m])):(m.value=[u],n.k&&(_[n.k]=m.value))}else C?(_[m]=d,li(k,m)&&(k[m]=d)):M&&(m.value=d,n.k&&(_[n.k]=d))};d?(A.id=-1,qo(A,t)):A()}}}const qo=b5;function Y5(n){return X5(n)}function X5(n,r){const t=Xw();t.__VUE__=!0;const{insert:o,remove:l,patchProp:u,createElement:d,createText:p,createComment:m,setText:v,setElementText:_,parentNode:k,nextSibling:C,setScopeId:M=Ia,insertStaticContent:A}=n,F=(ot,ft,vt,O=null,X=null,dt=null,kt=!1,xt=null,zt=!!ft.dynamicChildren)=>{if(ot===ft)return;ot&&!Zf(ot,ft)&&(O=er(ot),Wt(ot,X,dt,!0),ot=null),ft.patchFlag===-2&&(zt=!1,ft.dynamicChildren=null);const{type:_t,ref:te,shapeFlag:le}=ft;switch(_t){case xy:U(ot,ft,vt,O);break;case lu:H(ot,ft,vt,O);break;case gw:ot==null&&W(ft,vt,O,kt);break;case Yi:mt(ot,ft,vt,O,X,dt,kt,xt,zt);break;default:le&1?nt(ot,ft,vt,O,X,dt,kt,xt,zt):le&6?Qt(ot,ft,vt,O,X,dt,kt,xt,zt):(le&64||le&128)&&_t.process(ot,ft,vt,O,X,dt,kt,xt,zt,qt)}te!=null&&X&&o1(te,ot&&ot.ref,dt,ft||ot,!ft)},U=(ot,ft,vt,O)=>{if(ot==null)o(ft.el=p(ft.children),vt,O);else{const X=ft.el=ot.el;ft.children!==ot.children&&v(X,ft.children)}},H=(ot,ft,vt,O)=>{ot==null?o(ft.el=m(ft.children||""),vt,O):ft.el=ot.el},W=(ot,ft,vt,O)=>{[ot.el,ot.anchor]=A(ot.children,ft,vt,O,ot.el,ot.anchor)},j=({el:ot,anchor:ft},vt,O)=>{let X;for(;ot&&ot!==ft;)X=C(ot),o(ot,vt,O),ot=X;o(ft,vt,O)},q=({el:ot,anchor:ft})=>{let vt;for(;ot&&ot!==ft;)vt=C(ot),l(ot),ot=vt;l(ft)},nt=(ot,ft,vt,O,X,dt,kt,xt,zt)=>{kt=kt||ft.type==="svg",ot==null?pt(ft,vt,O,X,dt,kt,xt,zt):V(ot,ft,X,dt,kt,xt,zt)},pt=(ot,ft,vt,O,X,dt,kt,xt)=>{let zt,_t;const{type:te,props:le,shapeFlag:pe,transition:ae,dirs:Le}=ot;if(zt=ot.el=d(ot.type,dt,le&&le.is,le),pe&8?_(zt,ot.children):pe&16&&ct(ot.children,zt,null,O,X,dt&&te!=="foreignObject",kt,xt),Le&&ah(ot,null,O,"created"),ut(zt,ot,ot.scopeId,kt,O),le){for(const Ve in le)Ve!=="value"&&!uv(Ve)&&u(zt,Ve,null,le[Ve],dt,ot.children,O,X,he);"value"in le&&u(zt,"value",null,le.value),(_t=le.onVnodeBeforeMount)&&rl(_t,O,ot)}Le&&ah(ot,null,O,"beforeMount");const Me=(!X||X&&!X.pendingBranch)&&ae&&!ae.persisted;Me&&ae.beforeEnter(zt),o(zt,ft,vt),((_t=le&&le.onVnodeMounted)||Me||Le)&&qo(()=>{_t&&rl(_t,O,ot),Me&&ae.enter(zt),Le&&ah(ot,null,O,"mounted")},X)},ut=(ot,ft,vt,O,X)=>{if(vt&&M(ot,vt),O)for(let dt=0;dt<O.length;dt++)M(ot,O[dt]);if(X){let dt=X.subTree;if(ft===dt){const kt=X.vnode;ut(ot,kt,kt.scopeId,kt.slotScopeIds,X.parent)}}},ct=(ot,ft,vt,O,X,dt,kt,xt,zt=0)=>{for(let _t=zt;_t<ot.length;_t++){const te=ot[_t]=xt?Qc(ot[_t]):sl(ot[_t]);F(null,te,ft,vt,O,X,dt,kt,xt)}},V=(ot,ft,vt,O,X,dt,kt)=>{const xt=ft.el=ot.el;let{patchFlag:zt,dynamicChildren:_t,dirs:te}=ft;zt|=ot.patchFlag&16;const le=ot.props||Bi,pe=ft.props||Bi;let ae;vt&&lh(vt,!1),(ae=pe.onVnodeBeforeUpdate)&&rl(ae,vt,ft,ot),te&&ah(ft,ot,vt,"beforeUpdate"),vt&&lh(vt,!0);const Le=X&&ft.type!=="foreignObject";if(_t?at(ot.dynamicChildren,_t,xt,vt,O,Le,dt):kt||Jt(ot,ft,xt,null,vt,O,Le,dt,!1),zt>0){if(zt&16)ht(xt,ft,le,pe,vt,O,X);else if(zt&2&&le.class!==pe.class&&u(xt,"class",null,pe.class,X),zt&4&&u(xt,"style",le.style,pe.style,X),zt&8){const Me=ft.dynamicProps;for(let Ve=0;Ve<Me.length;Ve++){const $=Me[Ve],J=le[$],lt=pe[$];(lt!==J||$==="value")&&u(xt,$,J,lt,X,ot.children,vt,O,he)}}zt&1&&ot.children!==ft.children&&_(xt,ft.children)}else!kt&&_t==null&&ht(xt,ft,le,pe,vt,O,X);((ae=pe.onVnodeUpdated)||te)&&qo(()=>{ae&&rl(ae,vt,ft,ot),te&&ah(ft,ot,vt,"updated")},O)},at=(ot,ft,vt,O,X,dt,kt)=>{for(let xt=0;xt<ft.length;xt++){const zt=ot[xt],_t=ft[xt],te=zt.el&&(zt.type===Yi||!Zf(zt,_t)||zt.shapeFlag&70)?k(zt.el):vt;F(zt,_t,te,null,O,X,dt,kt,!0)}},ht=(ot,ft,vt,O,X,dt,kt)=>{if(vt!==O){if(vt!==Bi)for(const xt in vt)!uv(xt)&&!(xt in O)&&u(ot,xt,vt[xt],null,kt,ft.children,X,dt,he);for(const xt in O){if(uv(xt))continue;const zt=O[xt],_t=vt[xt];zt!==_t&&xt!=="value"&&u(ot,xt,_t,zt,kt,ft.children,X,dt,he)}"value"in O&&u(ot,"value",vt.value,O.value)}},mt=(ot,ft,vt,O,X,dt,kt,xt,zt)=>{const _t=ft.el=ot?ot.el:p(""),te=ft.anchor=ot?ot.anchor:p("");let{patchFlag:le,dynamicChildren:pe,slotScopeIds:ae}=ft;ae&&(xt=xt?xt.concat(ae):ae),ot==null?(o(_t,vt,O),o(te,vt,O),ct(ft.children,vt,te,X,dt,kt,xt,zt)):le>0&&le&64&&pe&&ot.dynamicChildren?(at(ot.dynamicChildren,pe,vt,X,dt,kt,xt),(ft.key!=null||X&&ft===X.subTree)&&RS(ot,ft,!0)):Jt(ot,ft,vt,te,X,dt,kt,xt,zt)},Qt=(ot,ft,vt,O,X,dt,kt,xt,zt)=>{ft.slotScopeIds=xt,ot==null?ft.shapeFlag&512?X.ctx.activate(ft,vt,O,kt,zt):ie(ft,vt,O,X,dt,kt,zt):ye(ot,ft,zt)},ie=(ot,ft,vt,O,X,dt,kt)=>{const xt=ot.component=oR(ot,O,X);if(xS(ot)&&(xt.ctx.renderer=qt),sR(xt),xt.asyncDep){if(X&&X.registerDep(xt,Gt),!ot.el){const zt=xt.subTree=Ra(lu);H(null,zt,ft,vt)}return}Gt(xt,ot,ft,vt,X,dt,kt)},ye=(ot,ft,vt)=>{const O=ft.component=ot.component;if(m5(ot,ft,vt))if(O.asyncDep&&!O.asyncResolved){de(O,ft,vt);return}else O.next=ft,a5(O.update),O.update();else ft.el=ot.el,O.vnode=ft},Gt=(ot,ft,vt,O,X,dt,kt)=>{const xt=()=>{if(ot.isMounted){let{next:te,bu:le,u:pe,parent:ae,vnode:Le}=ot,Me=te,Ve;lh(ot,!1),te?(te.el=Le.el,de(ot,te,kt)):te=Le,le&&dw(le),(Ve=te.props&&te.props.onVnodeBeforeUpdate)&&rl(Ve,ae,te,Le),lh(ot,!0);const $=pw(ot),J=ot.subTree;ot.subTree=$,F(J,$,k(J.el),er(J),ot,X,dt),te.el=$.el,Me===null&&v5(ot,$.el),pe&&qo(pe,X),(Ve=te.props&&te.props.onVnodeUpdated)&&qo(()=>rl(Ve,ae,te,Le),X)}else{let te;const{el:le,props:pe}=ft,{bm:ae,m:Le,parent:Me}=ot,Ve=hg(ft);if(lh(ot,!1),ae&&dw(ae),!Ve&&(te=pe&&pe.onVnodeBeforeMount)&&rl(te,Me,ft),lh(ot,!0),le&&Xt){const $=()=>{ot.subTree=pw(ot),Xt(le,ot.subTree,ot,X,null)};Ve?ft.type.__asyncLoader().then(()=>!ot.isUnmounted&&$()):$()}else{const $=ot.subTree=pw(ot);F(null,$,vt,O,ot,X,dt),ft.el=$.el}if(Le&&qo(Le,X),!Ve&&(te=pe&&pe.onVnodeMounted)){const $=ft;qo(()=>rl(te,Me,$),X)}(ft.shapeFlag&256||Me&&hg(Me.vnode)&&Me.vnode.shapeFlag&256)&&ot.a&&qo(ot.a,X),ot.isMounted=!0,ft=vt=O=null}},zt=ot.effect=new q1(xt,()=>$1(_t),ot.scope),_t=ot.update=()=>zt.run();_t.id=ot.uid,lh(ot,!0),_t()},de=(ot,ft,vt)=>{ft.component=ot;const O=ot.vnode.props;ot.vnode=ft,ot.next=null,q5(ot,ft.props,O,vt),Z5(ot,ft.children,vt),Tp(),B2(),Sp()},Jt=(ot,ft,vt,O,X,dt,kt,xt,zt=!1)=>{const _t=ot&&ot.children,te=ot?ot.shapeFlag:0,le=ft.children,{patchFlag:pe,shapeFlag:ae}=ft;if(pe>0){if(pe&128){wt(_t,le,vt,O,X,dt,kt,xt,zt);return}else if(pe&256){Qe(_t,le,vt,O,X,dt,kt,xt,zt);return}}ae&8?(te&16&&he(_t,X,dt),le!==_t&&_(vt,le)):te&16?ae&16?wt(_t,le,vt,O,X,dt,kt,xt,zt):he(_t,X,dt,!0):(te&8&&_(vt,""),ae&16&&ct(le,vt,O,X,dt,kt,xt,zt))},Qe=(ot,ft,vt,O,X,dt,kt,xt,zt)=>{ot=ot||rp,ft=ft||rp;const _t=ot.length,te=ft.length,le=Math.min(_t,te);let pe;for(pe=0;pe<le;pe++){const ae=ft[pe]=zt?Qc(ft[pe]):sl(ft[pe]);F(ot[pe],ae,vt,null,X,dt,kt,xt,zt)}_t>te?he(ot,X,dt,!0,!1,le):ct(ft,vt,O,X,dt,kt,xt,zt,le)},wt=(ot,ft,vt,O,X,dt,kt,xt,zt)=>{let _t=0;const te=ft.length;let le=ot.length-1,pe=te-1;for(;_t<=le&&_t<=pe;){const ae=ot[_t],Le=ft[_t]=zt?Qc(ft[_t]):sl(ft[_t]);if(Zf(ae,Le))F(ae,Le,vt,null,X,dt,kt,xt,zt);else break;_t++}for(;_t<=le&&_t<=pe;){const ae=ot[le],Le=ft[pe]=zt?Qc(ft[pe]):sl(ft[pe]);if(Zf(ae,Le))F(ae,Le,vt,null,X,dt,kt,xt,zt);else break;le--,pe--}if(_t>le){if(_t<=pe){const ae=pe+1,Le=ae<te?ft[ae].el:O;for(;_t<=pe;)F(null,ft[_t]=zt?Qc(ft[_t]):sl(ft[_t]),vt,Le,X,dt,kt,xt,zt),_t++}}else if(_t>pe)for(;_t<=le;)Wt(ot[_t],X,dt,!0),_t++;else{const ae=_t,Le=_t,Me=new Map;for(_t=Le;_t<=pe;_t++){const Ee=ft[_t]=zt?Qc(ft[_t]):sl(ft[_t]);Ee.key!=null&&Me.set(Ee.key,_t)}let Ve,$=0;const J=pe-Le+1;let lt=!1,st=0;const Vt=new Array(J);for(_t=0;_t<J;_t++)Vt[_t]=0;for(_t=ae;_t<=le;_t++){const Ee=ot[_t];if($>=J){Wt(Ee,X,dt,!0);continue}let cr;if(Ee.key!=null)cr=Me.get(Ee.key);else for(Ve=Le;Ve<=pe;Ve++)if(Vt[Ve-Le]===0&&Zf(Ee,ft[Ve])){cr=Ve;break}cr===void 0?Wt(Ee,X,dt,!0):(Vt[cr-Le]=_t+1,cr>=st?st=cr:lt=!0,F(Ee,ft[cr],vt,null,X,dt,kt,xt,zt),$++)}const re=lt?K5(Vt):rp;for(Ve=re.length-1,_t=J-1;_t>=0;_t--){const Ee=Le+_t,cr=ft[Ee],Fe=Ee+1<te?ft[Ee+1].el:O;Vt[_t]===0?F(null,cr,vt,Fe,X,dt,kt,xt,zt):lt&&(Ve<0||_t!==re[Ve]?Ot(cr,vt,Fe,2):Ve--)}}},Ot=(ot,ft,vt,O,X=null)=>{const{el:dt,type:kt,transition:xt,children:zt,shapeFlag:_t}=ot;if(_t&6){Ot(ot.component.subTree,ft,vt,O);return}if(_t&128){ot.suspense.move(ft,vt,O);return}if(_t&64){kt.move(ot,ft,vt,qt);return}if(kt===Yi){o(dt,ft,vt);for(let le=0;le<zt.length;le++)Ot(zt[le],ft,vt,O);o(ot.anchor,ft,vt);return}if(kt===gw){j(ot,ft,vt);return}if(O!==2&&_t&1&&xt)if(O===0)xt.beforeEnter(dt),o(dt,ft,vt),qo(()=>xt.enter(dt),X);else{const{leave:le,delayLeave:pe,afterLeave:ae}=xt,Le=()=>o(dt,ft,vt),Me=()=>{le(dt,()=>{Le(),ae&&ae()})};pe?pe(dt,Le,Me):Me()}else o(dt,ft,vt)},Wt=(ot,ft,vt,O=!1,X=!1)=>{const{type:dt,props:kt,ref:xt,children:zt,dynamicChildren:_t,shapeFlag:te,patchFlag:le,dirs:pe}=ot;if(xt!=null&&o1(xt,null,vt,ot,!0),te&256){ft.ctx.deactivate(ot);return}const ae=te&1&&pe,Le=!hg(ot);let Me;if(Le&&(Me=kt&&kt.onVnodeBeforeUnmount)&&rl(Me,ft,ot),te&6)se(ot.component,vt,O);else{if(te&128){ot.suspense.unmount(vt,O);return}ae&&ah(ot,null,ft,"beforeUnmount"),te&64?ot.type.remove(ot,ft,vt,X,qt,O):_t&&(dt!==Yi||le>0&&le&64)?he(_t,ft,vt,!1,!0):(dt===Yi&&le&384||!X&&te&16)&&he(zt,ft,vt),O&&ee(ot)}(Le&&(Me=kt&&kt.onVnodeUnmounted)||ae)&&qo(()=>{Me&&rl(Me,ft,ot),ae&&ah(ot,null,ft,"unmounted")},vt)},ee=ot=>{const{type:ft,el:vt,anchor:O,transition:X}=ot;if(ft===Yi){me(vt,O);return}if(ft===gw){q(ot);return}const dt=()=>{l(vt),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(ot.shapeFlag&1&&X&&!X.persisted){const{leave:kt,delayLeave:xt}=X,zt=()=>kt(vt,dt);xt?xt(ot.el,dt,zt):zt()}else dt()},me=(ot,ft)=>{let vt;for(;ot!==ft;)vt=C(ot),l(ot),ot=vt;l(ft)},se=(ot,ft,vt)=>{const{bum:O,scope:X,update:dt,subTree:kt,um:xt}=ot;O&&dw(O),X.stop(),dt&&(dt.active=!1,Wt(kt,ot,ft,vt)),xt&&qo(xt,ft),qo(()=>{ot.isUnmounted=!0},ft),ft&&ft.pendingBranch&&!ft.isUnmounted&&ot.asyncDep&&!ot.asyncResolved&&ot.suspenseId===ft.pendingId&&(ft.deps--,ft.deps===0&&ft.resolve())},he=(ot,ft,vt,O=!1,X=!1,dt=0)=>{for(let kt=dt;kt<ot.length;kt++)Wt(ot[kt],ft,vt,O,X)},er=ot=>ot.shapeFlag&6?er(ot.component.subTree):ot.shapeFlag&128?ot.suspense.next():C(ot.anchor||ot.el),Ft=(ot,ft,vt)=>{ot==null?ft._vnode&&Wt(ft._vnode,null,null,!0):F(ft._vnode||null,ot,ft,null,null,null,vt),B2(),mS(),ft._vnode=ot},qt={p:F,um:Wt,m:Ot,r:ee,mt:ie,mc:ct,pc:Jt,pbc:at,n:er,o:n};let Yt,Xt;return r&&([Yt,Xt]=r(qt)),{render:Ft,hydrate:Yt,createApp:H5(Ft,Yt)}}function lh({effect:n,update:r},t){n.allowRecurse=r.allowRecurse=t}function RS(n,r,t=!1){const o=n.children,l=r.children;if(ar(o)&&ar(l))for(let u=0;u<o.length;u++){const d=o[u];let p=l[u];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=l[u]=Qc(l[u]),p.el=d.el),t||RS(d,p)),p.type===xy&&(p.el=d.el)}}function K5(n){const r=n.slice(),t=[0];let o,l,u,d,p;const m=n.length;for(o=0;o<m;o++){const v=n[o];if(v!==0){if(l=t[t.length-1],n[l]<v){r[o]=l,t.push(o);continue}for(u=0,d=t.length-1;u<d;)p=u+d>>1,n[t[p]]<v?u=p+1:d=p;v<n[t[u]]&&(u>0&&(r[o]=t[u-1]),t[u]=o)}}for(u=t.length,d=t[u-1];u-- >0;)t[u]=d,d=r[d];return t}const J5=n=>n.__isTeleport,Yi=Symbol.for("v-fgt"),xy=Symbol.for("v-txt"),lu=Symbol.for("v-cmt"),gw=Symbol.for("v-stc"),pg=[];let Ca=null;function Pe(n=!1){pg.push(Ca=n?null:[])}function Q5(){pg.pop(),Ca=pg[pg.length-1]||null}let Cg=1;function X2(n){Cg+=n}function AS(n){return n.dynamicChildren=Cg>0?Ca||rp:null,Q5(),Cg>0&&Ca&&Ca.push(n),n}function Ae(n,r,t,o,l,u){return AS(Kt(n,r,t,o,l,u,!0))}function OS(n,r,t,o,l){return AS(Ra(n,r,t,o,l,!0))}function zS(n){return n?n.__v_isVNode===!0:!1}function Zf(n,r){return n.type===r.type&&n.key===r.key}const _y="__vInternal",NS=({key:n})=>n??null,dv=({ref:n,ref_key:r,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?In(n)||fo(n)||Xr(n)?{i:Zo,r:n,k:r,f:!!t}:n:null);function Kt(n,r=null,t=null,o=0,l=null,u=n===Yi?0:1,d=!1,p=!1){const m={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&NS(r),ref:r&&dv(r),scopeId:by,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Zo};return p?(rx(m,t),u&128&&n.normalize(m)):t&&(m.shapeFlag|=In(t)?8:16),Cg>0&&!d&&Ca&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&Ca.push(m),m}const Ra=$5;function $5(n,r=null,t=null,o=0,l=null,u=!1){if((!n||n===R5)&&(n=lu),zS(n)){const p=up(n,r,!0);return t&&rx(p,t),Cg>0&&!u&&Ca&&(p.shapeFlag&6?Ca[Ca.indexOf(n)]=p:Ca.push(p)),p.patchFlag|=-2,p}if(uR(n)&&(n=n.__vccOpts),r){r=tR(r);let{class:p,style:m}=r;p&&!In(p)&&(r.class=$g(p)),Xi(m)&&(cS(m)&&!ar(m)&&(m=Mn({},m)),r.style=lp(m))}const d=In(n)?1:y5(n)?128:J5(n)?64:Xi(n)?4:Xr(n)?2:0;return Kt(n,r,t,o,l,d,u,!0)}function tR(n){return n?cS(n)||_y in n?Mn({},n):n:null}function up(n,r,t=!1){const{props:o,ref:l,patchFlag:u,children:d}=n,p=r?rR(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:p,key:p&&NS(p),ref:r&&r.ref?t&&l?ar(l)?l.concat(dv(r)):[l,dv(r)]:dv(r):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:d,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Yi?u===-1?16:u|16:u,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&up(n.ssContent),ssFallback:n.ssFallback&&up(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function eR(n=" ",r=0){return Ra(xy,null,n,r)}function ci(n="",r=!1){return r?(Pe(),OS(lu,null,n)):Ra(lu,null,n)}function sl(n){return n==null||typeof n=="boolean"?Ra(lu):ar(n)?Ra(Yi,null,n.slice()):typeof n=="object"?Qc(n):Ra(xy,null,String(n))}function Qc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:up(n)}function rx(n,r){let t=0;const{shapeFlag:o}=n;if(r==null)r=null;else if(ar(r))t=16;else if(typeof r=="object")if(o&65){const l=r.default;l&&(l._c&&(l._d=!1),rx(n,l()),l._c&&(l._d=!0));return}else{t=32;const l=r._;!l&&!(_y in r)?r._ctx=Zo:l===3&&Zo&&(Zo.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else Xr(r)?(r={default:r,_ctx:Zo},t=32):(r=String(r),o&64?(t=16,r=[eR(r)]):t=8);n.children=r,n.shapeFlag|=t}function rR(...n){const r={};for(let t=0;t<n.length;t++){const o=n[t];for(const l in o)if(l==="class")r.class!==o.class&&(r.class=$g([r.class,o.class]));else if(l==="style")r.style=lp([r.style,o.style]);else if(py(l)){const u=r[l],d=o[l];d&&u!==d&&!(ar(u)&&u.includes(d))&&(r[l]=u?[].concat(u,d):d)}else l!==""&&(r[l]=o[l])}return r}function rl(n,r,t,o=null){La(n,r,7,[t,o])}const iR=SS();let nR=0;function oR(n,r,t){const o=n.type,l=(r?r.appContext:n.appContext)||iR,u={uid:nR++,vnode:n,type:o,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new kL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PS(o,l),emitsOptions:yS(o,l),emit:null,emitted:null,propsDefaults:Bi,inheritAttrs:o.inheritAttrs,ctx:Bi,data:Bi,props:Bi,attrs:Bi,slots:Bi,refs:Bi,setupState:Bi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=r?r.root:u,u.emit=u5.bind(null,u),n.ce&&n.ce(u),u}let po=null,ix,Hd,K2="__VUE_INSTANCE_SETTERS__";(Hd=Xw()[K2])||(Hd=Xw()[K2]=[]),Hd.push(n=>po=n),ix=n=>{Hd.length>1?Hd.forEach(r=>r(n)):Hd[0](n)};const hp=n=>{ix(n),n.scope.on()},gh=()=>{po&&po.scope.off(),ix(null)};function DS(n){return n.vnode.shapeFlag&4}let Pg=!1;function sR(n,r=!1){Pg=r;const{props:t,children:o}=n.vnode,l=DS(n);G5(n,t,l,r),W5(n,o);const u=l?aR(n,r):void 0;return Pg=!1,u}function aR(n,r){const t=n.type;n.accessCache=Object.create(null),n.proxy=uS(new Proxy(n.ctx,O5));const{setup:o}=t;if(o){const l=n.setupContext=o.length>1?cR(n):null;hp(n),Tp();const u=iu(o,n,0,[n.props,l]);if(Sp(),gh(),WT(u)){if(u.then(gh,gh),r)return u.then(d=>{J2(n,d,r)}).catch(d=>{vy(d,n,0)});n.asyncDep=u}else J2(n,u,r)}else FS(n,r)}function J2(n,r,t){Xr(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:Xi(r)&&(n.setupState=pS(r)),FS(n,t)}let Q2;function FS(n,r,t){const o=n.type;if(!n.render){if(!r&&Q2&&!o.render){const l=o.template||tx(n).template;if(l){const{isCustomElement:u,compilerOptions:d}=n.appContext.config,{delimiters:p,compilerOptions:m}=o,v=Mn(Mn({isCustomElement:u,delimiters:p},d),m);o.render=Q2(l,v)}}n.render=o.render||Ia}hp(n),Tp(),z5(n),Sp(),gh()}function lR(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(r,t){return Jo(n,"get","$attrs"),r[t]}}))}function cR(n){const r=t=>{n.exposed=t||{}};return{get attrs(){return lR(n)},slots:n.slots,emit:n.emit,expose:r}}function nx(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(pS(uS(n.exposed)),{get(r,t){if(t in r)return r[t];if(t in dg)return dg[t](n)},has(r,t){return t in r||t in dg}}))}function uR(n){return Xr(n)&&"__vccOpts"in n}const wr=(n,r)=>n5(n,r,Pg),hR=Symbol.for("v-scx"),dR=()=>hv(hR),pR="3.3.4",fR="http://www.w3.org/2000/svg",hh=typeof document<"u"?document:null,$2=hh&&hh.createElement("template"),gR={insert:(n,r,t)=>{r.insertBefore(n,t||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,t,o)=>{const l=r?hh.createElementNS(fR,n):hh.createElement(n,t?{is:t}:void 0);return n==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:n=>hh.createTextNode(n),createComment:n=>hh.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>hh.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},insertStaticContent(n,r,t,o,l,u){const d=t?t.previousSibling:r.lastChild;if(l&&(l===u||l.nextSibling))for(;r.insertBefore(l.cloneNode(!0),t),!(l===u||!(l=l.nextSibling)););else{$2.innerHTML=o?`<svg>${n}</svg>`:n;const p=$2.content;if(o){const m=p.firstChild;for(;m.firstChild;)p.appendChild(m.firstChild);p.removeChild(m)}r.insertBefore(p,t)}return[d?d.nextSibling:r.firstChild,t?t.previousSibling:r.lastChild]}};function mR(n,r,t){const o=n._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?n.removeAttribute("class"):t?n.setAttribute("class",r):n.className=r}function vR(n,r,t){const o=n.style,l=In(t);if(t&&!l){if(r&&!In(r))for(const u in r)t[u]==null&&s1(o,u,"");for(const u in t)s1(o,u,t[u])}else{const u=o.display;l?r!==t&&(o.cssText=t):r&&n.removeAttribute("style"),"_vod"in n&&(o.display=u)}}const tE=/\s*!important$/;function s1(n,r,t){if(ar(t))t.forEach(o=>s1(n,r,o));else if(t==null&&(t=""),r.startsWith("--"))n.setProperty(r,t);else{const o=yR(n,r);tE.test(t)?n.setProperty(Ta(o),t.replace(tE,""),"important"):n[o]=t}}const eE=["Webkit","Moz","ms"],mw={};function yR(n,r){const t=mw[r];if(t)return t;let o=ic(r);if(o!=="filter"&&o in n)return mw[r]=o;o=XT(o);for(let l=0;l<eE.length;l++){const u=eE[l]+o;if(u in n)return mw[r]=u}return r}const rE="http://www.w3.org/1999/xlink";function bR(n,r,t,o,l){if(o&&r.startsWith("xlink:"))t==null?n.removeAttributeNS(rE,r.slice(6,r.length)):n.setAttributeNS(rE,r,t);else{const u=_L(r);t==null||u&&!KT(t)?n.removeAttribute(r):n.setAttribute(r,u?"":t)}}function wR(n,r,t,o,l,u,d){if(r==="innerHTML"||r==="textContent"){o&&d(o,l,u),n[r]=t??"";return}const p=n.tagName;if(r==="value"&&p!=="PROGRESS"&&!p.includes("-")){n._value=t;const v=p==="OPTION"?n.getAttribute("value"):n.value,_=t??"";v!==_&&(n.value=_),t==null&&n.removeAttribute(r);return}let m=!1;if(t===""||t==null){const v=typeof n[r];v==="boolean"?t=KT(t):t==null&&v==="string"?(t="",m=!0):v==="number"&&(t=0,m=!0)}try{n[r]=t}catch{}m&&n.removeAttribute(r)}function xR(n,r,t,o){n.addEventListener(r,t,o)}function _R(n,r,t,o){n.removeEventListener(r,t,o)}function kR(n,r,t,o,l=null){const u=n._vei||(n._vei={}),d=u[r];if(o&&d)d.value=o;else{const[p,m]=ER(r);if(o){const v=u[r]=CR(o,l);xR(n,p,v,m)}else d&&(_R(n,p,d,m),u[r]=void 0)}}const iE=/(?:Once|Passive|Capture)$/;function ER(n){let r;if(iE.test(n)){r={};let o;for(;o=n.match(iE);)n=n.slice(0,n.length-o[0].length),r[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Ta(n.slice(2)),r]}let vw=0;const TR=Promise.resolve(),SR=()=>vw||(TR.then(()=>vw=0),vw=Date.now());function CR(n,r){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;La(PR(o,t.value),r,5,[o])};return t.value=n,t.attached=SR(),t}function PR(n,r){if(ar(r)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},r.map(o=>l=>!l._stopped&&o&&o(l))}else return r}const nE=/^on[a-z]/,MR=(n,r,t,o,l=!1,u,d,p,m)=>{r==="class"?mR(n,o,l):r==="style"?vR(n,t,o):py(r)?B1(r)||kR(n,r,t,o,d):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):IR(n,r,o,l))?wR(n,r,o,u,d,p,m):(r==="true-value"?n._trueValue=o:r==="false-value"&&(n._falseValue=o),bR(n,r,o,l))};function IR(n,r,t,o){return o?!!(r==="innerHTML"||r==="textContent"||r in n&&nE.test(r)&&Xr(t)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA"||nE.test(r)&&In(t)?!1:r in n}function gs(n,r){const t=Qo(n);class o extends ox{constructor(u){super(t,u,r)}}return o.def=t,o}const LR=typeof HTMLElement<"u"?HTMLElement:class{};class ox extends LR{constructor(r,t={},o){super(),this._def=r,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Q1(()=>{this._connected||(sE(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const l of o)this._setAttr(l.attributeName)}).observe(this,{attributes:!0});const r=(o,l=!1)=>{const{props:u,styles:d}=o;let p;if(u&&!ar(u))for(const m in u){const v=u[m];(v===Number||v&&v.type===Number)&&(m in this._props&&(this._props[m]=I2(this._props[m])),(p||(p=Object.create(null)))[ic(m)]=!0)}this._numberProps=p,l&&this._resolveProps(o),this._applyStyles(d),this._update()},t=this._def.__asyncLoader;t?t().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:t}=r,o=ar(t)?t:Object.keys(t||{});for(const l of Object.keys(this))l[0]!=="_"&&o.includes(l)&&this._setProp(l,this[l],!0,!1);for(const l of o.map(ic))Object.defineProperty(this,l,{get(){return this._getProp(l)},set(u){this._setProp(l,u)}})}_setAttr(r){let t=this.getAttribute(r);const o=ic(r);this._numberProps&&this._numberProps[o]&&(t=I2(t)),this._setProp(o,t,!1)}_getProp(r){return this._props[r]}_setProp(r,t,o=!0,l=!0){t!==this._props[r]&&(this._props[r]=t,l&&this._instance&&this._update(),o&&(t===!0?this.setAttribute(Ta(r),""):typeof t=="string"||typeof t=="number"?this.setAttribute(Ta(r),t+""):t||this.removeAttribute(Ta(r))))}_update(){sE(this._createVNode(),this.shadowRoot)}_createVNode(){const r=Ra(this._def,Mn({},this._props));return this._instance||(r.ce=t=>{this._instance=t,t.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};t.emit=(u,...d)=>{o(u,d),Ta(u)!==u&&o(Ta(u),d)};let l=this;for(;l=l&&(l.parentNode||l.host);)if(l instanceof ox){t.parent=l._instance,t.provides=l._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(t=>{const o=document.createElement("style");o.textContent=t,this.shadowRoot.appendChild(o)})}}const RR=Mn({patchProp:MR},gR);let oE;function AR(){return oE||(oE=Y5(RR))}const sE=(...n)=>{AR().render(...n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pv=globalThis,sx=pv.ShadowRoot&&(pv.ShadyCSS===void 0||pv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ax=Symbol(),aE=new WeakMap;let BS=class{constructor(r,t,o){if(this._$cssResult$=!0,o!==ax)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=t}get styleSheet(){let r=this.o;const t=this.t;if(sx&&r===void 0){const o=t!==void 0&&t.length===1;o&&(r=aE.get(t)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),o&&aE.set(t,r))}return r}toString(){return this.cssText}};const OR=n=>new BS(typeof n=="string"?n:n+"",void 0,ax),$o=(n,...r)=>{const t=n.length===1?n[0]:r.reduce((o,l,u)=>o+(d=>{if(d._$cssResult$===!0)return d.cssText;if(typeof d=="number")return d;throw Error("Value passed to 'css' function must be a 'css' function result: "+d+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+n[u+1],n[0]);return new BS(t,n,ax)},zR=(n,r)=>{if(sx)n.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of r){const o=document.createElement("style"),l=pv.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,n.appendChild(o)}},lE=sx?n=>n:n=>n instanceof CSSStyleSheet?(r=>{let t="";for(const o of r.cssRules)t+=o.cssText;return OR(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:NR,defineProperty:DR,getOwnPropertyDescriptor:FR,getOwnPropertyNames:BR,getOwnPropertySymbols:jR,getPrototypeOf:HR}=Object,ou=globalThis,cE=ou.trustedTypes,UR=cE?cE.emptyScript:"",yw=ou.reactiveElementPolyfillSupport,fg=(n,r)=>n,Lv={toAttribute(n,r){switch(r){case Boolean:n=n?UR:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,r){let t=n;switch(r){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},lx=(n,r)=>!NR(n,r),uE={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ou.litPropertyMetadata??(ou.litPropertyMetadata=new WeakMap);class Wd extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??(this.l=[])).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,t=uE){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(r,t),!t.noAccessor){const o=Symbol(),l=this.getPropertyDescriptor(r,o,t);l!==void 0&&DR(this.prototype,r,l)}}static getPropertyDescriptor(r,t,o){const{get:l,set:u}=FR(this.prototype,r)??{get(){return this[t]},set(d){this[t]=d}};return{get(){return l==null?void 0:l.call(this)},set(d){const p=l==null?void 0:l.call(this);u.call(this,d),this.requestUpdate(r,p,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??uE}static _$Ei(){if(this.hasOwnProperty(fg("elementProperties")))return;const r=HR(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(fg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fg("properties"))){const t=this.properties,o=[...BR(t),...jR(t)];for(const l of o)this.createProperty(l,t[l])}const r=this[Symbol.metadata];if(r!==null){const t=litPropertyMetadata.get(r);if(t!==void 0)for(const[o,l]of t)this.elementProperties.set(o,l)}this._$Eh=new Map;for(const[t,o]of this.elementProperties){const l=this._$Eu(t,o);l!==void 0&&this._$Eh.set(l,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const t=[];if(Array.isArray(r)){const o=new Set(r.flat(1/0).reverse());for(const l of o)t.unshift(lE(l))}else r!==void 0&&t.push(lE(r));return t}static _$Eu(r,t){const o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var r;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(r=this.constructor.l)==null||r.forEach(t=>t(this))}addController(r){var t;(this._$EO??(this._$EO=new Set)).add(r),this.renderRoot!==void 0&&this.isConnected&&((t=r.hostConnected)==null||t.call(r))}removeController(r){var t;(t=this._$EO)==null||t.delete(r)}_$E_(){const r=new Map,t=this.constructor.elementProperties;for(const o of t.keys())this.hasOwnProperty(o)&&(r.set(o,this[o]),delete this[o]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zR(r,this.constructor.elementStyles),r}connectedCallback(){var r;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostConnected)==null?void 0:o.call(t)})}enableUpdating(r){}disconnectedCallback(){var r;(r=this._$EO)==null||r.forEach(t=>{var o;return(o=t.hostDisconnected)==null?void 0:o.call(t)})}attributeChangedCallback(r,t,o){this._$AK(r,o)}_$EC(r,t){var u;const o=this.constructor.elementProperties.get(r),l=this.constructor._$Eu(r,o);if(l!==void 0&&o.reflect===!0){const d=(((u=o.converter)==null?void 0:u.toAttribute)!==void 0?o.converter:Lv).toAttribute(t,o.type);this._$Em=r,d==null?this.removeAttribute(l):this.setAttribute(l,d),this._$Em=null}}_$AK(r,t){var u;const o=this.constructor,l=o._$Eh.get(r);if(l!==void 0&&this._$Em!==l){const d=o.getPropertyOptions(l),p=typeof d.converter=="function"?{fromAttribute:d.converter}:((u=d.converter)==null?void 0:u.fromAttribute)!==void 0?d.converter:Lv;this._$Em=l,this[l]=p.fromAttribute(t,d.type),this._$Em=null}}requestUpdate(r,t,o){if(r!==void 0){if(o??(o=this.constructor.getPropertyOptions(r)),!(o.hasChanged??lx)(this[r],t))return;this.P(r,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(r,t,o){this._$AL.has(r)||this._$AL.set(r,t),o.reflect===!0&&this._$Em!==r&&(this._$Ej??(this._$Ej=new Set)).add(r)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[u,d]of this._$Ep)this[u]=d;this._$Ep=void 0}const l=this.constructor.elementProperties;if(l.size>0)for(const[u,d]of l)d.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],d)}let r=!1;const t=this._$AL;try{r=this.shouldUpdate(t),r?(this.willUpdate(t),(o=this._$EO)==null||o.forEach(l=>{var u;return(u=l.hostUpdate)==null?void 0:u.call(l)}),this.update(t)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(t)}willUpdate(r){}_$AE(r){var t;(t=this._$EO)==null||t.forEach(o=>{var l;return(l=o.hostUpdated)==null?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(r){return!0}update(r){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(r){}firstUpdated(r){}}Wd.elementStyles=[],Wd.shadowRootOptions={mode:"open"},Wd[fg("elementProperties")]=new Map,Wd[fg("finalized")]=new Map,yw==null||yw({ReactiveElement:Wd}),(ou.reactiveElementVersions??(ou.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gg=globalThis,Rv=gg.trustedTypes,hE=Rv?Rv.createPolicy("lit-html",{createHTML:n=>n}):void 0,jS="$lit$",$c=`lit$${(Math.random()+"").slice(9)}$`,HS="?"+$c,GR=`<${HS}>`,wh=document,Mg=()=>wh.createComment(""),Ig=n=>n===null||typeof n!="object"&&typeof n!="function",US=Array.isArray,qR=n=>US(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",bw=`[ 	
\f\r]`,Yf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,dE=/-->/g,pE=/>/g,ch=RegExp(`>|${bw}(?:([^\\s"'>=/]+)(${bw}*=${bw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),fE=/'/g,gE=/"/g,GS=/^(?:script|style|textarea|title)$/i,VR=n=>(r,...t)=>({_$litType$:n,strings:r,values:t}),_n=VR(1),xh=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),mE=new WeakMap,ph=wh.createTreeWalker(wh,129);function qS(n,r){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return hE!==void 0?hE.createHTML(r):r}const WR=(n,r)=>{const t=n.length-1,o=[];let l,u=r===2?"<svg>":"",d=Yf;for(let p=0;p<t;p++){const m=n[p];let v,_,k=-1,C=0;for(;C<m.length&&(d.lastIndex=C,_=d.exec(m),_!==null);)C=d.lastIndex,d===Yf?_[1]==="!--"?d=dE:_[1]!==void 0?d=pE:_[2]!==void 0?(GS.test(_[2])&&(l=RegExp("</"+_[2],"g")),d=ch):_[3]!==void 0&&(d=ch):d===ch?_[0]===">"?(d=l??Yf,k=-1):_[1]===void 0?k=-2:(k=d.lastIndex-_[2].length,v=_[1],d=_[3]===void 0?ch:_[3]==='"'?gE:fE):d===gE||d===fE?d=ch:d===dE||d===pE?d=Yf:(d=ch,l=void 0);const M=d===ch&&n[p+1].startsWith("/>")?" ":"";u+=d===Yf?m+GR:k>=0?(o.push(v),m.slice(0,k)+jS+m.slice(k)+$c+M):m+$c+(k===-2?p:M)}return[qS(n,u+(n[t]||"<?>")+(r===2?"</svg>":"")),o]};class Lg{constructor({strings:r,_$litType$:t},o){let l;this.parts=[];let u=0,d=0;const p=r.length-1,m=this.parts,[v,_]=WR(r,t);if(this.el=Lg.createElement(v,o),ph.currentNode=this.el.content,t===2){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(l=ph.nextNode())!==null&&m.length<p;){if(l.nodeType===1){if(l.hasAttributes())for(const k of l.getAttributeNames())if(k.endsWith(jS)){const C=_[d++],M=l.getAttribute(k).split($c),A=/([.?@])?(.*)/.exec(C);m.push({type:1,index:u,name:A[2],strings:M,ctor:A[1]==="."?YR:A[1]==="?"?XR:A[1]==="@"?KR:ky}),l.removeAttribute(k)}else k.startsWith($c)&&(m.push({type:6,index:u}),l.removeAttribute(k));if(GS.test(l.tagName)){const k=l.textContent.split($c),C=k.length-1;if(C>0){l.textContent=Rv?Rv.emptyScript:"";for(let M=0;M<C;M++)l.append(k[M],Mg()),ph.nextNode(),m.push({type:2,index:++u});l.append(k[C],Mg())}}}else if(l.nodeType===8)if(l.data===HS)m.push({type:2,index:u});else{let k=-1;for(;(k=l.data.indexOf($c,k+1))!==-1;)m.push({type:7,index:u}),k+=$c.length-1}u++}}static createElement(r,t){const o=wh.createElement("template");return o.innerHTML=r,o}}function dp(n,r,t=n,o){var d,p;if(r===xh)return r;let l=o!==void 0?(d=t._$Co)==null?void 0:d[o]:t._$Cl;const u=Ig(r)?void 0:r._$litDirective$;return(l==null?void 0:l.constructor)!==u&&((p=l==null?void 0:l._$AO)==null||p.call(l,!1),u===void 0?l=void 0:(l=new u(n),l._$AT(n,t,o)),o!==void 0?(t._$Co??(t._$Co=[]))[o]=l:t._$Cl=l),l!==void 0&&(r=dp(n,l._$AS(n,r.values),l,o)),r}class ZR{constructor(r,t){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:t},parts:o}=this._$AD,l=((r==null?void 0:r.creationScope)??wh).importNode(t,!0);ph.currentNode=l;let u=ph.nextNode(),d=0,p=0,m=o[0];for(;m!==void 0;){if(d===m.index){let v;m.type===2?v=new tm(u,u.nextSibling,this,r):m.type===1?v=new m.ctor(u,m.name,m.strings,this,r):m.type===6&&(v=new JR(u,this,r)),this._$AV.push(v),m=o[++p]}d!==(m==null?void 0:m.index)&&(u=ph.nextNode(),d++)}return ph.currentNode=wh,l}p(r){let t=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(r,o,t),t+=o.strings.length-2):o._$AI(r[t])),t++}}class tm{get _$AU(){var r;return((r=this._$AM)==null?void 0:r._$AU)??this._$Cv}constructor(r,t,o,l){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=r,this._$AB=t,this._$AM=o,this.options=l,this._$Cv=(l==null?void 0:l.isConnected)??!0}get parentNode(){let r=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(r==null?void 0:r.nodeType)===11&&(r=t.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,t=this){r=dp(this,r,t),Ig(r)?r===an||r==null||r===""?(this._$AH!==an&&this._$AR(),this._$AH=an):r!==this._$AH&&r!==xh&&this._(r):r._$litType$!==void 0?this.$(r):r.nodeType!==void 0?this.T(r):qR(r)?this.k(r):this._(r)}S(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}T(r){this._$AH!==r&&(this._$AR(),this._$AH=this.S(r))}_(r){this._$AH!==an&&Ig(this._$AH)?this._$AA.nextSibling.data=r:this.T(wh.createTextNode(r)),this._$AH=r}$(r){var u;const{values:t,_$litType$:o}=r,l=typeof o=="number"?this._$AC(r):(o.el===void 0&&(o.el=Lg.createElement(qS(o.h,o.h[0]),this.options)),o);if(((u=this._$AH)==null?void 0:u._$AD)===l)this._$AH.p(t);else{const d=new ZR(l,this),p=d.u(this.options);d.p(t),this.T(p),this._$AH=d}}_$AC(r){let t=mE.get(r.strings);return t===void 0&&mE.set(r.strings,t=new Lg(r)),t}k(r){US(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let o,l=0;for(const u of r)l===t.length?t.push(o=new tm(this.S(Mg()),this.S(Mg()),this,this.options)):o=t[l],o._$AI(u),l++;l<t.length&&(this._$AR(o&&o._$AB.nextSibling,l),t.length=l)}_$AR(r=this._$AA.nextSibling,t){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,t);r&&r!==this._$AB;){const l=r.nextSibling;r.remove(),r=l}}setConnected(r){var t;this._$AM===void 0&&(this._$Cv=r,(t=this._$AP)==null||t.call(this,r))}}let ky=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,t,o,l,u){this.type=1,this._$AH=an,this._$AN=void 0,this.element=r,this.name=t,this._$AM=l,this.options=u,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=an}_$AI(r,t=this,o,l){const u=this.strings;let d=!1;if(u===void 0)r=dp(this,r,t,0),d=!Ig(r)||r!==this._$AH&&r!==xh,d&&(this._$AH=r);else{const p=r;let m,v;for(r=u[0],m=0;m<u.length-1;m++)v=dp(this,p[o+m],t,m),v===xh&&(v=this._$AH[m]),d||(d=!Ig(v)||v!==this._$AH[m]),v===an?r=an:r!==an&&(r+=(v??"")+u[m+1]),this._$AH[m]=v}d&&!l&&this.j(r)}j(r){r===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}},YR=class extends ky{constructor(){super(...arguments),this.type=3}j(r){this.element[this.name]=r===an?void 0:r}},XR=class extends ky{constructor(){super(...arguments),this.type=4}j(r){this.element.toggleAttribute(this.name,!!r&&r!==an)}};class KR extends ky{constructor(r,t,o,l,u){super(r,t,o,l,u),this.type=5}_$AI(r,t=this){if((r=dp(this,r,t,0)??an)===xh)return;const o=this._$AH,l=r===an&&o!==an||r.capture!==o.capture||r.once!==o.once||r.passive!==o.passive,u=r!==an&&(o===an||l);l&&this.element.removeEventListener(this.name,this,o),u&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,r):this._$AH.handleEvent(r)}}let JR=class{constructor(r,t,o){this.element=r,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(r){dp(this,r)}};const ww=gg.litHtmlPolyfillSupport;ww==null||ww(Lg,tm),(gg.litHtmlVersions??(gg.litHtmlVersions=[])).push("3.1.2");const QR=(n,r,t)=>{const o=(t==null?void 0:t.renderBefore)??r;let l=o._$litPart$;if(l===void 0){const u=(t==null?void 0:t.renderBefore)??null;o._$litPart$=l=new tm(r.insertBefore(Mg(),u),u,void 0,t??{})}return l._$AI(n),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let mg=class extends Wd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const r=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=r.firstChild),r}update(r){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=QR(t,this.renderRoot,this.renderOptions)}connectedCallback(){var r;super.connectedCallback(),(r=this._$Do)==null||r.setConnected(!0)}disconnectedCallback(){var r;super.disconnectedCallback(),(r=this._$Do)==null||r.setConnected(!1)}render(){return xh}};var GT;mg._$litElement$=!0,mg.finalized=!0,(GT=globalThis.litElementHydrateSupport)==null||GT.call(globalThis,{LitElement:mg});const xw=globalThis.litElementPolyfillSupport;xw==null||xw({LitElement:mg});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var xs=$o`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,$R=$o`
  ${xs}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`;const a1=new Set,tA=new MutationObserver(YS),Qd=new Map;let VS=document.documentElement.dir||"ltr",WS=document.documentElement.lang||navigator.language,dh;tA.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function ZS(...n){n.map(r=>{const t=r.$code.toLowerCase();Qd.has(t)?Qd.set(t,Object.assign(Object.assign({},Qd.get(t)),r)):Qd.set(t,r),dh||(dh=r)}),YS()}function YS(){VS=document.documentElement.dir||"ltr",WS=document.documentElement.lang||navigator.language,[...a1.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let eA=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){a1.add(this.host)}hostDisconnected(){a1.delete(this.host)}dir(){return`${this.host.dir||VS}`.toLowerCase()}lang(){return`${this.host.lang||WS}`.toLowerCase()}getTranslationData(r){var t,o;const l=new Intl.Locale(r.replace(/_/g,"-")),u=l==null?void 0:l.language.toLowerCase(),d=(o=(t=l==null?void 0:l.region)===null||t===void 0?void 0:t.toLowerCase())!==null&&o!==void 0?o:"",p=Qd.get(`${u}-${d}`),m=Qd.get(u);return{locale:l,language:u,region:d,primary:p,secondary:m}}exists(r,t){var o;const{primary:l,secondary:u}=this.getTranslationData((o=t.lang)!==null&&o!==void 0?o:this.lang());return t=Object.assign({includeFallback:!1},t),!!(l&&l[r]||u&&u[r]||t.includeFallback&&dh&&dh[r])}term(r,...t){const{primary:o,secondary:l}=this.getTranslationData(this.lang());let u;if(o&&o[r])u=o[r];else if(l&&l[r])u=l[r];else if(dh&&dh[r])u=dh[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof u=="function"?u(...t):u}date(r,t){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),t).format(r)}number(r,t){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),t).format(r)}relativeTime(r,t,o){return new Intl.RelativeTimeFormat(this.lang(),o).format(r,t)}};var XS={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,r)=>`Go to slide ${n} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};ZS(XS);var rA=XS,bu=class extends eA{};ZS(rA);var KS=Object.defineProperty,iA=Object.defineProperties,nA=Object.getOwnPropertyDescriptor,oA=Object.getOwnPropertyDescriptors,vE=Object.getOwnPropertySymbols,sA=Object.prototype.hasOwnProperty,aA=Object.prototype.propertyIsEnumerable,_w=(n,r)=>(r=Symbol[n])?r:Symbol.for("Symbol."+n),yE=(n,r,t)=>r in n?KS(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,wu=(n,r)=>{for(var t in r||(r={}))sA.call(r,t)&&yE(n,t,r[t]);if(vE)for(var t of vE(r))aA.call(r,t)&&yE(n,t,r[t]);return n},Ey=(n,r)=>iA(n,oA(r)),Zt=(n,r,t,o)=>{for(var l=o>1?void 0:o?nA(r,t):r,u=n.length-1,d;u>=0;u--)(d=n[u])&&(l=(o?d(r,t,l):d(l))||l);return o&&l&&KS(r,t,l),l},lA=function(n,r){this[0]=n,this[1]=r},cA=n=>{var r=n[_w("asyncIterator")],t=!1,o,l={};return r==null?(r=n[_w("iterator")](),o=u=>l[u]=d=>r[u](d)):(r=r.call(n),o=u=>l[u]=d=>{if(t){if(t=!1,u==="throw")throw d;return d}return t=!0,{done:!1,value:new lA(new Promise(p=>{var m=r[u](d);if(!(m instanceof Object))throw TypeError("Object expected");p(m)}),1)}}),l[_w("iterator")]=()=>l,o("next"),"throw"in r?o("throw"):l.throw=u=>{throw u},"return"in r&&o("return"),l};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uA={attribute:!0,type:String,converter:Lv,reflect:!1,hasChanged:lx},hA=(n=uA,r,t)=>{const{kind:o,metadata:l}=t;let u=globalThis.litPropertyMetadata.get(l);if(u===void 0&&globalThis.litPropertyMetadata.set(l,u=new Map),u.set(t.name,n),o==="accessor"){const{name:d}=t;return{set(p){const m=r.get.call(this);r.set.call(this,p),this.requestUpdate(d,m,n)},init(p){return p!==void 0&&this.P(d,void 0,n),p}}}if(o==="setter"){const{name:d}=t;return function(p){const m=this[d];r.call(this,p),this.requestUpdate(d,m,n)}}throw Error("Unsupported decorator location: "+o)};function ue(n){return(r,t)=>typeof t=="object"?hA(n,r,t):((o,l,u)=>{const d=l.hasOwnProperty(u);return l.constructor.createProperty(u,d?{...o,wrapped:!0}:o),d?Object.getOwnPropertyDescriptor(l,u):void 0})(n,r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function em(n){return ue({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bE=(n,r,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(n,r,t),t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function cn(n,r){return(t,o,l)=>{const u=d=>{var p;return((p=d.renderRoot)==null?void 0:p.querySelector(n))??null};if(r){const{get:d,set:p}=typeof o=="object"?t:l??(()=>{const m=Symbol();return{get(){return this[m]},set(v){this[m]=v}}})();return bE(t,o,{get(){let m=d.call(this);return m===void 0&&(m=u(this),(m!==null||this.hasUpdated)&&p.call(this,m)),m}})}return bE(t,o,{get(){return u(this)}})}}var to=class extends mg{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,r])=>{this.constructor.define(n,r)})}emit(n,r){const t=new CustomEvent(n,wu({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(t),t}static define(n,r=this,t={}){const o=customElements.get(n);if(!o){customElements.define(n,class extends r{},t);return}let l=" (unknown version)",u=l;"version"in r&&r.version&&(l=" v"+r.version),"version"in o&&o.version&&(u=" v"+o.version),!(l&&u&&l===u)&&console.warn(`Attempted to register <${n}>${l}, but <${n}>${u} has already been registered.`)}};to.version="2.13.1";to.dependencies={};Zt([ue()],to.prototype,"dir",2);Zt([ue()],to.prototype,"lang",2);var Ty=class extends to{constructor(){super(...arguments),this.localize=new bu(this)}render(){return _n`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Ty.styles=$R;var Xf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,kw=new WeakSet,U0=new WeakMap,dA=class{constructor(n,r){this.handleFormData=t=>{const o=this.options.disabled(this.host),l=this.options.name(this.host),u=this.options.value(this.host),d=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!o&&!d&&typeof l=="string"&&l.length>0&&typeof u<"u"&&(Array.isArray(u)?u.forEach(p=>{t.formData.append(l,p.toString())}):t.formData.append(l,u.toString()))},this.handleFormSubmit=t=>{var o;const l=this.options.disabled(this.host),u=this.options.reportValidity;this.form&&!this.form.noValidate&&((o=Xf.get(this.form))==null||o.forEach(d=>{this.setUserInteracted(d,!0)})),this.form&&!this.form.noValidate&&!l&&!u(this.host)&&(t.preventDefault(),t.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),U0.set(this.host,[])},this.handleInteraction=t=>{const o=U0.get(this.host);o.includes(t.type)||o.push(t.type),o.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.checkValidity=="function"&&!o.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const t=this.form.querySelectorAll("*");for(const o of t)if(typeof o.reportValidity=="function"&&!o.reportValidity())return!1}return!0},(this.host=n).addController(this),this.options=wu({form:t=>{const o=t.form;if(o){const u=t.getRootNode().getElementById(o);if(u)return u}return t.closest("form")},name:t=>t.name,value:t=>t.value,defaultValue:t=>t.defaultValue,disabled:t=>{var o;return(o=t.disabled)!=null?o:!1},reportValidity:t=>typeof t.reportValidity=="function"?t.reportValidity():!0,checkValidity:t=>typeof t.checkValidity=="function"?t.checkValidity():!0,setValue:(t,o)=>t.value=o,assumeInteractionOn:["sl-input"]},r)}hostConnected(){const n=this.options.form(this.host);n&&this.attachForm(n),U0.set(this.host,[]),this.options.assumeInteractionOn.forEach(r=>{this.host.addEventListener(r,this.handleInteraction)})}hostDisconnected(){this.detachForm(),U0.delete(this.host),this.options.assumeInteractionOn.forEach(n=>{this.host.removeEventListener(n,this.handleInteraction)})}hostUpdated(){const n=this.options.form(this.host);n||this.detachForm(),n&&this.form!==n&&(this.detachForm(),this.attachForm(n)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(n){n?(this.form=n,Xf.has(this.form)?Xf.get(this.form).add(this.host):Xf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),Kf.has(this.form)||(Kf.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),Jf.has(this.form)||(Jf.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const n=Xf.get(this.form);n&&(n.delete(this.host),n.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),Kf.has(this.form)&&(this.form.reportValidity=Kf.get(this.form),Kf.delete(this.form)),Jf.has(this.form)&&(this.form.checkValidity=Jf.get(this.form),Jf.delete(this.form)),this.form=void 0))}setUserInteracted(n,r){r?kw.add(n):kw.delete(n),n.requestUpdate()}doAction(n,r){if(this.form){const t=document.createElement("button");t.type=n,t.style.position="absolute",t.style.width="0",t.style.height="0",t.style.clipPath="inset(50%)",t.style.overflow="hidden",t.style.whiteSpace="nowrap",r&&(t.name=r.name,t.value=r.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(o=>{r.hasAttribute(o)&&t.setAttribute(o,r.getAttribute(o))})),this.form.append(t),t.click(),t.remove()}}getForm(){var n;return(n=this.form)!=null?n:null}reset(n){this.doAction("reset",n)}submit(n){this.doAction("submit",n)}setValidity(n){const r=this.host,t=!!kw.has(r),o=!!r.required;r.toggleAttribute("data-required",o),r.toggleAttribute("data-optional",!o),r.toggleAttribute("data-invalid",!n),r.toggleAttribute("data-valid",n),r.toggleAttribute("data-user-invalid",!n&&t),r.toggleAttribute("data-user-valid",n&&t)}updateValidity(){const n=this.host;this.setValidity(n.validity.valid)}emitInvalidEvent(n){const r=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});n||r.preventDefault(),this.host.dispatchEvent(r)||n==null||n.preventDefault()}},cx=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(Ey(wu({},cx),{valid:!1,valueMissing:!0}));Object.freeze(Ey(wu({},cx),{valid:!1,customError:!0}));var pA=$o`
  ${xs}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,ux=class{constructor(n,...r){this.slotNames=[],this.handleSlotChange=t=>{const o=t.target;(this.slotNames.includes("[default]")&&!o.name||o.name&&this.slotNames.includes(o.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const r=n;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function fA(n){if(!n)return"";const r=n.assignedNodes({flatten:!0});let t="";return[...r].forEach(o=>{o.nodeType===Node.TEXT_NODE&&(t+=o.textContent)}),t}var l1="";function wE(n){l1=n}function gA(n=""){if(!l1){const r=[...document.getElementsByTagName("script")],t=r.find(o=>o.hasAttribute("data-shoelace"));if(t)wE(t.getAttribute("data-shoelace"));else{const o=r.find(u=>/shoelace(\.min)?\.js($|\?)/.test(u.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(u.src));let l="";o&&(l=o.getAttribute("src")),wE(l.split("/").slice(0,-1).join("/"))}}return l1.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var mA={name:"default",resolver:n=>gA(`assets/icons/${n}.svg`)},vA=mA,xE={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},yA={name:"system",resolver:n=>n in xE?`data:image/svg+xml,${encodeURIComponent(xE[n])}`:""},bA=yA,wA=[vA,bA],c1=[];function xA(n){c1.push(n)}function _A(n){c1=c1.filter(r=>r!==n)}function _E(n){return wA.find(r=>r.name===n)}var kA=$o`
  ${xs}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`;function vo(n,r){const t=wu({waitUntilFirstUpdate:!1},r);return(o,l)=>{const{update:u}=o,d=Array.isArray(n)?n:[n];o.update=function(p){d.forEach(m=>{const v=m;if(p.has(v)){const _=p.get(v),k=this[v];_!==k&&(!t.waitUntilFirstUpdate||this.hasUpdated)&&this[l](_,k)}}),u.call(this,p)}}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const EA=(n,r)=>r===void 0?(n==null?void 0:n._$litType$)!==void 0:(n==null?void 0:n._$litType$)===r,TA=n=>n.strings===void 0;var Qf=Symbol(),G0=Symbol(),Ew,Tw=new Map,$s=class extends to{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,r){var t;let o;if(r!=null&&r.spriteSheet)return _n`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(o=await fetch(n,{mode:"cors"}),!o.ok)return o.status===410?Qf:G0}catch{return G0}try{const l=document.createElement("div");l.innerHTML=await o.text();const u=l.firstElementChild;if(((t=u==null?void 0:u.tagName)==null?void 0:t.toLowerCase())!=="svg")return Qf;Ew||(Ew=new DOMParser);const p=Ew.parseFromString(u.outerHTML,"text/html").body.querySelector("svg");return p?(p.part.add("svg"),document.adoptNode(p)):Qf}catch{return Qf}}connectedCallback(){super.connectedCallback(),xA(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),_A(this)}getIconSource(){const n=_E(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:r,fromLibrary:t}=this.getIconSource(),o=t?_E(this.library):void 0;if(!r){this.svg=null;return}let l=Tw.get(r);if(l||(l=this.resolveIcon(r,o),Tw.set(r,l)),!this.initialRender)return;const u=await l;if(u===G0&&Tw.delete(r),r===this.getIconSource().url){if(EA(u)){this.svg=u;return}switch(u){case G0:case Qf:this.svg=null,this.emit("sl-error");break;default:this.svg=u.cloneNode(!0),(n=o==null?void 0:o.mutator)==null||n.call(o,this.svg),this.emit("sl-load")}}}render(){return this.svg}};$s.styles=kA;Zt([em()],$s.prototype,"svg",2);Zt([ue({reflect:!0})],$s.prototype,"name",2);Zt([ue()],$s.prototype,"src",2);Zt([ue()],$s.prototype,"label",2);Zt([ue({reflect:!0})],$s.prototype,"library",2);Zt([vo("label")],$s.prototype,"handleLabelChange",1);Zt([vo(["name","src","library"])],$s.prototype,"setIcon",1);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const JS={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},QS=n=>(...r)=>({_$litDirective$:n,values:r});let $S=class{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,t,o){this._$Ct=r,this._$AM=t,this._$Ci=o}_$AS(r,t){return this.update(r,t)}update(r,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const za=QS(class extends $S{constructor(n){var r;if(super(n),n.type!==JS.ATTRIBUTE||n.name!=="class"||((r=n.strings)==null?void 0:r.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(r=>n[r]).join(" ")+" "}update(n,[r]){var o,l;if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(u=>u!=="")));for(const u in r)r[u]&&!((o=this.nt)!=null&&o.has(u))&&this.st.add(u);return this.render(r)}const t=n.element.classList;for(const u of this.st)u in r||(t.remove(u),this.st.delete(u));for(const u in r){const d=!!r[u];d===this.st.has(u)||(l=this.nt)!=null&&l.has(u)||(d?(t.add(u),this.st.add(u)):(t.remove(u),this.st.delete(u)))}return xh}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tC=Symbol.for(""),SA=n=>{if((n==null?void 0:n.r)===tC)return n==null?void 0:n._$litStatic$},Av=(n,...r)=>({_$litStatic$:r.reduce((t,o,l)=>t+(u=>{if(u._$litStatic$!==void 0)return u._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${u}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(o)+n[l+1],n[0]),r:tC}),kE=new Map,CA=n=>(r,...t)=>{const o=t.length;let l,u;const d=[],p=[];let m,v=0,_=!1;for(;v<o;){for(m=r[v];v<o&&(u=t[v],(l=SA(u))!==void 0);)m+=l+r[++v],_=!0;v!==o&&p.push(u),d.push(m),v++}if(v===o&&d.push(r[o]),_){const k=d.join("$$lit$$");(r=kE.get(k))===void 0&&(d.raw=d,kE.set(k,r=d)),t=p}return n(r,...t)},fv=CA(_n);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sn=n=>n??an;var xi=class extends to{constructor(){super(...arguments),this.formControlController=new dA(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new ux(this,"[default]","prefix","suffix"),this.localize=new bu(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:cx}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(n){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(n)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(n){this.isButton()&&(this.button.setCustomValidity(n),this.formControlController.updateValidity())}render(){const n=this.isLink(),r=n?Av`a`:Av`button`;return fv`
      <${r}
        part="base"
        class=${za({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:this.type)}
        title=${this.title}
        name=${sn(n?void 0:this.name)}
        value=${sn(n?void 0:this.value)}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n?this.rel:void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?fv` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?fv`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${r}>
    `}};xi.styles=pA;xi.dependencies={"sl-icon":$s,"sl-spinner":Ty};Zt([cn(".button")],xi.prototype,"button",2);Zt([em()],xi.prototype,"hasFocus",2);Zt([em()],xi.prototype,"invalid",2);Zt([ue()],xi.prototype,"title",2);Zt([ue({reflect:!0})],xi.prototype,"variant",2);Zt([ue({reflect:!0})],xi.prototype,"size",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"caret",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"disabled",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"loading",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"outline",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"pill",2);Zt([ue({type:Boolean,reflect:!0})],xi.prototype,"circle",2);Zt([ue()],xi.prototype,"type",2);Zt([ue()],xi.prototype,"name",2);Zt([ue()],xi.prototype,"value",2);Zt([ue()],xi.prototype,"href",2);Zt([ue()],xi.prototype,"target",2);Zt([ue()],xi.prototype,"rel",2);Zt([ue()],xi.prototype,"download",2);Zt([ue()],xi.prototype,"form",2);Zt([ue({attribute:"formaction"})],xi.prototype,"formAction",2);Zt([ue({attribute:"formenctype"})],xi.prototype,"formEnctype",2);Zt([ue({attribute:"formmethod"})],xi.prototype,"formMethod",2);Zt([ue({attribute:"formnovalidate",type:Boolean})],xi.prototype,"formNoValidate",2);Zt([ue({attribute:"formtarget"})],xi.prototype,"formTarget",2);Zt([vo("disabled",{waitUntilFirstUpdate:!0})],xi.prototype,"handleDisabledChange",1);xi.define("sl-button");var PA=$o`
  ${xs}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,EE=new WeakMap;function eC(n){let r=EE.get(n);return r||(r=window.getComputedStyle(n,null),EE.set(n,r)),r}function MA(n){if(typeof n.checkVisibility=="function")return n.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const r=eC(n);return r.visibility!=="hidden"&&r.display!=="none"}function IA(n){const r=eC(n),{overflowY:t,overflowX:o}=r;return t==="scroll"||o==="scroll"?!0:t!=="auto"||o!=="auto"?!1:n.scrollHeight>n.clientHeight&&t==="auto"||n.scrollWidth>n.clientWidth&&o==="auto"}function LA(n){const r=n.tagName.toLowerCase(),t=Number(n.getAttribute("tabindex"));return n.hasAttribute("tabindex")&&(isNaN(t)||t<=-1)||n.hasAttribute("disabled")||n.closest("[inert]")||r==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!MA(n)?!1:(r==="audio"||r==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(r)?!0:IA(n)}function RA(n){var r,t;const o=u1(n),l=(r=o[0])!=null?r:null,u=(t=o[o.length-1])!=null?t:null;return{start:l,end:u}}function AA(n,r){var t;return((t=n.getRootNode({composed:!0}))==null?void 0:t.host)!==r}function u1(n){const r=new WeakMap,t=[];function o(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||r.has(l))return;r.set(l,!0),!t.includes(l)&&LA(l)&&t.push(l),l instanceof HTMLSlotElement&&AA(l,n)&&l.assignedElements({flatten:!0}).forEach(u=>{o(u)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}for(const u of l.children)o(u)}return o(n),t.sort((l,u)=>{const d=Number(l.getAttribute("tabindex"))||0;return(Number(u.getAttribute("tabindex"))||0)-d})}var OA=$o`
  ${xs}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const cu=Math.min,vs=Math.max,Ov=Math.round,q0=Math.floor,uu=n=>({x:n,y:n}),zA={left:"right",right:"left",bottom:"top",top:"bottom"},NA={start:"end",end:"start"};function h1(n,r,t){return vs(n,cu(r,t))}function Cp(n,r){return typeof n=="function"?n(r):n}function hu(n){return n.split("-")[0]}function Pp(n){return n.split("-")[1]}function rC(n){return n==="x"?"y":"x"}function hx(n){return n==="y"?"height":"width"}function rm(n){return["top","bottom"].includes(hu(n))?"y":"x"}function dx(n){return rC(rm(n))}function DA(n,r,t){t===void 0&&(t=!1);const o=Pp(n),l=dx(n),u=hx(l);let d=l==="x"?o===(t?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[u]>r.floating[u]&&(d=zv(d)),[d,zv(d)]}function FA(n){const r=zv(n);return[d1(n),r,d1(r)]}function d1(n){return n.replace(/start|end/g,r=>NA[r])}function BA(n,r,t){const o=["left","right"],l=["right","left"],u=["top","bottom"],d=["bottom","top"];switch(n){case"top":case"bottom":return t?r?l:o:r?o:l;case"left":case"right":return r?u:d;default:return[]}}function jA(n,r,t,o){const l=Pp(n);let u=BA(hu(n),t==="start",o);return l&&(u=u.map(d=>d+"-"+l),r&&(u=u.concat(u.map(d1)))),u}function zv(n){return n.replace(/left|right|bottom|top/g,r=>zA[r])}function HA(n){return{top:0,right:0,bottom:0,left:0,...n}}function iC(n){return typeof n!="number"?HA(n):{top:n,right:n,bottom:n,left:n}}function Nv(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function TE(n,r,t){let{reference:o,floating:l}=n;const u=rm(r),d=dx(r),p=hx(d),m=hu(r),v=u==="y",_=o.x+o.width/2-l.width/2,k=o.y+o.height/2-l.height/2,C=o[p]/2-l[p]/2;let M;switch(m){case"top":M={x:_,y:o.y-l.height};break;case"bottom":M={x:_,y:o.y+o.height};break;case"right":M={x:o.x+o.width,y:k};break;case"left":M={x:o.x-l.width,y:k};break;default:M={x:o.x,y:o.y}}switch(Pp(r)){case"start":M[d]-=C*(t&&v?-1:1);break;case"end":M[d]+=C*(t&&v?-1:1);break}return M}const UA=async(n,r,t)=>{const{placement:o="bottom",strategy:l="absolute",middleware:u=[],platform:d}=t,p=u.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(r));let v=await d.getElementRects({reference:n,floating:r,strategy:l}),{x:_,y:k}=TE(v,o,m),C=o,M={},A=0;for(let F=0;F<p.length;F++){const{name:U,fn:H}=p[F],{x:W,y:j,data:q,reset:nt}=await H({x:_,y:k,initialPlacement:o,placement:C,strategy:l,middlewareData:M,rects:v,platform:d,elements:{reference:n,floating:r}});_=W??_,k=j??k,M={...M,[U]:{...M[U],...q}},nt&&A<=50&&(A++,typeof nt=="object"&&(nt.placement&&(C=nt.placement),nt.rects&&(v=nt.rects===!0?await d.getElementRects({reference:n,floating:r,strategy:l}):nt.rects),{x:_,y:k}=TE(v,C,m)),F=-1)}return{x:_,y:k,placement:C,strategy:l,middlewareData:M}};async function px(n,r){var t;r===void 0&&(r={});const{x:o,y:l,platform:u,rects:d,elements:p,strategy:m}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:k="floating",altBoundary:C=!1,padding:M=0}=Cp(r,n),A=iC(M),U=p[C?k==="floating"?"reference":"floating":k],H=Nv(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(U)))==null||t?U:U.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(p.floating)),boundary:v,rootBoundary:_,strategy:m})),W=k==="floating"?{...d.floating,x:o,y:l}:d.reference,j=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p.floating)),q=await(u.isElement==null?void 0:u.isElement(j))?await(u.getScale==null?void 0:u.getScale(j))||{x:1,y:1}:{x:1,y:1},nt=Nv(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:W,offsetParent:j,strategy:m}):W);return{top:(H.top-nt.top+A.top)/q.y,bottom:(nt.bottom-H.bottom+A.bottom)/q.y,left:(H.left-nt.left+A.left)/q.x,right:(nt.right-H.right+A.right)/q.x}}const GA=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:o,placement:l,rects:u,platform:d,elements:p,middlewareData:m}=r,{element:v,padding:_=0}=Cp(n,r)||{};if(v==null)return{};const k=iC(_),C={x:t,y:o},M=dx(l),A=hx(M),F=await d.getDimensions(v),U=M==="y",H=U?"top":"left",W=U?"bottom":"right",j=U?"clientHeight":"clientWidth",q=u.reference[A]+u.reference[M]-C[M]-u.floating[A],nt=C[M]-u.reference[M],pt=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v));let ut=pt?pt[j]:0;(!ut||!await(d.isElement==null?void 0:d.isElement(pt)))&&(ut=p.floating[j]||u.floating[A]);const ct=q/2-nt/2,V=ut/2-F[A]/2-1,at=cu(k[H],V),ht=cu(k[W],V),mt=at,Qt=ut-F[A]-ht,ie=ut/2-F[A]/2+ct,ye=h1(mt,ie,Qt),Gt=!m.arrow&&Pp(l)!=null&&ie!==ye&&u.reference[A]/2-(ie<mt?at:ht)-F[A]/2<0,de=Gt?ie<mt?ie-mt:ie-Qt:0;return{[M]:C[M]+de,data:{[M]:ye,centerOffset:ie-ye-de,...Gt&&{alignmentOffset:de}},reset:Gt}}}),qA=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,o;const{placement:l,middlewareData:u,rects:d,initialPlacement:p,platform:m,elements:v}=r,{mainAxis:_=!0,crossAxis:k=!0,fallbackPlacements:C,fallbackStrategy:M="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:F=!0,...U}=Cp(n,r);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const H=hu(l),W=hu(p)===p,j=await(m.isRTL==null?void 0:m.isRTL(v.floating)),q=C||(W||!F?[zv(p)]:FA(p));!C&&A!=="none"&&q.push(...jA(p,F,A,j));const nt=[p,...q],pt=await px(r,U),ut=[];let ct=((o=u.flip)==null?void 0:o.overflows)||[];if(_&&ut.push(pt[H]),k){const mt=DA(l,d,j);ut.push(pt[mt[0]],pt[mt[1]])}if(ct=[...ct,{placement:l,overflows:ut}],!ut.every(mt=>mt<=0)){var V,at;const mt=(((V=u.flip)==null?void 0:V.index)||0)+1,Qt=nt[mt];if(Qt)return{data:{index:mt,overflows:ct},reset:{placement:Qt}};let ie=(at=ct.filter(ye=>ye.overflows[0]<=0).sort((ye,Gt)=>ye.overflows[1]-Gt.overflows[1])[0])==null?void 0:at.placement;if(!ie)switch(M){case"bestFit":{var ht;const ye=(ht=ct.map(Gt=>[Gt.placement,Gt.overflows.filter(de=>de>0).reduce((de,Jt)=>de+Jt,0)]).sort((Gt,de)=>Gt[1]-de[1])[0])==null?void 0:ht[0];ye&&(ie=ye);break}case"initialPlacement":ie=p;break}if(l!==ie)return{reset:{placement:ie}}}return{}}}};async function VA(n,r){const{placement:t,platform:o,elements:l}=n,u=await(o.isRTL==null?void 0:o.isRTL(l.floating)),d=hu(t),p=Pp(t),m=rm(t)==="y",v=["left","top"].includes(d)?-1:1,_=u&&m?-1:1,k=Cp(r,n);let{mainAxis:C,crossAxis:M,alignmentAxis:A}=typeof k=="number"?{mainAxis:k,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...k};return p&&typeof A=="number"&&(M=p==="end"?A*-1:A),m?{x:M*_,y:C*v}:{x:C*v,y:M*_}}const WA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,o;const{x:l,y:u,placement:d,middlewareData:p}=r,m=await VA(r,n);return d===((t=p.offset)==null?void 0:t.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:l+m.x,y:u+m.y,data:{...m,placement:d}}}}},ZA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:t,y:o,placement:l}=r,{mainAxis:u=!0,crossAxis:d=!1,limiter:p={fn:U=>{let{x:H,y:W}=U;return{x:H,y:W}}},...m}=Cp(n,r),v={x:t,y:o},_=await px(r,m),k=rm(hu(l)),C=rC(k);let M=v[C],A=v[k];if(u){const U=C==="y"?"top":"left",H=C==="y"?"bottom":"right",W=M+_[U],j=M-_[H];M=h1(W,M,j)}if(d){const U=k==="y"?"top":"left",H=k==="y"?"bottom":"right",W=A+_[U],j=A-_[H];A=h1(W,A,j)}const F=p.fn({...r,[C]:M,[k]:A});return{...F,data:{x:F.x-t,y:F.y-o}}}}},YA=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){const{placement:t,rects:o,platform:l,elements:u}=r,{apply:d=()=>{},...p}=Cp(n,r),m=await px(r,p),v=hu(t),_=Pp(t),k=rm(t)==="y",{width:C,height:M}=o.floating;let A,F;v==="top"||v==="bottom"?(A=v,F=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(F=v,A=_==="end"?"top":"bottom");const U=M-m[A],H=C-m[F],W=!r.middlewareData.shift;let j=U,q=H;if(k){const pt=C-m.left-m.right;q=_||W?cu(H,pt):pt}else{const pt=M-m.top-m.bottom;j=_||W?cu(U,pt):pt}if(W&&!_){const pt=vs(m.left,0),ut=vs(m.right,0),ct=vs(m.top,0),V=vs(m.bottom,0);k?q=C-2*(pt!==0||ut!==0?pt+ut:vs(m.left,m.right)):j=M-2*(ct!==0||V!==0?ct+V:vs(m.top,m.bottom))}await d({...r,availableWidth:q,availableHeight:j});const nt=await l.getDimensions(u.floating);return C!==nt.width||M!==nt.height?{reset:{rects:!0}}:{}}}};function du(n){return nC(n)?(n.nodeName||"").toLowerCase():"#document"}function ys(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function hc(n){var r;return(r=(nC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function nC(n){return n instanceof Node||n instanceof ys(n).Node}function ac(n){return n instanceof Element||n instanceof ys(n).Element}function dl(n){return n instanceof HTMLElement||n instanceof ys(n).HTMLElement}function SE(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ys(n).ShadowRoot}function im(n){const{overflow:r,overflowX:t,overflowY:o,display:l}=Ks(n);return/auto|scroll|overlay|hidden|clip/.test(r+o+t)&&!["inline","contents"].includes(l)}function XA(n){return["table","td","th"].includes(du(n))}function fx(n){const r=gx(),t=Ks(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(t.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(t.contain||"").includes(o))}function oC(n){let r=pp(n);for(;dl(r)&&!Sy(r);){if(fx(r))return r;r=pp(r)}return null}function gx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sy(n){return["html","body","#document"].includes(du(n))}function Ks(n){return ys(n).getComputedStyle(n)}function Cy(n){return ac(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function pp(n){if(du(n)==="html")return n;const r=n.assignedSlot||n.parentNode||SE(n)&&n.host||hc(n);return SE(r)?r.host:r}function sC(n){const r=pp(n);return Sy(r)?n.ownerDocument?n.ownerDocument.body:n.body:dl(r)&&im(r)?r:sC(r)}function Rg(n,r,t){var o;r===void 0&&(r=[]),t===void 0&&(t=!0);const l=sC(n),u=l===((o=n.ownerDocument)==null?void 0:o.body),d=ys(l);return u?r.concat(d,d.visualViewport||[],im(l)?l:[],d.frameElement&&t?Rg(d.frameElement):[]):r.concat(l,Rg(l,[],t))}function aC(n){const r=Ks(n);let t=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const l=dl(n),u=l?n.offsetWidth:t,d=l?n.offsetHeight:o,p=Ov(t)!==u||Ov(o)!==d;return p&&(t=u,o=d),{width:t,height:o,$:p}}function mx(n){return ac(n)?n:n.contextElement}function sp(n){const r=mx(n);if(!dl(r))return uu(1);const t=r.getBoundingClientRect(),{width:o,height:l,$:u}=aC(r);let d=(u?Ov(t.width):t.width)/o,p=(u?Ov(t.height):t.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const KA=uu(0);function lC(n){const r=ys(n);return!gx()||!r.visualViewport?KA:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function JA(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==ys(n)?!1:r}function _h(n,r,t,o){r===void 0&&(r=!1),t===void 0&&(t=!1);const l=n.getBoundingClientRect(),u=mx(n);let d=uu(1);r&&(o?ac(o)&&(d=sp(o)):d=sp(n));const p=JA(u,t,o)?lC(u):uu(0);let m=(l.left+p.x)/d.x,v=(l.top+p.y)/d.y,_=l.width/d.x,k=l.height/d.y;if(u){const C=ys(u),M=o&&ac(o)?ys(o):o;let A=C.frameElement;for(;A&&o&&M!==C;){const F=sp(A),U=A.getBoundingClientRect(),H=Ks(A),W=U.left+(A.clientLeft+parseFloat(H.paddingLeft))*F.x,j=U.top+(A.clientTop+parseFloat(H.paddingTop))*F.y;m*=F.x,v*=F.y,_*=F.x,k*=F.y,m+=W,v+=j,A=ys(A).frameElement}}return Nv({width:_,height:k,x:m,y:v})}const QA=[":popover-open",":modal"];function cC(n){let r=!1,t=0,o=0;function l(u){try{r=r||n.matches(u)}catch{}}if(QA.forEach(u=>{l(u)}),r){const u=oC(n);if(u){const d=u.getBoundingClientRect();t=d.x,o=d.y}}return[r,t,o]}function $A(n){let{elements:r,rect:t,offsetParent:o,strategy:l}=n;const u=hc(o),[d]=r?cC(r.floating):[!1];if(o===u||d)return t;let p={scrollLeft:0,scrollTop:0},m=uu(1);const v=uu(0),_=dl(o);if((_||!_&&l!=="fixed")&&((du(o)!=="body"||im(u))&&(p=Cy(o)),dl(o))){const k=_h(o);m=sp(o),v.x=k.x+o.clientLeft,v.y=k.y+o.clientTop}return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+v.x,y:t.y*m.y-p.scrollTop*m.y+v.y}}function tO(n){return Array.from(n.getClientRects())}function uC(n){return _h(hc(n)).left+Cy(n).scrollLeft}function eO(n){const r=hc(n),t=Cy(n),o=n.ownerDocument.body,l=vs(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),u=vs(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-t.scrollLeft+uC(n);const p=-t.scrollTop;return Ks(o).direction==="rtl"&&(d+=vs(r.clientWidth,o.clientWidth)-l),{width:l,height:u,x:d,y:p}}function rO(n,r){const t=ys(n),o=hc(n),l=t.visualViewport;let u=o.clientWidth,d=o.clientHeight,p=0,m=0;if(l){u=l.width,d=l.height;const v=gx();(!v||v&&r==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:p,y:m}}function iO(n,r){const t=_h(n,!0,r==="fixed"),o=t.top+n.clientTop,l=t.left+n.clientLeft,u=dl(n)?sp(n):uu(1),d=n.clientWidth*u.x,p=n.clientHeight*u.y,m=l*u.x,v=o*u.y;return{width:d,height:p,x:m,y:v}}function CE(n,r,t){let o;if(r==="viewport")o=rO(n,t);else if(r==="document")o=eO(hc(n));else if(ac(r))o=iO(r,t);else{const l=lC(n);o={...r,x:r.x-l.x,y:r.y-l.y}}return Nv(o)}function hC(n,r){const t=pp(n);return t===r||!ac(t)||Sy(t)?!1:Ks(t).position==="fixed"||hC(t,r)}function nO(n,r){const t=r.get(n);if(t)return t;let o=Rg(n,[],!1).filter(p=>ac(p)&&du(p)!=="body"),l=null;const u=Ks(n).position==="fixed";let d=u?pp(n):n;for(;ac(d)&&!Sy(d);){const p=Ks(d),m=fx(d);!m&&p.position==="fixed"&&(l=null),(u?!m&&!l:!m&&p.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||im(d)&&!m&&hC(n,d))?o=o.filter(_=>_!==d):l=p,d=pp(d)}return r.set(n,o),o}function oO(n){let{element:r,boundary:t,rootBoundary:o,strategy:l}=n;const d=[...t==="clippingAncestors"?nO(r,this._c):[].concat(t),o],p=d[0],m=d.reduce((v,_)=>{const k=CE(r,_,l);return v.top=vs(k.top,v.top),v.right=cu(k.right,v.right),v.bottom=cu(k.bottom,v.bottom),v.left=vs(k.left,v.left),v},CE(r,p,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function sO(n){const{width:r,height:t}=aC(n);return{width:r,height:t}}function aO(n,r,t,o){const l=dl(r),u=hc(r),d=t==="fixed",p=_h(n,!0,d,r);let m={scrollLeft:0,scrollTop:0};const v=uu(0);if(l||!l&&!d)if((du(r)!=="body"||im(u))&&(m=Cy(r)),l){const F=_h(r,!0,d,r);v.x=F.x+r.clientLeft,v.y=F.y+r.clientTop}else u&&(v.x=uC(u));let _=p.left+m.scrollLeft-v.x,k=p.top+m.scrollTop-v.y;const[C,M,A]=cC(o);return C&&(_+=M,k+=A,l&&(_+=r.clientLeft,k+=r.clientTop)),{x:_,y:k,width:p.width,height:p.height}}function PE(n,r){return!dl(n)||Ks(n).position==="fixed"?null:r?r(n):n.offsetParent}function dC(n,r){const t=ys(n);if(!dl(n))return t;let o=PE(n,r);for(;o&&XA(o)&&Ks(o).position==="static";)o=PE(o,r);return o&&(du(o)==="html"||du(o)==="body"&&Ks(o).position==="static"&&!fx(o))?t:o||oC(n)||t}const lO=async function(n){const r=this.getOffsetParent||dC,t=this.getDimensions;return{reference:aO(n.reference,await r(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function cO(n){return Ks(n).direction==="rtl"}const gv={convertOffsetParentRelativeRectToViewportRelativeRect:$A,getDocumentElement:hc,getClippingRect:oO,getOffsetParent:dC,getElementRects:lO,getClientRects:tO,getDimensions:sO,getScale:sp,isElement:ac,isRTL:cO};function uO(n,r){let t=null,o;const l=hc(n);function u(){var p;clearTimeout(o),(p=t)==null||p.disconnect(),t=null}function d(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),u();const{left:v,top:_,width:k,height:C}=n.getBoundingClientRect();if(p||r(),!k||!C)return;const M=q0(_),A=q0(l.clientWidth-(v+k)),F=q0(l.clientHeight-(_+C)),U=q0(v),W={rootMargin:-M+"px "+-A+"px "+-F+"px "+-U+"px",threshold:vs(0,cu(1,m))||1};let j=!0;function q(nt){const pt=nt[0].intersectionRatio;if(pt!==m){if(!j)return d();pt?d(!1,pt):o=setTimeout(()=>{d(!1,1e-7)},100)}j=!1}try{t=new IntersectionObserver(q,{...W,root:l.ownerDocument})}catch{t=new IntersectionObserver(q,W)}t.observe(n)}return d(!0),u}function hO(n,r,t,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,v=mx(n),_=l||u?[...v?Rg(v):[],...Rg(r)]:[];_.forEach(H=>{l&&H.addEventListener("scroll",t,{passive:!0}),u&&H.addEventListener("resize",t)});const k=v&&p?uO(v,t):null;let C=-1,M=null;d&&(M=new ResizeObserver(H=>{let[W]=H;W&&W.target===v&&M&&(M.unobserve(r),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var j;(j=M)==null||j.observe(r)})),t()}),v&&!m&&M.observe(v),M.observe(r));let A,F=m?_h(n):null;m&&U();function U(){const H=_h(n);F&&(H.x!==F.x||H.y!==F.y||H.width!==F.width||H.height!==F.height)&&t(),F=H,A=requestAnimationFrame(U)}return t(),()=>{var H;_.forEach(W=>{l&&W.removeEventListener("scroll",t),u&&W.removeEventListener("resize",t)}),k==null||k(),(H=M)==null||H.disconnect(),M=null,m&&cancelAnimationFrame(A)}}const dO=ZA,pO=qA,ME=YA,fO=GA,gO=(n,r,t)=>{const o=new Map,l={platform:gv,...t},u={...l.platform,_c:o};return UA(n,r,{...l,platform:u})};function mO(n){return vO(n)}function Sw(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function vO(n){for(let r=n;r;r=Sw(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=Sw(n);r;r=Sw(r)){if(!(r instanceof Element))continue;const t=getComputedStyle(r);if(t.display!=="contents"&&(t.position!=="static"||t.filter!=="none"||r.tagName==="BODY"))return r}return null}function yO(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var Ei=class extends to{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const n=this.anchorEl.getBoundingClientRect(),r=this.popup.getBoundingClientRect(),t=this.placement.includes("top")||this.placement.includes("bottom");let o=0,l=0,u=0,d=0,p=0,m=0,v=0,_=0;t?n.top<r.top?(o=n.left,l=n.bottom,u=n.right,d=n.bottom,p=r.left,m=r.top,v=r.right,_=r.top):(o=r.left,l=r.bottom,u=r.right,d=r.bottom,p=n.left,m=n.top,v=n.right,_=n.top):n.left<r.left?(o=n.right,l=n.top,u=r.left,d=r.top,p=n.right,m=n.bottom,v=r.left,_=r.bottom):(o=r.right,l=r.top,u=n.left,d=n.top,p=r.right,m=r.bottom,v=n.left,_=n.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${o}px`),this.style.setProperty("--hover-bridge-top-left-y",`${l}px`),this.style.setProperty("--hover-bridge-top-right-x",`${u}px`),this.style.setProperty("--hover-bridge-top-right-y",`${d}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${p}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${m}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${v}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${_}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||yO(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=hO(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[WA({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(ME({apply:({rects:t})=>{const o=this.sync==="width"||this.sync==="both",l=this.sync==="height"||this.sync==="both";this.popup.style.width=o?`${t.reference.width}px`:"",this.popup.style.height=l?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(pO({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(dO({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(ME({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:o})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${o}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(fO({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?t=>gv.getOffsetParent(t,mO):gv.getOffsetParent;gO(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:Ey(wu({},gv),{getOffsetParent:r})}).then(({x:t,y:o,middlewareData:l,placement:u})=>{const d=getComputedStyle(this).direction==="rtl",p={top:"bottom",right:"left",bottom:"top",left:"right"}[u.split("-")[0]];if(this.setAttribute("data-current-placement",u),Object.assign(this.popup.style,{left:`${t}px`,top:`${o}px`}),this.arrow){const m=l.arrow.x,v=l.arrow.y;let _="",k="",C="",M="";if(this.arrowPlacement==="start"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",k=d?A:"",M=d?"":A}else if(this.arrowPlacement==="end"){const A=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";k=d?"":A,M=d?A:"",C=typeof v=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(M=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof v=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(M=typeof m=="number"?`${m}px`:"",_=typeof v=="number"?`${v}px`:"");Object.assign(this.arrowEl.style,{top:_,right:k,bottom:C,left:M,[p]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return _n`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${za({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${za({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?_n`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};Ei.styles=OA;Zt([cn(".popup")],Ei.prototype,"popup",2);Zt([cn(".popup__arrow")],Ei.prototype,"arrowEl",2);Zt([ue()],Ei.prototype,"anchor",2);Zt([ue({type:Boolean,reflect:!0})],Ei.prototype,"active",2);Zt([ue({reflect:!0})],Ei.prototype,"placement",2);Zt([ue({reflect:!0})],Ei.prototype,"strategy",2);Zt([ue({type:Number})],Ei.prototype,"distance",2);Zt([ue({type:Number})],Ei.prototype,"skidding",2);Zt([ue({type:Boolean})],Ei.prototype,"arrow",2);Zt([ue({attribute:"arrow-placement"})],Ei.prototype,"arrowPlacement",2);Zt([ue({attribute:"arrow-padding",type:Number})],Ei.prototype,"arrowPadding",2);Zt([ue({type:Boolean})],Ei.prototype,"flip",2);Zt([ue({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:n=>n.join(" ")}})],Ei.prototype,"flipFallbackPlacements",2);Zt([ue({attribute:"flip-fallback-strategy"})],Ei.prototype,"flipFallbackStrategy",2);Zt([ue({type:Object})],Ei.prototype,"flipBoundary",2);Zt([ue({attribute:"flip-padding",type:Number})],Ei.prototype,"flipPadding",2);Zt([ue({type:Boolean})],Ei.prototype,"shift",2);Zt([ue({type:Object})],Ei.prototype,"shiftBoundary",2);Zt([ue({attribute:"shift-padding",type:Number})],Ei.prototype,"shiftPadding",2);Zt([ue({attribute:"auto-size"})],Ei.prototype,"autoSize",2);Zt([ue()],Ei.prototype,"sync",2);Zt([ue({type:Object})],Ei.prototype,"autoSizeBoundary",2);Zt([ue({attribute:"auto-size-padding",type:Number})],Ei.prototype,"autoSizePadding",2);Zt([ue({attribute:"hover-bridge",type:Boolean})],Ei.prototype,"hoverBridge",2);var pC=new Map,bO=new WeakMap;function wO(n){return n??{keyframes:[],options:{duration:0}}}function IE(n,r){return r.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function dc(n,r){pC.set(n,wO(r))}function tc(n,r,t){const o=bO.get(n);if(o!=null&&o[r])return IE(o[r],t.dir);const l=pC.get(r);return l?IE(l,t.dir):{keyframes:[],options:{duration:0}}}function fp(n,r){return new Promise(t=>{function o(l){l.target===n&&(n.removeEventListener(r,o),t())}n.addEventListener(r,o)})}function ec(n,r,t){return new Promise(o=>{if((t==null?void 0:t.duration)===1/0)throw new Error("Promise-based animations must be finite.");const l=n.animate(r,Ey(wu({},t),{duration:xO()?0:t.duration}));l.addEventListener("cancel",o,{once:!0}),l.addEventListener("finish",o,{once:!0})})}function LE(n){return n=n.toString().toLowerCase(),n.indexOf("ms")>-1?parseFloat(n):n.indexOf("s")>-1?parseFloat(n)*1e3:parseFloat(n)}function xO(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function eu(n){return Promise.all(n.getAnimations().map(r=>new Promise(t=>{r.cancel(),requestAnimationFrame(t)})))}var Ro=class extends to{constructor(){super(...arguments),this.localize=new bu(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var r;if(n.key==="Escape"&&this.open&&!this.closeWatcher){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var t,o,l;const u=((t=this.containingElement)==null?void 0:t.getRootNode())instanceof ShadowRoot?(l=(o=document.activeElement)==null?void 0:o.shadowRoot)==null?void 0:l.activeElement:document.activeElement;(!this.containingElement||(u==null?void 0:u.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const r=n.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const r=n.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof(n==null?void 0:n.focus)=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const t=r.getAllItems(),o=t[0],l=t[t.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),t.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(r.setCurrentItem(o),o.focus()),(n.key==="ArrowUp"||n.key==="End")&&(r.setCurrentItem(l),l.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(o=>RA(o).start);let t;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":t=r.button;break;default:t=r}t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var n;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var n;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(n=this.closeWatcher)==null||n.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await eu(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:r}=tc(this,"dropdown.show",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await eu(this);const{keyframes:n,options:r}=tc(this,"dropdown.hide",{dir:this.localize.dir()});await ec(this.popup.popup,n,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return _n`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${za({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};Ro.styles=PA;Ro.dependencies={"sl-popup":Ei};Zt([cn(".dropdown")],Ro.prototype,"popup",2);Zt([cn(".dropdown__trigger")],Ro.prototype,"trigger",2);Zt([cn(".dropdown__panel")],Ro.prototype,"panel",2);Zt([ue({type:Boolean,reflect:!0})],Ro.prototype,"open",2);Zt([ue({reflect:!0})],Ro.prototype,"placement",2);Zt([ue({type:Boolean,reflect:!0})],Ro.prototype,"disabled",2);Zt([ue({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Ro.prototype,"stayOpenOnSelect",2);Zt([ue({attribute:!1})],Ro.prototype,"containingElement",2);Zt([ue({type:Number})],Ro.prototype,"distance",2);Zt([ue({type:Number})],Ro.prototype,"skidding",2);Zt([ue({type:Boolean})],Ro.prototype,"hoist",2);Zt([vo("open",{waitUntilFirstUpdate:!0})],Ro.prototype,"handleOpenChange",1);dc("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});dc("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});Ro.define("sl-dropdown");$s.define("sl-icon");var _O=$o`
  ${xs}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,vx=class extends to{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const r=["menuitem","menuitemcheckbox"],t=n.composedPath().find(l=>{var u;return r.includes(((u=l==null?void 0:l.getAttribute)==null?void 0:u.call(l,"role"))||"")});if(!t)return;const o=t;o.type==="checkbox"&&(o.checked=!o.checked),this.emit("sl-select",{detail:{item:o}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const r=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),r==null||r.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const r=this.getAllItems(),t=this.getCurrentItem();let o=t?r.indexOf(t):0;r.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?o++:n.key==="ArrowUp"?o--:n.key==="Home"?o=0:n.key==="End"&&(o=r.length-1),o<0&&(o=r.length-1),o>r.length-1&&(o=0),this.setCurrentItem(r[o]),r[o].focus())}}handleMouseDown(n){const r=n.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var r;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=n.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(t=>{t.setAttribute("tabindex",t===n?"0":"-1")})}render(){return _n`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};vx.styles=_O;Zt([cn("slot")],vx.prototype,"defaultSlot",2);vx.define("sl-menu");var kO=$o`
  ${xs}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vg=(n,r)=>{var o;const t=n._$AN;if(t===void 0)return!1;for(const l of t)(o=l._$AO)==null||o.call(l,r,!1),vg(l,r);return!0},Dv=n=>{let r,t;do{if((r=n._$AM)===void 0)break;t=r._$AN,t.delete(n),n=r}while((t==null?void 0:t.size)===0)},fC=n=>{for(let r;r=n._$AM;n=r){let t=r._$AN;if(t===void 0)r._$AN=t=new Set;else if(t.has(n))break;t.add(n),SO(r)}};function EO(n){this._$AN!==void 0?(Dv(this),this._$AM=n,fC(this)):this._$AM=n}function TO(n,r=!1,t=0){const o=this._$AH,l=this._$AN;if(l!==void 0&&l.size!==0)if(r)if(Array.isArray(o))for(let u=t;u<o.length;u++)vg(o[u],!1),Dv(o[u]);else o!=null&&(vg(o,!1),Dv(o));else vg(this,n)}const SO=n=>{n.type==JS.CHILD&&(n._$AP??(n._$AP=TO),n._$AQ??(n._$AQ=EO))};class CO extends $S{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,t,o){super._$AT(r,t,o),fC(this),this.isConnected=r._$AU}_$AO(r,t=!0){var o,l;r!==this.isConnected&&(this.isConnected=r,r?(o=this.reconnected)==null||o.call(this):(l=this.disconnected)==null||l.call(this)),t&&(vg(this,r),Dv(this))}setValue(r){if(TA(this._$Ct))this._$Ct._$AI(r,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=r,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const PO=()=>new MO;class MO{}const Cw=new WeakMap,IO=QS(class extends CO{render(n){return an}update(n,[r]){var o;const t=r!==this.Y;return t&&this.Y!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.Y=r,this.ht=(o=n.options)==null?void 0:o.host,this.rt(this.ct=n.element)),an}rt(n){if(typeof this.Y=="function"){const r=this.ht??globalThis;let t=Cw.get(r);t===void 0&&(t=new WeakMap,Cw.set(r,t)),t.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),t.set(this.Y,n),n!==void 0&&this.Y.call(this.ht,n)}else this.Y.value=n}get lt(){var n,r;return typeof this.Y=="function"?(n=Cw.get(this.ht??globalThis))==null?void 0:n.get(this.Y):(r=this.Y)==null?void 0:r.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var LO=class{constructor(n,r,t){this.popupRef=PO(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=o=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${o.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${o.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=o=>{switch(o.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":o.target!==this.host&&(o.preventDefault(),o.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(o);break}},this.handleClick=o=>{var l;o.target===this.host?(o.preventDefault(),o.stopPropagation()):o.target instanceof Element&&(o.target.tagName==="sl-menu-item"||(l=o.target.role)!=null&&l.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=o=>{o.relatedTarget&&o.relatedTarget instanceof Element&&this.host.contains(o.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=o=>{o.stopPropagation()},this.handlePopupReposition=()=>{const o=this.host.renderRoot.querySelector("slot[name='submenu']"),l=o==null?void 0:o.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],u=this.localize.dir()==="rtl";if(!l)return;const{left:d,top:p,width:m,height:v}=l.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${p}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${u?d+m:d}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${p+v}px`)},(this.host=n).addController(this),this.hasSlotController=r,this.localize=t}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let t=null;for(const o of r.assignedElements())if(t=o.querySelectorAll("sl-menu-item, [role^='menuitem']"),t.length!==0)break;if(!(!t||t.length===0)){t[0].setAttribute("tabindex","0");for(let o=1;o!==t.length;++o)t[o].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?t[0]instanceof HTMLElement&&t[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{t[0]instanceof HTMLElement&&t[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),o=["padding-top","border-top-width","margin-top"].reduce((l,u)=>{var d;const p=(d=r.get(u))!=null?d:new CSSUnitValue(0,"px"),v=(p instanceof CSSUnitValue?p:new CSSUnitValue(0,"px")).to("px");return l-v.value},0);this.skidding=o}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?_n`
      <sl-popup
        ${IO(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:_n` <slot name="submenu" hidden></slot> `}},_s=class extends to{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new bu(this),this.hasSlotController=new ux(this,"submenu"),this.submenuController=new LO(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return fA(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return _n`
      <div
        id="anchor"
        part="base"
        class=${za({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?_n` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};_s.styles=kO;_s.dependencies={"sl-icon":$s,"sl-popup":Ei,"sl-spinner":Ty};Zt([cn("slot:not([name])")],_s.prototype,"defaultSlot",2);Zt([cn(".menu-item")],_s.prototype,"menuItem",2);Zt([ue()],_s.prototype,"type",2);Zt([ue({type:Boolean,reflect:!0})],_s.prototype,"checked",2);Zt([ue()],_s.prototype,"value",2);Zt([ue({type:Boolean,reflect:!0})],_s.prototype,"loading",2);Zt([ue({type:Boolean,reflect:!0})],_s.prototype,"disabled",2);Zt([vo("checked")],_s.prototype,"handleCheckedChange",1);Zt([vo("disabled")],_s.prototype,"handleDisabledChange",1);Zt([vo("type")],_s.prototype,"handleTypeChange",1);_s.define("sl-menu-item");Ty.define("sl-spinner");var RO=$o`
  ${xs}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`;function AO(n,r){return{top:Math.round(n.getBoundingClientRect().top-r.getBoundingClientRect().top),left:Math.round(n.getBoundingClientRect().left-r.getBoundingClientRect().left)}}var p1=new Set;function OO(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}function RE(n){if(p1.add(n),!document.body.classList.contains("sl-scroll-lock")){const r=OO();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${r}px`)}}function AE(n){p1.delete(n),p1.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function OE(n,r,t="vertical",o="smooth"){const l=AO(n,r),u=l.top+r.scrollTop,d=l.left+r.scrollLeft,p=r.scrollLeft,m=r.scrollLeft+r.offsetWidth,v=r.scrollTop,_=r.scrollTop+r.offsetHeight;(t==="horizontal"||t==="both")&&(d<p?r.scrollTo({left:d,behavior:o}):d+n.clientWidth>m&&r.scrollTo({left:d-r.offsetWidth+n.clientWidth,behavior:o})),(t==="vertical"||t==="both")&&(u<v?r.scrollTo({top:u,behavior:o}):u+n.clientHeight>_&&r.scrollTo({top:u-r.offsetHeight+n.clientHeight,behavior:o}))}var zO=$o`
  ${xs}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,Ao=class extends to{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}click(){this.button.click()}focus(n){this.button.focus(n)}blur(){this.button.blur()}render(){const n=!!this.href,r=n?Av`a`:Av`button`;return fv`
      <${r}
        part="base"
        class=${za({"icon-button":!0,"icon-button--disabled":!n&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${sn(n?void 0:this.disabled)}
        type=${sn(n?void 0:"button")}
        href=${sn(n?this.href:void 0)}
        target=${sn(n?this.target:void 0)}
        download=${sn(n?this.download:void 0)}
        rel=${sn(n&&this.target?"noreferrer noopener":void 0)}
        role=${sn(n?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${sn(this.name)}
          library=${sn(this.library)}
          src=${sn(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${r}>
    `}};Ao.styles=zO;Ao.dependencies={"sl-icon":$s};Zt([cn(".icon-button")],Ao.prototype,"button",2);Zt([em()],Ao.prototype,"hasFocus",2);Zt([ue()],Ao.prototype,"name",2);Zt([ue()],Ao.prototype,"library",2);Zt([ue()],Ao.prototype,"src",2);Zt([ue()],Ao.prototype,"href",2);Zt([ue()],Ao.prototype,"target",2);Zt([ue()],Ao.prototype,"download",2);Zt([ue()],Ao.prototype,"label",2);Zt([ue({type:Boolean,reflect:!0})],Ao.prototype,"disabled",2);var ks=class extends to{constructor(){super(...arguments),this.localize=new bu(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const n=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(r=>{r.some(t=>!["aria-labelledby","aria-controls"].includes(t.attributeName))&&setTimeout(()=>this.setAriaLabels()),r.some(t=>t.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),n.then(()=>{new IntersectionObserver((t,o)=>{var l;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((l=this.getActiveTab())!=null?l:this.tabs[0],{emitEvents:!1}),o.unobserve(t[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(n={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(t=>n.includeDisabled?t.tagName.toLowerCase()==="sl-tab":t.tagName.toLowerCase()==="sl-tab"&&!t.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(n=>n.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(n=>n.active)}handleClick(n){const t=n.target.closest("sl-tab");(t==null?void 0:t.closest("sl-tab-group"))===this&&t!==null&&this.setActiveTab(t,{scrollBehavior:"smooth"})}handleKeyDown(n){const t=n.target.closest("sl-tab");if((t==null?void 0:t.closest("sl-tab-group"))===this&&(["Enter"," "].includes(n.key)&&t!==null&&(this.setActiveTab(t,{scrollBehavior:"smooth"}),n.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(n.key))){const l=this.tabs.find(d=>d.matches(":focus")),u=this.localize.dir()==="rtl";if((l==null?void 0:l.tagName.toLowerCase())==="sl-tab"){let d=this.tabs.indexOf(l);n.key==="Home"?d=0:n.key==="End"?d=this.tabs.length-1:["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&n.key==="ArrowUp"?d--:(["top","bottom"].includes(this.placement)&&n.key===(u?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&n.key==="ArrowDown")&&d++,d<0&&(d=this.tabs.length-1),d>this.tabs.length-1&&(d=0),this.tabs[d].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[d],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&OE(this.tabs[d],this.nav,"horizontal"),n.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(n,r){if(r=wu({emitEvents:!0,scrollBehavior:"auto"},r),n!==this.activeTab&&!n.disabled){const t=this.activeTab;this.activeTab=n,this.tabs.forEach(o=>o.active=o===this.activeTab),this.panels.forEach(o=>{var l;return o.active=o.name===((l=this.activeTab)==null?void 0:l.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&OE(this.activeTab,this.nav,"horizontal",r.scrollBehavior),r.emitEvents&&(t&&this.emit("sl-tab-hide",{detail:{name:t.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(n=>{const r=this.panels.find(t=>t.name===n.panel);r&&(n.setAttribute("aria-controls",r.getAttribute("id")),r.setAttribute("aria-labelledby",n.getAttribute("id")))})}repositionIndicator(){const n=this.getActiveTab();if(!n)return;const r=n.clientWidth,t=n.clientHeight,o=this.localize.dir()==="rtl",l=this.getAllTabs(),d=l.slice(0,l.indexOf(n)).reduce((p,m)=>({left:p.left+m.clientWidth,top:p.top+m.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${r}px`,this.indicator.style.height="auto",this.indicator.style.translate=o?`${-1*d.left}px`:`${d.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${t}px`,this.indicator.style.translate=`0 ${d.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(n){const r=this.tabs.find(t=>t.panel===n);r&&this.setActiveTab(r,{scrollBehavior:"smooth"})}render(){const n=this.localize.dir()==="rtl";return _n`
      <div
        part="base"
        class=${za({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${n?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?_n`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${n?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};ks.styles=RO;ks.dependencies={"sl-icon-button":Ao};Zt([cn(".tab-group")],ks.prototype,"tabGroup",2);Zt([cn(".tab-group__body")],ks.prototype,"body",2);Zt([cn(".tab-group__nav")],ks.prototype,"nav",2);Zt([cn(".tab-group__indicator")],ks.prototype,"indicator",2);Zt([em()],ks.prototype,"hasScrollControls",2);Zt([ue()],ks.prototype,"placement",2);Zt([ue()],ks.prototype,"activation",2);Zt([ue({attribute:"no-scroll-controls",type:Boolean})],ks.prototype,"noScrollControls",2);Zt([vo("noScrollControls",{waitUntilFirstUpdate:!0})],ks.prototype,"updateScrollControls",1);Zt([vo("placement",{waitUntilFirstUpdate:!0})],ks.prototype,"syncIndicator",1);ks.define("sl-tab-group");var NO=$o`
  ${xs}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,DO=0,nm=class extends to{constructor(){super(...arguments),this.attrId=++DO,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return _n`
      <slot
        part="base"
        class=${za({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};nm.styles=NO;Zt([ue({reflect:!0})],nm.prototype,"name",2);Zt([ue({type:Boolean,reflect:!0})],nm.prototype,"active",2);Zt([vo("active")],nm.prototype,"handleActiveChange",1);nm.define("sl-tab-panel");var FO=$o`
  ${xs}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,BO=0,vl=class extends to{constructor(){super(...arguments),this.localize=new bu(this),this.attrId=++BO,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(n){n.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(n){this.tab.focus(n)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,_n`
      <div
        part="base"
        class=${za({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?_n`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};vl.styles=FO;vl.dependencies={"sl-icon-button":Ao};Zt([cn(".tab")],vl.prototype,"tab",2);Zt([ue({reflect:!0})],vl.prototype,"panel",2);Zt([ue({type:Boolean,reflect:!0})],vl.prototype,"active",2);Zt([ue({type:Boolean})],vl.prototype,"closable",2);Zt([ue({type:Boolean,reflect:!0})],vl.prototype,"disabled",2);Zt([vo("active")],vl.prototype,"handleActiveChange",1);Zt([vo("disabled")],vl.prototype,"handleDisabledChange",1);vl.define("sl-tab");const jO=["href"],HO={key:1,class:"text-gray-500"},UO={key:2,class:"mx-2 text-gray-500"},GO=Qo({__name:"Breadcrumbs.ce",setup(n){const r=ke(null),t=wr(()=>{var l;return(l=r==null?void 0:r.value)==null?void 0:l.parentNode});sr(t,l=>{l.children[1].classList.remove("sticky")});const o=ke();return ml(()=>{var d;let l=location.pathname,u=((d=window.config)==null?void 0:d.baseurl)||"";o.value=[...l.split("/").filter(p=>p).slice(u==null?void 0:u.split("/").filter(p=>p).length).map((p,m,v)=>({name:p,path:u+"/"+v.slice(0,m+1).join("/")}))]}),(l,u)=>{var d;return Pe(),Ae("div",{class:"inline-flex items-center gap-1 w-full flex-wrap leading-6",ref_key:"root",ref:r},[((d=o.value)==null?void 0:d.length)>1?(Pe(!0),Ae(Yi,{key:0},nu(o.value,(p,m)=>(Pe(),Ae(Yi,{key:p.path},[m<o.value.length-1?(Pe(),Ae("a",{key:0,href:p.path,class:"text-[#0645ad] hover:underline"},Sv(p.name),9,jO)):(Pe(),Ae("span",HO,Sv(p.name),1)),m<o.value.length-1?(Pe(),Ae("span",UO," > ")):ci("",!0)],64))),128)):ci("",!0)],512)}}}),qO=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,ta=(n,r)=>{const t=n.__vccOpts||n;for(const[o,l]of r)t[o]=l;return t},VO=ta(GO,[["styles",[qO]]]);class on{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(r,t=!1){return this.onePassHasher.start().appendStr(r).end(t)}static hashAsciiStr(r,t=!1){return this.onePassHasher.start().appendAsciiStr(r).end(t)}static _hex(r){const t=on.hexChars,o=on.hexOut;let l,u,d,p;for(p=0;p<4;p+=1)for(u=p*8,l=r[p],d=0;d<8;d+=2)o[u+1+d]=t.charAt(l&15),l>>>=4,o[u+0+d]=t.charAt(l&15),l>>>=4;return o.join("")}static _md5cycle(r,t){let o=r[0],l=r[1],u=r[2],d=r[3];o+=(l&u|~l&d)+t[0]-680876936|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[1]-389564586|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[2]+606105819|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[3]-1044525330|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[4]-176418897|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[5]+1200080426|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[6]-1473231341|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[7]-45705983|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[8]+1770035416|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[9]-1958414417|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[10]-42063|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[11]-1990404162|0,l=(l<<22|l>>>10)+u|0,o+=(l&u|~l&d)+t[12]+1804603682|0,o=(o<<7|o>>>25)+l|0,d+=(o&l|~o&u)+t[13]-40341101|0,d=(d<<12|d>>>20)+o|0,u+=(d&o|~d&l)+t[14]-1502002290|0,u=(u<<17|u>>>15)+d|0,l+=(u&d|~u&o)+t[15]+1236535329|0,l=(l<<22|l>>>10)+u|0,o+=(l&d|u&~d)+t[1]-165796510|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[6]-1069501632|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[11]+643717713|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[0]-373897302|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[5]-701558691|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[10]+38016083|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[15]-660478335|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[4]-405537848|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[9]+568446438|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[14]-1019803690|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[3]-187363961|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[8]+1163531501|0,l=(l<<20|l>>>12)+u|0,o+=(l&d|u&~d)+t[13]-1444681467|0,o=(o<<5|o>>>27)+l|0,d+=(o&u|l&~u)+t[2]-51403784|0,d=(d<<9|d>>>23)+o|0,u+=(d&l|o&~l)+t[7]+1735328473|0,u=(u<<14|u>>>18)+d|0,l+=(u&o|d&~o)+t[12]-1926607734|0,l=(l<<20|l>>>12)+u|0,o+=(l^u^d)+t[5]-378558|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[8]-2022574463|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[11]+1839030562|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[14]-35309556|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[1]-1530992060|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[4]+1272893353|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[7]-155497632|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[10]-1094730640|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[13]+681279174|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[0]-358537222|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[3]-722521979|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[6]+76029189|0,l=(l<<23|l>>>9)+u|0,o+=(l^u^d)+t[9]-640364487|0,o=(o<<4|o>>>28)+l|0,d+=(o^l^u)+t[12]-421815835|0,d=(d<<11|d>>>21)+o|0,u+=(d^o^l)+t[15]+530742520|0,u=(u<<16|u>>>16)+d|0,l+=(u^d^o)+t[2]-995338651|0,l=(l<<23|l>>>9)+u|0,o+=(u^(l|~d))+t[0]-198630844|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[7]+1126891415|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[14]-1416354905|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[5]-57434055|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[12]+1700485571|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[3]-1894986606|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[10]-1051523|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[1]-2054922799|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[8]+1873313359|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[15]-30611744|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[6]-1560198380|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[13]+1309151649|0,l=(l<<21|l>>>11)+u|0,o+=(u^(l|~d))+t[4]-145523070|0,o=(o<<6|o>>>26)+l|0,d+=(l^(o|~u))+t[11]-1120210379|0,d=(d<<10|d>>>22)+o|0,u+=(o^(d|~l))+t[2]+718787259|0,u=(u<<15|u>>>17)+d|0,l+=(d^(u|~o))+t[9]-343485551|0,l=(l<<21|l>>>11)+u|0,r[0]=o+r[0]|0,r[1]=l+r[1]|0,r[2]=u+r[2]|0,r[3]=d+r[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(on.stateIdentity),this}appendStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d;for(d=0;d<r.length;d+=1){if(u=r.charCodeAt(d),u<128)t[l++]=u;else if(u<2048)t[l++]=(u>>>6)+192,t[l++]=u&63|128;else if(u<55296||u>56319)t[l++]=(u>>>12)+224,t[l++]=u>>>6&63|128,t[l++]=u&63|128;else{if(u=(u-55296)*1024+(r.charCodeAt(++d)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[l++]=(u>>>18)+240,t[l++]=u>>>12&63|128,t[l++]=u>>>6&63|128,t[l++]=u&63|128}l>=64&&(this._dataLength+=64,on._md5cycle(this._state,o),l-=64,o[0]=o[16])}return this._bufferLength=l,this}appendAsciiStr(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r.charCodeAt(d++);if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}appendByteArray(r){const t=this._buffer8,o=this._buffer32;let l=this._bufferLength,u,d=0;for(;;){for(u=Math.min(r.length-d,64-l);u--;)t[l++]=r[d++];if(l<64)break;this._dataLength+=64,on._md5cycle(this._state,o),l=0}return this._bufferLength=l,this}getState(){const r=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[r[0],r[1],r[2],r[3]]}}setState(r){const t=r.buffer,o=r.state,l=this._state;let u;for(this._dataLength=r.length,this._bufferLength=r.buflen,l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],u=0;u<t.length;u+=1)this._buffer8[u]=t.charCodeAt(u)}end(r=!1){const t=this._bufferLength,o=this._buffer8,l=this._buffer32,u=(t>>2)+1;this._dataLength+=t;const d=this._dataLength*8;if(o[t]=128,o[t+1]=o[t+2]=o[t+3]=0,l.set(on.buffer32Identity.subarray(u),u),t>55&&(on._md5cycle(this._state,l),l.set(on.buffer32Identity)),d<=4294967295)l[14]=d;else{const p=d.toString(16).match(/(.*?)(.{0,8})$/);if(p===null)return;const m=parseInt(p[2],16),v=parseInt(p[1],16)||0;l[14]=m,l[15]=v}return on._md5cycle(this._state,l),r?this._state:on._hex(this._state)}}on.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);on.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);on.hexChars="0123456789abcdef";on.hexOut=[];on.onePassHasher=new on;if(on.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class gC{constructor(r,t){this.$collection=[],this.selector=r,this.config=t,this.events={}}_fireEvent(r,t=null){this.events.hasOwnProperty(r)&&this.events[r](t)}_dispatch(r,t,o=null){const l=new CustomEvent(r,{detail:{payload:o},bubbles:!0,cancelable:!0,composed:!1});t.dispatchEvent(l)}on(r,t){this.events[r]=t}afterTransition(r,t){const o=()=>{t(),r.removeEventListener("transitionend",o,!0)};window.getComputedStyle(r,null).getPropertyValue("transition")!=="all 0s ease 0s"?r.addEventListener("transitionend",o,!0):t()}getClassProperty(r,t,o=""){return(window.getComputedStyle(r).getPropertyValue(t)||o).replace(" ","")}}var Xo="top",Js="bottom",Qs="right",Ko="left",yx="auto",om=[Xo,Js,Qs,Ko],gp="start",Ag="end",WO="clippingParents",mC="viewport",$f="popper",ZO="reference",zE=om.reduce(function(n,r){return n.concat([r+"-"+gp,r+"-"+Ag])},[]),vC=[].concat(om,[yx]).reduce(function(n,r){return n.concat([r,r+"-"+gp,r+"-"+Ag])},[]),YO="beforeRead",XO="read",KO="afterRead",JO="beforeMain",QO="main",$O="afterMain",tz="beforeWrite",ez="write",rz="afterWrite",iz=[YO,XO,KO,JO,QO,$O,tz,ez,rz];function pl(n){return n?(n.nodeName||"").toLowerCase():null}function bs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var r=n.ownerDocument;return r&&r.defaultView||window}return n}function kh(n){var r=bs(n).Element;return n instanceof r||n instanceof Element}function Xs(n){var r=bs(n).HTMLElement;return n instanceof r||n instanceof HTMLElement}function bx(n){if(typeof ShadowRoot>"u")return!1;var r=bs(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function nz(n){var r=n.state;Object.keys(r.elements).forEach(function(t){var o=r.styles[t]||{},l=r.attributes[t]||{},u=r.elements[t];!Xs(u)||!pl(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(d){var p=l[d];p===!1?u.removeAttribute(d):u.setAttribute(d,p===!0?"":p)}))})}function oz(n){var r=n.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(o){var l=r.elements[o],u=r.attributes[o]||{},d=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:t[o]),p=d.reduce(function(m,v){return m[v]="",m},{});!Xs(l)||!pl(l)||(Object.assign(l.style,p),Object.keys(u).forEach(function(m){l.removeAttribute(m)}))})}}const sz={name:"applyStyles",enabled:!0,phase:"write",fn:nz,effect:oz,requires:["computeStyles"]};function ul(n){return n.split("-")[0]}var mh=Math.max,Fv=Math.min,mp=Math.round;function f1(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function yC(){return!/^((?!chrome|android).)*safari/i.test(f1())}function vp(n,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var o=n.getBoundingClientRect(),l=1,u=1;r&&Xs(n)&&(l=n.offsetWidth>0&&mp(o.width)/n.offsetWidth||1,u=n.offsetHeight>0&&mp(o.height)/n.offsetHeight||1);var d=kh(n)?bs(n):window,p=d.visualViewport,m=!yC()&&t,v=(o.left+(m&&p?p.offsetLeft:0))/l,_=(o.top+(m&&p?p.offsetTop:0))/u,k=o.width/l,C=o.height/u;return{width:k,height:C,top:_,right:v+k,bottom:_+C,left:v,x:v,y:_}}function wx(n){var r=vp(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}function bC(n,r){var t=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(t&&bx(t)){var o=r;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function lc(n){return bs(n).getComputedStyle(n)}function az(n){return["table","td","th"].indexOf(pl(n))>=0}function xu(n){return((kh(n)?n.ownerDocument:n.document)||window.document).documentElement}function Py(n){return pl(n)==="html"?n:n.assignedSlot||n.parentNode||(bx(n)?n.host:null)||xu(n)}function NE(n){return!Xs(n)||lc(n).position==="fixed"?null:n.offsetParent}function lz(n){var r=/firefox/i.test(f1()),t=/Trident/i.test(f1());if(t&&Xs(n)){var o=lc(n);if(o.position==="fixed")return null}var l=Py(n);for(bx(l)&&(l=l.host);Xs(l)&&["html","body"].indexOf(pl(l))<0;){var u=lc(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function sm(n){for(var r=bs(n),t=NE(n);t&&az(t)&&lc(t).position==="static";)t=NE(t);return t&&(pl(t)==="html"||pl(t)==="body"&&lc(t).position==="static")?r:t||lz(n)||r}function xx(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function yg(n,r,t){return mh(n,Fv(r,t))}function cz(n,r,t){var o=yg(n,r,t);return o>t?t:o}function wC(){return{top:0,right:0,bottom:0,left:0}}function xC(n){return Object.assign({},wC(),n)}function _C(n,r){return r.reduce(function(t,o){return t[o]=n,t},{})}var uz=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,xC(typeof r!="number"?r:_C(r,om))};function hz(n){var r,t=n.state,o=n.name,l=n.options,u=t.elements.arrow,d=t.modifiersData.popperOffsets,p=ul(t.placement),m=xx(p),v=[Ko,Qs].indexOf(p)>=0,_=v?"height":"width";if(!(!u||!d)){var k=uz(l.padding,t),C=wx(u),M=m==="y"?Xo:Ko,A=m==="y"?Js:Qs,F=t.rects.reference[_]+t.rects.reference[m]-d[m]-t.rects.popper[_],U=d[m]-t.rects.reference[m],H=sm(u),W=H?m==="y"?H.clientHeight||0:H.clientWidth||0:0,j=F/2-U/2,q=k[M],nt=W-C[_]-k[A],pt=W/2-C[_]/2+j,ut=yg(q,pt,nt),ct=m;t.modifiersData[o]=(r={},r[ct]=ut,r.centerOffset=ut-pt,r)}}function dz(n){var r=n.state,t=n.options,o=t.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=r.elements.popper.querySelector(l),!l)||bC(r.elements.popper,l)&&(r.elements.arrow=l))}const pz={name:"arrow",enabled:!0,phase:"main",fn:hz,effect:dz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yp(n){return n.split("-")[1]}var fz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gz(n,r){var t=n.x,o=n.y,l=r.devicePixelRatio||1;return{x:mp(t*l)/l||0,y:mp(o*l)/l||0}}function DE(n){var r,t=n.popper,o=n.popperRect,l=n.placement,u=n.variation,d=n.offsets,p=n.position,m=n.gpuAcceleration,v=n.adaptive,_=n.roundOffsets,k=n.isFixed,C=d.x,M=C===void 0?0:C,A=d.y,F=A===void 0?0:A,U=typeof _=="function"?_({x:M,y:F}):{x:M,y:F};M=U.x,F=U.y;var H=d.hasOwnProperty("x"),W=d.hasOwnProperty("y"),j=Ko,q=Xo,nt=window;if(v){var pt=sm(t),ut="clientHeight",ct="clientWidth";if(pt===bs(t)&&(pt=xu(t),lc(pt).position!=="static"&&p==="absolute"&&(ut="scrollHeight",ct="scrollWidth")),pt=pt,l===Xo||(l===Ko||l===Qs)&&u===Ag){q=Js;var V=k&&pt===nt&&nt.visualViewport?nt.visualViewport.height:pt[ut];F-=V-o.height,F*=m?1:-1}if(l===Ko||(l===Xo||l===Js)&&u===Ag){j=Qs;var at=k&&pt===nt&&nt.visualViewport?nt.visualViewport.width:pt[ct];M-=at-o.width,M*=m?1:-1}}var ht=Object.assign({position:p},v&&fz),mt=_===!0?gz({x:M,y:F},bs(t)):{x:M,y:F};if(M=mt.x,F=mt.y,m){var Qt;return Object.assign({},ht,(Qt={},Qt[q]=W?"0":"",Qt[j]=H?"0":"",Qt.transform=(nt.devicePixelRatio||1)<=1?"translate("+M+"px, "+F+"px)":"translate3d("+M+"px, "+F+"px, 0)",Qt))}return Object.assign({},ht,(r={},r[q]=W?F+"px":"",r[j]=H?M+"px":"",r.transform="",r))}function mz(n){var r=n.state,t=n.options,o=t.gpuAcceleration,l=o===void 0?!0:o,u=t.adaptive,d=u===void 0?!0:u,p=t.roundOffsets,m=p===void 0?!0:p,v={placement:ul(r.placement),variation:yp(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:l,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,DE(Object.assign({},v,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:d,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,DE(Object.assign({},v,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const vz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mz,data:{}};var V0={passive:!0};function yz(n){var r=n.state,t=n.instance,o=n.options,l=o.scroll,u=l===void 0?!0:l,d=o.resize,p=d===void 0?!0:d,m=bs(r.elements.popper),v=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&v.forEach(function(_){_.addEventListener("scroll",t.update,V0)}),p&&m.addEventListener("resize",t.update,V0),function(){u&&v.forEach(function(_){_.removeEventListener("scroll",t.update,V0)}),p&&m.removeEventListener("resize",t.update,V0)}}const bz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yz,data:{}};var wz={left:"right",right:"left",bottom:"top",top:"bottom"};function mv(n){return n.replace(/left|right|bottom|top/g,function(r){return wz[r]})}var xz={start:"end",end:"start"};function FE(n){return n.replace(/start|end/g,function(r){return xz[r]})}function _x(n){var r=bs(n),t=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:t,scrollTop:o}}function kx(n){return vp(xu(n)).left+_x(n).scrollLeft}function _z(n,r){var t=bs(n),o=xu(n),l=t.visualViewport,u=o.clientWidth,d=o.clientHeight,p=0,m=0;if(l){u=l.width,d=l.height;var v=yC();(v||!v&&r==="fixed")&&(p=l.offsetLeft,m=l.offsetTop)}return{width:u,height:d,x:p+kx(n),y:m}}function kz(n){var r,t=xu(n),o=_x(n),l=(r=n.ownerDocument)==null?void 0:r.body,u=mh(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=mh(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-o.scrollLeft+kx(n),m=-o.scrollTop;return lc(l||t).direction==="rtl"&&(p+=mh(t.clientWidth,l?l.clientWidth:0)-u),{width:u,height:d,x:p,y:m}}function Ex(n){var r=lc(n),t=r.overflow,o=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+o)}function kC(n){return["html","body","#document"].indexOf(pl(n))>=0?n.ownerDocument.body:Xs(n)&&Ex(n)?n:kC(Py(n))}function bg(n,r){var t;r===void 0&&(r=[]);var o=kC(n),l=o===((t=n.ownerDocument)==null?void 0:t.body),u=bs(o),d=l?[u].concat(u.visualViewport||[],Ex(o)?o:[]):o,p=r.concat(d);return l?p:p.concat(bg(Py(d)))}function g1(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Ez(n,r){var t=vp(n,!1,r==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function BE(n,r,t){return r===mC?g1(_z(n,t)):kh(r)?Ez(r,t):g1(kz(xu(n)))}function Tz(n){var r=bg(Py(n)),t=["absolute","fixed"].indexOf(lc(n).position)>=0,o=t&&Xs(n)?sm(n):n;return kh(o)?r.filter(function(l){return kh(l)&&bC(l,o)&&pl(l)!=="body"}):[]}function Sz(n,r,t,o){var l=r==="clippingParents"?Tz(n):[].concat(r),u=[].concat(l,[t]),d=u[0],p=u.reduce(function(m,v){var _=BE(n,v,o);return m.top=mh(_.top,m.top),m.right=Fv(_.right,m.right),m.bottom=Fv(_.bottom,m.bottom),m.left=mh(_.left,m.left),m},BE(n,d,o));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function EC(n){var r=n.reference,t=n.element,o=n.placement,l=o?ul(o):null,u=o?yp(o):null,d=r.x+r.width/2-t.width/2,p=r.y+r.height/2-t.height/2,m;switch(l){case Xo:m={x:d,y:r.y-t.height};break;case Js:m={x:d,y:r.y+r.height};break;case Qs:m={x:r.x+r.width,y:p};break;case Ko:m={x:r.x-t.width,y:p};break;default:m={x:r.x,y:r.y}}var v=l?xx(l):null;if(v!=null){var _=v==="y"?"height":"width";switch(u){case gp:m[v]=m[v]-(r[_]/2-t[_]/2);break;case Ag:m[v]=m[v]+(r[_]/2-t[_]/2);break}}return m}function Og(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=o===void 0?n.placement:o,u=t.strategy,d=u===void 0?n.strategy:u,p=t.boundary,m=p===void 0?WO:p,v=t.rootBoundary,_=v===void 0?mC:v,k=t.elementContext,C=k===void 0?$f:k,M=t.altBoundary,A=M===void 0?!1:M,F=t.padding,U=F===void 0?0:F,H=xC(typeof U!="number"?U:_C(U,om)),W=C===$f?ZO:$f,j=n.rects.popper,q=n.elements[A?W:C],nt=Sz(kh(q)?q:q.contextElement||xu(n.elements.popper),m,_,d),pt=vp(n.elements.reference),ut=EC({reference:pt,element:j,strategy:"absolute",placement:l}),ct=g1(Object.assign({},j,ut)),V=C===$f?ct:pt,at={top:nt.top-V.top+H.top,bottom:V.bottom-nt.bottom+H.bottom,left:nt.left-V.left+H.left,right:V.right-nt.right+H.right},ht=n.modifiersData.offset;if(C===$f&&ht){var mt=ht[l];Object.keys(at).forEach(function(Qt){var ie=[Qs,Js].indexOf(Qt)>=0?1:-1,ye=[Xo,Js].indexOf(Qt)>=0?"y":"x";at[Qt]+=mt[ye]*ie})}return at}function Cz(n,r){r===void 0&&(r={});var t=r,o=t.placement,l=t.boundary,u=t.rootBoundary,d=t.padding,p=t.flipVariations,m=t.allowedAutoPlacements,v=m===void 0?vC:m,_=yp(o),k=_?p?zE:zE.filter(function(A){return yp(A)===_}):om,C=k.filter(function(A){return v.indexOf(A)>=0});C.length===0&&(C=k);var M=C.reduce(function(A,F){return A[F]=Og(n,{placement:F,boundary:l,rootBoundary:u,padding:d})[ul(F)],A},{});return Object.keys(M).sort(function(A,F){return M[A]-M[F]})}function Pz(n){if(ul(n)===yx)return[];var r=mv(n);return[FE(n),r,FE(r)]}function Mz(n){var r=n.state,t=n.options,o=n.name;if(!r.modifiersData[o]._skip){for(var l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,p=d===void 0?!0:d,m=t.fallbackPlacements,v=t.padding,_=t.boundary,k=t.rootBoundary,C=t.altBoundary,M=t.flipVariations,A=M===void 0?!0:M,F=t.allowedAutoPlacements,U=r.options.placement,H=ul(U),W=H===U,j=m||(W||!A?[mv(U)]:Pz(U)),q=[U].concat(j).reduce(function(me,se){return me.concat(ul(se)===yx?Cz(r,{placement:se,boundary:_,rootBoundary:k,padding:v,flipVariations:A,allowedAutoPlacements:F}):se)},[]),nt=r.rects.reference,pt=r.rects.popper,ut=new Map,ct=!0,V=q[0],at=0;at<q.length;at++){var ht=q[at],mt=ul(ht),Qt=yp(ht)===gp,ie=[Xo,Js].indexOf(mt)>=0,ye=ie?"width":"height",Gt=Og(r,{placement:ht,boundary:_,rootBoundary:k,altBoundary:C,padding:v}),de=ie?Qt?Qs:Ko:Qt?Js:Xo;nt[ye]>pt[ye]&&(de=mv(de));var Jt=mv(de),Qe=[];if(u&&Qe.push(Gt[mt]<=0),p&&Qe.push(Gt[de]<=0,Gt[Jt]<=0),Qe.every(function(me){return me})){V=ht,ct=!1;break}ut.set(ht,Qe)}if(ct)for(var wt=A?3:1,Ot=function(se){var he=q.find(function(er){var Ft=ut.get(er);if(Ft)return Ft.slice(0,se).every(function(qt){return qt})});if(he)return V=he,"break"},Wt=wt;Wt>0;Wt--){var ee=Ot(Wt);if(ee==="break")break}r.placement!==V&&(r.modifiersData[o]._skip=!0,r.placement=V,r.reset=!0)}}const Iz={name:"flip",enabled:!0,phase:"main",fn:Mz,requiresIfExists:["offset"],data:{_skip:!1}};function jE(n,r,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-r.height-t.y,right:n.right-r.width+t.x,bottom:n.bottom-r.height+t.y,left:n.left-r.width-t.x}}function HE(n){return[Xo,Qs,Js,Ko].some(function(r){return n[r]>=0})}function Lz(n){var r=n.state,t=n.name,o=r.rects.reference,l=r.rects.popper,u=r.modifiersData.preventOverflow,d=Og(r,{elementContext:"reference"}),p=Og(r,{altBoundary:!0}),m=jE(d,o),v=jE(p,l,u),_=HE(m),k=HE(v);r.modifiersData[t]={referenceClippingOffsets:m,popperEscapeOffsets:v,isReferenceHidden:_,hasPopperEscaped:k},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":k})}const Rz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Lz};function Az(n,r,t){var o=ul(n),l=[Ko,Xo].indexOf(o)>=0?-1:1,u=typeof t=="function"?t(Object.assign({},r,{placement:n})):t,d=u[0],p=u[1];return d=d||0,p=(p||0)*l,[Ko,Qs].indexOf(o)>=0?{x:p,y:d}:{x:d,y:p}}function Oz(n){var r=n.state,t=n.options,o=n.name,l=t.offset,u=l===void 0?[0,0]:l,d=vC.reduce(function(_,k){return _[k]=Az(k,r.rects,u),_},{}),p=d[r.placement],m=p.x,v=p.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=v),r.modifiersData[o]=d}const zz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Oz};function Nz(n){var r=n.state,t=n.name;r.modifiersData[t]=EC({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const Dz={name:"popperOffsets",enabled:!0,phase:"read",fn:Nz,data:{}};function Fz(n){return n==="x"?"y":"x"}function Bz(n){var r=n.state,t=n.options,o=n.name,l=t.mainAxis,u=l===void 0?!0:l,d=t.altAxis,p=d===void 0?!1:d,m=t.boundary,v=t.rootBoundary,_=t.altBoundary,k=t.padding,C=t.tether,M=C===void 0?!0:C,A=t.tetherOffset,F=A===void 0?0:A,U=Og(r,{boundary:m,rootBoundary:v,padding:k,altBoundary:_}),H=ul(r.placement),W=yp(r.placement),j=!W,q=xx(H),nt=Fz(q),pt=r.modifiersData.popperOffsets,ut=r.rects.reference,ct=r.rects.popper,V=typeof F=="function"?F(Object.assign({},r.rects,{placement:r.placement})):F,at=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),ht=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,mt={x:0,y:0};if(pt){if(u){var Qt,ie=q==="y"?Xo:Ko,ye=q==="y"?Js:Qs,Gt=q==="y"?"height":"width",de=pt[q],Jt=de+U[ie],Qe=de-U[ye],wt=M?-ct[Gt]/2:0,Ot=W===gp?ut[Gt]:ct[Gt],Wt=W===gp?-ct[Gt]:-ut[Gt],ee=r.elements.arrow,me=M&&ee?wx(ee):{width:0,height:0},se=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:wC(),he=se[ie],er=se[ye],Ft=yg(0,ut[Gt],me[Gt]),qt=j?ut[Gt]/2-wt-Ft-he-at.mainAxis:Ot-Ft-he-at.mainAxis,Yt=j?-ut[Gt]/2+wt+Ft+er+at.mainAxis:Wt+Ft+er+at.mainAxis,Xt=r.elements.arrow&&sm(r.elements.arrow),ot=Xt?q==="y"?Xt.clientTop||0:Xt.clientLeft||0:0,ft=(Qt=ht==null?void 0:ht[q])!=null?Qt:0,vt=de+qt-ft-ot,O=de+Yt-ft,X=yg(M?Fv(Jt,vt):Jt,de,M?mh(Qe,O):Qe);pt[q]=X,mt[q]=X-de}if(p){var dt,kt=q==="x"?Xo:Ko,xt=q==="x"?Js:Qs,zt=pt[nt],_t=nt==="y"?"height":"width",te=zt+U[kt],le=zt-U[xt],pe=[Xo,Ko].indexOf(H)!==-1,ae=(dt=ht==null?void 0:ht[nt])!=null?dt:0,Le=pe?te:zt-ut[_t]-ct[_t]-ae+at.altAxis,Me=pe?zt+ut[_t]+ct[_t]-ae-at.altAxis:le,Ve=M&&pe?cz(Le,zt,Me):yg(M?Le:te,zt,M?Me:le);pt[nt]=Ve,mt[nt]=Ve-zt}r.modifiersData[o]=mt}}const jz={name:"preventOverflow",enabled:!0,phase:"main",fn:Bz,requiresIfExists:["offset"]};function Hz(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Uz(n){return n===bs(n)||!Xs(n)?_x(n):Hz(n)}function Gz(n){var r=n.getBoundingClientRect(),t=mp(r.width)/n.offsetWidth||1,o=mp(r.height)/n.offsetHeight||1;return t!==1||o!==1}function qz(n,r,t){t===void 0&&(t=!1);var o=Xs(r),l=Xs(r)&&Gz(r),u=xu(r),d=vp(n,l,t),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(o||!o&&!t)&&((pl(r)!=="body"||Ex(u))&&(p=Uz(r)),Xs(r)?(m=vp(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=kx(u))),{x:d.left+p.scrollLeft-m.x,y:d.top+p.scrollTop-m.y,width:d.width,height:d.height}}function Vz(n){var r=new Map,t=new Set,o=[];n.forEach(function(u){r.set(u.name,u)});function l(u){t.add(u.name);var d=[].concat(u.requires||[],u.requiresIfExists||[]);d.forEach(function(p){if(!t.has(p)){var m=r.get(p);m&&l(m)}}),o.push(u)}return n.forEach(function(u){t.has(u.name)||l(u)}),o}function Wz(n){var r=Vz(n);return iz.reduce(function(t,o){return t.concat(r.filter(function(l){return l.phase===o}))},[])}function Zz(n){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(n())})})),r}}function Yz(n){var r=n.reduce(function(t,o){var l=t[o.name];return t[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,t},{});return Object.keys(r).map(function(t){return r[t]})}var UE={placement:"bottom",modifiers:[],strategy:"absolute"};function GE(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Xz(n){n===void 0&&(n={});var r=n,t=r.defaultModifiers,o=t===void 0?[]:t,l=r.defaultOptions,u=l===void 0?UE:l;return function(p,m,v){v===void 0&&(v=u);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},UE,u),modifiersData:{},elements:{reference:p,popper:m},attributes:{},styles:{}},k=[],C=!1,M={state:_,setOptions:function(H){var W=typeof H=="function"?H(_.options):H;F(),_.options=Object.assign({},u,_.options,W),_.scrollParents={reference:kh(p)?bg(p):p.contextElement?bg(p.contextElement):[],popper:bg(m)};var j=Wz(Yz([].concat(o,_.options.modifiers)));return _.orderedModifiers=j.filter(function(q){return q.enabled}),A(),M.update()},forceUpdate:function(){if(!C){var H=_.elements,W=H.reference,j=H.popper;if(GE(W,j)){_.rects={reference:qz(W,sm(j),_.options.strategy==="fixed"),popper:wx(j)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(at){return _.modifiersData[at.name]=Object.assign({},at.data)});for(var q=0;q<_.orderedModifiers.length;q++){if(_.reset===!0){_.reset=!1,q=-1;continue}var nt=_.orderedModifiers[q],pt=nt.fn,ut=nt.options,ct=ut===void 0?{}:ut,V=nt.name;typeof pt=="function"&&(_=pt({state:_,options:ct,name:V,instance:M})||_)}}}},update:Zz(function(){return new Promise(function(U){M.forceUpdate(),U(_)})}),destroy:function(){F(),C=!0}};if(!GE(p,m))return M;M.setOptions(v).then(function(U){!C&&v.onFirstUpdate&&v.onFirstUpdate(U)});function A(){_.orderedModifiers.forEach(function(U){var H=U.name,W=U.options,j=W===void 0?{}:W,q=U.effect;if(typeof q=="function"){var nt=q({state:_,name:H,instance:M,options:j}),pt=function(){};k.push(nt||pt)}})}function F(){k.forEach(function(U){return U()}),k=[]}return M}}var Kz=[bz,Dz,vz,sz,zz,Iz,jz,pz,Rz],Pw=Xz({defaultModifiers:Kz});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class TC extends gC{constructor(t){super(".hs-tooltip");hi(this,"root");this.root=t}init(){var t;(t=this.root)==null||t.addEventListener("click",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")==="focus"&&this._focus(u),u&&this.getClassProperty(u,"--trigger")==="click"&&this._click(u)}),this.root.addEventListener("mousemove",o=>{const u=o.target.closest(this.selector);u&&this.getClassProperty(u,"--trigger")!=="focus"&&this.getClassProperty(u,"--trigger")!=="click"&&this._hover(u)})}_hover(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement");Pw(o,l,{placement:u||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const d=p=>{p.relatedTarget.closest(this.selector)&&p.relatedTarget.closest(this.selector)==t||(this.hide(t),t.removeEventListener("mouseleave",d,!0))};t.addEventListener("mouseleave",d,!0)}_focus(t){const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Pw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const p=()=>{this.hide(t),t.removeEventListener("blur",p,!0)};t.addEventListener("blur",p,!0)}_click(t){if(t.classList.contains("show"))return;const o=t.querySelector(".hs-tooltip-toggle"),l=t.querySelector(".hs-tooltip-content"),u=this.getClassProperty(t,"--placement"),d=this.getClassProperty(t,"--strategy");Pw(o,l,{placement:u||"top",strategy:d||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(t);const p=m=>{setTimeout(()=>{this.hide(t),t.removeEventListener("click",p,!0),t.removeEventListener("blur",p,!0)})};t.addEventListener("blur",p,!0),t.addEventListener("click",p,!0)}show(t){t.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{t.classList.add("show"),this._fireEvent("show",t),this._dispatch("show.hs.tooltip",t,t)})}hide(t){const o=t.querySelector(".hs-tooltip-content");t.classList.remove("show"),this._fireEvent("hide",t),this._dispatch("hide.hs.tooltip",t,t),this.afterTransition(o,()=>{t.classList.contains("show")||o.classList.add("hidden")})}}const Jz={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},Qz=["innerHTML"],$z={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},t3={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},e3=["src"],r3={class:"p-4 md:p-5"},i3={class:"text-lg font-bold text-gray-800 dark:text-white"},n3={class:"mt-1 text-gray-800 dark:text-gray-400"},o3={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},s3=["href"],a3=Kt("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),l3=Kt("span",{class:"ml-1"},"Wikipedia",-1),c3=[a3,l3],u3=Qo({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(n){const r=n;sr(r,()=>{d.value=r.qid});const t=ke(null),o=wr(()=>{var A,F;return(F=(A=t.value)==null?void 0:A.getRootNode())==null?void 0:F.host}),l=wr(()=>{var A;return(A=o.value)==null?void 0:A.textContent}),u=wr(()=>{var A;return(A=t==null?void 0:t.value)==null?void 0:A.parentNode});sr(u,()=>{new TC(u.value).init()});const d=ke(r.qid);sr(d,()=>{C(d.value)});const p=ke({}),m=wr(()=>d.value&&p.value[d.value]),v=wr(()=>{var A,F,U;return(U=(F=(A=m.value)==null?void 0:A.labels)==null?void 0:F[r.language])==null?void 0:U.value}),_=wr(()=>{var A,F,U;return(U=(F=(A=m.value)==null?void 0:A.descriptions)==null?void 0:F[r.language])==null?void 0:U.value}),k=wr(()=>{var A;return m.value&&((A=m.value.sitelinks[`${r.language}wiki`])==null?void 0:A.url)});ml(()=>{C(d.value)});async function C(A){if(!A||p.value[A])return;let F=`https://www.wikidata.org/wiki/Special:EntityData/${A}.json`;const H=await(await fetch(F)).json();Object.values(H.entities).forEach(W=>{W.summaryText={},W.claims.P18&&(W.image=W.claims.P18[0].mainsnak.datavalue.value,W.thumbnail=M(W.image))}),p.value={...p.value,...H.entities}}function M(A,F=300){Array.isArray(A)&&(A=A[0]),A=A.split("/").pop(),A=decodeURIComponent(A).replace(/ /g,"_");const U=on.hashStr(A),H=A.split(".").pop();let W=`https://upload.wikimedia.org/wikipedia/commons${F?"/thumb":""}`;return W+=`/${U.slice(0,1)}/${U.slice(0,2)}/${A}`,F&&(W+=`/${F}px-${A}`,H==="svg"?W+=".png":(H==="tif"||H==="tiff")&&(W+=".jpg")),W}return(A,F)=>{var U;return Pe(),Ae("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[Kt("a",Jz,[Kt("span",{innerHTML:l.value,class:"bg-yellow-100"},null,8,Qz),Kt("div",$z,[Kt("div",t3,[Kt("img",{class:"w-full h-auto rounded-t-xl",src:(U=m.value)==null?void 0:U.thumbnail,alt:"Image Description"},null,8,e3),Kt("div",r3,[Kt("h3",i3,Sv(v.value),1),Kt("p",n3,Sv(_.value),1),Kt("div",o3,[Kt("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:k.value},c3,8,s3)])])])])])],512)}}}),h3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,d3=ta(u3,[["styles",[h3]]]);function Tx(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ih=Tx();function SC(n){Ih=n}const CC=/[&<>"']/,p3=new RegExp(CC.source,"g"),PC=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,f3=new RegExp(PC.source,"g"),g3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qE=n=>g3[n];function co(n,r){if(r){if(CC.test(n))return n.replace(p3,qE)}else if(PC.test(n))return n.replace(f3,qE);return n}const m3=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function MC(n){return n.replace(m3,(r,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const v3=/(^|[^\[])\^/g;function bi(n,r){n=typeof n=="string"?n:n.source,r=r||"";const t={replace:(o,l)=>(l=typeof l=="object"&&"source"in l?l.source:l,l=l.replace(v3,"$1"),n=n.replace(o,l),t),getRegex:()=>new RegExp(n,r)};return t}const y3=/[^\w:]/g,b3=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function VE(n,r,t){if(n){let o;try{o=decodeURIComponent(MC(t)).replace(y3,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}r&&!b3.test(t)&&(t=k3(r,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const W0={},w3=/^[^:]+:\/*[^/]*$/,x3=/^([^:]+:)[\s\S]*$/,_3=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k3(n,r){W0[" "+n]||(w3.test(n)?W0[" "+n]=n+"/":W0[" "+n]=vv(n,"/",!0)),n=W0[" "+n];const t=n.indexOf(":")===-1;return r.substring(0,2)==="//"?t?r:n.replace(x3,"$1")+r:r.charAt(0)==="/"?t?r:n.replace(_3,"$1")+r:n+r}const Bv={exec:()=>null};function WE(n,r){const t=n.replace(/\|/g,(u,d,p)=>{let m=!1,v=d;for(;--v>=0&&p[v]==="\\";)m=!m;return m?"|":" |"}),o=t.split(/ \|/);let l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),r)if(o.length>r)o.splice(r);else for(;o.length<r;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function vv(n,r,t){const o=n.length;if(o===0)return"";let l=0;for(;l<o;){const u=n.charAt(o-l-1);if(u===r&&!t)l++;else if(u!==r&&t)l++;else break}return n.slice(0,o-l)}function E3(n,r){if(n.indexOf(r[1])===-1)return-1;let t=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===r[0])t++;else if(n[o]===r[1]&&(t--,t<0))return o;return-1}function T3(n,r){!n||n.silent||(r&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(n.sanitize||n.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(n.highlight||n.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),n.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),n.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),n.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),n.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(n.headerIds||n.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function ZE(n,r,t,o){const l=r.href,u=r.title?co(r.title):null,d=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;const p={type:"link",raw:t,href:l,title:u,text:d,tokens:o.inlineTokens(d)};return o.state.inLink=!1,p}return{type:"image",raw:t,href:l,title:u,text:co(d)}}function S3(n,r){const t=n.match(/^(\s+)(?:```)/);if(t===null)return r;const o=t[1];return r.split(`
`).map(l=>{const u=l.match(/^\s+/);if(u===null)return l;const[d]=u;return d.length>=o.length?l.slice(o.length):l}).join(`
`)}class jv{constructor(r){hi(this,"options");hi(this,"rules");hi(this,"lexer");this.options=r||Ih}space(r){const t=this.rules.block.newline.exec(r);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(r){const t=this.rules.block.code.exec(r);if(t){const o=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?o:vv(o,`
`)}}}fences(r){const t=this.rules.block.fences.exec(r);if(t){const o=t[0],l=S3(o,t[3]||"");return{type:"code",raw:o,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:l}}}heading(r){const t=this.rules.block.heading.exec(r);if(t){let o=t[2].trim();if(/#$/.test(o)){const l=vv(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(r){const t=this.rules.block.hr.exec(r);if(t)return{type:"hr",raw:t[0]}}blockquote(r){const t=this.rules.block.blockquote.exec(r);if(t){const o=t[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;const u=this.lexer.blockTokens(o);return this.lexer.state.top=l,{type:"blockquote",raw:t[0],tokens:u,text:o}}}list(r){let t=this.rules.block.list.exec(r);if(t){let o=t[1].trim();const l=o.length>1,u={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");const d=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`);let p="",m="",v=!1;for(;r;){let _=!1;if(!(t=d.exec(r))||this.rules.block.hr.test(r))break;p=t[0],r=r.substring(p.length);let k=t[2].split(`
`,1)[0].replace(/^\t+/,H=>" ".repeat(3*H.length)),C=r.split(`
`,1)[0],M=0;this.options.pedantic?(M=2,m=k.trimLeft()):(M=t[2].search(/[^ ]/),M=M>4?1:M,m=k.slice(M),M+=t[1].length);let A=!1;if(!k&&/^ *$/.test(C)&&(p+=C+`
`,r=r.substring(C.length+1),_=!0),!_){const H=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),W=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),j=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),q=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;r;){const nt=r.split(`
`,1)[0];if(C=nt,this.options.pedantic&&(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),j.test(C)||q.test(C)||H.test(C)||W.test(r))break;if(C.search(/[^ ]/)>=M||!C.trim())m+=`
`+C.slice(M);else{if(A||k.search(/[^ ]/)>=4||j.test(k)||q.test(k)||W.test(k))break;m+=`
`+C}!A&&!C.trim()&&(A=!0),p+=nt+`
`,r=r.substring(nt.length+1),k=C.slice(M)}}u.loose||(v?u.loose=!0:/\n *\n *$/.test(p)&&(v=!0));let F=null,U;this.options.gfm&&(F=/^\[[ xX]\] /.exec(m),F&&(U=F[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),u.items.push({type:"list_item",raw:p,task:!!F,checked:U,loose:!1,text:m,tokens:[]}),u.raw+=p}u.items[u.items.length-1].raw=p.trimRight(),u.items[u.items.length-1].text=m.trimRight(),u.raw=u.raw.trimRight();for(let _=0;_<u.items.length;_++)if(this.lexer.state.top=!1,u.items[_].tokens=this.lexer.blockTokens(u.items[_].text,[]),!u.loose){const k=u.items[_].tokens.filter(M=>M.type==="space"),C=k.length>0&&k.some(M=>/\n.*\n/.test(M.raw));u.loose=C}if(u.loose)for(let _=0;_<u.items.length;_++)u.items[_].loose=!0;return u}}html(r){const t=this.rules.block.html.exec(r);if(t){const o={type:"html",block:!0,raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const l=this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]),u=o;u.type="paragraph",u.text=l,u.tokens=this.lexer.inline(l)}return o}}def(r){const t=this.rules.block.def.exec(r);if(t){const o=t[1].toLowerCase().replace(/\s+/g," "),l=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",u=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:o,raw:t[0],href:l,title:u}}}table(r){const t=this.rules.block.table.exec(r);if(t){const o={type:"table",raw:t[0],header:WE(t[1]).map(l=>({text:l,tokens:[]})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(o.header.length===o.align.length){let l=o.align.length,u,d,p,m;for(u=0;u<l;u++){const v=o.align[u];v&&(/^ *-+: *$/.test(v)?o.align[u]="right":/^ *:-+: *$/.test(v)?o.align[u]="center":/^ *:-+ *$/.test(v)?o.align[u]="left":o.align[u]=null)}for(l=o.rows.length,u=0;u<l;u++)o.rows[u]=WE(o.rows[u],o.header.length).map(v=>({text:v,tokens:[]}));for(l=o.header.length,d=0;d<l;d++)o.header[d].tokens=this.lexer.inline(o.header[d].text);for(l=o.rows.length,d=0;d<l;d++)for(m=o.rows[d],p=0;p<m.length;p++)m[p].tokens=this.lexer.inline(m[p].text);return o}}}lheading(r){const t=this.rules.block.lheading.exec(r);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(r){const t=this.rules.block.paragraph.exec(r);if(t){const o=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:o,tokens:this.lexer.inline(o)}}}text(r){const t=this.rules.block.text.exec(r);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(r){const t=this.rules.inline.escape.exec(r);if(t)return{type:"escape",raw:t[0],text:co(t[1])}}tag(r){const t=this.rules.inline.tag.exec(r);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):co(t[0]):t[0]}}link(r){const t=this.rules.inline.link.exec(r);if(t){const o=t[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;const d=vv(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=E3(t[2],"()");if(d>-1){const m=(t[0].indexOf("!")===0?5:4)+t[1].length+d;t[2]=t[2].substring(0,d),t[0]=t[0].substring(0,m).trim(),t[3]=""}}let l=t[2],u="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);d&&(l=d[1],u=d[3])}else u=t[3]?t[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),ZE(t,{href:l&&l.replace(this.rules.inline._escapes,"$1"),title:u&&u.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(r,t){let o;if((o=this.rules.inline.reflink.exec(r))||(o=this.rules.inline.nolink.exec(r))){let l=(o[2]||o[1]).replace(/\s+/g," ");if(l=t[l.toLowerCase()],!l){const u=o[0].charAt(0);return{type:"text",raw:u,text:u}}return ZE(o,l,o[0],this.lexer)}}emStrong(r,t,o=""){let l=this.rules.inline.emStrong.lDelim.exec(r);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...l[0]].length-1;let p,m,v=d,_=0;const k=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,t=t.slice(-1*r.length+d);(l=k.exec(t))!=null;){if(p=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!p)continue;if(m=[...p].length,l[3]||l[4]){v+=m;continue}else if((l[5]||l[6])&&d%3&&!((d+m)%3)){_+=m;continue}if(v-=m,v>0)continue;m=Math.min(m,m+v+_);const C=[...r].slice(0,d+l.index+m+1).join("");if(Math.min(d,m)%2){const A=C.slice(1,-1);return{type:"em",raw:C,text:A,tokens:this.lexer.inlineTokens(A)}}const M=C.slice(2,-2);return{type:"strong",raw:C,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(r){const t=this.rules.inline.code.exec(r);if(t){let o=t[2].replace(/\n/g," ");const l=/[^ ]/.test(o),u=/^ /.test(o)&&/ $/.test(o);return l&&u&&(o=o.substring(1,o.length-1)),o=co(o,!0),{type:"codespan",raw:t[0],text:o}}}br(r){const t=this.rules.inline.br.exec(r);if(t)return{type:"br",raw:t[0]}}del(r){const t=this.rules.inline.del.exec(r);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(r,t){const o=this.rules.inline.autolink.exec(r);if(o){let l,u;return o[2]==="@"?(l=co(this.options.mangle?t(o[1]):o[1]),u="mailto:"+l):(l=co(o[1]),u=l),{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}url(r,t){let o;if(o=this.rules.inline.url.exec(r)){let l,u;if(o[2]==="@")l=co(this.options.mangle?t(o[0]):o[0]),u="mailto:"+l;else{let d;do d=o[0],o[0]=this.rules.inline._backpedal.exec(o[0])[0];while(d!==o[0]);l=co(o[0]),o[1]==="www."?u="http://"+o[0]:u=o[0]}return{type:"link",raw:o[0],text:l,href:u,tokens:[{type:"text",raw:l,text:l}]}}}inlineText(r,t){const o=this.rules.inline.text.exec(r);if(o){let l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):co(o[0]):o[0]:l=co(this.options.smartypants?t(o[0]):o[0]),{type:"text",raw:o[0],text:l}}}}const We={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Bv,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};We._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;We._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;We.def=bi(We.def).replace("label",We._label).replace("title",We._title).getRegex();We.bullet=/(?:[*+-]|\d{1,9}[.)])/;We.listItemStart=bi(/^( *)(bull) */).replace("bull",We.bullet).getRegex();We.list=bi(We.list).replace(/bull/g,We.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+We.def.source+")").getRegex();We._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";We._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;We.html=bi(We.html,"i").replace("comment",We._comment).replace("tag",We._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();We.lheading=bi(We.lheading).replace(/bull/g,We.bullet).getRegex();We.paragraph=bi(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex();We.blockquote=bi(We.blockquote).replace("paragraph",We.paragraph).getRegex();We.normal={...We};We.gfm={...We.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};We.gfm.table=bi(We.gfm.table).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex();We.gfm.paragraph=bi(We._paragraph).replace("hr",We.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",We.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We._tag).getRegex();We.pedantic={...We.normal,html:bi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",We._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:bi(We.normal._paragraph).replace("hr",We.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",We.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ce={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Bv,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Bv,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};Ce._punctuation="\\p{P}$+<=>`^|~";Ce.punctuation=bi(Ce.punctuation,"u").replace(/punctuation/g,Ce._punctuation).getRegex();Ce.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;Ce.anyPunctuation=/\\[punct]/g;Ce._escapes=/\\([punct])/g;Ce._comment=bi(We._comment).replace("(?:-->|$)","-->").getRegex();Ce.emStrong.lDelim=bi(Ce.emStrong.lDelim,"u").replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimAst=bi(Ce.emStrong.rDelimAst,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce.emStrong.rDelimUnd=bi(Ce.emStrong.rDelimUnd,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce.anyPunctuation=bi(Ce.anyPunctuation,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce._escapes=bi(Ce._escapes,"gu").replace(/punct/g,Ce._punctuation).getRegex();Ce._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Ce._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Ce.autolink=bi(Ce.autolink).replace("scheme",Ce._scheme).replace("email",Ce._email).getRegex();Ce._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Ce.tag=bi(Ce.tag).replace("comment",Ce._comment).replace("attribute",Ce._attribute).getRegex();Ce._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Ce._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Ce._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Ce.link=bi(Ce.link).replace("label",Ce._label).replace("href",Ce._href).replace("title",Ce._title).getRegex();Ce.reflink=bi(Ce.reflink).replace("label",Ce._label).replace("ref",We._label).getRegex();Ce.nolink=bi(Ce.nolink).replace("ref",We._label).getRegex();Ce.reflinkSearch=bi(Ce.reflinkSearch,"g").replace("reflink",Ce.reflink).replace("nolink",Ce.nolink).getRegex();Ce.normal={...Ce};Ce.pedantic={...Ce.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:bi(/^!?\[(label)\]\((.*?)\)/).replace("label",Ce._label).getRegex(),reflink:bi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ce._label).getRegex()};Ce.gfm={...Ce.normal,escape:bi(Ce.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Ce.gfm.url=bi(Ce.gfm.url,"i").replace("email",Ce.gfm._extended_email).getRegex();Ce.breaks={...Ce.gfm,br:bi(Ce.br).replace("{2,}","*").getRegex(),text:bi(Ce.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function C3(n){return n.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function YE(n){let r="";for(let t=0;t<n.length;t++){const o=Math.random()>.5?"x"+n.charCodeAt(t).toString(16):n.charCodeAt(t).toString();r+="&#"+o+";"}return r}class ll{constructor(r){hi(this,"tokens");hi(this,"options");hi(this,"state");hi(this,"tokenizer");hi(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Ih,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:We.normal,inline:Ce.normal};this.options.pedantic?(t.block=We.pedantic,t.inline=Ce.pedantic):this.options.gfm&&(t.block=We.gfm,this.options.breaks?t.inline=Ce.breaks:t.inline=Ce.gfm),this.tokenizer.rules=t}static get rules(){return{block:We,inline:Ce}}static lex(r,t){return new ll(t).lex(r)}static lexInline(r,t){return new ll(t).inlineTokens(r)}lex(r){r=r.replace(/\r\n|\r/g,`
`),this.blockTokens(r,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(r,t=[]){this.options.pedantic?r=r.replace(/\t/g,"    ").replace(/^ +$/gm,""):r=r.replace(/^( *)(\t+)/gm,(p,m,v)=>m+"    ".repeat(v.length));let o,l,u,d;for(;r;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(o=p.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length),o.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&(l.type==="paragraph"||l.type==="text")?(l.raw+=`
`+o.raw,l.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const m=r.slice(1);let v;this.options.extensions.startBlock.forEach(_=>{v=_.call({lexer:this},m),typeof v=="number"&&v>=0&&(p=Math.min(p,v))}),p<1/0&&p>=0&&(u=r.substring(0,p+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){l=t[t.length-1],d&&l.type==="paragraph"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o),d=u.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&l.type==="text"?(l.raw+=`
`+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=l.text):t.push(o);continue}if(r){const p="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,t}inline(r,t=[]){return this.inlineQueue.push({src:r,tokens:t}),t}inlineTokens(r,t=[]){let o,l,u,d=r,p,m,v;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)_.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,p.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;r;)if(m||(v=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(o=_.call({lexer:this},r,t))?(r=r.substring(o.raw.length),t.push(o),!0):!1))){if(o=this.tokenizer.escape(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.tag(r)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.link(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(o.raw.length),l=t[t.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(o=this.tokenizer.emStrong(r,d,v)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.codespan(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.br(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.del(r)){r=r.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.autolink(r,YE)){r=r.substring(o.raw.length),t.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(r,YE))){r=r.substring(o.raw.length),t.push(o);continue}if(u=r,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const k=r.slice(1);let C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(u=r.substring(0,_+1))}if(o=this.tokenizer.inlineText(u,C3)){r=r.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(v=o.raw.slice(-1)),m=!0,l=t[t.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):t.push(o);continue}if(r){const _="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class Hv{constructor(r){hi(this,"options");this.options=r||Ih}code(r,t,o){var u;const l=(u=(t||"").match(/^\S*/))==null?void 0:u[0];if(this.options.highlight){const d=this.options.highlight(r,l);d!=null&&d!==r&&(o=!0,r=d)}return r=r.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+co(l)+'">'+(o?r:co(r,!0))+`</code></pre>
`:"<pre><code>"+(o?r:co(r,!0))+`</code></pre>
`}blockquote(r){return`<blockquote>
${r}</blockquote>
`}html(r,t){return r}heading(r,t,o,l){if(this.options.headerIds){const u=this.options.headerPrefix+l.slug(o);return`<h${t} id="${u}">${r}</h${t}>
`}return`<h${t}>${r}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(r,t,o){const l=t?"ol":"ul",u=t&&o!==1?' start="'+o+'"':"";return"<"+l+u+`>
`+r+"</"+l+`>
`}listitem(r,t,o){return`<li>${r}</li>
`}checkbox(r){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(r){return`<p>${r}</p>
`}table(r,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+t+`</table>
`}tablerow(r){return`<tr>
${r}</tr>
`}tablecell(r,t){const o=t.header?"th":"td";return(t.align?`<${o} align="${t.align}">`:`<${o}>`)+r+`</${o}>
`}strong(r){return`<strong>${r}</strong>`}em(r){return`<em>${r}</em>`}codespan(r){return`<code>${r}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(r){return`<del>${r}</del>`}link(r,t,o){const l=VE(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u='<a href="'+r+'"';return t&&(u+=' title="'+t+'"'),u+=">"+o+"</a>",u}image(r,t,o){const l=VE(this.options.sanitize,this.options.baseUrl,r);if(l===null)return o;r=l;let u=`<img src="${r}" alt="${o}"`;return t&&(u+=` title="${t}"`),u+=this.options.xhtml?"/>":">",u}text(r){return r}}class Sx{strong(r){return r}em(r){return r}codespan(r){return r}del(r){return r}html(r){return r}text(r){return r}link(r,t,o){return""+o}image(r,t,o){return""+o}br(){return""}}class Cx{constructor(){hi(this,"seen");this.seen={}}serialize(r){return r.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(r,t){let o=r,l=0;if(this.seen.hasOwnProperty(o)){l=this.seen[r];do l++,o=r+"-"+l;while(this.seen.hasOwnProperty(o))}return t||(this.seen[r]=l,this.seen[o]=0),o}slug(r,t={}){const o=this.serialize(r);return this.getNextSafeSlug(o,t.dryrun)}}class cl{constructor(r){hi(this,"options");hi(this,"renderer");hi(this,"textRenderer");hi(this,"slugger");this.options=r||Ih,this.options.renderer=this.options.renderer||new Hv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Sx,this.slugger=new Cx}static parse(r,t){return new cl(t).parse(r)}static parseInline(r,t){return new cl(t).parseInline(r)}parse(r,t=!0){let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=u,p=this.options.extensions.renderers[d.type].call({parser:this},d);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=p||"";continue}}switch(u.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{const d=u;o+=this.renderer.heading(this.parseInline(d.tokens),d.depth,MC(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{const d=u;o+=this.renderer.code(d.text,d.lang,!!d.escaped);continue}case"table":{const d=u;let p="",m="";for(let _=0;_<d.header.length;_++)m+=this.renderer.tablecell(this.parseInline(d.header[_].tokens),{header:!0,align:d.align[_]});p+=this.renderer.tablerow(m);let v="";for(let _=0;_<d.rows.length;_++){const k=d.rows[_];m="";for(let C=0;C<k.length;C++)m+=this.renderer.tablecell(this.parseInline(k[C].tokens),{header:!1,align:d.align[C]});v+=this.renderer.tablerow(m)}o+=this.renderer.table(p,v);continue}case"blockquote":{const d=u,p=this.parse(d.tokens);o+=this.renderer.blockquote(p);continue}case"list":{const d=u,p=d.ordered,m=d.start,v=d.loose;let _="";for(let k=0;k<d.items.length;k++){const C=d.items[k],M=C.checked,A=C.task;let F="";if(C.task){const U=this.renderer.checkbox(!!M);v?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=U+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=U+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:U}):F+=U}F+=this.parse(C.tokens,v),_+=this.renderer.listitem(F,A,!!M)}o+=this.renderer.list(_,p,m);continue}case"html":{const d=u;o+=this.renderer.html(d.text,d.block);continue}case"paragraph":{const d=u;o+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{let d=u,p=d.tokens?this.parseInline(d.tokens):d.text;for(;l+1<r.length&&r[l+1].type==="text";)d=r[++l],p+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);o+=t?this.renderer.paragraph(p):p;continue}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(r,t){t=t||this.renderer;let o="";for(let l=0;l<r.length;l++){const u=r[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]){const d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(u.type)){o+=d||"";continue}}switch(u.type){case"escape":{const d=u;o+=t.text(d.text);break}case"html":{const d=u;o+=t.html(d.text);break}case"link":{const d=u;o+=t.link(d.href,d.title,this.parseInline(d.tokens,t));break}case"image":{const d=u;o+=t.image(d.href,d.title,d.text);break}case"strong":{const d=u;o+=t.strong(this.parseInline(d.tokens,t));break}case"em":{const d=u;o+=t.em(this.parseInline(d.tokens,t));break}case"codespan":{const d=u;o+=t.codespan(d.text);break}case"br":{o+=t.br();break}case"del":{const d=u;o+=t.del(this.parseInline(d.tokens,t));break}case"text":{const d=u;o+=t.text(d.text);break}default:{const d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}}class wg{constructor(r){hi(this,"options");this.options=r||Ih}preprocess(r){return r}postprocess(r){return r}}hi(wg,"passThroughHooks",new Set(["preprocess","postprocess"]));var Qg,m1,dy,IC;class P3{constructor(...r){uw(this,Qg);uw(this,dy);hi(this,"defaults",Tx());hi(this,"options",this.setOptions);hi(this,"parse",z0(this,Qg,m1).call(this,ll.lex,cl.parse));hi(this,"parseInline",z0(this,Qg,m1).call(this,ll.lexInline,cl.parseInline));hi(this,"Parser",cl);hi(this,"parser",cl.parse);hi(this,"Renderer",Hv);hi(this,"TextRenderer",Sx);hi(this,"Lexer",ll);hi(this,"lexer",ll.lex);hi(this,"Tokenizer",jv);hi(this,"Slugger",Cx);hi(this,"Hooks",wg);this.use(...r)}walkTokens(r,t){var l,u;let o=[];for(const d of r)switch(o=o.concat(t.call(this,d)),d.type){case"table":{const p=d;for(const m of p.header)o=o.concat(this.walkTokens(m.tokens,t));for(const m of p.rows)for(const v of m)o=o.concat(this.walkTokens(v.tokens,t));break}case"list":{const p=d;o=o.concat(this.walkTokens(p.items,t));break}default:{const p=d;(u=(l=this.defaults.extensions)==null?void 0:l.childTokens)!=null&&u[p.type]?this.defaults.extensions.childTokens[p.type].forEach(m=>{o=o.concat(this.walkTokens(p[m],t))}):p.tokens&&(o=o.concat(this.walkTokens(p.tokens,t)))}}return o}use(...r){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(o=>{const l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(u=>{if(!u.name)throw new Error("extension name required");if("renderer"in u){const d=t.renderers[u.name];d?t.renderers[u.name]=function(...p){let m=u.renderer.apply(this,p);return m===!1&&(m=d.apply(this,p)),m}:t.renderers[u.name]=u.renderer}if("tokenizer"in u){if(!u.level||u.level!=="block"&&u.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=t[u.level];d?d.unshift(u.tokenizer):t[u.level]=[u.tokenizer],u.start&&(u.level==="block"?t.startBlock?t.startBlock.push(u.start):t.startBlock=[u.start]:u.level==="inline"&&(t.startInline?t.startInline.push(u.start):t.startInline=[u.start]))}"childTokens"in u&&u.childTokens&&(t.childTokens[u.name]=u.childTokens)}),l.extensions=t),o.renderer){const u=this.defaults.renderer||new Hv(this.defaults);for(const d in o.renderer){const p=o.renderer[d],m=d,v=u[m];u[m]=(..._)=>{let k=p.apply(u,_);return k===!1&&(k=v.apply(u,_)),k||""}}l.renderer=u}if(o.tokenizer){const u=this.defaults.tokenizer||new jv(this.defaults);for(const d in o.tokenizer){const p=o.tokenizer[d],m=d,v=u[m];u[m]=(..._)=>{let k=p.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.tokenizer=u}if(o.hooks){const u=this.defaults.hooks||new wg;for(const d in o.hooks){const p=o.hooks[d],m=d,v=u[m];wg.passThroughHooks.has(d)?u[m]=_=>{if(this.defaults.async)return Promise.resolve(p.call(u,_)).then(C=>v.call(u,C));const k=p.call(u,_);return v.call(u,k)}:u[m]=(..._)=>{let k=p.apply(u,_);return k===!1&&(k=v.apply(u,_)),k}}l.hooks=u}if(o.walkTokens){const u=this.defaults.walkTokens,d=o.walkTokens;l.walkTokens=function(p){let m=[];return m.push(d.call(this,p)),u&&(m=m.concat(u.call(this,p))),m}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}}Qg=new WeakSet,m1=function(r,t){return(o,l,u)=>{typeof l=="function"&&(u=l,l=null);const d={...l},p={...this.defaults,...d};this.defaults.async===!0&&d.async===!1&&(p.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),p.async=!0);const m=z0(this,dy,IC).call(this,!!p.silent,!!p.async,u);if(typeof o>"u"||o===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(T3(p,u),p.hooks&&(p.hooks.options=p),u){const v=u,_=p.highlight;let k;try{p.hooks&&(o=p.hooks.preprocess(o)),k=r(o,p)}catch(A){return m(A)}const C=A=>{let F;if(!A)try{p.walkTokens&&this.walkTokens(k,p.walkTokens),F=t(k,p),p.hooks&&(F=p.hooks.postprocess(F))}catch(U){A=U}return p.highlight=_,A?m(A):v(null,F)};if(!_||_.length<3||(delete p.highlight,!k.length))return C();let M=0;this.walkTokens(k,A=>{A.type==="code"&&(M++,setTimeout(()=>{_(A.text,A.lang,(F,U)=>{if(F)return C(F);U!=null&&U!==A.text&&(A.text=U,A.escaped=!0),M--,M===0&&C()})},0))}),M===0&&C();return}if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(o):o).then(v=>r(v,p)).then(v=>p.walkTokens?Promise.all(this.walkTokens(v,p.walkTokens)).then(()=>v):v).then(v=>t(v,p)).then(v=>p.hooks?p.hooks.postprocess(v):v).catch(m);try{p.hooks&&(o=p.hooks.preprocess(o));const v=r(o,p);p.walkTokens&&this.walkTokens(v,p.walkTokens);let _=t(v,p);return p.hooks&&(_=p.hooks.postprocess(_)),_}catch(v){return m(v)}}},dy=new WeakSet,IC=function(r,t,o){return l=>{if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const u="<p>An error occurred:</p><pre>"+co(l.message+"",!0)+"</pre>";if(t)return Promise.resolve(u);if(o){o(null,u);return}return u}if(t)return Promise.reject(l);if(o){o(l);return}throw l}};const Eh=new P3;function vi(n,r,t){return Eh.parse(n,r,t)}vi.options=vi.setOptions=function(n){return Eh.setOptions(n),vi.defaults=Eh.defaults,SC(vi.defaults),vi};vi.getDefaults=Tx;vi.defaults=Ih;vi.use=function(...n){return Eh.use(...n),vi.defaults=Eh.defaults,SC(vi.defaults),vi};vi.walkTokens=function(n,r){return Eh.walkTokens(n,r)};vi.parseInline=Eh.parseInline;vi.Parser=cl;vi.parser=cl.parse;vi.Renderer=Hv;vi.TextRenderer=Sx;vi.Lexer=ll;vi.lexer=ll.lex;vi.Tokenizer=jv;vi.Slugger=Cx;vi.Hooks=wg;vi.parse=vi;vi.options;vi.setOptions;vi.use;vi.walkTokens;vi.parseInline;cl.parse;ll.lex;/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Px extends gC{constructor(t){super("[data-hs-overlay]");hi(this,"root");this.root=t,this.openNextOverlay=!1}init(){this.root.addEventListener("click",t=>{const l=t.target.closest(this.selector),u=t.target.closest("[data-hs-overlay-close]"),d=t.target.getAttribute("aria-overlay")==="true";if(u)return this.close(u.closest(".hs-overlay.open"));if(l)return this.toggle(this.root.querySelector(l.getAttribute("data-hs-overlay")));d&&this._onBackdropClick(t.target)}),this.root.addEventListener("keydown",t=>{if(t.keyCode===27){const o=this.root.querySelector(".hs-overlay.open");if(!o)return;setTimeout(()=>{o.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(o)})}})}toggle(t){t&&(t.classList.contains("hidden")?this.open(t):this.close(t))}open(t){if(!t)return;const o=this.root.querySelector(".hs-overlay.open"),l=this.getClassProperty(t,"--body-scroll","false")!=="true";if(o)return this.openNextOverlay=!0,this.close(o).then(()=>{this.open(t),this.openNextOverlay=!1});l&&(this.root.style.overflow="hidden"),this._buildBackdrop(t),this._checkTimer(t),this._autoHide(t),t.classList.remove("hidden"),t.setAttribute("aria-overlay","true"),t.setAttribute("tabindex","-1"),setTimeout(()=>{t.classList.contains("hidden")||(t.classList.add("open"),this._fireEvent("open",t),this._dispatch("open.hs.overlay",t,t),this._focusInput(t))},50)}close(t){return new Promise(o=>{t&&(t.classList.remove("open"),t.removeAttribute("aria-overlay"),t.removeAttribute("tabindex","-1"),this.afterTransition(t,()=>{t.classList.contains("open")||(t.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",t),this._dispatch("close.hs.overlay",t,t),this.root.style.overflow="",o(t))}))})}_autoHide(t){const o=parseInt(this.getClassProperty(t,"--auto-hide","0"));o&&(t.autoHide=setTimeout(()=>{this.close(t)},o))}_checkTimer(t){t.autoHide&&(clearTimeout(t.autoHide),delete t.autoHide)}_onBackdropClick(t){this.getClassProperty(t,"--overlay-backdrop","true")!=="static"&&this.close(t)}_buildBackdrop(t){const o=t.getAttribute("data-hs-overlay-backdrop-container")||!1;let l=document.createElement("div"),u="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const m of t.classList.values())m.startsWith("hs-overlay-backdrop-open:")&&(u+=` ${m}`);const d=this.getClassProperty(t,"--overlay-backdrop","true")!=="static";this.getClassProperty(t,"--overlay-backdrop","true")!=="false"&&(o&&(l=this.root.querySelector(o).cloneNode(!0),l.classList.remove("hidden"),u=l.classList,l.classList=""),d&&l.addEventListener("click",()=>this.close(t),!0),l.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(l),setTimeout(()=>{l.classList=u}))}_destroyBackdrop(){const t=this.root.querySelector("[data-hs-overlay-backdrop-template]");t&&(this.openNextOverlay&&(t.style.transitionDuration=`${parseFloat(window.getComputedStyle(t).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),t.classList.add("opacity-0"),this.afterTransition(t,()=>{t.remove()}))}_focusInput(t){const o=t.querySelector("[autofocus]");o&&o.focus()}}const M3=["innerHTML"],I3={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},L3={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},R3={class:"p-4 overflow-y-auto flex items-center gap-4"},A3=Kt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),O3=["innerHTML"],z3=Qo({__name:"Footer.ce",setup(n){const r=ke([]),t=ke(null),o=wr(()=>{var M,A;return(A=(M=t.value)==null?void 0:M.getRootNode())==null?void 0:A.host}),l=ke(null),u=wr(()=>l==null?void 0:l.value),d=wr(()=>new Px(u.value)),p=ke(null),m=wr(()=>p==null?void 0:p.value),v=ke("Generating PDF...");sr(m,M=>{d.value.init(),M.addEventListener("open.hs.overlay",A=>_.value=!0),M.addEventListener("close.hs.overlay",A=>_.value=!1)});const _=ke(!1);sr(_,M=>{M?d.value.open(m.value):d.value.close(m.value)}),sr(o,()=>{k()});function k(){function M(){return Array.from(o.value.querySelectorAll("li")).map(A=>{let F=document.createElement("li");F.innerHTML=vi.parse(A.textContent||"");let U=F.querySelector("code");if(U){let H=U.previousElementSibling,W=H||F,j=C(U.innerHTML);j.id&&(W.id=j.id),j.class&&j.class.split(" ").forEach(q=>W.classList.add(q)),j.style&&W.setAttribute("style",j.style),U.remove()}return F})}r.value=M(),new MutationObserver(A=>{for(let F of A)F.type==="childList"&&(r.value=M())}).observe(o.value,{childList:!0,subtree:!0})}function C(M){var H;let A=[];M=M.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(H=M==null?void 0:M.match(/[^\s"]+|"([^"]*)"/gmi))==null||H.filter(W=>W).forEach(W=>{A.length>0&&A[A.length-1].indexOf("=")===A[A.length-1].length-1?A[A.length-1]=`${A[A.length-1]}${W}`:A.push(W)});let F={},U=0;for(;U<A.length;){let W=A[U];if(W.indexOf("=")>0){let[j,q]=W.split("=");q=q[0]==='"'&&q[q.length-1]==='"'?q.slice(1,-1):q,F[j]?F[j]+=` ${q}`:F[j]=q}else if(W[0]==="."){let j="class",q=W.slice(1);q=q[0]==='"'&&q[q.length-1]==='"'?q.slice(1,-1):q,F[j]?F[j]+=` ${q}`:F[j]=q}else if(W[0]===":"){let j="style",q;W.length===1&&U<W.length&&A[U+1][0]==='"'?(q=A[U+1].slice(1,-1),U++):q=W.slice(1),F[j]?F[j]+=` ${q}`:F[j]=q}else if(W[0]==='"'){let j="args",q=W.slice(1,-1);F[j]?F[j].push(q):F[j]=[q]}else W[0]==="#"?F.id=W.slice(1):F[W]=!0;U++}return F}return(M,A)=>(Pe(),Ae(Yi,null,[Kt("ul",{ref_key:"footer",ref:t,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(Pe(!0),Ae(Yi,null,nu(r.value,(F,U)=>(Pe(),Ae("li",{key:`li-${U}`,innerHTML:F.innerHTML,class:$g(F.className),style:lp(F.getAttribute("style")||"")},null,14,M3))),128))],512),Kt("div",{ref_key:"overlayRef",ref:l},[Kt("div",{ref_key:"modalRef",ref:p,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Kt("div",I3,[Kt("div",L3,[Kt("div",R3,[A3,Kt("p",{innerHTML:v.value},null,8,O3)])])])],512)],512)],64))}}),N3=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,D3=ta(z3,[["styles",[N3]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function LC(n){return typeof n>"u"||n===null}function F3(n){return typeof n=="object"&&n!==null}function B3(n){return Array.isArray(n)?n:LC(n)?[]:[n]}function j3(n,r){var t,o,l,u;if(r)for(u=Object.keys(r),t=0,o=u.length;t<o;t+=1)l=u[t],n[l]=r[l];return n}function H3(n,r){var t="",o;for(o=0;o<r;o+=1)t+=n;return t}function U3(n){return n===0&&Number.NEGATIVE_INFINITY===1/n}var G3=LC,q3=F3,V3=B3,W3=H3,Z3=U3,Y3=j3,Io={isNothing:G3,isObject:q3,toArray:V3,repeat:W3,isNegativeZero:Z3,extend:Y3};function RC(n,r){var t="",o=n.reason||"(unknown reason)";return n.mark?(n.mark.name&&(t+='in "'+n.mark.name+'" '),t+="("+(n.mark.line+1)+":"+(n.mark.column+1)+")",!r&&n.mark.snippet&&(t+=`

`+n.mark.snippet),o+" "+t):o}function zg(n,r){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=r,this.message=RC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}zg.prototype=Object.create(Error.prototype);zg.prototype.constructor=zg;zg.prototype.toString=function(r){return this.name+": "+RC(this,r)};var rc=zg;function Mw(n,r,t,o,l){var u="",d="",p=Math.floor(l/2)-1;return o-r>p&&(u=" ... ",r=o-p+u.length),t-o>p&&(d=" ...",t=o+p-d.length),{str:u+n.slice(r,t).replace(/\t/g,"→")+d,pos:o-r+u.length}}function Iw(n,r){return Io.repeat(" ",r-n.length)+n}function X3(n,r){if(r=Object.create(r||null),!n.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,o=[0],l=[],u,d=-1;u=t.exec(n.buffer);)l.push(u.index),o.push(u.index+u[0].length),n.position<=u.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var p="",m,v,_=Math.min(n.line+r.linesAfter,l.length).toString().length,k=r.maxLength-(r.indent+_+3);for(m=1;m<=r.linesBefore&&!(d-m<0);m++)v=Mw(n.buffer,o[d-m],l[d-m],n.position-(o[d]-o[d-m]),k),p=Io.repeat(" ",r.indent)+Iw((n.line-m+1).toString(),_)+" | "+v.str+`
`+p;for(v=Mw(n.buffer,o[d],l[d],n.position,k),p+=Io.repeat(" ",r.indent)+Iw((n.line+1).toString(),_)+" | "+v.str+`
`,p+=Io.repeat("-",r.indent+_+3+v.pos)+`^
`,m=1;m<=r.linesAfter&&!(d+m>=l.length);m++)v=Mw(n.buffer,o[d+m],l[d+m],n.position-(o[d]-o[d+m]),k),p+=Io.repeat(" ",r.indent)+Iw((n.line+m+1).toString(),_)+" | "+v.str+`
`;return p.replace(/\n$/,"")}var K3=X3,J3=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Q3=["scalar","sequence","mapping"];function $3(n){var r={};return n!==null&&Object.keys(n).forEach(function(t){n[t].forEach(function(o){r[String(o)]=t})}),r}function tN(n,r){if(r=r||{},Object.keys(r).forEach(function(t){if(J3.indexOf(t)===-1)throw new rc('Unknown option "'+t+'" is met in definition of "'+n+'" YAML type.')}),this.options=r,this.tag=n,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=$3(r.styleAliases||null),Q3.indexOf(this.kind)===-1)throw new rc('Unknown kind "'+this.kind+'" is specified for "'+n+'" YAML type.')}var go=tN;function XE(n,r){var t=[];return n[r].forEach(function(o){var l=t.length;t.forEach(function(u,d){u.tag===o.tag&&u.kind===o.kind&&u.multi===o.multi&&(l=d)}),t[l]=o}),t}function eN(){var n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function o(l){l.multi?(n.multi[l.kind].push(l),n.multi.fallback.push(l)):n[l.kind][l.tag]=n.fallback[l.tag]=l}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(o);return n}function v1(n){return this.extend(n)}v1.prototype.extend=function(r){var t=[],o=[];if(r instanceof go)o.push(r);else if(Array.isArray(r))o=o.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit));else throw new rc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new rc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new rc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(u){if(!(u instanceof go))throw new rc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(v1.prototype);return l.implicit=(this.implicit||[]).concat(t),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=XE(l,"implicit"),l.compiledExplicit=XE(l,"explicit"),l.compiledTypeMap=eN(l.compiledImplicit,l.compiledExplicit),l};var rN=v1,iN=new go("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return n!==null?n:""}}),nN=new go("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return n!==null?n:[]}}),oN=new go("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return n!==null?n:{}}}),sN=new rN({explicit:[iN,nN,oN]});function aN(n){if(n===null)return!0;var r=n.length;return r===1&&n==="~"||r===4&&(n==="null"||n==="Null"||n==="NULL")}function lN(){return null}function cN(n){return n===null}var uN=new go("tag:yaml.org,2002:null",{kind:"scalar",resolve:aN,construct:lN,predicate:cN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function hN(n){if(n===null)return!1;var r=n.length;return r===4&&(n==="true"||n==="True"||n==="TRUE")||r===5&&(n==="false"||n==="False"||n==="FALSE")}function dN(n){return n==="true"||n==="True"||n==="TRUE"}function pN(n){return Object.prototype.toString.call(n)==="[object Boolean]"}var fN=new go("tag:yaml.org,2002:bool",{kind:"scalar",resolve:hN,construct:dN,predicate:pN,represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});function gN(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function mN(n){return 48<=n&&n<=55}function vN(n){return 48<=n&&n<=57}function yN(n){if(n===null)return!1;var r=n.length,t=0,o=!1,l;if(!r)return!1;if(l=n[t],(l==="-"||l==="+")&&(l=n[++t]),l==="0"){if(t+1===r)return!0;if(l=n[++t],l==="b"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!gN(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(t++;t<r;t++)if(l=n[t],l!=="_"){if(!mN(n.charCodeAt(t)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;t<r;t++)if(l=n[t],l!=="_"){if(!vN(n.charCodeAt(t)))return!1;o=!0}return!(!o||l==="_")}function bN(n){var r=n,t=1,o;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(t=-1),r=r.slice(1),o=r[0]),r==="0")return 0;if(o==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function wN(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!Io.isNegativeZero(n)}var xN=new go("tag:yaml.org,2002:int",{kind:"scalar",resolve:yN,construct:bN,predicate:wN,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_N=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kN(n){return!(n===null||!_N.test(n)||n[n.length-1]==="_")}function EN(n){var r,t;return r=n.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var TN=/^[-+]?[0-9]+e/;function SN(n,r){var t;if(isNaN(n))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Io.isNegativeZero(n))return"-0.0";return t=n.toString(10),TN.test(t)?t.replace("e",".e"):t}function CN(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||Io.isNegativeZero(n))}var PN=new go("tag:yaml.org,2002:float",{kind:"scalar",resolve:kN,construct:EN,predicate:CN,represent:SN,defaultStyle:"lowercase"}),MN=sN.extend({implicit:[uN,fN,xN,PN]}),IN=MN,AC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),OC=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function LN(n){return n===null?!1:AC.exec(n)!==null||OC.exec(n)!==null}function RN(n){var r,t,o,l,u,d,p,m=0,v=null,_,k,C;if(r=AC.exec(n),r===null&&(r=OC.exec(n)),r===null)throw new Error("Date resolve error");if(t=+r[1],o=+r[2]-1,l=+r[3],!r[4])return new Date(Date.UTC(t,o,l));if(u=+r[4],d=+r[5],p=+r[6],r[7]){for(m=r[7].slice(0,3);m.length<3;)m+="0";m=+m}return r[9]&&(_=+r[10],k=+(r[11]||0),v=(_*60+k)*6e4,r[9]==="-"&&(v=-v)),C=new Date(Date.UTC(t,o,l,u,d,p,m)),v&&C.setTime(C.getTime()-v),C}function AN(n){return n.toISOString()}var ON=new go("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:LN,construct:RN,instanceOf:Date,represent:AN});function zN(n){return n==="<<"||n===null}var NN=new go("tag:yaml.org,2002:merge",{kind:"scalar",resolve:zN}),Mx=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function DN(n){if(n===null)return!1;var r,t,o=0,l=n.length,u=Mx;for(t=0;t<l;t++)if(r=u.indexOf(n.charAt(t)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function FN(n){var r,t,o=n.replace(/[\r\n=]/g,""),l=o.length,u=Mx,d=0,p=[];for(r=0;r<l;r++)r%4===0&&r&&(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)),d=d<<6|u.indexOf(o.charAt(r));return t=l%4*6,t===0?(p.push(d>>16&255),p.push(d>>8&255),p.push(d&255)):t===18?(p.push(d>>10&255),p.push(d>>2&255)):t===12&&p.push(d>>4&255),new Uint8Array(p)}function BN(n){var r="",t=0,o,l,u=n.length,d=Mx;for(o=0;o<u;o++)o%3===0&&o&&(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]),t=(t<<8)+n[o];return l=u%3,l===0?(r+=d[t>>18&63],r+=d[t>>12&63],r+=d[t>>6&63],r+=d[t&63]):l===2?(r+=d[t>>10&63],r+=d[t>>4&63],r+=d[t<<2&63],r+=d[64]):l===1&&(r+=d[t>>2&63],r+=d[t<<4&63],r+=d[64],r+=d[64]),r}function jN(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}var HN=new go("tag:yaml.org,2002:binary",{kind:"scalar",resolve:DN,construct:FN,predicate:jN,represent:BN}),UN=Object.prototype.hasOwnProperty,GN=Object.prototype.toString;function qN(n){if(n===null)return!0;var r=[],t,o,l,u,d,p=n;for(t=0,o=p.length;t<o;t+=1){if(l=p[t],d=!1,GN.call(l)!=="[object Object]")return!1;for(u in l)if(UN.call(l,u))if(!d)d=!0;else return!1;if(!d)return!1;if(r.indexOf(u)===-1)r.push(u);else return!1}return!0}function VN(n){return n!==null?n:[]}var WN=new go("tag:yaml.org,2002:omap",{kind:"sequence",resolve:qN,construct:VN}),ZN=Object.prototype.toString;function YN(n){if(n===null)return!0;var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1){if(o=d[r],ZN.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;u[r]=[l[0],o[l[0]]]}return!0}function XN(n){if(n===null)return[];var r,t,o,l,u,d=n;for(u=new Array(d.length),r=0,t=d.length;r<t;r+=1)o=d[r],l=Object.keys(o),u[r]=[l[0],o[l[0]]];return u}var KN=new go("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:YN,construct:XN}),JN=Object.prototype.hasOwnProperty;function QN(n){if(n===null)return!0;var r,t=n;for(r in t)if(JN.call(t,r)&&t[r]!==null)return!1;return!0}function $N(n){return n!==null?n:{}}var tD=new go("tag:yaml.org,2002:set",{kind:"mapping",resolve:QN,construct:$N}),eD=IN.extend({implicit:[ON,NN],explicit:[HN,WN,KN,tD]}),pu=Object.prototype.hasOwnProperty,Uv=1,zC=2,NC=3,Gv=4,Lw=1,rD=2,KE=3,iD=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,nD=/[\x85\u2028\u2029]/,oD=/[,\[\]\{\}]/,DC=/^(?:!|!!|![a-z\-]+!)$/i,FC=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function JE(n){return Object.prototype.toString.call(n)}function hl(n){return n===10||n===13}function vh(n){return n===9||n===32}function Yo(n){return n===9||n===32||n===10||n===13}function $d(n){return n===44||n===91||n===93||n===123||n===125}function sD(n){var r;return 48<=n&&n<=57?n-48:(r=n|32,97<=r&&r<=102?r-97+10:-1)}function aD(n){return n===120?2:n===117?4:n===85?8:0}function lD(n){return 48<=n&&n<=57?n-48:-1}function QE(n){return n===48?"\0":n===97?"\x07":n===98?"\b":n===116||n===9?"	":n===110?`
`:n===118?"\v":n===102?"\f":n===114?"\r":n===101?"\x1B":n===32?" ":n===34?'"':n===47?"/":n===92?"\\":n===78?"":n===95?" ":n===76?"\u2028":n===80?"\u2029":""}function cD(n){return n<=65535?String.fromCharCode(n):String.fromCharCode((n-65536>>10)+55296,(n-65536&1023)+56320)}var BC=new Array(256),jC=new Array(256);for(var Ud=0;Ud<256;Ud++)BC[Ud]=QE(Ud)?1:0,jC[Ud]=QE(Ud);function uD(n,r){this.input=n,this.filename=r.filename||null,this.schema=r.schema||eD,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function HC(n,r){var t={name:n.filename,buffer:n.input.slice(0,-1),position:n.position,line:n.line,column:n.position-n.lineStart};return t.snippet=K3(t),new rc(r,t)}function qe(n,r){throw HC(n,r)}function qv(n,r){n.onWarning&&n.onWarning.call(null,HC(n,r))}var $E={YAML:function(r,t,o){var l,u,d;r.version!==null&&qe(r,"duplication of %YAML directive"),o.length!==1&&qe(r,"YAML directive accepts exactly one argument"),l=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),l===null&&qe(r,"ill-formed argument of the YAML directive"),u=parseInt(l[1],10),d=parseInt(l[2],10),u!==1&&qe(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=d<2,d!==1&&d!==2&&qv(r,"unsupported YAML version of the document")},TAG:function(r,t,o){var l,u;o.length!==2&&qe(r,"TAG directive accepts exactly two arguments"),l=o[0],u=o[1],DC.test(l)||qe(r,"ill-formed tag handle (first argument) of the TAG directive"),pu.call(r.tagMap,l)&&qe(r,'there is a previously declared suffix for "'+l+'" tag handle'),FC.test(u)||qe(r,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{qe(r,"tag prefix is malformed: "+u)}r.tagMap[l]=u}};function su(n,r,t,o){var l,u,d,p;if(r<t){if(p=n.input.slice(r,t),o)for(l=0,u=p.length;l<u;l+=1)d=p.charCodeAt(l),d===9||32<=d&&d<=1114111||qe(n,"expected valid JSON character");else iD.test(p)&&qe(n,"the stream contains non-printable characters");n.result+=p}}function tT(n,r,t,o){var l,u,d,p;for(Io.isObject(t)||qe(n,"cannot merge mappings; the provided source object is unacceptable"),l=Object.keys(t),d=0,p=l.length;d<p;d+=1)u=l[d],pu.call(r,u)||(r[u]=t[u],o[u]=!0)}function tp(n,r,t,o,l,u,d,p,m){var v,_;if(Array.isArray(l))for(l=Array.prototype.slice.call(l),v=0,_=l.length;v<_;v+=1)Array.isArray(l[v])&&qe(n,"nested arrays are not supported inside keys"),typeof l=="object"&&JE(l[v])==="[object Object]"&&(l[v]="[object Object]");if(typeof l=="object"&&JE(l)==="[object Object]"&&(l="[object Object]"),l=String(l),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(v=0,_=u.length;v<_;v+=1)tT(n,r,u[v],t);else tT(n,r,u,t);else!n.json&&!pu.call(t,l)&&pu.call(r,l)&&(n.line=d||n.line,n.lineStart=p||n.lineStart,n.position=m||n.position,qe(n,"duplicated mapping key")),l==="__proto__"?Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:u}):r[l]=u,delete t[l];return r}function Ix(n){var r;r=n.input.charCodeAt(n.position),r===10?n.position++:r===13?(n.position++,n.input.charCodeAt(n.position)===10&&n.position++):qe(n,"a line break is expected"),n.line+=1,n.lineStart=n.position,n.firstTabInLine=-1}function xn(n,r,t){for(var o=0,l=n.input.charCodeAt(n.position);l!==0;){for(;vh(l);)l===9&&n.firstTabInLine===-1&&(n.firstTabInLine=n.position),l=n.input.charCodeAt(++n.position);if(r&&l===35)do l=n.input.charCodeAt(++n.position);while(l!==10&&l!==13&&l!==0);if(hl(l))for(Ix(n),l=n.input.charCodeAt(n.position),o++,n.lineIndent=0;l===32;)n.lineIndent++,l=n.input.charCodeAt(++n.position);else break}return t!==-1&&o!==0&&n.lineIndent<t&&qv(n,"deficient indentation"),o}function My(n){var r=n.position,t;return t=n.input.charCodeAt(r),!!((t===45||t===46)&&t===n.input.charCodeAt(r+1)&&t===n.input.charCodeAt(r+2)&&(r+=3,t=n.input.charCodeAt(r),t===0||Yo(t)))}function Lx(n,r){r===1?n.result+=" ":r>1&&(n.result+=Io.repeat(`
`,r-1))}function hD(n,r,t){var o,l,u,d,p,m,v,_,k=n.kind,C=n.result,M;if(M=n.input.charCodeAt(n.position),Yo(M)||$d(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96||(M===63||M===45)&&(l=n.input.charCodeAt(n.position+1),Yo(l)||t&&$d(l)))return!1;for(n.kind="scalar",n.result="",u=d=n.position,p=!1;M!==0;){if(M===58){if(l=n.input.charCodeAt(n.position+1),Yo(l)||t&&$d(l))break}else if(M===35){if(o=n.input.charCodeAt(n.position-1),Yo(o))break}else{if(n.position===n.lineStart&&My(n)||t&&$d(M))break;if(hl(M))if(m=n.line,v=n.lineStart,_=n.lineIndent,xn(n,!1,-1),n.lineIndent>=r){p=!0,M=n.input.charCodeAt(n.position);continue}else{n.position=d,n.line=m,n.lineStart=v,n.lineIndent=_;break}}p&&(su(n,u,d,!1),Lx(n,n.line-m),u=d=n.position,p=!1),vh(M)||(d=n.position+1),M=n.input.charCodeAt(++n.position)}return su(n,u,d,!1),n.result?!0:(n.kind=k,n.result=C,!1)}function dD(n,r){var t,o,l;if(t=n.input.charCodeAt(n.position),t!==39)return!1;for(n.kind="scalar",n.result="",n.position++,o=l=n.position;(t=n.input.charCodeAt(n.position))!==0;)if(t===39)if(su(n,o,n.position,!0),t=n.input.charCodeAt(++n.position),t===39)o=n.position,n.position++,l=n.position;else return!0;else hl(t)?(su(n,o,l,!0),Lx(n,xn(n,!1,r)),o=l=n.position):n.position===n.lineStart&&My(n)?qe(n,"unexpected end of the document within a single quoted scalar"):(n.position++,l=n.position);qe(n,"unexpected end of the stream within a single quoted scalar")}function pD(n,r){var t,o,l,u,d,p;if(p=n.input.charCodeAt(n.position),p!==34)return!1;for(n.kind="scalar",n.result="",n.position++,t=o=n.position;(p=n.input.charCodeAt(n.position))!==0;){if(p===34)return su(n,t,n.position,!0),n.position++,!0;if(p===92){if(su(n,t,n.position,!0),p=n.input.charCodeAt(++n.position),hl(p))xn(n,!1,r);else if(p<256&&BC[p])n.result+=jC[p],n.position++;else if((d=aD(p))>0){for(l=d,u=0;l>0;l--)p=n.input.charCodeAt(++n.position),(d=sD(p))>=0?u=(u<<4)+d:qe(n,"expected hexadecimal character");n.result+=cD(u),n.position++}else qe(n,"unknown escape sequence");t=o=n.position}else hl(p)?(su(n,t,o,!0),Lx(n,xn(n,!1,r)),t=o=n.position):n.position===n.lineStart&&My(n)?qe(n,"unexpected end of the document within a double quoted scalar"):(n.position++,o=n.position)}qe(n,"unexpected end of the stream within a double quoted scalar")}function fD(n,r){var t=!0,o,l,u,d=n.tag,p,m=n.anchor,v,_,k,C,M,A=Object.create(null),F,U,H,W;if(W=n.input.charCodeAt(n.position),W===91)_=93,M=!1,p=[];else if(W===123)_=125,M=!0,p={};else return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=p),W=n.input.charCodeAt(++n.position);W!==0;){if(xn(n,!0,r),W=n.input.charCodeAt(n.position),W===_)return n.position++,n.tag=d,n.anchor=m,n.kind=M?"mapping":"sequence",n.result=p,!0;t?W===44&&qe(n,"expected the node content, but found ','"):qe(n,"missed comma between flow collection entries"),U=F=H=null,k=C=!1,W===63&&(v=n.input.charCodeAt(n.position+1),Yo(v)&&(k=C=!0,n.position++,xn(n,!0,r))),o=n.line,l=n.lineStart,u=n.position,bp(n,r,Uv,!1,!0),U=n.tag,F=n.result,xn(n,!0,r),W=n.input.charCodeAt(n.position),(C||n.line===o)&&W===58&&(k=!0,W=n.input.charCodeAt(++n.position),xn(n,!0,r),bp(n,r,Uv,!1,!0),H=n.result),M?tp(n,p,A,U,F,H,o,l,u):k?p.push(tp(n,null,A,U,F,H,o,l,u)):p.push(F),xn(n,!0,r),W=n.input.charCodeAt(n.position),W===44?(t=!0,W=n.input.charCodeAt(++n.position)):t=!1}qe(n,"unexpected end of the stream within a flow collection")}function gD(n,r){var t,o,l=Lw,u=!1,d=!1,p=r,m=0,v=!1,_,k;if(k=n.input.charCodeAt(n.position),k===124)o=!1;else if(k===62)o=!0;else return!1;for(n.kind="scalar",n.result="";k!==0;)if(k=n.input.charCodeAt(++n.position),k===43||k===45)Lw===l?l=k===43?KE:rD:qe(n,"repeat of a chomping mode identifier");else if((_=lD(k))>=0)_===0?qe(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?qe(n,"repeat of an indentation width identifier"):(p=r+_-1,d=!0);else break;if(vh(k)){do k=n.input.charCodeAt(++n.position);while(vh(k));if(k===35)do k=n.input.charCodeAt(++n.position);while(!hl(k)&&k!==0)}for(;k!==0;){for(Ix(n),n.lineIndent=0,k=n.input.charCodeAt(n.position);(!d||n.lineIndent<p)&&k===32;)n.lineIndent++,k=n.input.charCodeAt(++n.position);if(!d&&n.lineIndent>p&&(p=n.lineIndent),hl(k)){m++;continue}if(n.lineIndent<p){l===KE?n.result+=Io.repeat(`
`,u?1+m:m):l===Lw&&u&&(n.result+=`
`);break}for(o?vh(k)?(v=!0,n.result+=Io.repeat(`
`,u?1+m:m)):v?(v=!1,n.result+=Io.repeat(`
`,m+1)):m===0?u&&(n.result+=" "):n.result+=Io.repeat(`
`,m):n.result+=Io.repeat(`
`,u?1+m:m),u=!0,d=!0,m=0,t=n.position;!hl(k)&&k!==0;)k=n.input.charCodeAt(++n.position);su(n,t,n.position,!1)}return!0}function eT(n,r){var t,o=n.tag,l=n.anchor,u=[],d,p=!1,m;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=u),m=n.input.charCodeAt(n.position);m!==0&&(n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,qe(n,"tab characters must not be used in indentation")),!(m!==45||(d=n.input.charCodeAt(n.position+1),!Yo(d))));){if(p=!0,n.position++,xn(n,!0,-1)&&n.lineIndent<=r){u.push(null),m=n.input.charCodeAt(n.position);continue}if(t=n.line,bp(n,r,NC,!1,!0),u.push(n.result),xn(n,!0,-1),m=n.input.charCodeAt(n.position),(n.line===t||n.lineIndent>r)&&m!==0)qe(n,"bad indentation of a sequence entry");else if(n.lineIndent<r)break}return p?(n.tag=o,n.anchor=l,n.kind="sequence",n.result=u,!0):!1}function mD(n,r,t){var o,l,u,d,p,m,v=n.tag,_=n.anchor,k={},C=Object.create(null),M=null,A=null,F=null,U=!1,H=!1,W;if(n.firstTabInLine!==-1)return!1;for(n.anchor!==null&&(n.anchorMap[n.anchor]=k),W=n.input.charCodeAt(n.position);W!==0;){if(!U&&n.firstTabInLine!==-1&&(n.position=n.firstTabInLine,qe(n,"tab characters must not be used in indentation")),o=n.input.charCodeAt(n.position+1),u=n.line,(W===63||W===58)&&Yo(o))W===63?(U&&(tp(n,k,C,M,A,null,d,p,m),M=A=F=null),H=!0,U=!0,l=!0):U?(U=!1,l=!0):qe(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,W=o;else{if(d=n.line,p=n.lineStart,m=n.position,!bp(n,t,zC,!1,!0))break;if(n.line===u){for(W=n.input.charCodeAt(n.position);vh(W);)W=n.input.charCodeAt(++n.position);if(W===58)W=n.input.charCodeAt(++n.position),Yo(W)||qe(n,"a whitespace character is expected after the key-value separator within a block mapping"),U&&(tp(n,k,C,M,A,null,d,p,m),M=A=F=null),H=!0,U=!1,l=!1,M=n.tag,A=n.result;else if(H)qe(n,"can not read an implicit mapping pair; a colon is missed");else return n.tag=v,n.anchor=_,!0}else if(H)qe(n,"can not read a block mapping entry; a multiline key may not be an implicit key");else return n.tag=v,n.anchor=_,!0}if((n.line===u||n.lineIndent>r)&&(U&&(d=n.line,p=n.lineStart,m=n.position),bp(n,r,Gv,!0,l)&&(U?A=n.result:F=n.result),U||(tp(n,k,C,M,A,F,d,p,m),M=A=F=null),xn(n,!0,-1),W=n.input.charCodeAt(n.position)),(n.line===u||n.lineIndent>r)&&W!==0)qe(n,"bad indentation of a mapping entry");else if(n.lineIndent<r)break}return U&&tp(n,k,C,M,A,null,d,p,m),H&&(n.tag=v,n.anchor=_,n.kind="mapping",n.result=k),H}function vD(n){var r,t=!1,o=!1,l,u,d;if(d=n.input.charCodeAt(n.position),d!==33)return!1;if(n.tag!==null&&qe(n,"duplication of a tag property"),d=n.input.charCodeAt(++n.position),d===60?(t=!0,d=n.input.charCodeAt(++n.position)):d===33?(o=!0,l="!!",d=n.input.charCodeAt(++n.position)):l="!",r=n.position,t){do d=n.input.charCodeAt(++n.position);while(d!==0&&d!==62);n.position<n.length?(u=n.input.slice(r,n.position),d=n.input.charCodeAt(++n.position)):qe(n,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Yo(d);)d===33&&(o?qe(n,"tag suffix cannot contain exclamation marks"):(l=n.input.slice(r-1,n.position+1),DC.test(l)||qe(n,"named tag handle cannot contain such characters"),o=!0,r=n.position+1)),d=n.input.charCodeAt(++n.position);u=n.input.slice(r,n.position),oD.test(u)&&qe(n,"tag suffix cannot contain flow indicator characters")}u&&!FC.test(u)&&qe(n,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{qe(n,"tag name is malformed: "+u)}return t?n.tag=u:pu.call(n.tagMap,l)?n.tag=n.tagMap[l]+u:l==="!"?n.tag="!"+u:l==="!!"?n.tag="tag:yaml.org,2002:"+u:qe(n,'undeclared tag handle "'+l+'"'),!0}function yD(n){var r,t;if(t=n.input.charCodeAt(n.position),t!==38)return!1;for(n.anchor!==null&&qe(n,"duplication of an anchor property"),t=n.input.charCodeAt(++n.position),r=n.position;t!==0&&!Yo(t)&&!$d(t);)t=n.input.charCodeAt(++n.position);return n.position===r&&qe(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(r,n.position),!0}function bD(n){var r,t,o;if(o=n.input.charCodeAt(n.position),o!==42)return!1;for(o=n.input.charCodeAt(++n.position),r=n.position;o!==0&&!Yo(o)&&!$d(o);)o=n.input.charCodeAt(++n.position);return n.position===r&&qe(n,"name of an alias node must contain at least one character"),t=n.input.slice(r,n.position),pu.call(n.anchorMap,t)||qe(n,'unidentified alias "'+t+'"'),n.result=n.anchorMap[t],xn(n,!0,-1),!0}function bp(n,r,t,o,l){var u,d,p,m=1,v=!1,_=!1,k,C,M,A,F,U;if(n.listener!==null&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,u=d=p=Gv===t||NC===t,o&&xn(n,!0,-1)&&(v=!0,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)),m===1)for(;vD(n)||yD(n);)xn(n,!0,-1)?(v=!0,p=u,n.lineIndent>r?m=1:n.lineIndent===r?m=0:n.lineIndent<r&&(m=-1)):p=!1;if(p&&(p=v||l),(m===1||Gv===t)&&(Uv===t||zC===t?F=r:F=r+1,U=n.position-n.lineStart,m===1?p&&(eT(n,U)||mD(n,U,F))||fD(n,F)?_=!0:(d&&gD(n,F)||dD(n,F)||pD(n,F)?_=!0:bD(n)?(_=!0,(n.tag!==null||n.anchor!==null)&&qe(n,"alias node should not have any properties")):hD(n,F,Uv===t)&&(_=!0,n.tag===null&&(n.tag="?")),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):m===0&&(_=p&&eT(n,U))),n.tag===null)n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);else if(n.tag==="?"){for(n.result!==null&&n.kind!=="scalar"&&qe(n,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+n.kind+'"'),k=0,C=n.implicitTypes.length;k<C;k+=1)if(A=n.implicitTypes[k],A.resolve(n.result)){n.result=A.construct(n.result),n.tag=A.tag,n.anchor!==null&&(n.anchorMap[n.anchor]=n.result);break}}else if(n.tag!=="!"){if(pu.call(n.typeMap[n.kind||"fallback"],n.tag))A=n.typeMap[n.kind||"fallback"][n.tag];else for(A=null,M=n.typeMap.multi[n.kind||"fallback"],k=0,C=M.length;k<C;k+=1)if(n.tag.slice(0,M[k].tag.length)===M[k].tag){A=M[k];break}A||qe(n,"unknown tag !<"+n.tag+">"),n.result!==null&&A.kind!==n.kind&&qe(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+A.kind+'", not "'+n.kind+'"'),A.resolve(n.result,n.tag)?(n.result=A.construct(n.result,n.tag),n.anchor!==null&&(n.anchorMap[n.anchor]=n.result)):qe(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")}return n.listener!==null&&n.listener("close",n),n.tag!==null||n.anchor!==null||_}function wD(n){var r=n.position,t,o,l,u=!1,d;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap=Object.create(null),n.anchorMap=Object.create(null);(d=n.input.charCodeAt(n.position))!==0&&(xn(n,!0,-1),d=n.input.charCodeAt(n.position),!(n.lineIndent>0||d!==37));){for(u=!0,d=n.input.charCodeAt(++n.position),t=n.position;d!==0&&!Yo(d);)d=n.input.charCodeAt(++n.position);for(o=n.input.slice(t,n.position),l=[],o.length<1&&qe(n,"directive name must not be less than one character in length");d!==0;){for(;vh(d);)d=n.input.charCodeAt(++n.position);if(d===35){do d=n.input.charCodeAt(++n.position);while(d!==0&&!hl(d));break}if(hl(d))break;for(t=n.position;d!==0&&!Yo(d);)d=n.input.charCodeAt(++n.position);l.push(n.input.slice(t,n.position))}d!==0&&Ix(n),pu.call($E,o)?$E[o](n,o,l):qv(n,'unknown document directive "'+o+'"')}if(xn(n,!0,-1),n.lineIndent===0&&n.input.charCodeAt(n.position)===45&&n.input.charCodeAt(n.position+1)===45&&n.input.charCodeAt(n.position+2)===45?(n.position+=3,xn(n,!0,-1)):u&&qe(n,"directives end mark is expected"),bp(n,n.lineIndent-1,Gv,!1,!0),xn(n,!0,-1),n.checkLineBreaks&&nD.test(n.input.slice(r,n.position))&&qv(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&My(n)){n.input.charCodeAt(n.position)===46&&(n.position+=3,xn(n,!0,-1));return}if(n.position<n.length-1)qe(n,"end of the stream or a document separator is expected");else return}function UC(n,r){n=String(n),r=r||{},n.length!==0&&(n.charCodeAt(n.length-1)!==10&&n.charCodeAt(n.length-1)!==13&&(n+=`
`),n.charCodeAt(0)===65279&&(n=n.slice(1)));var t=new uD(n,r),o=n.indexOf("\0");for(o!==-1&&(t.position=o,qe(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)wD(t);return t.documents}function xD(n,r,t){r!==null&&typeof r=="object"&&typeof t>"u"&&(t=r,r=null);var o=UC(n,t);if(typeof r!="function")return o;for(var l=0,u=o.length;l<u;l+=1)r(o[l])}function _D(n,r){var t=UC(n,r);if(t.length!==0){if(t.length===1)return t[0];throw new rc("expected a single document in the stream, but found more")}}var kD=xD,ED=_D,TD={loadAll:kD,load:ED},SD=TD.load;const CD=globalThis.window;let Rw=SD(CD.options);var qT;const yh=((qT=Rw==null?void 0:Rw.defaults)==null?void 0:qT.iiifServer)||"iiif.mdpress.io";console.log(`iiifServer=${yh}`);function Aw(n){return/^Q\d+$/.test(n)}function PD(n){return n.replace(/-([a-z])/g,function(r){return r[1].toUpperCase()})}function rT(n,r="en"){return typeof n=="object"?n[r]||n.none||n[Object.keys(n).sort()[0]]:n}function MD(n,r="en"){let t=[];return n.metadata&&n.metadata.forEach(o=>{t.push({label:rT(o.label,r)[0],value:rT(o.value,r)})}),t}function ID(n,r="en"){return Object.fromEntries(MD(n,r).map(t=>[t.label,t.value]))}function yv(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let Pn={};async function LD(n=[],r="en"){let t=n.filter(o=>!Pn[o]).map(o=>`(<http://www.wikidata.org/entity/${o}>)`);if(t.length>0){let o=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${t.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${r}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${r}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${r}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${r}.wikipedia.org/> . }
    }`,l=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(o)}`});if(l.ok)return(await l.json()).results.bindings.forEach(d=>{let p=d.item.value.split("/").pop();Pn[p]?d.alias&&Pn[p].aliases.push(d.alias.value):(Pn[p]={id:p,label:d.label.value},d.description&&(Pn[p].description=d.description.value),d.alias&&(Pn[p].aliases=[d.alias.value]),d.coords&&(Pn[p].coords=d.coords.value.slice(6,-1).split(" ").reverse().join(",")),d.wikipedia&&(Pn[p].wikipedia=d.wikipedia.value),d.pageBanner&&(Pn[p].pageBanner=d.pageBanner.value),d.image&&(Pn[p].image=d.image.value,Pn[p].thumbnail=iT(d.image.value,300)),d.logoImage&&(Pn[p].logoImage=d.logoImage.value,Pn[p].thumbnail||(Pn[p].thumbnail=iT(d.logoImage.value,300))),d.whosOnFirst&&(Pn[p].geojson=RD(d.whosOnFirst.value)))}),Object.fromEntries(n.filter(d=>Pn[d]).map(d=>[d,Pn[d]]))}return Object.fromEntries(n.filter(o=>Pn[o]).map(o=>[o,Pn[o]]))}function iT(n,r){n=(Array.isArray(n)?n[0]:n).replace(/Special:FilePath\//,"File:").split("File:").pop(),n=decodeURIComponent(n).replace(/ /g,"_");const t=on.hashStr(n),o=n.split(".").pop();let l=`https://upload.wikimedia.org/wikipedia/commons${r?"/thumb":""}`;return l+=`/${t.slice(0,1)}/${t.slice(0,2)}/${n}`,r&&(l+=`/${r}px-${n}`,o==="svg"?l+=".png":(o==="tif"||o==="tiff")&&(l+=".jpg")),l}function RD(n){let r=[];for(let t=0;t<n.length;t+=3)r.push(n.slice(t,t+3));return`https://data.whosonfirst.org/${r.join("/")}/${n}.geojson`}async function AD(n,r,t){return new Promise(o=>{let{x:l,y:u,w:d,h:p}=r,{width:m,height:v}=t,_=new Image;_.crossOrigin="anonymous",l=l?l/100:0,u=u?u/100:0,d=d?d/100:0,p=p?p/100:0,_.onload=()=>{let k=_.width,C=_.height,M=d>0?k*d:k-k*l,A=p>0?C*p:C-C*u,F=M/A;F>1?v=m/F:m=v*F;const U=document.createElement("canvas"),H=U.getContext("2d");U.width=m,U.height=v,l=l*k,u=u*C,H==null||H.drawImage(_,l,u,M,A,0,0,m,v);let W=U.toDataURL();o(W)},_.src=n})}async function Gd(n,r="en"){return(await LD([n],r))[n]}function GC(n,r,t=[]){if(t=t||[],r.items)for(let o=0;o<r.items.length;o++){let l=r.items[o];!Object.entries(n).find(([d,p])=>l[d]&&l[d]!==p)?t.push(l):GC(n,l,t)}return t}function qC(n,r,t=1){const o=GC(n,r);return o.length>=t?o[t-1]:null}function VC(n,r=1){return qC({type:"Annotation",motivation:"painting"},n,r).body}function OD(n){let r=(n==null?void 0:n.split("/"))||[],t="full",o="full",l="0",u="default",d="jpg",p=0;return{region:r.length>p&&r[p]?r[p]:t,size:r.length>p+1&&r[p+1]?r[p+1]:o,rotation:r.length>p+2&&r[p+2]?r[p+2]:l,quality:r.length>p+3&&r[p+3]?r[p+3]:u,format:r.length>p+4&&r[p+4]?r[p+4]:d}}const Z0={};async function WC(n,r=!1){let t=n.map(l=>l.indexOf("http")===0?l:`https://${yh}/${l}/manifest.json`),o=t.filter(l=>!Z0[l]);if(console.log(`loadManifests: manifests=${t.length} cached=${t.length-o.length}`),o.length>0){let l=o.map(p=>(r&&["localhost",yh].includes(new URL(p).hostname)&&(p+="?refresh"),fetch(p))),u=await Promise.all(l),d=await Promise.all(u.map(p=>p.json()));if(l=d.filter(p=>!Array.isArray(p["@context"])&&parseFloat(p["@context"].split("/").slice(-2,-1).pop())<3).map(p=>fetch(`https://${yh}/prezi2to3/`,{method:"POST",body:JSON.stringify(p)})),l.length>0){u=await Promise.all(l);let p=await Promise.all(u.map(m=>m.json()));for(let m=0;m<d.length;m++){let v=d[m].id||d[m]["@id"],_=p.find(k=>(k.id||k["@id"])===v);_&&(d[m]=_)}}return d.forEach((p,m)=>Z0[o[m]]=p),t.map(p=>Z0[p])}else return t.map(l=>Z0[l])}async function Vv(n,r=!1){let t=n.indexOf("http")===0?n:`https://${yh}/${n}/manifest.json`;return(await WC([t],r))[0]}function*Rx(n=document.activeElement){n!=null&&(yield n,"shadowRoot"in n&&n.shadowRoot&&n.shadowRoot.mode!=="closed"&&(yield*cA(Rx(n.shadowRoot.activeElement))))}function zD(){return[...Rx()].pop()}var tg=[],ND=class{constructor(r){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var o;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const l=zD();if(this.previousFocus=l,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const u=u1(this.element);let d=u.findIndex(m=>m===l);this.previousFocus=this.currentFocus;const p=this.tabDirection==="forward"?1:-1;for(;;){d+p>=u.length?d=0:d+p<0?d=u.length-1:d+=p,this.previousFocus=this.currentFocus;const m=u[d];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||m&&this.possiblyHasTabbableChildren(m))return;t.preventDefault(),this.currentFocus=m,(o=this.currentFocus)==null||o.focus({preventScroll:!1});const v=[...Rx()];if(v.includes(this.currentFocus)||!v.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=r,this.elementsWithTabbableControls=["iframe"]}activate(){tg.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){tg=tg.filter(r=>r!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return tg[tg.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const r=u1(this.element);if(!this.element.matches(":focus-within")){const t=r[0],o=r[r.length-1],l=this.tabDirection==="forward"?t:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(r){return this.elementsWithTabbableControls.includes(r.tagName.toLowerCase())||r.hasAttribute("controls")}},DD=$o`
  ${xs}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,yl=class extends to{constructor(){super(...arguments),this.hasSlotController=new ux(this,"footer"),this.localize=new bu(this),this.modal=new ND(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=n=>{n.key==="Escape"&&this.modal.isActive()&&this.open&&(n.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),RE(this))}disconnectedCallback(){var n;super.disconnectedCallback(),this.modal.deactivate(),AE(this),(n=this.closeWatcher)==null||n.destroy()}requestClose(n){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:n}}).defaultPrevented){const t=tc(this,"dialog.denyClose",{dir:this.localize.dir()});ec(this.panel,t.keyframes,t.options);return}this.hide()}addOpenListeners(){var n;"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),RE(this);const n=this.querySelector("[autofocus]");n&&n.removeAttribute("autofocus"),await Promise.all([eu(this.dialog),eu(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(n?n.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),n&&n.setAttribute("autofocus","")});const r=tc(this,"dialog.show",{dir:this.localize.dir()}),t=tc(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([ec(this.panel,r.keyframes,r.options),ec(this.overlay,t.keyframes,t.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([eu(this.dialog),eu(this.overlay)]);const n=tc(this,"dialog.hide",{dir:this.localize.dir()}),r=tc(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([ec(this.overlay,r.keyframes,r.options).then(()=>{this.overlay.hidden=!0}),ec(this.panel,n.keyframes,n.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,AE(this);const t=this.originalTrigger;typeof(t==null?void 0:t.focus)=="function"&&setTimeout(()=>t.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}render(){return _n`
      <div
        part="base"
        class=${za({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${sn(this.noHeader?this.label:void 0)}
          aria-labelledby=${sn(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":_n`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};yl.styles=DD;yl.dependencies={"sl-icon-button":Ao};Zt([cn(".dialog")],yl.prototype,"dialog",2);Zt([cn(".dialog__panel")],yl.prototype,"panel",2);Zt([cn(".dialog__overlay")],yl.prototype,"overlay",2);Zt([ue({type:Boolean,reflect:!0})],yl.prototype,"open",2);Zt([ue({reflect:!0})],yl.prototype,"label",2);Zt([ue({attribute:"no-header",type:Boolean,reflect:!0})],yl.prototype,"noHeader",2);Zt([vo("open",{waitUntilFirstUpdate:!0})],yl.prototype,"handleOpenChange",1);dc("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});dc("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});dc("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});dc("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});dc("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});yl.define("sl-dialog");var FD=$o`
  ${xs}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,eo=class extends to{constructor(){super(),this.localize=new bu(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=n=>{n.key==="Escape"&&(n.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const n=LE(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),n)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const n=LE(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),n)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var n;(n=this.closeWatcher)==null||n.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(n){return this.trigger.split(" ").includes(n)}async handleOpenChange(){var n,r;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((n=this.closeWatcher)==null||n.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:t,options:o}=tc(this,"tooltip.show",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(r=this.closeWatcher)==null||r.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await eu(this.body);const{keyframes:t,options:o}=tc(this,"tooltip.hide",{dir:this.localize.dir()});await ec(this.popup.popup,t,o),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,fp(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,fp(this,"sl-after-hide")}render(){return _n`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${za({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};eo.styles=FD;eo.dependencies={"sl-popup":Ei};Zt([cn("slot:not([name])")],eo.prototype,"defaultSlot",2);Zt([cn(".tooltip__body")],eo.prototype,"body",2);Zt([cn("sl-popup")],eo.prototype,"popup",2);Zt([ue()],eo.prototype,"content",2);Zt([ue()],eo.prototype,"placement",2);Zt([ue({type:Boolean,reflect:!0})],eo.prototype,"disabled",2);Zt([ue({type:Number})],eo.prototype,"distance",2);Zt([ue({type:Boolean,reflect:!0})],eo.prototype,"open",2);Zt([ue({type:Number})],eo.prototype,"skidding",2);Zt([ue()],eo.prototype,"trigger",2);Zt([ue({type:Boolean})],eo.prototype,"hoist",2);Zt([vo("open",{waitUntilFirstUpdate:!0})],eo.prototype,"handleOpenChange",1);Zt([vo(["content","distance","hoist","placement","skidding"])],eo.prototype,"handleOptionsChange",1);Zt([vo("disabled")],eo.prototype,"handleDisabledChange",1);dc("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});dc("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});eo.define("sl-tooltip");const BD=["id"],jD=["src","onClick"],HD=["src"],UD=Qo({__name:"Gallery.ce",props:{data:{type:String},dialogWidth:{type:String,default:"100vw"}},setup(n){const r=n,t=ke(null),o=wr(()=>{var W,j;return(j=(W=t.value)==null?void 0:W.getRootNode())==null?void 0:j.host});sr(o,()=>{F()});const l=wr(()=>{var W;return(W=t==null?void 0:t.value)==null?void 0:W.parentNode}),u=ke([]);sr(u,async W=>d.value=await WC(W));const d=ke([]);sr(d,W=>{console.log(oi(W)),p.value=W.map(j=>{var ct;let q=qC({type:"Annotation",motivation:"painting"},j,1).body,nt=((ct=j.metadata)==null?void 0:ct.filter(V=>(V.label.en||V.label.none)[0]==="orientation").map(V=>(V.value.en||V.value.none)[0])[0])||1;nt=Array.isArray(nt)?nt[0]:nt;let pt=nt===1||nt===3?q.width:q.height,ut=nt===1||nt===3?q.height:q.width;return{id:j.id,label:j.label,summary:j.summary,width:pt,height:ut,format:q.format,orientation:nt,aspect_ratio:Number((pt/ut).toFixed(4)),thumbnail:j.thumbnail[0].id}})});const p=ke([]);sr(p,W=>{console.log(oi(W)),U()});const m=ke(null);sr(m,()=>{M.value=m.value!==null});const v=ke(0),_=ke([]);let k,C;const M=ke(!1);sr(M,()=>{C.open=M.value});function A(W){let j=W.split("/"),q=j[j.length-1],nt=q.lastIndexOf("."),pt=q.slice(0,nt),ut=q.slice(nt+1);return j[j.length-1]=`${encodeURIComponent(pt)}.${ut}`,W=j.join("/"),W.indexOf("http")===0?W:`https://iiif.mdpress.io/${W}/manifest.json`}function F(){if(r.data){let W=document.getElementById(r.data);u.value=Array.from(W.querySelectorAll("li")).map(j=>j.textContent).map(j=>A(j))}else{let W=function(){u.value=Array.from(j.querySelectorAll("li")).map(q=>q.innerText).map(q=>A(q))},j=o.value.parentElement;W(),new MutationObserver(q=>{for(let nt of q)nt.type==="childList"&&W()}).observe(j,{childList:!0,subtree:!0})}}function U(){if(console.log(`doLayout: width=${v.value} images=${p.value.length}`),p.value.length===0)return;let W=p.value.length;const j=v.value<=640?2:v.value<=960?3:v.value<=1280?4:v.value<=1920?5:6;let q=[],nt=yv()?8:16,pt=[],ut=0,ct=0,V=0;p.value.forEach((at,ht)=>{if(V+=at.aspect_ratio,pt.push(at),V>=j||ht+1===W){V=Math.max(V,j);const Qt=(v.value-nt*(pt.length-1))/V;pt.forEach(ie=>{const ye=Qt*ie.aspect_ratio;q.push({width:`${Math.round(ye)}px`,height:`${Math.round(Qt)}px`,transform:`translate3d(${Math.round(ut)}px, ${Math.round(ct)}px, 0)`}),ut+=ye+nt}),pt=[],V=0,ct+=Qt+nt,ut=0}}),t.value&&(t.value.style.height=`${ct-nt}px`),_.value=q}function H(W){let j=d.value[W];console.log(oi(j)),m.value=p.value[W]}return ml(()=>{var W;C=(W=l.value)==null?void 0:W.querySelector(".dialog"),C.addEventListener("sl-hide",j=>M.value=!1)}),sr(t,()=>{var W;t.value&&(v.value=((W=t.value)==null?void 0:W.clientWidth)||0,new ResizeObserver(()=>{var q,nt,pt;(q=t.value)!=null&&q.clientWidth&&((nt=t.value)==null?void 0:nt.clientWidth)!==v.value&&(v.value=(pt=t.value)==null?void 0:pt.clientWidth,clearTimeout(k),k=setTimeout(U,10))}).observe(t.value))}),(W,j)=>(Pe(),Ae(Yi,null,[Kt("div",{ref_key:"root",ref:t,id:"image-grid"},[_.value.length>0?(Pe(!0),Ae(Yi,{key:0},nu(p.value,(q,nt)=>(Pe(),Ae("div",{class:"pig-figure",id:p.value.id,style:lp(_.value[nt])},[Kt("img",{class:"image",onload:"this.style.opacity = 1",src:p.value[nt].thumbnail,onClick:pt=>H(nt)},null,8,jD)],12,BD))),256)):ci("",!0)],512),Kt("sl-dialog",{class:"dialog","no-header":"",style:lp({"--width":n.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[m.value?(Pe(),Ae("mdp-image",{key:0,"no-caption":"",src:m.value.id,fit:"cover"},null,8,HD)):ci("",!0),Kt("sl-button",{slot:"footer",variant:"primary",onClick:j[0]||(j[0]=q=>m.value=null)},"Close")],4)],64))}}),GD=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#image-grid{position:relative;margin:1rem}@media only screen and (max-width: 768px){#image-grid{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.pig-figure{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.pig-figure:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;opacity:0;background-color:#d5d5d5}.image:hover{cursor:pointer}.caption{height:100%;width:100%;z-index:1;padding:6px 3px 3px}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}
`,qD=ta(UD,[["styles",[GD]]]),VD={key:0,class:"logo"},WD=["href"],ZD=["src"],YD={class:"branding"},XD={key:0,class:"title"},KD=["href","innerHTML"],JD=["innerHTML"],QD={class:"search-and-menu"},$D=["search-domain","search-cx","search-key"],t4=["contact","pdf-download-enabled","innerHTML"],e4={key:0},r4=["manifest"],i4=Qo({__name:"Header.ce",props:{alpha:{type:Number},background:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number},iconFilter:{type:String},logo:{type:String},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(n){const r=n,t=self.window,o=ke(null),l=wr(()=>{var V,at;return(at=(V=o.value)==null?void 0:V.getRootNode())==null?void 0:at.host}),u=ke(null),d=ke(null),p=ke(),m=ke(t.config||{});sr(m,V=>{console.log("watch.config",V)});const v=wr(()=>{var V;return r.title||((V=m.value.meta)==null?void 0:V.title)}),_=wr(()=>{var V,at;return r.background||((at=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:at.backgroundImage)}),k=wr(()=>{var at,ht;let V=r.logo||((ht=(at=m.value.defaults)==null?void 0:at.header)==null?void 0:ht.logo);return V&&((V==null?void 0:V.indexOf("http"))===0?V:`${m.value.baseurl}/${V[0]==="/"?V.slice(1):V}`)}),C=wr(()=>{var V,at;return r.iconFilter===void 0?(at=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:at.iconFilter:r.iconFilter}),M=wr(()=>r.color||(_.value?"black":"#ddd")),A=wr(()=>{var V,at;return r.contact||((at=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:at.contact)}),F=wr(()=>{var V,at;return r.breadcrumbs||((at=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:at.breadcrumbs)}),U=wr(()=>{var V,at;return r.pdfDownloadEnabled||((at=(V=m.value.defaults)==null?void 0:V.header)==null?void 0:at.pdfDownloadEnabled)});sr(d,V=>{V&&(V.style.backgroundColor=ct(M.value,r.alpha||(_.value?.3:1)))});const H=ke(!1),W=ke(),j=ke(),q=ke(),nt=ke();sr(l,V=>{var at,ht;if(m.value=t.config||{},j.value=OD(r.options||""),_.value&&Vv(_.value).then(mt=>W.value=mt),u.value&&(u.value.style.height=r.height?`${r.height}px`:_.value?"400px":"100px"),(ht=(at=m.value.defaults)==null?void 0:at.header)!=null&&ht.class&&m.value.defaults.header.class.split(" ").forEach(mt=>V.classList.add(mt)),H.value=V.classList.contains("sticky"),H.value){let mt=parseInt(V.style.top.replace(/px/,"")),Qt=r.top?r.top:mt||(_.value?-300:0);V.style.top=`${Qt}px`}}),ml(()=>{Q1(()=>{var at,ht,mt,Qt;let V=l.value.querySelector("ul");!V&&((ht=(at=m.value.defaults)==null?void 0:at.header)!=null&&ht.nav)&&(V=document.createElement("ul"),(Qt=(mt=m.value.defaults)==null?void 0:mt.header)==null||Qt.nav.forEach(ie=>{const ye=document.createElement("li"),Gt=document.createElement("a");Gt.href=ie.href,Gt.innerHTML=ie.label,ie.icon&&(Gt.innerHTML+=ie.icon),ye.appendChild(Gt),V.appendChild(ye)})),p.value=V==null?void 0:V.innerHTML})}),sr(W,(V,at)=>{V!==at&&(q.value=VC(V))}),sr(q,async(V,at)=>{V!==at&&(nt.value=V.service?pt(V.service[0].id||V.service[0]["@id"],j.value):await AD(q.value.id,j.value.region,{width:l.value.clientWidth,height:r.height}))}),sr(nt,()=>{u.value&&(u.value.style.backgroundImage=`url("${nt.value}")`,u.value.style.backgroundPosition=r.position)});function pt(V,at){let ht=q.value,mt=Number((ht.width/ht.height).toFixed(4)),Qt=Math.min(800,l.value.getBoundingClientRect().width),ie=Number(Qt/mt).toFixed(0),ye=`${Qt},${ie}`;return`${V.replace(/\/info.json$/,"")}/${at.region}/${ye}/${at.rotation}/${at.quality}.${at.format}`}const ut={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ct(V,at=1){let ht=V[0]==="#"?V:ut[V.toLowerCase()];if(ht.length===4){let mt=ht.slice(1,2),Qt=ht.slice(2,3),ie=ht.slice(3,4);return mt=parseInt(mt+mt,16),Qt=parseInt(Qt+Qt,16),ie=parseInt(ie+ie,16),`rgba(${mt}, ${Qt}, ${ie}, ${at})`}else{const mt=parseInt(ht.slice(1,3),16),Qt=parseInt(ht.slice(3,5),16),ie=parseInt(ht.slice(5,7),16);return`rgba(${mt}, ${Qt}, ${ie}, ${at})`}}return(V,at)=>(Pe(),Ae("div",{class:"header",ref_key:"root",ref:o},[Kt("div",{class:"background",ref_key:"background",ref:u},null,512),Kt("div",{class:"navbar",ref_key:"navbar",ref:d},[k.value?(Pe(),Ae("div",VD,[Kt("a",{href:`${m.value.baseurl}/`},[Kt("img",{src:k.value,class:$g(`${C.value?"icon-"+C.value:""}`),alt:"logo"},null,10,ZD)],8,WD)])):ci("",!0),Kt("div",YD,[v.value?(Pe(),Ae("div",XD,[Kt("a",{href:`${m.value.baseurl}/`,innerHTML:v.value},null,8,KD)])):ci("",!0),n.subtitle?(Pe(),Ae("div",{key:1,class:"subtitle clamp1",innerHTML:n.subtitle},null,8,JD)):ci("",!0)]),Kt("div",QD,[r.searchDomain?(Pe(),Ae("mdp-site-search",{key:0,"search-domain":r.searchDomain,"search-cx":r.searchCx,"search-key":r.searchKey},null,8,$D)):ci("",!0),p.value!==void 0?(Pe(),Ae("mdp-menu",{key:1,contact:A.value,"pdf-download-enabled":U.value?"":null,innerHTML:p.value},null,8,t4)):ci("",!0)])],512),F.value?(Pe(),Ae("mdp-breadcrumbs",e4)):ci("",!0),W.value?(Pe(),Ae("mdp-manifest-popup",{key:1,manifest:W.value},null,8,r4)):ci("",!0)],512))}}),n4=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}mdp-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:inherit;color:#fff;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}mdp-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,o4=ta(i4,[["styles",[n4]]]);var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var YC={exports:{}};(function(n){//! openseadragon 4.0.0
//! Built on 2022-12-16
//! Git commit: v4.0.0-0-8e6196a
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function r(t){return new r.Viewer(t)}(function(t){t.version={versionStr:"4.0.0",major:parseInt("4",10),minor:parseInt("0",10),revision:parseInt("0",10)};var o={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,u=Object.prototype.hasOwnProperty;t.isFunction=function(d){return t.type(d)==="function"},t.isArray=Array.isArray||function(d){return t.type(d)==="array"},t.isWindow=function(d){return d&&typeof d=="object"&&"setInterval"in d},t.type=function(d){return d==null?String(d):o[l.call(d)]||"object"},t.isPlainObject=function(d){if(!d||r.type(d)!=="object"||d.nodeType||t.isWindow(d)||d.constructor&&!u.call(d,"constructor")&&!u.call(d.constructor.prototype,"isPrototypeOf"))return!1;var p;for(var m in d)p=m;return p===void 0||u.call(d,p)},t.isEmptyObject=function(d){for(var p in d)return!1;return!0},t.freezeObject=function(d){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(p){return p},t.freezeObject(d)},t.supportsCanvas=function(){var d=document.createElement("canvas");return!!(t.isFunction(d.getContext)&&d.getContext("2d"))}(),t.isCanvasTainted=function(d){var p=!1;try{d.getContext("2d").getImageData(0,0,1,1)}catch{p=!0}return p},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var d=0;if(t.supportsAddEventListener)try{var p={get capture(){return d++,!1},get once(){return d++,!1},get passive(){return d++,!1}};window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch{d=0}return d>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var d=document.createElement("canvas").getContext("2d"),p=window.devicePixelRatio||1,m=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return Math.max(p,1)/m}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(r),function(t){t.extend=function(){var m,v,_,k,C,M,A=arguments[0]||{},F=arguments.length,U=!1,H=1;for(typeof A=="boolean"&&(U=A,A=arguments[1]||{},H=2),typeof A!="object"&&!r.isFunction(A)&&(A={}),F===H&&(A=this,--H);H<F;H++)if(m=arguments[H],m!==null||m!==void 0)for(v in m){var W=Object.getOwnPropertyDescriptor(m,v);if(W!==void 0){if(W.get||W.set){Object.defineProperty(A,v,W);continue}k=W.value}else{t.console.warn('Could not copy inherited property "'+v+'".');continue}A!==k&&(U&&k&&(r.isPlainObject(k)||(C=r.isArray(k)))?(_=A[v],C?(C=!1,M=_&&r.isArray(_)?_:[]):M=_&&r.isPlainObject(_)?_:{},A[v]=r.extend(U,M,k)):k!==void 0&&(A[v]=k))}return A};var o=function(){if(typeof navigator!="object")return!1;var m=navigator.userAgent;return typeof m!="string"?!1:m.indexOf("iPhone")!==-1||m.indexOf("iPad")!==-1||m.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:o(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(m,v){return function(){var _=arguments;return _===void 0&&(_=[]),v.apply(m,_)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(m){return t._viewers.get(this.getElement(m))},getElement:function(m){return typeof m=="string"&&(m=document.getElementById(m)),m},getElementPosition:function(m){var v=new t.Point,_,k;for(m=t.getElement(m),_=t.getElementStyle(m).position==="fixed",k=p(m,_);k;)v.x+=m.offsetLeft,v.y+=m.offsetTop,_&&(v=v.plus(t.getPageScroll())),m=k,_=t.getElementStyle(m).position==="fixed",k=p(m,_);return v},getElementOffset:function(m){m=t.getElement(m);var v=m&&m.ownerDocument,_,k,C={top:0,left:0};return v?(_=v.documentElement,typeof m.getBoundingClientRect<"u"&&(C=m.getBoundingClientRect()),k=v===v.window?v:v.nodeType===9?v.defaultView||v.parentWindow:!1,new t.Point(C.left+(k.pageXOffset||_.scrollLeft)-(_.clientLeft||0),C.top+(k.pageYOffset||_.scrollTop)-(_.clientTop||0))):new t.Point},getElementSize:function(m){return m=t.getElement(m),new t.Point(m.clientWidth,m.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(m){return m=t.getElement(m),m.currentStyle}:function(m){return m=t.getElement(m),window.getComputedStyle(m,"")},getCssPropertyWithVendorPrefix:function(m){var v={};return t.getCssPropertyWithVendorPrefix=function(_){if(v[_]!==void 0)return v[_];var k=document.createElement("div").style,C=null;if(k[_]!==void 0)C=_;else for(var M=["Webkit","Moz","MS","O","webkit","moz","ms","o"],A=t.capitalizeFirstLetter(_),F=0;F<M.length;F++){var U=M[F]+A;if(k[U]!==void 0){C=U;break}}return v[_]=C,C},t.getCssPropertyWithVendorPrefix(m)},capitalizeFirstLetter:function(m){return m.charAt(0).toUpperCase()+m.slice(1)},positiveModulo:function(m,v){var _=m%v;return _<0&&(_+=v),_},pointInElement:function(m,v){m=t.getElement(m);var _=t.getElementOffset(m),k=t.getElementSize(m);return v.x>=_.x&&v.x<_.x+k.x&&v.y<_.y+k.y&&v.y>=_.y},getMousePosition:function(m){if(typeof m.pageX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.pageX,_.y=v.pageY,_};else if(typeof m.clientX=="number")t.getMousePosition=function(v){var _=new t.Point;return _.x=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,_.y=v.clientY+document.body.scrollTop+document.documentElement.scrollTop,_};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(m)},getPageScroll:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(v.scrollLeft||v.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(m.scrollLeft||m.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(m){if(typeof window.scrollTo<"u")t.setPageScroll=function(k){window.scrollTo(k.x,k.y)};else{var v=t.getPageScroll();if(v.x===m.x&&v.y===m.y)return;document.body.scrollLeft=m.x,document.body.scrollTop=m.y;var _=t.getPageScroll();if(_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.body.scrollLeft=k.x,document.body.scrollTop=k.y};return}if(document.documentElement.scrollLeft=m.x,document.documentElement.scrollTop=m.y,_=t.getPageScroll(),_.x!==v.x&&_.y!==v.y){t.setPageScroll=function(k){document.documentElement.scrollLeft=k.x,document.documentElement.scrollTop=k.y};return}t.setPageScroll=function(k){}}t.setPageScroll(m)},getWindowSize:function(){var m=document.documentElement||{},v=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(m.clientWidth||m.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(v.clientWidth||v.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(m){m=t.getElement(m);var v=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(v[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(v[1].style,{display:"table-row"}),t.extend(v[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),v[0].appendChild(v[1]),v[1].appendChild(v[2]),v[2].appendChild(m),v[0]},makeNeutralElement:function(m){var v=document.createElement(m),_=v.style;return _.background="transparent none",_.border="none",_.margin="0px",_.padding="0px",_.position="static",v},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(m){var v=t.makeNeutralElement("img");return v.src=m,v},setElementOpacity:function(m,v,_){var k,C;m=t.getElement(m),_&&!t.Browser.alpha&&(v=Math.round(v)),t.Browser.opacity?m.style.opacity=v<1?v:"":v<1?(k=Math.round(100*v),C="alpha(opacity="+k+")",m.style.filter=C):m.style.filter=""},setElementTouchActionNone:function(m){m=t.getElement(m),typeof m.style.touchAction<"u"?m.style.touchAction="none":typeof m.style.msTouchAction<"u"&&(m.style.msTouchAction="none")},setElementPointerEvents:function(m,v){m=t.getElement(m),typeof m.style<"u"&&typeof m.style.pointerEvents<"u"&&(m.style.pointerEvents=v)},setElementPointerEventsNone:function(m){t.setElementPointerEvents(m,"none")},addClass:function(m,v){m=t.getElement(m),m.className?(" "+m.className+" ").indexOf(" "+v+" ")===-1&&(m.className+=" "+v):m.className=v},indexOf:function(m,v,_){return Array.prototype.indexOf?this.indexOf=function(k,C,M){return k.indexOf(C,M)}:this.indexOf=function(k,C,M){var A,F=M||0,U;if(!k)throw new TypeError;if(U=k.length,U===0||F>=U)return-1;for(F<0&&(F=U-Math.abs(F)),A=F;A<U;A++)if(k[A]===C)return A;return-1},this.indexOf(m,v,_)},removeClass:function(m,v){var _,k=[],C;for(m=t.getElement(m),_=m.className.split(/\s+/),C=0;C<_.length;C++)_[C]&&_[C]!==v&&k.push(_[C]);m.className=k.join(" ")},normalizeEventListenerOptions:function(m){var v;return typeof m<"u"?typeof m=="boolean"?v=t.supportsEventListenerOptions?{capture:m}:m:v=t.supportsEventListenerOptions?m:typeof m.capture<"u"?m.capture:!1:v=t.supportsEventListenerOptions?{capture:!1}:!1,v},addEvent:function(){if(t.supportsAddEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.addEventListener(v,_,k)};if(document.documentElement.attachEvent&&document.attachEvent)return function(m,v,_){m=t.getElement(m),m.attachEvent("on"+v,_)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(m,v,_,k){k=t.normalizeEventListenerOptions(k),m=t.getElement(m),m.removeEventListener(v,_,k)};if(document.documentElement.detachEvent&&document.detachEvent)return function(m,v,_){m=t.getElement(m),m.detachEvent("on"+v,_)};throw new Error("No known event model.")}(),cancelEvent:function(m){m.preventDefault()},eventIsCanceled:function(m){return m.defaultPrevented},stopEvent:function(m){m.stopPropagation()},createCallback:function(m,v){var _=[],k;for(k=2;k<arguments.length;k++)_.push(arguments[k]);return function(){var C=_.concat([]),M;for(M=0;M<arguments.length;M++)C.push(arguments[M]);return v.apply(m,C)}},getUrlParameter:function(m){var v=d[m];return v||null},getUrlProtocol:function(m){var v=m.match(/^([a-z]+:)\/\//i);return v===null?window.location.protocol:v[1].toLowerCase()},createAjaxRequest:function(m){var v;try{v=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{v=!1}if(v)window.XMLHttpRequest?t.createAjaxRequest=function(_){return _?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:t.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)t.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return t.createAjaxRequest(m)},makeAjaxRequest:function(m,v,_){var k,C,M,A;t.isPlainObject(m)&&(v=m.success,_=m.error,k=m.withCredentials,C=m.headers,M=m.responseType||null,A=m.postData||null,m=m.url);var F=t.getUrlProtocol(m),U=t.createAjaxRequest(F==="file:");if(!t.isFunction(v))throw new Error("makeAjaxRequest requires a success callback");U.onreadystatechange=function(){U.readyState===4&&(U.onreadystatechange=function(){},U.status>=200&&U.status<300||U.status===0&&F!=="http:"&&F!=="https:"?v(U):t.isFunction(_)?_(U):t.console.error("AJAX request returned %d: %s",U.status,m))};var H=A?"POST":"GET";try{if(U.open(H,m,!0),M&&(U.responseType=M),C)for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&C[W]&&U.setRequestHeader(W,C[W]);k&&(U.withCredentials=!0),U.send(A)}catch(j){t.console.error("%s while making AJAX request: %s",j.name,j.message),U.onreadystatechange=function(){},t.isFunction(_)&&_(U,j)}return U},jsonp:function(m){var v,_=m.url,k=document.head||document.getElementsByTagName("head")[0]||document.documentElement,C=m.callbackName||"openseadragon"+t.now(),M=window[C],A="$1"+C+"$2",F=m.param||"callback",U=m.callback;_=_.replace(/(=)\?(&|$)|\?\?/i,A),_+=(/\?/.test(_)?"&":"?")+F+"="+C,window[C]=function(H){if(M)window[C]=M;else try{delete window[C]}catch{}U&&t.isFunction(U)&&U(H)},v=document.createElement("script"),(m.async!==void 0||m.async!==!1)&&(v.async="async"),m.scriptCharset&&(v.charset=m.scriptCharset),v.src=_,v.onload=v.onreadystatechange=function(H,W){(W||!v.readyState||/loaded|complete/.test(v.readyState))&&(v.onload=v.onreadystatechange=null,k&&v.parentNode&&k.removeChild(v),v=void 0)},k.insertBefore(v,k.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(m){if(window.DOMParser)t.parseXml=function(v){var _=null,k;return k=new DOMParser,_=k.parseFromString(v,"text/xml"),_};else if(window.ActiveXObject)t.parseXml=function(v){var _=null;return _=new ActiveXObject("Microsoft.XMLDOM"),_.async=!1,_.loadXML(v),_};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(m)},parseJSON:function(m){return t.parseJSON=window.JSON.parse,t.parseJSON(m)},imageFormatSupported:function(m){return m=m||"",!!u[m.toLowerCase()]},setImageFormatsSupported:function(m){t.extend(u,m)}});var l=function(m){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var u={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},d={};(function(){var m=navigator.appVersion,v=navigator.userAgent,_;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(v.substring(v.indexOf("MSIE")+5,v.indexOf(";",v.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(v.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edge")+5))):v.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(v.substring(v.indexOf("Edg")+4))):v.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(v.substring(v.indexOf("Firefox")+8))):v.indexOf("Safari")>=0?(t.Browser.vendor=v.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(v.substring(v.substring(0,v.indexOf("Safari")).lastIndexOf("/")+1,v.indexOf("Safari")))):(_=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),_.exec(v)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(m);break}var k=window.location.search.substring(1),C=k.split("&"),M,A,F;for(F=0;F<C.length;F++)if(M=C[F],A=M.indexOf("="),A>0){var U=M.substring(0,A),H=M.substring(A+1);try{d[U]=decodeURIComponent(H)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",U,H)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version<11&&t.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(m){var v=m.requestAnimationFrame||m.mozRequestAnimationFrame||m.webkitRequestAnimationFrame||m.msRequestAnimationFrame,_=m.cancelAnimationFrame||m.mozCancelAnimationFrame||m.webkitCancelAnimationFrame||m.msCancelAnimationFrame;if(v&&_)t.requestAnimationFrame=function(){return v.apply(m,arguments)},t.cancelAnimationFrame=function(){return _.apply(m,arguments)};else{var k=[],C=[],M=0,A;t.requestAnimationFrame=function(F){return k.push([++M,F]),A||(A=setInterval(function(){if(k.length){var U=t.now(),H=C;for(C=k,k=H;C.length;)C.shift()[1](U)}else clearInterval(A),A=void 0},1e3/50)),M},t.cancelAnimationFrame=function(F){var U,H;for(U=0,H=k.length;U<H;U+=1)if(k[U][0]===F){k.splice(U,1);return}for(U=0,H=C.length;U<H;U+=1)if(C[U][0]===F){C.splice(U,1);return}}}}(window);function p(m,v){return v&&m!==document.body?document.body:m.offsetParent}}(r),function(t,o){n.exports?n.exports=o():t.OpenSeadragon=o()}(Ax,function(){return r}),function(t){var o={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.fullscreenElement},o.requestFullScreen=function(l){return l.requestFullscreen()},o.exitFullScreen=function(){document.exitFullscreen()},o.fullScreenEventName="fullscreenchange",o.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.msFullscreenElement},o.requestFullScreen=function(l){return l.msRequestFullscreen()},o.exitFullScreen=function(){document.msExitFullscreen()},o.fullScreenEventName="MSFullscreenChange",o.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitFullscreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullscreen()},o.exitFullScreen=function(){document.webkitExitFullscreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},o.requestFullScreen=function(l){return l.webkitRequestFullScreen()},o.exitFullScreen=function(){document.webkitCancelFullScreen()},o.fullScreenEventName="webkitfullscreenchange",o.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(o.supportsFullScreen=!0,o.getFullScreenElement=function(){return document.mozFullScreenElement},o.requestFullScreen=function(l){return l.mozRequestFullScreen()},o.exitFullScreen=function(){document.mozCancelFullScreen()},o.fullScreenEventName="mozfullscreenchange",o.fullScreenErrorEventName="mozfullscreenerror"),o.isFullScreen=function(){return o.getFullScreenElement()!==null},o.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),o.exitFullScreen()},t.extend(t,o)}(r),function(t){t.EventSource=function(){this.events={}},t.EventSource.prototype={addOnceHandler:function(o,l,u,d){var p=this;d=d||1;var m=0,v=function(_){m++,m===d&&p.removeHandler(o,v),l(_)};this.addHandler(o,v,u)},addHandler:function(o,l,u){var d=this.events[o];d||(this.events[o]=d=[]),l&&t.isFunction(l)&&(d[d.length]={handler:l,userData:u||null})},removeHandler:function(o,l){var u=this.events[o],d=[],p;if(u&&t.isArray(u)){for(p=0;p<u.length;p++)u[p].handler!==l&&d.push(u[p]);this.events[o]=d}},numberOfHandlers:function(o){var l=this.events[o];return l?l.length:0},removeAllHandlers:function(o){if(o)this.events[o]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(o){var l=this.events[o];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(u,d){var p,m=l.length;for(p=0;p<m;p++)l[p]&&(d.eventSource=u,d.userData=l[p].userData,l[p].handler(d))})},raiseEvent:function(o,l){var u=this.getHandler(o);u&&(l||(l={}),u(this,l))}}}(r),function(t){var o={};t.MouseTracker=function($){var J=arguments;t.isPlainObject($)||($={element:J[0],clickTimeThreshold:J[1],clickDistThreshold:J[2]}),this.hash=Math.random(),this.element=t.getElement($.element),this.clickTimeThreshold=$.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=$.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=$.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=$.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=$.userData||null,this.stopDelay=$.stopDelay||50,this.preProcessEventHandler=$.preProcessEventHandler||null,this.contextMenuHandler=$.contextMenuHandler||null,this.enterHandler=$.enterHandler||null,this.leaveHandler=$.leaveHandler||null,this.exitHandler=$.exitHandler||null,this.overHandler=$.overHandler||null,this.outHandler=$.outHandler||null,this.pressHandler=$.pressHandler||null,this.nonPrimaryPressHandler=$.nonPrimaryPressHandler||null,this.releaseHandler=$.releaseHandler||null,this.nonPrimaryReleaseHandler=$.nonPrimaryReleaseHandler||null,this.moveHandler=$.moveHandler||null,this.scrollHandler=$.scrollHandler||null,this.clickHandler=$.clickHandler||null,this.dblClickHandler=$.dblClickHandler||null,this.dragHandler=$.dragHandler||null,this.dragEndHandler=$.dragEndHandler||null,this.pinchHandler=$.pinchHandler||null,this.stopHandler=$.stopHandler||null,this.keyDownHandler=$.keyDownHandler||null,this.keyUpHandler=$.keyUpHandler||null,this.keyHandler=$.keyHandler||null,this.focusHandler=$.focusHandler||null,this.blurHandler=$.blurHandler||null;var lt=this;o[this.hash]={click:function(st){j(lt,st)},dblclick:function(st){q(lt,st)},keydown:function(st){nt(lt,st)},keyup:function(st){pt(lt,st)},keypress:function(st){ut(lt,st)},focus:function(st){ct(lt,st)},blur:function(st){V(lt,st)},contextmenu:function(st){at(lt,st)},wheel:function(st){ht(lt,st)},mousewheel:function(st){mt(lt,st)},DOMMouseScroll:function(st){mt(lt,st)},MozMousePixelScroll:function(st){mt(lt,st)},losecapture:function(st){ie(lt,st)},mouseenter:function(st){ee(lt,st)},mouseleave:function(st){me(lt,st)},mouseover:function(st){se(lt,st)},mouseout:function(st){he(lt,st)},mousedown:function(st){er(lt,st)},mouseup:function(st){Ft(lt,st)},mousemove:function(st){Xt(lt,st)},touchstart:function(st){ye(lt,st)},touchend:function(st){Gt(lt,st)},touchmove:function(st){de(lt,st)},touchcancel:function(st){Jt(lt,st)},gesturestart:function(st){Qe(lt,st)},gesturechange:function(st){wt(lt,st)},gotpointercapture:function(st){Ot(lt,st)},lostpointercapture:function(st){Wt(lt,st)},pointerenter:function(st){ee(lt,st)},pointerleave:function(st){me(lt,st)},pointerover:function(st){se(lt,st)},pointerout:function(st){he(lt,st)},pointerdown:function(st){er(lt,st)},pointerup:function(st){Ft(lt,st)},pointermove:function(st){Xt(lt,st)},pointercancel:function(st){vt(lt,st)},pointerupcaptured:function(st){qt(lt,st)},pointermovecaptured:function(st){ot(lt,st)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),$.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){m(this),this.element=null,o[this.hash]=null,delete o[this.hash]},isTracking:function(){return o[this.hash].tracking},setTracking:function($){return $?p(this):m(this),this},getActivePointersListByType:function($){var J=o[this.hash],lt,st=J.activePointersLists.length,Vt;for(lt=0;lt<st;lt++)if(J.activePointersLists[lt].type===$)return J.activePointersLists[lt];return Vt=new t.MouseTracker.GesturePointList($),J.activePointersLists.push(Vt),Vt},getActivePointerCount:function(){var $=o[this.hash],J,lt=$.activePointersLists.length,st=0;for(J=0;J<lt;J++)st+=$.activePointersLists[J].getLength();return st},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function u($){try{return $.addEventListener&&$.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var $=[],J=0,lt=0,st=function(cr,Fe){return cr.hash.toString()+Fe.type+Fe.id.toString()},Vt=function(){var cr,Fe=$.length,qn,ji,Es=t.now(),ea,_u,Ji;for(ea=Es-lt,lt=Es,cr=0;cr<Fe;cr++)qn=$[cr],ji=qn.gPoint,ji.direction=Math.atan2(ji.currentPos.y-qn.lastPos.y,ji.currentPos.x-qn.lastPos.x),_u=qn.lastPos.distanceTo(ji.currentPos),qn.lastPos=ji.currentPos,Ji=1e3*_u/(ea+1),ji.speed=.75*Ji+.25*ji.speed},re=function(cr,Fe){var qn=st(cr,Fe);$.push({guid:qn,gPoint:Fe,lastPos:Fe.currentPos}),$.length===1&&(lt=t.now(),J=window.setInterval(Vt,50))},Ee=function(cr,Fe){var qn=st(cr,Fe),ji,Es=$.length;for(ji=0;ji<Es;ji++)if($[ji].guid===qn){$.splice(ji,1),Es--,Es===0&&window.clearInterval(J);break}};return{addPoint:re,removePoint:Ee}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName=t.Browser.vendor===t.BROWSERS.IE&&t.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setPointerCapture)&&t.isFunction($.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var $=document.createElement("div");return t.isFunction($.setCapture)&&t.isFunction($.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function($){this._gPoints=[],this.type=$,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function($){return this._gPoints.push($)},removeById:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].id===$){this._gPoints.splice(J,1);break}return this._gPoints.length},getByIndex:function($){return $<this._gPoints.length?this._gPoints[$]:null},getById:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].id===$)return this._gPoints[J];return null},getPrimary:function($){var J,lt=this._gPoints.length;for(J=0;J<lt;J++)if(this._gPoints[J].isPrimary)return this._gPoints[J];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function d($){var J=o[$.hash],lt,st,Vt,re,Ee,cr=J.activePointersLists.length;for(lt=0;lt<cr;lt++)if(Vt=J.activePointersLists[lt],Vt.getLength()>0){for(Ee=[],re=Vt.asArray(),st=0;st<re.length;st++)Ee.push(re[st]);for(st=0;st<Ee.length;st++)X($,Vt,Ee[st])}for(lt=0;lt<cr;lt++)J.activePointersLists.pop();J.sentDragEvent=!1}function p($){var J=o[$.hash],lt,st;if(!J.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)lt=t.MouseTracker.subscribeEvents[st],t.addEvent($.element,lt,J[lt],lt===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);d($),J.tracking=!0}}function m($){var J=o[$.hash],lt,st;if(J.tracking){for(st=0;st<t.MouseTracker.subscribeEvents.length;st++)lt=t.MouseTracker.subscribeEvents[st],t.removeEvent($.element,lt,J[lt],!1);d($),J.tracking=!1}}function v($,J){var lt=o[$.hash];if(J==="pointerevent")return{upName:"pointerup",upHandler:lt.pointerupcaptured,moveName:"pointermove",moveHandler:lt.pointermovecaptured};if(J==="mouse")return{upName:"pointerup",upHandler:lt.pointerupcaptured,moveName:"pointermove",moveHandler:lt.pointermovecaptured};if(J==="touch")return{upName:"touchend",upHandler:lt.touchendcaptured,moveName:"touchmove",moveHandler:lt.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function _($,J){var lt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{$.element.setPointerCapture(J.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else $.element.setCapture(!0);else lt=v($,t.MouseTracker.havePointerEvents?"pointerevent":J.type),l&&u(window.top)&&t.addEvent(window.top,lt.upName,lt.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,lt.upName,lt.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,lt.moveName,lt.moveHandler,!0);xt($,J,!0)}function k($,J){var lt,st,Vt;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(st=$.getActivePointersListByType(J.type),Vt=st.getById(J.id),!Vt||!Vt.captured)return;try{$.element.releasePointerCapture(J.id)}catch{}}else $.element.releaseCapture();else lt=v($,t.MouseTracker.havePointerEvents?"pointerevent":J.type),l&&u(window.top)&&t.removeEvent(window.top,lt.upName,lt.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,lt.moveName,lt.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,lt.upName,lt.upHandler,!0);xt($,J,!1)}function C($){return t.MouseTracker.havePointerEvents?$.pointerId:t.MouseTracker.mousePointerId}function M($){return t.MouseTracker.havePointerEvents?$.pointerType||(t.Browser.vendor===t.BROWSERS.IE?"mouse":""):"mouse"}function A($){return t.MouseTracker.havePointerEvents?$.isPrimary:!0}function F($){return t.getMousePosition($)}function U($,J){return H(F($),J)}function H($,J){var lt=t.getElementOffset(J);return $.minus(lt)}function W($,J){return new t.Point(($.x+J.x)/2,($.y+J.y)/2)}function j($,J){var lt={originalEvent:J,eventType:"click",pointerType:"mouse",isEmulated:!1};kt($,lt),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(J),lt.stopPropagation&&t.stopEvent(J)}function q($,J){var lt={originalEvent:J,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};kt($,lt),lt.preventDefault&&!lt.defaultPrevented&&t.cancelEvent(J),lt.stopPropagation&&t.stopEvent(J)}function nt($,J){var lt=null,st={originalEvent:J,eventType:"keydown",pointerType:"",isEmulated:!1};kt($,st),$.keyDownHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyDownHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function pt($,J){var lt=null,st={originalEvent:J,eventType:"keyup",pointerType:"",isEmulated:!1};kt($,st),$.keyUpHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyUpHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function ut($,J){var lt=null,st={originalEvent:J,eventType:"keypress",pointerType:"",isEmulated:!1};kt($,st),$.keyHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,keyCode:J.keyCode?J.keyCode:J.charCode,ctrl:J.ctrlKey,shift:J.shiftKey,alt:J.altKey,meta:J.metaKey,originalEvent:J,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.keyHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function ct($,J){var lt={originalEvent:J,eventType:"focus",pointerType:"",isEmulated:!1};kt($,lt),$.focusHandler&&!lt.preventGesture&&$.focusHandler({eventSource:$,originalEvent:J,userData:$.userData})}function V($,J){var lt={originalEvent:J,eventType:"blur",pointerType:"",isEmulated:!1};kt($,lt),$.blurHandler&&!lt.preventGesture&&$.blurHandler({eventSource:$,originalEvent:J,userData:$.userData})}function at($,J){var lt=null,st={originalEvent:J,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};kt($,st),$.contextMenuHandler&&!st.preventGesture&&!st.defaultPrevented&&(lt={eventSource:$,position:H(F(J),$.element),originalEvent:st.originalEvent,preventDefault:st.preventDefault||st.defaultPrevented,userData:$.userData},$.contextMenuHandler(lt)),(lt&&lt.preventDefault||st.preventDefault&&!st.defaultPrevented)&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function ht($,J){Qt($,J,J)}function mt($,J){var lt={target:J.target||J.srcElement,type:"wheel",shiftKey:J.shiftKey||!1,clientX:J.clientX,clientY:J.clientY,pageX:J.pageX?J.pageX:J.clientX,pageY:J.pageY?J.pageY:J.clientY,deltaMode:J.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?lt.deltaY=-J.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:lt.deltaY=J.detail,Qt($,lt,J)}function Qt($,J,lt){var st=0,Vt,re=null;st=J.deltaY<0?1:-1,Vt={originalEvent:J,eventType:"wheel",pointerType:"mouse",isEmulated:J!==lt},kt($,Vt),$.scrollHandler&&!Vt.preventGesture&&!Vt.defaultPrevented&&(re={eventSource:$,pointerType:"mouse",position:U(J,$.element),scroll:st,shift:J.shiftKey,isTouchEvent:!1,originalEvent:lt,preventDefault:Vt.preventDefault||Vt.defaultPrevented,userData:$.userData},$.scrollHandler(re)),Vt.stopPropagation&&t.stopEvent(lt),(re&&re.preventDefault||Vt.preventDefault&&!Vt.defaultPrevented)&&t.cancelEvent(lt)}function ie($,J){var lt={id:t.MouseTracker.mousePointerId,type:"mouse"},st={originalEvent:J,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};kt($,st),J.target===$.element&&xt($,lt,!1),st.stopPropagation&&t.stopEvent(J)}function ye($,J){var lt,st,Vt=J.changedTouches.length,re,Ee=$.getActivePointersListByType("touch");lt=t.now(),Ee.getLength()>J.touches.length-Vt&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var cr={originalEvent:J,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(kt($,cr),st=0;st<Vt;st++)re={id:J.changedTouches[st].identifier,type:"touch",isPrimary:Ee.getLength()===0,currentPos:F(J.changedTouches[st]),currentTime:lt},zt($,cr,re),pe($,cr,re,0),xt($,re,!0);cr.preventDefault&&!cr.defaultPrevented&&t.cancelEvent(J),cr.stopPropagation&&t.stopEvent(J)}function Gt($,J){var lt,st,Vt=J.changedTouches.length,re;lt=t.now();var Ee={originalEvent:J,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(kt($,Ee),st=0;st<Vt;st++)re={id:J.changedTouches[st].identifier,type:"touch",currentPos:F(J.changedTouches[st]),currentTime:lt},ae($,Ee,re,0),xt($,re,!1),_t($,Ee,re);Ee.preventDefault&&!Ee.defaultPrevented&&t.cancelEvent(J),Ee.stopPropagation&&t.stopEvent(J)}function de($,J){var lt,st,Vt=J.changedTouches.length,re;lt=t.now();var Ee={originalEvent:J,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(kt($,Ee),st=0;st<Vt;st++)re={id:J.changedTouches[st].identifier,type:"touch",currentPos:F(J.changedTouches[st]),currentTime:lt},Le($,Ee,re);Ee.preventDefault&&!Ee.defaultPrevented&&t.cancelEvent(J),Ee.stopPropagation&&t.stopEvent(J)}function Jt($,J){var lt=J.changedTouches.length,st,Vt,re={originalEvent:J,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(kt($,re),st=0;st<lt;st++)Vt={id:J.changedTouches[st].identifier,type:"touch"},Me($,re,Vt);re.stopPropagation&&t.stopEvent(J)}function Qe($,J){return t.eventIsCanceled(J)||J.preventDefault(),!1}function wt($,J){return t.eventIsCanceled(J)||J.preventDefault(),!1}function Ot($,J){var lt={originalEvent:J,eventType:"gotpointercapture",pointerType:M(J),isEmulated:!1};kt($,lt),J.target===$.element&&xt($,{id:J.pointerId,type:M(J)},!0),lt.stopPropagation&&t.stopEvent(J)}function Wt($,J){var lt={originalEvent:J,eventType:"lostpointercapture",pointerType:M(J),isEmulated:!1};kt($,lt),J.target===$.element&&xt($,{id:J.pointerId,type:M(J)},!1),lt.stopPropagation&&t.stopEvent(J)}function ee($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerenter",pointerType:lt.type,isEmulated:!1};kt($,st),zt($,st,lt)}function me($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerleave",pointerType:lt.type,isEmulated:!1};kt($,st),_t($,st,lt)}function se($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerover",pointerType:lt.type,isEmulated:!1};kt($,st),te($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function he($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointerout",pointerType:lt.type,isEmulated:!1};kt($,st),le($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function er($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st=t.MouseTracker.havePointerEvents&&lt.type==="touch"&&t.Browser.vendor!==t.BROWSERS.IE,Vt={originalEvent:J,eventType:"pointerdown",pointerType:lt.type,isEmulated:!1};kt($,Vt),pe($,Vt,lt,J.button),Vt.preventDefault&&!Vt.defaultPrevented&&t.cancelEvent(J),Vt.stopPropagation&&t.stopEvent(J),Vt.shouldCapture&&(st?xt($,lt,!0):_($,lt))}function Ft($,J){Yt($,J)}function qt($,J){var lt=$.getActivePointersListByType(M(J));lt.getById(J.pointerId)&&Yt($,J),t.stopEvent(J)}function Yt($,J){var lt;lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()};var st={originalEvent:J,eventType:"pointerup",pointerType:lt.type,isEmulated:!1};kt($,st),ae($,st,lt,J.button),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J),st.shouldReleaseCapture&&(J.target===$.element?k($,lt):xt($,lt,!1))}function Xt($,J){ft($,J)}function ot($,J){var lt=$.getActivePointersListByType(M(J));lt.getById(J.pointerId)&&ft($,J),t.stopEvent(J)}function ft($,J){var lt={id:C(J),type:M(J),isPrimary:A(J),currentPos:F(J),currentTime:t.now()},st={originalEvent:J,eventType:"pointermove",pointerType:lt.type,isEmulated:!1};kt($,st),Le($,st,lt),st.preventDefault&&!st.defaultPrevented&&t.cancelEvent(J),st.stopPropagation&&t.stopEvent(J)}function vt($,J){var lt={id:J.pointerId,type:M(J)},st={originalEvent:J,eventType:"pointercancel",pointerType:lt.type,isEmulated:!1};kt($,st),Me($,st,lt),st.stopPropagation&&t.stopEvent(J)}function O($,J){return J.speed=0,J.direction=0,J.contactPos=J.currentPos,J.contactTime=J.currentTime,J.lastPos=J.currentPos,J.lastTime=J.currentTime,$.add(J)}function X($,J,lt){var st,Vt=J.getById(lt.id);return Vt?(Vt.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),k($,Vt)),J.removeContact(),st=J.removeById(lt.id)):st=J.getLength(),st}function dt($,J){switch(J.eventType){case"pointermove":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break;case"pointerdown":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"pointerup":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasGestureHandlers,J.stopPropagation=!1;break;case"wheel":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!1,J.preventGesture=!$.hasScrollHandler,J.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":J.isStoppable=!0,J.isCancelable=!1,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break;case"click":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!!$.clickHandler,J.preventGesture=!1,J.stopPropagation=!1;break;case"dblclick":J.isStoppable=!0,J.isCancelable=!0,J.preventDefault=!!$.dblClickHandler,J.preventGesture=!1,J.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:J.isStoppable=!1,J.isCancelable=!1,J.preventDefault=!1,J.preventGesture=!1,J.stopPropagation=!1;break}}function kt($,J){J.eventSource=$,J.eventPhase=J.originalEvent&&typeof J.originalEvent.eventPhase<"u"?J.originalEvent.eventPhase:0,J.defaultPrevented=t.eventIsCanceled(J.originalEvent),J.shouldCapture=!1,J.shouldReleaseCapture=!1,J.userData=$.userData,dt($,J),$.preProcessEventHandler&&$.preProcessEventHandler(J)}function xt($,J,lt){var st=$.getActivePointersListByType(J.type),Vt=st.getById(J.id);Vt?lt&&!Vt.captured?(Vt.captured=!0,st.captureCount++):!lt&&Vt.captured&&(Vt.captured=!1,st.captureCount--,st.captureCount<0&&(st.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function zt($,J,lt){var st=$.getActivePointersListByType(lt.type),Vt;Vt=st.getById(lt.id),Vt?(Vt.insideElement=!0,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=lt.currentPos,Vt.currentTime=lt.currentTime,lt=Vt):(lt.captured=!1,lt.insideElementPressed=!1,lt.insideElement=!0,O(st,lt)),$.enterHandler&&$.enterHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function _t($,J,lt){var st=$.getActivePointersListByType(lt.type),Vt,re;Vt=st.getById(lt.id),Vt?(Vt.captured?(Vt.insideElement=!1,Vt.lastPos=Vt.currentPos,Vt.lastTime=Vt.currentTime,Vt.currentPos=lt.currentPos,Vt.currentTime=lt.currentTime):X($,st,Vt),lt=Vt):(lt.captured=!1,lt.insideElementPressed=!1),($.leaveHandler||$.exitHandler)&&(re={eventSource:$,pointerType:lt.type,position:lt.currentPos&&H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData},$.leaveHandler&&$.leaveHandler(re),$.exitHandler&&$.exitHandler(re))}function te($,J,lt){var st,Vt;st=$.getActivePointersListByType(lt.type),Vt=st.getById(lt.id),Vt?lt=Vt:(lt.captured=!1,lt.insideElementPressed=!1),$.overHandler&&$.overHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function le($,J,lt){var st,Vt;st=$.getActivePointersListByType(lt.type),Vt=st.getById(lt.id),Vt?lt=Vt:(lt.captured=!1,lt.insideElementPressed=!1),$.outHandler&&$.outHandler({eventSource:$,pointerType:lt.type,position:lt.currentPos&&H(lt.currentPos,$.element),buttons:st.buttons,pointers:$.getActivePointerCount(),insideElementPressed:lt.insideElementPressed,buttonDownAny:st.buttons!==0,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData})}function pe($,J,lt,st){var Vt=o[$.hash],re=$.getActivePointersListByType(lt.type),Ee;if(typeof J.originalEvent.buttons<"u"?re.buttons=J.originalEvent.buttons:st===0?re.buttons|=1:st===1?re.buttons|=4:st===2?re.buttons|=2:st===3?re.buttons|=8:st===4?re.buttons|=16:st===5&&(re.buttons|=32),st!==0){J.shouldCapture=!1,J.shouldReleaseCapture=!1,$.nonPrimaryPressHandler&&!J.preventGesture&&!J.defaultPrevented&&(J.preventDefault=!0,$.nonPrimaryPressHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),button:st,buttons:re.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}));return}Ee=re.getById(lt.id),Ee?(Ee.insideElementPressed=!0,Ee.insideElement=!0,Ee.originalTarget=J.originalEvent.target,Ee.contactPos=lt.currentPos,Ee.contactTime=lt.currentTime,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=lt.currentPos,Ee.currentTime=lt.currentTime,lt=Ee):(lt.captured=!1,lt.insideElementPressed=!0,lt.insideElement=!0,lt.originalTarget=J.originalEvent.target,O(re,lt)),re.addContact(),!J.preventGesture&&!J.defaultPrevented?(J.shouldCapture=!0,J.shouldReleaseCapture=!1,J.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint($,lt),re.contacts===1?$.pressHandler&&!J.preventGesture&&$.pressHandler({eventSource:$,pointerType:lt.type,position:H(lt.contactPos,$.element),buttons:re.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}):re.contacts===2&&$.pinchHandler&&lt.type==="touch"&&(Vt.pinchGPoints=re.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=W(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(J.shouldCapture=!1,J.shouldReleaseCapture=!1)}function ae($,J,lt,st){var Vt=o[$.hash],re=$.getActivePointersListByType(lt.type),Ee,cr,Fe,qn=!1,ji;if(typeof J.originalEvent.buttons<"u"?re.buttons=J.originalEvent.buttons:st===0?re.buttons^=-2:st===1?re.buttons^=-5:st===2?re.buttons^=-3:st===3?re.buttons^=-9:st===4?re.buttons^=-17:st===5&&(re.buttons^=-33),J.shouldCapture=!1,st!==0){J.shouldReleaseCapture=!1,$.nonPrimaryReleaseHandler&&!J.preventGesture&&!J.defaultPrevented&&(J.preventDefault=!0,$.nonPrimaryReleaseHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),button:st,buttons:re.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}));return}Fe=re.getById(lt.id),Fe?(re.removeContact(),Fe.captured&&(qn=!0),Fe.lastPos=Fe.currentPos,Fe.lastTime=Fe.currentTime,Fe.currentPos=lt.currentPos,Fe.currentTime=lt.currentTime,Fe.insideElement||X($,re,Fe),Ee=Fe.currentPos,cr=Fe.currentTime):(lt.captured=!1,lt.insideElementPressed=!1,lt.insideElement=!0,O(re,lt),Fe=lt),!J.preventGesture&&!J.defaultPrevented&&(qn?(J.shouldReleaseCapture=!0,J.preventDefault=!0,($.dragHandler||$.dragEndHandler||$.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint($,Fe),re.contacts===0?($.releaseHandler&&Ee&&$.releaseHandler({eventSource:$,pointerType:Fe.type,position:H(Ee,$.element),buttons:re.buttons,insideElementPressed:Fe.insideElementPressed,insideElementReleased:Fe.insideElement,isTouchEvent:Fe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),$.dragEndHandler&&Vt.sentDragEvent&&$.dragEndHandler({eventSource:$,pointerType:Fe.type,position:H(Fe.currentPos,$.element),speed:Fe.speed,direction:Fe.direction,shift:J.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),Vt.sentDragEvent=!1,($.clickHandler||$.dblClickHandler)&&Fe.insideElement&&(ji=cr-Fe.contactTime<=$.clickTimeThreshold&&Fe.contactPos.distanceTo(Ee)<=$.clickDistThreshold,$.clickHandler&&$.clickHandler({eventSource:$,pointerType:Fe.type,position:H(Fe.currentPos,$.element),quick:ji,shift:J.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:J.originalEvent,originalTarget:Fe.originalTarget,userData:$.userData}),$.dblClickHandler&&ji&&(re.clicks++,re.clicks===1?(Vt.lastClickPos=Ee,Vt.dblClickTimeOut=setTimeout(function(){re.clicks=0},$.dblClickTimeThreshold)):re.clicks===2&&(clearTimeout(Vt.dblClickTimeOut),re.clicks=0,Vt.lastClickPos.distanceTo(Ee)<=$.dblClickDistThreshold&&$.dblClickHandler({eventSource:$,pointerType:Fe.type,position:H(Fe.currentPos,$.element),shift:J.originalEvent.shiftKey,isTouchEvent:Fe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),Vt.lastClickPos=null)))):re.contacts===2&&$.pinchHandler&&Fe.type==="touch"&&(Vt.pinchGPoints=re.asArray(),Vt.lastPinchDist=Vt.currentPinchDist=Vt.pinchGPoints[0].currentPos.distanceTo(Vt.pinchGPoints[1].currentPos),Vt.lastPinchCenter=Vt.currentPinchCenter=W(Vt.pinchGPoints[0].currentPos,Vt.pinchGPoints[1].currentPos))):(J.shouldReleaseCapture=!1,$.releaseHandler&&Ee&&($.releaseHandler({eventSource:$,pointerType:Fe.type,position:H(Ee,$.element),buttons:re.buttons,insideElementPressed:Fe.insideElementPressed,insideElementReleased:Fe.insideElement,isTouchEvent:Fe.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0)))}function Le($,J,lt){var st=o[$.hash],Vt=$.getActivePointersListByType(lt.type),re,Ee,cr;if(typeof J.originalEvent.buttons<"u"&&(Vt.buttons=J.originalEvent.buttons),re=Vt.getById(lt.id),re)re.lastPos=re.currentPos,re.lastTime=re.currentTime,re.currentPos=lt.currentPos,re.currentTime=lt.currentTime;else return;J.shouldCapture=!1,J.shouldReleaseCapture=!1,$.stopHandler&&lt.type==="mouse"&&(clearTimeout($.stopTimeOut),$.stopTimeOut=setTimeout(function(){Ve($,J.originalEvent,lt.type)},$.stopDelay)),Vt.contacts===0?$.moveHandler&&$.moveHandler({eventSource:$,pointerType:lt.type,position:H(lt.currentPos,$.element),buttons:Vt.buttons,isTouchEvent:lt.type==="touch",originalEvent:J.originalEvent,userData:$.userData}):Vt.contacts===1?($.moveHandler&&(re=Vt.asArray()[0],$.moveHandler({eventSource:$,pointerType:re.type,position:H(re.currentPos,$.element),buttons:Vt.buttons,isTouchEvent:re.type==="touch",originalEvent:J.originalEvent,userData:$.userData})),$.dragHandler&&!J.preventGesture&&!J.defaultPrevented&&(re=Vt.asArray()[0],cr=re.currentPos.minus(re.lastPos),$.dragHandler({eventSource:$,pointerType:re.type,position:H(re.currentPos,$.element),buttons:Vt.buttons,delta:cr,speed:re.speed,direction:re.direction,shift:J.originalEvent.shiftKey,isTouchEvent:re.type==="touch",originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0,st.sentDragEvent=!0)):Vt.contacts===2&&($.moveHandler&&(Ee=Vt.asArray(),$.moveHandler({eventSource:$,pointerType:Ee[0].type,position:H(W(Ee[0].currentPos,Ee[1].currentPos),$.element),buttons:Vt.buttons,isTouchEvent:Ee[0].type==="touch",originalEvent:J.originalEvent,userData:$.userData})),$.pinchHandler&&lt.type==="touch"&&!J.preventGesture&&!J.defaultPrevented&&(cr=st.pinchGPoints[0].currentPos.distanceTo(st.pinchGPoints[1].currentPos),cr!==st.currentPinchDist&&(st.lastPinchDist=st.currentPinchDist,st.currentPinchDist=cr,st.lastPinchCenter=st.currentPinchCenter,st.currentPinchCenter=W(st.pinchGPoints[0].currentPos,st.pinchGPoints[1].currentPos),$.pinchHandler({eventSource:$,pointerType:"touch",gesturePoints:st.pinchGPoints,lastCenter:H(st.lastPinchCenter,$.element),center:H(st.currentPinchCenter,$.element),lastDistance:st.lastPinchDist,distance:st.currentPinchDist,shift:J.originalEvent.shiftKey,originalEvent:J.originalEvent,userData:$.userData}),J.preventDefault=!0)))}function Me($,J,lt){var st=$.getActivePointersListByType(lt.type),Vt;Vt=st.getById(lt.id),Vt&&X($,st,Vt)}function Ve($,J,lt){$.stopHandler&&$.stopHandler({eventSource:$,pointerType:lt,position:U(J,$.element),buttons:$.getActivePointersListByType(lt).buttons,isTouchEvent:lt==="touch",originalEvent:J,userData:$.userData})}}(r),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(o,l,u){var d=o.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=o,this.anchor=l.anchor,this.container=u,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):d.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(o){this.wrapper.style.display=o?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(o){this.element[t.SIGNAL]&&t.Browser.vendor===t.BROWSERS.IE?t.setElementOpacity(this.element,o,!0):t.setElementOpacity(this.wrapper,o,!0)}}}(r),function(t){t.ControlDock=function(l){var u=["topleft","topright","bottomright","bottomleft"],d,p;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),p=0;p<u.length;p++)d=u[p],this.controls[d]=t.makeNeutralElement("div"),this.controls[d].style.position="absolute",d.match("left")&&(this.controls[d].style.left="0px"),d.match("right")&&(this.controls[d].style.right="0px"),d.match("top")&&(this.controls[d].style.top="0px"),d.match("bottom")&&(this.controls[d].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,u){l=t.getElement(l);var d=null;if(!(o(this,l)>=0)){switch(u.anchor){case t.ControlAnchor.TOP_RIGHT:d=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:d=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:d=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:d=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:d=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:d=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,u,d)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var u=o(this,l);return u>=0&&(this.controls[u].destroy(),this.controls.splice(u,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var u;for(u=this.controls.length-1;u>=0;u--)this.controls[u].setVisible(l);return this}};function o(l,u){var d=l.controls,p;for(p=d.length-1;p>=0;p--)if(d[p].element===u)return p;return-1}}(r),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(r),function(t){var o={},l=1;t.Viewer=function(O){var X=arguments,dt=this,kt;if(t.isPlainObject(O)||(O={id:X[0],xmlPath:X.length>1?X[1]:void 0,prefixUrl:X.length>2?X[2]:void 0,controls:X.length>3?X[3]:void 0,overlays:X.length>4?X[4]:void 0}),O.config&&(t.extend(!0,O,O.config),delete O.config),t.extend(!0,this,{id:O.id,hash:O.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,O),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof o[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),o[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(xt){var zt=t.getString("Errors.OpenFailed",xt.eventSource,xt.message);dt._showMessage(zt)}),t.ControlDock.call(this,O),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(xt){xt.width="100%",xt.height="100%",xt.overflow="hidden",xt.position="absolute",xt.top="0px",xt.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),O.tabIndex!==""&&(this.canvas.tabIndex=O.tabIndex===void 0?0:O.tabIndex),this.container.className="openseadragon-container",function(xt){xt.width="100%",xt.height="100%",xt.position="relative",xt.overflow="hidden",xt.left="0px",xt.top="0px",xt.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,U),keyDownHandler:t.delegate(this,H),keyHandler:t.delegate(this,W),clickHandler:t.delegate(this,j),dblClickHandler:t.delegate(this,q),dragHandler:t.delegate(this,nt),dragEndHandler:t.delegate(this,pt),enterHandler:t.delegate(this,ut),leaveHandler:t.delegate(this,ct),pressHandler:t.delegate(this,V),releaseHandler:t.delegate(this,at),nonPrimaryPressHandler:t.delegate(this,ht),nonPrimaryReleaseHandler:t.delegate(this,mt),scrollHandler:t.delegate(this,ie),pinchHandler:t.delegate(this,Qt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,ye),leaveHandler:t.delegate(this,Gt)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),o[this.hash].prevContainerSize=u(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){o[dt.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(xt){dt.source=dt.world.getItemAt(0).source,o[dt.hash].forceRedraw=!0,dt._updateRequestId||(dt._updateRequestId=v(dt,de))}),this.world.addHandler("remove-item",function(xt){dt.world.getItemCount()?dt.source=dt.world.getItemAt(0).source:dt.source=null,o[dt.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(xt){dt.viewport&&dt.viewport._setContentBounds(dt.world.getHomeBounds(),dt.world.getContentFactor())}),this.world.addHandler("item-index-change",function(xt){dt.source=dt.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:o[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:O.timeout}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new t.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(kt=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(kt,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(kt=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(kt,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),kt=0;kt<this.customControls.length;kt++)this.addControl(this.customControls[kt].id,{anchor:this.customControls[kt].anchor});t.requestAnimationFrame(function(){k(dt)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(O){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(O)},openTileSource:function(O){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(O)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(O,X){var dt=this;if(this.close(),!O)return this;if(this.sequenceMode&&t.isArray(O))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof X<"u"&&!isNaN(X)&&(this.initialPage=X),this.tileSources=O,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(O)||(O=[O]),!O.length)return this;this._opening=!0;for(var kt=O.length,xt=0,zt=0,_t,te=function(){if(xt+zt===kt)if(xt){(dt._firstOpen||!dt.preserveViewport)&&(dt.viewport.goHome(!0),dt.viewport.update()),dt._firstOpen=!1;var ae=O[0];if(ae.tileSource&&(ae=ae.tileSource),dt.overlays&&!dt.preserveOverlays)for(var Le=0;Le<dt.overlays.length;Le++)dt.currentOverlays[Le]=p(dt,dt.overlays[Le]);dt._drawOverlays(),dt._opening=!1,dt.raiseEvent("open",{source:ae})}else dt._opening=!1,dt.raiseEvent("open-failed",_t)},le=function(ae){(!t.isPlainObject(ae)||!ae.tileSource)&&(ae={tileSource:ae}),ae.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ae.index),ae.collectionImmediately===void 0&&(ae.collectionImmediately=!0);var Le=ae.success;ae.success=function(Ve){if(xt++,ae.tileSource.overlays)for(var $=0;$<ae.tileSource.overlays.length;$++)dt.addOverlay(ae.tileSource.overlays[$]);Le&&Le(Ve),te()};var Me=ae.error;ae.error=function(Ve){zt++,_t||(_t=Ve),Me&&Me(Ve),te()},dt.addTiledImage(ae)},pe=0;pe<O.length;pe++)le(O[pe]);return this},close:function(){return o[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),o[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(o[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),o[this.navigator.hash]=null,delete o[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),o[this.hash]=null,delete o[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(O){return this.innerTracker.setTracking(O),this.outerTracker.setTracking(O),this.raiseEvent("mouse-enabled",{enabled:O}),this},areControlsEnabled:function(){var O=this.controls.length,X;for(X=0;X<this.controls.length;X++)O=O&&this.controls[X].isVisible();return O},setControlsEnabled:function(O){return O?M(this):k(this),this.raiseEvent("controls-enabled",{enabled:O}),this},setDebugMode:function(O){for(var X=0;X<this.world.getItemCount();X++)this.world.getItemAt(X).debugMode=O;this.debugMode=O,this.forceRedraw()},isFullPage:function(){return o[this.hash].fullPage},setFullPage:function(O){var X=document.body,dt=X.style,kt=document.documentElement.style,xt=this,zt,_t;if(O===this.isFullPage())return this;var te={fullPage:O,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",te),te.preventDefaultAction)return this;if(O){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=dt.margin,this.docMargin=kt.margin,dt.margin="0",kt.margin="0",this.bodyPadding=dt.padding,this.docPadding=kt.padding,dt.padding="0",kt.padding="0",this.bodyWidth=dt.width,this.docWidth=kt.width,dt.width="100%",kt.width="100%",this.bodyHeight=dt.height,this.docHeight=kt.height,dt.height="100%",kt.height="100%",this.bodyDisplay=dt.display,dt.display="block",this.previousBody=[],o[this.hash].prevElementParent=this.element.parentNode,o[this.hash].prevNextSibling=this.element.nextSibling,o[this.hash].prevElementWidth=this.element.style.width,o[this.hash].prevElementHeight=this.element.style.height,zt=X.childNodes.length,_t=0;_t<zt;_t++)this.previousBody.push(X.childNodes[0]),X.removeChild(X.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,X.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),X.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),o[this.hash].fullPage=!0,t.delegate(this,ye)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,dt.margin=this.bodyMargin,kt.margin=this.docMargin,dt.padding=this.bodyPadding,kt.padding=this.docPadding,dt.width=this.bodyWidth,kt.width=this.docWidth,dt.height=this.bodyHeight,kt.height=this.docHeight,dt.display=this.bodyDisplay,X.removeChild(this.element),zt=this.previousBody.length,_t=0;_t<zt;_t++)X.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),o[this.hash].prevElementParent.insertBefore(this.element,o[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(X.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=o[this.hash].prevElementWidth,this.element.style.height=o[this.hash].prevElementHeight;var le=0,pe=function(){t.setPageScroll(xt.pageScroll);var ae=t.getPageScroll();le++,le<10&&(ae.x!==xt.pageScroll.x||ae.y!==xt.pageScroll.y)&&t.requestAnimationFrame(pe)};t.requestAnimationFrame(pe),o[this.hash].fullPage=!1,t.delegate(this,Gt)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:O}),this},setFullScreen:function(O){var X=this;if(!t.supportsFullScreen)return this.setFullPage(O);if(t.isFullScreen()===O)return this;var dt={fullScreen:O,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",dt),dt.preventDefaultAction)return this;if(O){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var kt=function(){var xt=t.isFullScreen();xt||(t.removeEvent(document,t.fullScreenEventName,kt),t.removeEvent(document,t.fullScreenErrorEventName,kt),X.setFullPage(!1),X.isFullPage()&&(X.element.style.width=X.fullPageStyleWidth,X.element.style.height=X.fullPageStyleHeight)),X.navigator&&X.viewport&&setTimeout(function(){X.navigator.update(X.viewport)}),X.raiseEvent("full-screen",{fullScreen:xt})};t.addEvent(document,t.fullScreenEventName,kt),t.addEvent(document,t.fullScreenErrorEventName,kt),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(O){return this.container.style.visibility=O?"":"hidden",this.raiseEvent("visible",{visible:O}),this},addTiledImage:function(O){t.console.assert(O,"[Viewer.addTiledImage] options is required"),t.console.assert(O.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!O.replace||O.index>-1&&O.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var X=this;O.replace&&(O.replaceItem=X.world.getItemAt(O.index)),this._hideMessage(),O.placeholderFillStyle===void 0&&(O.placeholderFillStyle=this.placeholderFillStyle),O.opacity===void 0&&(O.opacity=this.opacity),O.preload===void 0&&(O.preload=this.preload),O.compositeOperation===void 0&&(O.compositeOperation=this.compositeOperation),O.crossOriginPolicy===void 0&&(O.crossOriginPolicy=O.tileSource.crossOriginPolicy!==void 0?O.tileSource.crossOriginPolicy:this.crossOriginPolicy),O.ajaxWithCredentials===void 0&&(O.ajaxWithCredentials=this.ajaxWithCredentials),O.loadTilesWithAjax===void 0&&(O.loadTilesWithAjax=this.loadTilesWithAjax),O.ajaxHeaders===void 0||O.ajaxHeaders===null?O.ajaxHeaders=this.ajaxHeaders:t.isPlainObject(O.ajaxHeaders)&&t.isPlainObject(this.ajaxHeaders)&&(O.ajaxHeaders=t.extend({},this.ajaxHeaders,O.ajaxHeaders));var dt={options:O};function kt(_t){for(var te=0;te<X._loadQueue.length;te++)if(X._loadQueue[te]===dt){X._loadQueue.splice(te,1);break}X._loadQueue.length===0&&xt(dt),X.raiseEvent("add-item-failed",_t),O.error&&O.error(_t)}function xt(_t){X.collectionMode&&(X.world.arrange({immediately:_t.options.collectionImmediately,rows:X.collectionRows,columns:X.collectionColumns,layout:X.collectionLayout,tileSize:X.collectionTileSize,tileMargin:X.collectionTileMargin}),X.world.setAutoRefigureSizes(!0))}if(t.isArray(O.tileSource)){setTimeout(function(){kt({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:O.tileSource,options:O})});return}this._loadQueue.push(dt);function zt(){for(var _t,te,le;X._loadQueue.length&&(_t=X._loadQueue[0],!!_t.tileSource);){if(X._loadQueue.splice(0,1),_t.options.replace){var pe=X.world.getIndexOfItem(_t.options.replaceItem);pe!==-1&&(_t.options.index=pe),X.world.removeItem(_t.options.replaceItem)}te=new t.TiledImage({viewer:X,source:_t.tileSource,viewport:X.viewport,drawer:X.drawer,tileCache:X.tileCache,imageLoader:X.imageLoader,x:_t.options.x,y:_t.options.y,width:_t.options.width,height:_t.options.height,fitBounds:_t.options.fitBounds,fitBoundsPlacement:_t.options.fitBoundsPlacement,clip:_t.options.clip,placeholderFillStyle:_t.options.placeholderFillStyle,opacity:_t.options.opacity,preload:_t.options.preload,degrees:_t.options.degrees,flipped:_t.options.flipped,compositeOperation:_t.options.compositeOperation,springStiffness:X.springStiffness,animationTime:X.animationTime,minZoomImageRatio:X.minZoomImageRatio,wrapHorizontal:X.wrapHorizontal,wrapVertical:X.wrapVertical,immediateRender:X.immediateRender,blendTime:X.blendTime,alwaysBlend:X.alwaysBlend,minPixelRatio:X.minPixelRatio,smoothTileEdgesMinZoom:X.smoothTileEdgesMinZoom,iOSDevice:X.iOSDevice,crossOriginPolicy:_t.options.crossOriginPolicy,ajaxWithCredentials:_t.options.ajaxWithCredentials,loadTilesWithAjax:_t.options.loadTilesWithAjax,ajaxHeaders:_t.options.ajaxHeaders,debugMode:X.debugMode,subPixelRoundingForTransparency:X.subPixelRoundingForTransparency}),X.collectionMode&&X.world.setAutoRefigureSizes(!1),X.navigator&&(le=t.extend({},_t.options,{replace:!1,originalTiledImage:te,tileSource:_t.tileSource}),X.navigator.addTiledImage(le)),X.world.addItem(te,{index:_t.options.index}),X._loadQueue.length===0&&xt(_t),X.world.getItemCount()===1&&!X.preserveViewport&&X.viewport.goHome(!0),_t.options.success&&_t.options.success({item:te})}}d(this,O.tileSource,O,function(_t){dt.tileSource=_t,zt()},function(_t){_t.options=O,kt(_t),zt()})},addSimpleImage:function(O){t.console.assert(O,"[Viewer.addSimpleImage] options is required"),t.console.assert(O.url,"[Viewer.addSimpleImage] options.url is required");var X=t.extend({},O,{tileSource:{type:"image",url:O.url}});delete X.url,this.addTiledImage(X)},addLayer:function(O){var X=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var dt=t.extend({},O,{success:function(kt){X.raiseEvent("add-layer",{options:O,drawer:kt.item})},error:function(kt){X.raiseEvent("add-layer-failed",kt)}});return this.addTiledImage(dt),this},getLayerAtLevel:function(O){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(O)},getLevelOfLayer:function(O){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(O)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(O,X){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(O,X)},removeLayer:function(O){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(O)},forceRedraw:function(){return o[this.hash].forceRedraw=!0,this},forceResize:function(){o[this.hash].needsResize=!0,o[this.hash].forceResize=!0},bindSequenceControls:function(){var O=t.delegate(this,A),X=t.delegate(this,F),dt=t.delegate(this,this.goToNextPage),kt=t.delegate(this,this.goToPreviousPage),xt=this.navImages,zt=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(zt=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:Ot(this.prefixUrl,xt.previous.REST),srcGroup:Ot(this.prefixUrl,xt.previous.GROUP),srcHover:Ot(this.prefixUrl,xt.previous.HOVER),srcDown:Ot(this.prefixUrl,xt.previous.DOWN),onRelease:kt,onFocus:O,onBlur:X}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:Ot(this.prefixUrl,xt.next.REST),srcGroup:Ot(this.prefixUrl,xt.next.GROUP),srcHover:Ot(this.prefixUrl,xt.next.HOVER),srcDown:Ot(this.prefixUrl,xt.next.DOWN),onRelease:dt,onFocus:O,onBlur:X}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),zt&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var O=t.delegate(this,Wt),X=t.delegate(this,me),dt=t.delegate(this,er),kt=t.delegate(this,ee),xt=t.delegate(this,Ft),zt=t.delegate(this,Yt),_t=t.delegate(this,Xt),te=t.delegate(this,ot),le=t.delegate(this,ft),pe=t.delegate(this,vt),ae=t.delegate(this,A),Le=t.delegate(this,F),Me=this.navImages,Ve=[],$=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&($=!1),this.showZoomControl&&(Ve.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:Ot(this.prefixUrl,Me.zoomIn.REST),srcGroup:Ot(this.prefixUrl,Me.zoomIn.GROUP),srcHover:Ot(this.prefixUrl,Me.zoomIn.HOVER),srcDown:Ot(this.prefixUrl,Me.zoomIn.DOWN),onPress:O,onRelease:X,onClick:dt,onEnter:O,onExit:X,onFocus:ae,onBlur:Le})),Ve.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:Ot(this.prefixUrl,Me.zoomOut.REST),srcGroup:Ot(this.prefixUrl,Me.zoomOut.GROUP),srcHover:Ot(this.prefixUrl,Me.zoomOut.HOVER),srcDown:Ot(this.prefixUrl,Me.zoomOut.DOWN),onPress:kt,onRelease:X,onClick:xt,onEnter:kt,onExit:X,onFocus:ae,onBlur:Le}))),this.showHomeControl&&Ve.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:Ot(this.prefixUrl,Me.home.REST),srcGroup:Ot(this.prefixUrl,Me.home.GROUP),srcHover:Ot(this.prefixUrl,Me.home.HOVER),srcDown:Ot(this.prefixUrl,Me.home.DOWN),onRelease:zt,onFocus:ae,onBlur:Le})),this.showFullPageControl&&Ve.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:Ot(this.prefixUrl,Me.fullpage.REST),srcGroup:Ot(this.prefixUrl,Me.fullpage.GROUP),srcHover:Ot(this.prefixUrl,Me.fullpage.HOVER),srcDown:Ot(this.prefixUrl,Me.fullpage.DOWN),onRelease:_t,onFocus:ae,onBlur:Le})),this.showRotationControl&&(Ve.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:Ot(this.prefixUrl,Me.rotateleft.REST),srcGroup:Ot(this.prefixUrl,Me.rotateleft.GROUP),srcHover:Ot(this.prefixUrl,Me.rotateleft.HOVER),srcDown:Ot(this.prefixUrl,Me.rotateleft.DOWN),onRelease:te,onFocus:ae,onBlur:Le})),Ve.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:Ot(this.prefixUrl,Me.rotateright.REST),srcGroup:Ot(this.prefixUrl,Me.rotateright.GROUP),srcHover:Ot(this.prefixUrl,Me.rotateright.HOVER),srcDown:Ot(this.prefixUrl,Me.rotateright.DOWN),onRelease:le,onFocus:ae,onBlur:Le}))),this.showFlipControl&&Ve.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:Ot(this.prefixUrl,Me.flip.REST),srcGroup:Ot(this.prefixUrl,Me.flip.GROUP),srcHover:Ot(this.prefixUrl,Me.flip.HOVER),srcDown:Ot(this.prefixUrl,Me.flip.DOWN),onRelease:pe,onFocus:ae,onBlur:Le})),$?(this.buttonGroup=new t.ButtonGroup({buttons:Ve,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,qt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=Ve),this},currentPage:function(){return this._sequenceIndex},goToPage:function(O){return this.tileSources&&O>=0&&O<this.tileSources.length&&(this._sequenceIndex=O,this._updateSequenceButtons(O),this.open(this.tileSources[O]),this.referenceStrip&&this.referenceStrip.setFocus(O),this.raiseEvent("page",{page:O})),this},addOverlay:function(O,X,dt,kt){var xt;if(t.isPlainObject(O)?xt=O:xt={element:O,location:X,placement:dt,onDraw:kt},O=t.getElement(xt.element),m(this.currentOverlays,O)>=0)return this;var zt=p(this,xt);return this.currentOverlays.push(zt),zt.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:O,location:xt.location,placement:xt.placement}),this},updateOverlay:function(O,X,dt){var kt;return O=t.getElement(O),kt=m(this.currentOverlays,O),kt>=0&&(this.currentOverlays[kt].update(X,dt),o[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:O,location:X,placement:dt})),this},removeOverlay:function(O){var X;return O=t.getElement(O),X=m(this.currentOverlays,O),X>=0&&(this.currentOverlays[X].destroy(),this.currentOverlays.splice(X,1),o[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:O})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return o[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(O){var X;return O=t.getElement(O),X=m(this.currentOverlays,O),X>=0?this.currentOverlays[X]:null},_updateSequenceButtons:function(O){this.nextButton&&(!this.tileSources||this.tileSources.length-1===O?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(O>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(O){this._hideMessage();var X=t.makeNeutralElement("div");X.appendChild(document.createTextNode(O)),this.messageDiv=t.makeCenteredNode(X),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var O=this.messageDiv;O&&(O.parentNode.removeChild(O),delete this.messageDiv)},gestureSettingsByDeviceType:function(O){switch(O){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var O,X=this.currentOverlays.length;for(O=0;O<X;O++)this.currentOverlays[O].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var O=t.pixelDensityRatio,X=t.getCurrentPixelDensityRatio();O!==X&&(t.pixelDensityRatio=X,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var O=this._sequenceIndex-1;this.navPrevNextWrap&&O<0&&(O+=this.tileSources.length),this.goToPage(O)},goToNextPage:function(){var O=this._sequenceIndex+1;this.navPrevNextWrap&&O>=this.tileSources.length&&(O=0),this.goToPage(O)},isAnimating:function(){return o[this.hash].animating}});function u(O){return O=t.getElement(O),new t.Point(O.clientWidth===0?1:O.clientWidth,O.clientHeight===0?1:O.clientHeight)}function d(O,X,dt,kt,xt){var zt=O;if(t.type(X)==="string"){if(X.match(/^\s*<.*>\s*$/))X=t.parseXml(X);else if(X.match(/^\s*[{[].*[}\]]\s*$/))try{var _t=t.parseJSON(X);X=_t}catch{}}function te(le,pe){le.ready?kt(le):(le.addHandler("ready",function(){kt(le)}),le.addHandler("open-failed",function(ae){xt({message:ae.message,source:pe})}))}setTimeout(function(){if(t.type(X)==="string")X=new t.TileSource({url:X,crossOriginPolicy:dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:O.crossOriginPolicy,ajaxWithCredentials:O.ajaxWithCredentials,ajaxHeaders:dt.ajaxHeaders?dt.ajaxHeaders:O.ajaxHeaders,splitHashDataForPost:O.splitHashDataForPost,useCanvas:O.useCanvas,success:function(Le){kt(Le.tileSource)}}),X.addHandler("open-failed",function(Le){xt(Le)});else if(t.isPlainObject(X)||X.nodeType)if(X.crossOriginPolicy===void 0&&(dt.crossOriginPolicy!==void 0||O.crossOriginPolicy!==void 0)&&(X.crossOriginPolicy=dt.crossOriginPolicy!==void 0?dt.crossOriginPolicy:O.crossOriginPolicy),X.ajaxWithCredentials===void 0&&(X.ajaxWithCredentials=O.ajaxWithCredentials),X.useCanvas===void 0&&(X.useCanvas=O.useCanvas),t.isFunction(X.getTileUrl)){var le=new t.TileSource(X);le.getTileUrl=X.getTileUrl,kt(le)}else{var pe=t.TileSource.determineType(zt,X);if(!pe){xt({message:"Unable to load TileSource",source:X});return}var ae=pe.prototype.configure.apply(zt,[X]);te(new pe(ae),X)}else te(X,X)})}function p(O,X){if(X instanceof t.Overlay)return X;var dt=null;if(X.element)dt=t.getElement(X.element);else{var kt=X.id?X.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);dt=t.getElement(X.id),dt||(dt=document.createElement("a"),dt.href="#/overlay/"+kt),dt.id=kt,t.addClass(dt,X.className?X.className:"openseadragon-overlay")}var xt=X.location,zt=X.width,_t=X.height;if(!xt){var te=X.x,le=X.y;if(X.px!==void 0){var pe=O.viewport.imageToViewportRectangle(new t.Rect(X.px,X.py,zt||0,_t||0));te=pe.x,le=pe.y,zt=zt!==void 0?pe.width:void 0,_t=_t!==void 0?pe.height:void 0}xt=new t.Point(te,le)}var ae=X.placement;return ae&&t.type(ae)==="string"&&(ae=t.Placement[X.placement.toUpperCase()]),new t.Overlay({element:dt,location:xt,placement:ae,onDraw:X.onDraw,checkResize:X.checkResize,width:zt,height:_t,rotationMode:X.rotationMode})}function m(O,X){var dt;for(dt=O.length-1;dt>=0;dt--)if(O[dt].element===X)return dt;return-1}function v(O,X){return t.requestAnimationFrame(function(){X(O)})}function _(O){t.requestAnimationFrame(function(){C(O)})}function k(O){O.autoHideControls&&(O.controlsShouldFade=!0,O.controlsFadeBeginTime=t.now()+O.controlsFadeDelay,window.setTimeout(function(){_(O)},O.controlsFadeDelay))}function C(O){var X,dt,kt,xt;if(O.controlsShouldFade){for(X=t.now(),dt=X-O.controlsFadeBeginTime,kt=1-dt/O.controlsFadeLength,kt=Math.min(1,kt),kt=Math.max(0,kt),xt=O.controls.length-1;xt>=0;xt--)O.controls[xt].autoFade&&O.controls[xt].setOpacity(kt);kt>0&&_(O)}}function M(O){var X;for(O.controlsShouldFade=!1,X=O.controls.length-1;X>=0;X--)O.controls[X].setOpacity(1)}function A(){M(this)}function F(){k(this)}function U(O){var X={tracker:O.eventSource,position:O.position,originalEvent:O.originalEvent,preventDefault:O.preventDefault};this.raiseEvent("canvas-contextmenu",X),O.preventDefault=X.preventDefault}function H(O){var X={originalEvent:O.originalEvent,preventDefaultAction:!1,preventVerticalPan:O.preventVerticalPan||!this.panVertical,preventHorizontalPan:O.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",X),!X.preventDefaultAction&&!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 38:X.preventVerticalPan||(O.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 40:X.preventVerticalPan||(O.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 37:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 39:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;default:O.preventDefault=!1;break}else O.preventDefault=!1}function W(O){var X={originalEvent:O.originalEvent,preventDefaultAction:!1,preventVerticalPan:O.preventVerticalPan||!this.panVertical,preventHorizontalPan:O.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",X),!X.preventDefaultAction&&!O.ctrl&&!O.alt&&!O.meta)switch(O.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 119:case 87:X.preventVerticalPan||(O.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 115:case 83:X.preventVerticalPan||(O.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 97:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 100:X.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),O.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement),this.viewport.applyConstraints(),O.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),O.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:O.preventDefault=!1;break}else O.preventDefault=!1}function j(O){var X,dt=document.activeElement===this.canvas;dt||this.canvas.focus(),this.viewport.flipped&&(O.position.x=this.viewport.getContainerSize().x-O.position.x);var kt={tracker:O.eventSource,position:O.position,quick:O.quick,shift:O.shift,originalEvent:O.originalEvent,originalTarget:O.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",kt),!kt.preventDefaultAction&&this.viewport&&O.quick&&(X=this.gestureSettingsByDeviceType(O.pointerType),X.clickToZoom===!0&&(this.viewport.zoomBy(O.shift?1/this.zoomPerClick:this.zoomPerClick,X.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints()),X.dblClickDragToZoom&&(o[this.hash].draggingToZoom===!0?(o[this.hash].lastClickTime=null,o[this.hash].draggingToZoom=!1):o[this.hash].lastClickTime=t.now()))}function q(O){var X,dt={tracker:O.eventSource,position:O.position,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",dt),!dt.preventDefaultAction&&this.viewport&&(X=this.gestureSettingsByDeviceType(O.pointerType),X.dblClickToZoom&&(this.viewport.zoomBy(O.shift?1/this.zoomPerClick:this.zoomPerClick,X.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints()))}function nt(O){var X,dt={tracker:O.eventSource,pointerType:O.pointerType,position:O.position,delta:O.delta,speed:O.speed,direction:O.direction,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",dt),X=this.gestureSettingsByDeviceType(O.pointerType),!dt.preventDefaultAction&&this.viewport){if(X.dblClickDragToZoom&&o[this.hash].draggingToZoom){var kt=Math.pow(this.zoomPerDblClickDrag,O.delta.y/50);this.viewport.zoomBy(kt)}else if(X.dragToPan&&!o[this.hash].draggingToZoom){if(this.panHorizontal||(O.delta.x=0),this.panVertical||(O.delta.y=0),this.viewport.flipped&&(O.delta.x=-O.delta.x),this.constrainDuringPan){var xt=this.viewport.deltaPointsFromPixels(O.delta.negate());this.viewport.centerSpringX.target.value+=xt.x,this.viewport.centerSpringY.target.value+=xt.y;var zt=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=xt.x,this.viewport.centerSpringY.target.value-=xt.y,zt.xConstrained&&(O.delta.x=0),zt.yConstrained&&(O.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(O.delta.negate()),X.flickEnabled&&!this.constrainDuringPan)}}}function pt(O){var X,dt={tracker:O.eventSource,pointerType:O.pointerType,position:O.position,speed:O.speed,direction:O.direction,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",dt),X=this.gestureSettingsByDeviceType(O.pointerType),!dt.preventDefaultAction&&this.viewport){if(!o[this.hash].draggingToZoom&&X.flickEnabled&&O.speed>=X.flickMinSpeed){var kt=0;this.panHorizontal&&(kt=X.flickMomentum*O.speed*Math.cos(O.direction));var xt=0;this.panVertical&&(xt=X.flickMomentum*O.speed*Math.sin(O.direction));var zt=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),_t=this.viewport.pointFromPixel(new t.Point(zt.x-kt,zt.y-xt));this.viewport.panTo(_t,!1)}this.viewport.applyConstraints()}X.dblClickDragToZoom&&o[this.hash].draggingToZoom===!0&&(o[this.hash].draggingToZoom=!1)}function ut(O){this.raiseEvent("canvas-enter",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function ct(O){this.raiseEvent("canvas-exit",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function V(O){var X;if(this.raiseEvent("canvas-press",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,insideElementPressed:O.insideElementPressed,insideElementReleased:O.insideElementReleased,originalEvent:O.originalEvent}),X=this.gestureSettingsByDeviceType(O.pointerType),X.dblClickDragToZoom){var dt=o[this.hash].lastClickTime,kt=t.now();if(dt===null)return;kt-dt<this.dblClickTimeThreshold&&(o[this.hash].draggingToZoom=!0),o[this.hash].lastClickTime=null}}function at(O){this.raiseEvent("canvas-release",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,insideElementPressed:O.insideElementPressed,insideElementReleased:O.insideElementReleased,originalEvent:O.originalEvent})}function ht(O){this.raiseEvent("canvas-nonprimary-press",{tracker:O.eventSource,position:O.position,pointerType:O.pointerType,button:O.button,buttons:O.buttons,originalEvent:O.originalEvent})}function mt(O){this.raiseEvent("canvas-nonprimary-release",{tracker:O.eventSource,position:O.position,pointerType:O.pointerType,button:O.button,buttons:O.buttons,originalEvent:O.originalEvent})}function Qt(O){var X,dt,kt,xt,zt={tracker:O.eventSource,pointerType:O.pointerType,gesturePoints:O.gesturePoints,lastCenter:O.lastCenter,center:O.center,lastDistance:O.lastDistance,distance:O.distance,shift:O.shift,originalEvent:O.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",zt),this.viewport&&(X=this.gestureSettingsByDeviceType(O.pointerType),X.pinchToZoom&&(!zt.preventDefaultPanAction||!zt.preventDefaultZoomAction)&&(dt=this.viewport.pointFromPixel(O.center,!0),X.zoomToRefPoint&&!zt.preventDefaultPanAction&&(kt=this.viewport.pointFromPixel(O.lastCenter,!0),xt=kt.minus(dt),this.panHorizontal||(xt.x=0),this.panVertical||(xt.y=0),this.viewport.panBy(xt,!0)),zt.preventDefaultZoomAction||this.viewport.zoomBy(O.distance/O.lastDistance,dt,!0),this.viewport.applyConstraints()),X.pinchRotate&&!zt.preventDefaultRotateAction)){var _t=Math.atan2(O.gesturePoints[0].currentPos.y-O.gesturePoints[1].currentPos.y,O.gesturePoints[0].currentPos.x-O.gesturePoints[1].currentPos.x),te=Math.atan2(O.gesturePoints[0].lastPos.y-O.gesturePoints[1].lastPos.y,O.gesturePoints[0].lastPos.x-O.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(_t-te)*(180/Math.PI))}}function ie(O){var X,dt,kt,xt,zt;xt=t.now(),zt=xt-this._lastScrollTime,zt>this.minScrollDeltaTime?(this._lastScrollTime=xt,X={tracker:O.eventSource,position:O.position,scroll:O.scroll,shift:O.shift,originalEvent:O.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",X),!X.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(O.position.x=this.viewport.getContainerSize().x-O.position.x),dt=this.gestureSettingsByDeviceType(O.pointerType),dt.scrollToZoom&&(kt=Math.pow(this.zoomPerScroll,O.scroll),this.viewport.zoomBy(kt,dt.zoomToRefPoint?this.viewport.pointFromPixel(O.position,!0):null),this.viewport.applyConstraints())),O.preventDefault=X.preventDefault):O.preventDefault=!0}function ye(O){o[this.hash].mouseInside=!0,M(this),this.raiseEvent("container-enter",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function Gt(O){O.pointers<1&&(o[this.hash].mouseInside=!1,o[this.hash].animating||k(this)),this.raiseEvent("container-exit",{tracker:O.eventSource,pointerType:O.pointerType,position:O.position,buttons:O.buttons,pointers:O.pointers,insideElementPressed:O.insideElementPressed,buttonDownAny:O.buttonDownAny,originalEvent:O.originalEvent})}function de(O){Qe(O),O.isOpen()?O._updateRequestId=v(O,de):O._updateRequestId=!1}function Jt(O,X){var dt=O.viewport,kt=dt.getZoom(),xt=dt.getCenter();dt.resize(X,O.preserveImageSizeOnResize),dt.panTo(xt,!0);var zt;if(O.preserveImageSizeOnResize)zt=o[O.hash].prevContainerSize.x/X.x;else{var _t=new t.Point(0,0),te=new t.Point(o[O.hash].prevContainerSize.x,o[O.hash].prevContainerSize.y).distanceTo(_t),le=new t.Point(X.x,X.y).distanceTo(_t);zt=le/te*o[O.hash].prevContainerSize.x/X.x}dt.zoomTo(kt*zt,null,!0),o[O.hash].prevContainerSize=X,o[O.hash].forceRedraw=!0,o[O.hash].needsResize=!1,o[O.hash].forceResize=!1}function Qe(O){if(!(O._opening||!o[O.hash])){if(O.autoResize||o[O.hash].forceResize){var X;if(O._autoResizePolling){X=u(O.container);var dt=o[O.hash].prevContainerSize;X.equals(dt)||(o[O.hash].needsResize=!0)}o[O.hash].needsResize&&Jt(O,X||u(O.container))}var kt=O.viewport.update(),xt=O.world.update()||kt;kt&&O.raiseEvent("viewport-change"),O.referenceStrip&&(xt=O.referenceStrip.update(O.viewport)||xt);var zt=o[O.hash].animating;!zt&&xt&&(O.raiseEvent("animation-start"),M(O));var _t=zt&&!xt;_t&&(o[O.hash].animating=!1),(xt||_t||o[O.hash].forceRedraw||O.world.needsDraw())&&(wt(O),O._drawOverlays(),O.navigator&&O.navigator.update(O.viewport),o[O.hash].forceRedraw=!1,xt&&O.raiseEvent("animation")),_t&&(O.raiseEvent("animation-finish"),o[O.hash].mouseInside||k(O)),o[O.hash].animating=xt}}function wt(O){O.imageLoader.clear(),O.drawer.clear(),O.world.draw(),O.raiseEvent("update-viewport",{})}function Ot(O,X){return O?O+X:X}function Wt(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=this.zoomPerSecond,o[this.hash].zooming=!0,se(this)}function ee(){o[this.hash].lastZoomTime=t.now(),o[this.hash].zoomFactor=1/this.zoomPerSecond,o[this.hash].zooming=!0,se(this)}function me(){o[this.hash].zooming=!1}function se(O){t.requestAnimationFrame(t.delegate(O,he))}function he(){var O,X,dt;o[this.hash].zooming&&this.viewport&&(O=t.now(),X=O-o[this.hash].lastZoomTime,dt=Math.pow(o[this.hash].zoomFactor,X/1e3),this.viewport.zoomBy(dt),this.viewport.applyConstraints(),o[this.hash].lastZoomTime=O,se(this))}function er(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ft(){this.viewport&&(o[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function qt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Yt(){this.viewport&&this.viewport.goHome()}function Xt(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function ot(){if(this.viewport){var O=this.viewport.getRotation();this.viewport.flipped?O+=this.rotationIncrement:O-=this.rotationIncrement,this.viewport.setRotation(O)}}function ft(){if(this.viewport){var O=this.viewport.getRotation();this.viewport.flipped?O-=this.rotationIncrement:O+=this.rotationIncrement,this.viewport.setRotation(O)}}function vt(){this.viewport.toggleFlip()}}(r),function(t){t.Navigator=function(v){var _=v.viewer,k=this,C,M;v.element||v.id?(v.element?(v.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),v.element.id?v.id=v.element.id:v.id="navigator-"+t.now(),this.element=v.element):this.element=document.getElementById(v.id),v.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(v.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),v.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:v.autoFade},v.position&&(v.position==="BOTTOM_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:v.position==="BOTTOM_LEFT"?v.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:v.position==="TOP_RIGHT"?v.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:v.position==="TOP_LEFT"?v.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:v.position==="ABSOLUTE"&&(v.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,v.controlOptions.top=v.top,v.controlOptions.left=v.left,v.controlOptions.height=v.height,v.controlOptions.width=v.width))),this.element.id=v.id,this.element.className+=" navigator",v=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},v,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:v.animationTime,autoResize:!1,minZoomImageRatio:1,background:v.background,opacity:v.opacity,borderColor:v.borderColor,displayRegionColor:v.displayRegionColor}),v.minPixelRatio=this.minPixelRatio=_.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),v.controlOptions.anchor!==t.ControlAnchor.NONE&&function(U,H){U.margin="0px",U.border=H+"px solid "+v.borderColor,U.padding="0px",U.background=v.background,U.opacity=v.opacity,U.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(U,H){U.position="relative",U.top="0px",U.left="0px",U.fontSize="0px",U.overflow="hidden",U.border=H+"px solid "+v.displayRegionColor,U.margin="0px",U.padding="0px",U.background="transparent",U.float="left",U.cssFloat="left",U.styleFloat="left",U.zIndex=999999999,U.cursor="default"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),_.addControl(this.element,v.controlOptions),this._resizeWithViewer=v.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&v.controlOptions.anchor!==t.ControlAnchor.NONE,v.width&&v.height?(this.setWidth(v.width),this.setHeight(v.height)):this._resizeWithViewer&&(C=t.getElementSize(_.element),this.element.style.height=Math.round(C.y*v.sizeRatio)+"px",this.element.style.width=Math.round(C.x*v.sizeRatio)+"px",this.oldViewerSize=C,M=t.getElementSize(this.element),this.elementArea=M.x*M.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[v]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function A(U){p(k.displayRegionContainer,U),p(k.displayRegion,-U),k.viewport.setRotation(U)}if(v.navigatorRotate){var F=v.viewer.viewport?v.viewer.viewport.getRotation():v.viewer.degrees||0;A(F),v.viewer.addHandler("rotate",function(U){A(U.degrees)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,o),releaseHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),preProcessEventHandler:function(U){U.eventType==="wheel"&&(U.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){k.viewport&&k.viewport.goHome(!0)}),_.world.addHandler("item-index-change",function(U){window.setTimeout(function(){var H=k.world.getItemAt(U.previousIndex);k.world.setItemIndex(H,U.newIndex)},1)}),_.world.addHandler("remove-item",function(U){var H=U.item,W=k._getMatchingItem(H);W&&k.world.removeItem(W)}),this.update(_.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var v=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);v.equals(this.oldContainerSize)||(this.viewport.resize(v,!0),this.viewport.goHome(!0),this.oldContainerSize=v,this.drawer.clear(),this.world.draw())}},setWidth:function(v){this.width=v,this.element.style.width=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setHeight:function(v){this.height=v,this.element.style.height=typeof v=="number"?v+"px":v,this._resizeWithViewer=!1},setFlip:function(v){return this.viewport.setFlip(v),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(v){m(this.displayRegion,v),m(this.canvas,v),m(this.element,v)},update:function(v){var _,k,C,M,A,F;if(_=t.getElementSize(this.viewer.element),this._resizeWithViewer&&_.x&&_.y&&!_.equals(this.oldViewerSize)&&(this.oldViewerSize=_,this.maintainSizeRatio||!this.elementArea?(k=_.x*this.sizeRatio,C=_.y*this.sizeRatio):(k=Math.sqrt(this.elementArea*(_.x/_.y)),C=this.elementArea/k),this.element.style.width=Math.round(k)+"px",this.element.style.height=Math.round(C)+"px",this.elementArea||(this.elementArea=k*C),this.updateSize()),v&&this.viewport){M=v.getBoundsNoRotate(!0),A=this.viewport.pixelFromPointNoRotate(M.getTopLeft(),!1),F=this.viewport.pixelFromPointNoRotate(M.getBottomRight(),!1).minus(this.totalBorderWidths);var U=this.displayRegion.style;U.display=this.world.getItemCount()?"block":"none",U.top=Math.round(A.y)+"px",U.left=Math.round(A.x)+"px";var H=Math.abs(A.x-F.x),W=Math.abs(A.y-F.y);U.width=Math.round(Math.max(H,0))+"px",U.height=Math.round(Math.max(W,0))+"px"}},addTiledImage:function(v){var _=this,k=v.originalTiledImage;delete v.original;var C=t.extend({},v,{success:function(M){var A=M.item;A._originalForNavigator=k,_._matchBounds(A,k,!0),_._matchOpacity(A,k),_._matchCompositeOperation(A,k);function F(){_._matchBounds(A,k)}function U(){_._matchOpacity(A,k)}function H(){_._matchCompositeOperation(A,k)}k.addHandler("bounds-change",F),k.addHandler("clip-change",F),k.addHandler("opacity-change",U),k.addHandler("composite-operation-change",H)}});return t.Viewer.prototype.addTiledImage.apply(this,[C])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(v){for(var _=this.world.getItemCount(),k,C=0;C<_;C++)if(k=this.world.getItemAt(C),k._originalForNavigator===v)return k;return null},_matchBounds:function(v,_,k){var C=_.getBoundsNoRotate();v.setPosition(C.getTopLeft(),k),v.setWidth(C.width,k),v.setRotation(_.getRotation(),k),v.setClip(_.getClip()),v.setFlip(_.getFlip())},_matchOpacity:function(v,_){v.setOpacity(_.opacity)},_matchCompositeOperation:function(v,_){v.setCompositeOperation(_.compositeOperation)}});function o(v){var _={tracker:v.eventSource,position:v.position,quick:v.quick,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",_),!_.preventDefaultAction&&v.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(v.position.x=this.viewport.getContainerSize().x-v.position.x);var k=this.viewport.pointFromPixel(v.position);this.panVertical?this.panHorizontal||(k.x=this.viewer.viewport.getCenter(!0).x):k.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(k),this.viewer.viewport.applyConstraints()}}function l(v){var _={tracker:v.eventSource,position:v.position,delta:v.delta,speed:v.speed,direction:v.direction,shift:v.shift,originalEvent:v.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",_),!_.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(v.delta.x=0),this.panVertical||(v.delta.y=0),this.viewer.viewport.flipped&&(v.delta.x=-v.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(v.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function u(v){v.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function d(v){var _={tracker:v.eventSource,position:v.position,scroll:v.scroll,shift:v.shift,originalEvent:v.originalEvent,preventDefault:v.preventDefault};this.viewer.raiseEvent("navigator-scroll",_),v.preventDefault=_.preventDefault}function p(v,_){m(v,"rotate("+_+"deg)")}function m(v,_){v.style.webkitTransform=_,v.style.mozTransform=_,v.style.msTransform=_,v.style.oTransform=_,v.style.transform=_}}(r),function(t){var o={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var u=l.split("."),d=null,p=arguments,m=o,v;for(v=0;v<u.length-1;v++)m=m[u[v]]||{};return d=m[u[v]],typeof d!="string"&&(t.console.error("Untranslated source string:",l),d=""),d.replace(/\{\d+\}/g,function(_){var k=parseInt(_.match(/\d+/),10)+1;return k<p.length?p[k]:""})},setString:function(l,u){var d=l.split("."),p=o,m;for(m=0;m<d.length-1;m++)p[d[m]]||(p[d[m]]={}),p=p[d[m]];p[d[m]]=u}})}(r),function(t){t.Point=function(o,l){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(o){return new t.Point(this.x+o.x,this.y+o.y)},minus:function(o){return new t.Point(this.x-o.x,this.y-o.y)},times:function(o){return new t.Point(this.x*o,this.y*o)},divide:function(o){return new t.Point(this.x/o,this.y/o)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))},squaredDistanceTo:function(o){return Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2)},apply:function(o){return new t.Point(o(this.x),o(this.y))},equals:function(o){return o instanceof t.Point&&this.x===o.x&&this.y===o.y},rotate:function(o,l){l=l||new t.Point(0,0);var u,d;if(o%90===0){var p=t.positiveModulo(o,360);switch(p){case 0:u=1,d=0;break;case 90:u=0,d=1;break;case 180:u=-1,d=0;break;case 270:u=0,d=-1;break}}else{var m=o*Math.PI/180;u=Math.cos(m),d=Math.sin(m)}var v=u*(this.x-l.x)-d*(this.y-l.y)+l.x,_=d*(this.x-l.x)+u*(this.y-l.y)+l.y;return new t.Point(v,_)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(r),function(t){t.TileSource=function(l,u,d,p,m,v){var _=this,k=arguments,C,M;if(t.isPlainObject(l)?C=l:C={width:k[0],height:k[1],tileSize:k[2],tileOverlap:k[3],minLevel:k[4],maxLevel:k[5]},t.EventSource.call(this),t.extend(!0,this,C),!this.success){for(M=0;M<arguments.length;M++)if(t.isFunction(arguments[M])){this.success=arguments[M];break}}this.success&&this.addHandler("ready",function(A){_.success(A)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=C.width&&C.height?C.width/C.height:1,this.dimensions=new t.Point(C.width,C.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=C.tileOverlap?C.tileOverlap:0,this.minLevel=C.minLevel?C.minLevel:0,this.maxLevel=C.maxLevel!==void 0&&C.maxLevel!==null?C.maxLevel:C.width&&C.height?Math.ceil(Math.log(Math.max(C.width,C.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},u;for(u=0;u<=this.maxLevel;u++)l[u]=1/Math.pow(2,this.maxLevel-u);this.getLevelScale=function(d){return l[d]}},getNumTiles:function(l){var u=this.getLevelScale(l),d=Math.ceil(u*this.dimensions.x/this.getTileWidth(l)),p=Math.ceil(u*this.dimensions.y/this.getTileHeight(l));return new t.Point(d,p)},getPixelRatio:function(l){var u=this.dimensions.times(this.getLevelScale(l)),d=1/u.x*t.pixelDensityRatio,p=1/u.y*t.pixelDensityRatio;return new t.Point(d,p)},getClosestLevel:function(){var l,u;for(l=this.minLevel+1;l<=this.maxLevel&&(u=this.getNumTiles(l),!(u.x>1||u.y>1));l++);return l-1},getTileAtPoint:function(l,u){var d=u.x>=0&&u.x<=1&&u.y>=0&&u.y<=1/this.aspectRatio;t.console.assert(d,"[TileSource.getTileAtPoint] must be called with a valid point.");var p=this.dimensions.x*this.getLevelScale(l),m=u.x*p,v=u.y*p,_=Math.floor(m/this.getTileWidth(l)),k=Math.floor(v/this.getTileHeight(l));u.x>=1&&(_=this.getNumTiles(l).x-1);var C=1e-15;return u.y>=1/this.aspectRatio-C&&(k=this.getNumTiles(l).y-1),new t.Point(_,k)},getTileBounds:function(l,u,d,p){var m=this.dimensions.times(this.getLevelScale(l)),v=this.getTileWidth(l),_=this.getTileHeight(l),k=u===0?0:v*u-this.tileOverlap,C=d===0?0:_*d-this.tileOverlap,M=v+(u===0?1:2)*this.tileOverlap,A=_+(d===0?1:2)*this.tileOverlap,F=1/m.x;return M=Math.min(M,m.x-k),A=Math.min(A,m.y-C),p?new t.Rect(0,0,M,A):new t.Rect(k*F,C*F,M*F,A*F)},getImageInfo:function(l){var u=this,d,p,m,v,_,k,C;l&&(_=l.split("/"),k=_[_.length-1],C=k.lastIndexOf("."),C>-1&&(_[_.length-1]=k.slice(0,C)));var M=null;if(this.splitHashDataForPost){var A=l.indexOf("#");A!==-1&&(M=l.substring(A+1),l=l.substr(0,A))}p=function(F){typeof F=="string"&&(F=t.parseXml(F));var U=t.TileSource.determineType(u,F,l);if(!U){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}v=U.prototype.configure.apply(u,[F,l,M]),v.ajaxWithCredentials===void 0&&(v.ajaxWithCredentials=u.ajaxWithCredentials),m=new U(v),u.ready=!0,u.raiseEvent("ready",{tileSource:m})},l.match(/\.js$/)?(d=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:d,callback:p})):t.makeAjaxRequest({url:l,postData:M,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(F){var U=o(F);p(U)},error:function(F,U){var H;try{H="HTTP "+F.status+" attempting to load TileSource: "+l}catch{var W;typeof U>"u"||!U.toString?W="Unknown error":W=U.toString(),H=W+" attempting to load TileSource: "+l}t.console.error(H),u.raiseEvent("open-failed",{message:H,source:l,postData:M})}})},supports:function(l,u){return!1},configure:function(l,u,d){throw new Error("Method not implemented.")},getTileUrl:function(l,u,d){throw new Error("Method not implemented.")},getTilePostData:function(l,u,d){return null},getTileAjaxHeaders:function(l,u,d){return{}},getTileHashKey:function(l,u,d,p,m,v){function _(k){return m?k+"+"+JSON.stringify(m):k}return _(typeof p!="string"?l+"/"+u+"_"+d:p)},tileExists:function(l,u,d){var p=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&u>=0&&d>=0&&u<p.x&&d<p.y},hasTransparency:function(l,u,d,p){return!!l||u.match(".png")},downloadTileStart:function(l){var u=l.userData,d=new Image;u.image=d,u.request=null;var p=function(m){if(!d){l.finish(null,u.request,"Image load failed: undefined Image instance.");return}d.onload=d.onerror=d.onabort=null,l.finish(m?null:d,u.request,m)};d.onload=function(){p()},d.onabort=d.onerror=function(){p("Image load aborted.")},l.loadWithAjax?u.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(m){var v;try{v=new window.Blob([m.response])}catch(C){var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(C.name==="TypeError"&&_){var k=new _;k.append(m.response),v=k.getBlob()}}v.size===0?p("Empty image response."):d.src=(window.URL||window.webkitURL).createObjectURL(v)},error:function(m){p("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(d.crossOrigin=l.crossOriginPolicy),d.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var u=l.userData.image;l.userData.image&&(u.onload=u.onerror=u.onabort=null)},createTileCache:function(l,u,d){l._data=u},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var u=document.createElement("canvas");u.width=l._data.width,u.height=l._data.height,l._renderedContext=u.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function o(l){var u=l.responseText,d=l.status,p,m;if(l){if(l.status!==200&&l.status!==0)throw d=l.status,p=d===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",d,p))}else throw new Error(t.getString("Errors.Security"));if(u.match(/\s*<.*/))try{m=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(u)}catch{m=l.responseText}else if(u.match(/\s*[{[].*/))try{m=t.parseJSON(u)}catch{m=u}else m=u;return m}t.TileSource.determineType=function(l,u,d){var p;for(p in r)if(p.match(/.+TileSource$/)&&t.isFunction(r[p])&&t.isFunction(r[p].prototype.supports)&&r[p].prototype.supports.call(l,u,d))return r[p];return t.console.error("No TileSource was able to open %s %s",d,u),null}}(r),function(t){t.DziTileSource=function(u,d,p,m,v,_,k,C,M){var A,F,U,H;if(t.isPlainObject(u)?H=u:H={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=H.tilesUrl,this.fileFormat=H.fileFormat,this.displayRects=H.displayRects,this.displayRects)for(A=this.displayRects.length-1;A>=0;A--)for(F=this.displayRects[A],U=F.minLevel;U<=F.maxLevel;U++)this._levelRects[U]||(this._levelRects[U]=[]),this._levelRects[U].push(F);t.TileSource.apply(this,[H])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(u,d){var p;return u.Image?p=u.Image.xmlns:u.documentElement&&(u.documentElement.localName==="Image"||u.documentElement.tagName==="Image")&&(p=u.documentElement.namespaceURI),p=(p||"").toLowerCase(),p.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||p.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(u,d,p){var m;return t.isPlainObject(u)?m=l(this,u):m=o(this,u),d&&!m.tilesUrl&&(m.tilesUrl=d.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),d.search(/\.(dzi|xml|js)\?/)!==-1?m.queryParams=d.match(/\?.*/):m.queryParams=""),m},getTileUrl:function(u,d,p){return[this.tilesUrl,u,"/",d,"_",p,".",this.fileFormat,this.queryParams].join("")},tileExists:function(u,d,p){var m=this._levelRects[u],v,_,k,C,M,A,F;if(this.minLevel&&u<this.minLevel||this.maxLevel&&u>this.maxLevel)return!1;if(!m||!m.length)return!0;for(F=m.length-1;F>=0;F--)if(v=m[F],!(u<v.minLevel||u>v.maxLevel)&&(_=this.getLevelScale(u),k=v.x*_,C=v.y*_,M=k+v.width*_,A=C+v.height*_,k=Math.floor(k/this._tileWidth),C=Math.floor(C/this._tileWidth),M=Math.ceil(M/this._tileWidth),A=Math.ceil(A/this._tileWidth),k<=d&&d<M&&C<=p&&p<A))return!0;return!1}});function o(u,d){if(!d||!d.documentElement)throw new Error(t.getString("Errors.Xml"));var p=d.documentElement,m=p.localName||p.tagName,v=d.documentElement.namespaceURI,_=null,k=[],C,M,A,F,U;if(m==="Image")try{if(F=p.getElementsByTagName("Size")[0],F===void 0&&(F=p.getElementsByTagNameNS(v,"Size")[0]),_={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:p.getAttribute("Url"),Format:p.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(p.getAttribute("Overlap"),10),TileSize:parseInt(p.getAttribute("TileSize"),10),Size:{Height:parseInt(F.getAttribute("Height"),10),Width:parseInt(F.getAttribute("Width"),10)}}},!t.imageFormatSupported(_.Image.Format))throw new Error(t.getString("Errors.ImageFormat",_.Image.Format.toUpperCase()));for(C=p.getElementsByTagName("DisplayRect"),C===void 0&&(C=p.getElementsByTagNameNS(v,"DisplayRect")[0]),U=0;U<C.length;U++)M=C[U],A=M.getElementsByTagName("Rect")[0],A===void 0&&(A=M.getElementsByTagNameNS(v,"Rect")[0]),k.push({Rect:{X:parseInt(A.getAttribute("X"),10),Y:parseInt(A.getAttribute("Y"),10),Width:parseInt(A.getAttribute("Width"),10),Height:parseInt(A.getAttribute("Height"),10),MinLevel:parseInt(M.getAttribute("MinLevel"),10),MaxLevel:parseInt(M.getAttribute("MaxLevel"),10)}});return k.length&&(_.Image.DisplayRect=k),l(u,_)}catch(j){throw j instanceof Error?j:new Error(t.getString("Errors.Dzi"))}else{if(m==="Collection")throw new Error(t.getString("Errors.Dzc"));if(m==="Error"){var H=p.getElementsByTagName("Message")[0],W=H.firstChild.nodeValue;throw new Error(W)}}throw new Error(t.getString("Errors.Dzi"))}function l(u,d){var p=d.Image,m=p.Url,v=p.Format,_=p.Size,k=p.DisplayRect||[],C=parseInt(_.Width,10),M=parseInt(_.Height,10),A=parseInt(p.TileSize,10),F=parseInt(p.Overlap,10),U=[],H,W;for(W=0;W<k.length;W++)H=k[W].Rect,U.push(new t.DisplayRect(parseInt(H.X,10),parseInt(H.Y,10),parseInt(H.Width,10),parseInt(H.Height,10),parseInt(H.MinLevel,10),parseInt(H.MaxLevel,10)));return t.extend(!0,{width:C,height:M,tileSize:A,tileOverlap:F,minLevel:null,maxLevel:null,tilesUrl:m,fileFormat:v,displayRects:U},d)}}(r),function(t){t.IIIFTileSource=function(p){if(t.extend(!0,this,p),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(p.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=p.version,this.tile_width&&this.tile_height)p.tileWidth=this.tile_width,p.tileHeight=this.tile_height;else if(this.tile_width)p.tileSize=this.tile_width;else if(this.tile_height)p.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)p.tileWidth=this.tiles[0].width,p.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var m=0;m<this.tiles.length;m++)for(var v=0;v<this.tiles[m].scaleFactors.length;v++){var _=this.tiles[m].scaleFactors[v];this.scale_factors.push(_),p.tileSizePerScaleFactor[_]={width:this.tiles[m].width,height:this.tiles[m].height||this.tiles[m].width}}}else if(o(p)){for(var k=Math.min(this.height,this.width),C=[256,512,1024],M=[],A=0;A<C.length;A++)C[A]<=k&&M.push(C[A]);M.length>0?p.tileSize=Math.max.apply(null,M):p.tileSize=k}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,p.levels=l(this),t.extend(!0,p,{width:p.levels[p.levels.length-1].width,height:p.levels[p.levels.length-1].height,tileSize:Math.max(p.height,p.width),tileOverlap:0,minLevel:0,maxLevel:p.levels.length-1}),this.levels=p.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!p.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)p.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var F=Math.max.apply(null,this.scale_factors);p.maxLevel=Math.round(Math.log(F)*Math.LOG2E)}t.TileSource.apply(this,[p])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(p,m){return p.protocol&&p.protocol==="http://iiif.io/api/image"||p["@context"]&&(p["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||p["@context"]==="http://iiif.io/api/image/1/context.json")||p.profile&&p.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||p.identifier&&p.width&&p.height?!0:!!(p.documentElement&&p.documentElement.tagName==="info"&&p.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(p,m,v){if(t.isPlainObject(p)){if(!p["@context"])p["@context"]="http://iiif.io/api/image/1.0/context.json",p["@id"]=m.replace("/info.json",""),p.version=1;else{var k=p["@context"];if(Array.isArray(k)){for(var C=0;C<k.length;C++)if(typeof k[C]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(k[C])||k[C]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){k=k[C];break}}switch(k){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":p.version=1;break;case"http://iiif.io/api/image/2/context.json":p.version=2;break;case"http://iiif.io/api/image/3/context.json":p.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(p.preferredFormats){for(var M=0;M<p.preferredFormats.length;M++)if(r.imageFormatSupported(p.preferredFormats[M])){p.tileFormat=p.preferredFormats[M];break}}return p}else{var _=u(p);return _["@context"]="http://iiif.io/api/image/1.0/context.json",_["@id"]=m.replace("/info.xml",""),_.version=1,_}},getTileWidth:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,p);var m=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].width:this._tileWidth},getTileHeight:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,p);var m=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[m]?this.tileSizePerScaleFactor[m].height:this._tileHeight},getLevelScale:function(p){if(this.emulateLegacyImagePyramid){var m=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(m=this.levels[p].width/this.levels[this.maxLevel].width),m}return t.TileSource.prototype.getLevelScale.call(this,p)},getNumTiles:function(p){if(this.emulateLegacyImagePyramid){var m=this.getLevelScale(p);return m?new t.Point(1,1):new t.Point(0,0)}return t.TileSource.prototype.getNumTiles.call(this,p)},getTileAtPoint:function(p,m){return this.emulateLegacyImagePyramid?new t.Point(0,0):t.TileSource.prototype.getTileAtPoint.call(this,p,m)},getTileUrl:function(p,m,v){if(this.emulateLegacyImagePyramid){var _=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(_=this.levels[p].url),_}var k="0",C=Math.pow(.5,this.maxLevel-p),M=Math.round(this.width*C),A=Math.round(this.height*C),F,U,H,W,j,q,nt,pt,ut,ct,V,at,ht,mt;return F=this.getTileWidth(p),U=this.getTileHeight(p),H=Math.round(F/C),W=Math.round(U/C),this.version===1?ht="native."+this.tileFormat:ht="default."+this.tileFormat,M<F&&A<U?(this.version===2&&M===this.width?ct="full":this.version===3&&M===this.width&&A===this.height?ct="max":this.version===3?ct=M+","+A:ct=M+",",j="full"):(q=m*H,nt=v*W,pt=Math.min(H,this.width-q),ut=Math.min(W,this.height-nt),m===0&&v===0&&pt===this.width&&ut===this.height?j="full":j=[q,nt,pt,ut].join(","),V=Math.round(pt*C),at=Math.round(ut*C),this.version===2&&V===this.width?ct="full":this.version===3&&V===this.width&&at===this.height?ct="max":this.version===3?ct=V+","+at:ct=V+","),mt=[this._id,j,ct,k,ht].join("/"),mt},__testonly__:{canBeTiled:o,constructLevels:l}});function o(p){var m=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],v=Array.isArray(p.profile)?p.profile[0]:p.profile,_=m.indexOf(v)!==-1,k=!1;return p.version===2&&p.profile.length>1&&p.profile[1].supports&&(k=p.profile[1].supports.indexOf("sizeByW")!==-1),p.version===3&&p.extraFeatures&&(k=p.extraFeatures.indexOf("sizeByWh")!==-1),!_||k}function l(p){for(var m=[],v=0;v<p.sizes.length;v++)m.push({url:p._id+"/full/"+p.sizes[v].width+","+(p.version===3?p.sizes[v].height:"")+"/0/default."+p.tileFormat,width:p.sizes[v].width,height:p.sizes[v].height});return m.sort(function(_,k){return _.width-k.width})}function u(p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var m=p.documentElement,v=m.tagName,_=null;if(v==="info")try{return _={},d(m,_),_}catch(k){throw k instanceof Error?k:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function d(p,m,v){var _,k;if(p.nodeType===3&&v)k=p.nodeValue.trim(),k.match(/^\d*$/)&&(k=Number(k)),m[v]?(t.isArray(m[v])||(m[v]=[m[v]]),m[v].push(k)):m[v]=k;else if(p.nodeType===1)for(_=0;_<p.childNodes.length;_++)d(p.childNodes[_],m,p.nodeName)}}(r),function(t){t.OsmTileSource=function(o,l,u,d,p){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!m.width||!m.height)&&(m.width=65572864,m.height=65572864),m.tileSize||(m.tileSize=256,m.tileOverlap=0),m.tilesUrl||(m.tilesUrl="http://tile.openstreetmap.org/"),m.minLevel=8,t.TileSource.apply(this,[m])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="openstreetmaps"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){return this.tilesUrl+(o-8)+"/"+l+"/"+u+".png"}})}(r),function(t){t.TmsTileSource=function(o,l,u,d,p){var m;t.isPlainObject(o)?m=o:m={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var v=Math.ceil(m.width/256)*256,_=Math.ceil(m.height/256)*256,k;v>_?k=v/256:k=_/256,m.maxLevel=Math.ceil(Math.log(k)/Math.log(2))-1,m.tileSize=256,m.width=v,m.height=_,t.TileSource.apply(this,[m])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="tiledmapservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=this.getNumTiles(o).y-1;return this.tilesUrl+o+"/"+l+"/"+(d-u)+".png"}})}(r),function(t){t.ZoomifyTileSource=function(o){typeof o.tileSize>"u"&&(o.tileSize=256),typeof o.fileFormat>"u"&&(o.fileFormat="jpg",this.fileFormat=o.fileFormat);var l={x:o.width,y:o.height};for(o.imageSizes=[{x:o.width,y:o.height}],o.gridSize=[this._getGridSize(o.width,o.height,o.tileSize)];parseInt(l.x,10)>o.tileSize||parseInt(l.y,10)>o.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),o.imageSizes.push({x:l.x,y:l.y}),o.gridSize.push(this._getGridSize(l.x,l.y,o.tileSize));o.imageSizes.reverse(),o.gridSize.reverse(),o.minLevel=0,o.maxLevel=o.gridSize.length-1,r.TileSource.apply(this,[o])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(o,l,u){return{x:Math.ceil(o/u),y:Math.ceil(l/u)}},_calculateAbsoluteTileNumber:function(o,l,u){for(var d=0,p={},m=0;m<o;m++)p=this.gridSize[m],d+=p.x*p.y;return p=this.gridSize[o],d+=p.x*u+l,d},supports:function(o,l){return o.type&&o.type==="zoomifytileservice"},configure:function(o,l,u){return o},getTileUrl:function(o,l,u){var d=0,p=this._calculateAbsoluteTileNumber(o,l,u);return d=Math.floor(p/256),this.tilesUrl+"TileGroup"+d+"/"+o+"-"+l+"-"+u+"."+this.fileFormat}})}(r),function(t){t.LegacyTileSource=function(d){var p,m,v;t.isArray(d)&&(p={type:"legacy-image-pyramid",levels:d}),p.levels=o(p.levels),p.levels.length>0?(m=p.levels[p.levels.length-1].width,v=p.levels[p.levels.length-1].height):(m=0,v=0,t.console.error("No supported image formats found")),t.extend(!0,p,{width:m,height:v,tileSize:Math.max(v,m),tileOverlap:0,minLevel:0,maxLevel:p.levels.length>0?p.levels.length-1:0}),t.TileSource.apply(this,[p]),this.levels=p.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(d,p){return d.type&&d.type==="legacy-image-pyramid"||d.documentElement&&d.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(d,p,m){var v;return t.isPlainObject(d)?v=u(this,d):v=l(this,d),v},getLevelScale:function(d){var p=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(p=this.levels[d].width/this.levels[this.maxLevel].width),p},getNumTiles:function(d){var p=this.getLevelScale(d);return p?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(d,p,m){var v=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(v=this.levels[d].url),v}});function o(d){var p=[],m,v;for(v=0;v<d.length;v++)m=d[v],m.height&&m.width&&m.url?p.push({url:m.url,width:Number(m.width),height:Number(m.height)}):t.console.error("Unsupported image format: %s",m.url?m.url:"<no URL>");return p.sort(function(_,k){return _.height-k.height})}function l(d,p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var m=p.documentElement,v=m.tagName,_=null,k=[],C,M;if(v==="image")try{for(_={type:m.getAttribute("type"),levels:[]},k=m.getElementsByTagName("level"),M=0;M<k.length;M++)C=k[M],_.levels.push({url:C.getAttribute("url"),width:parseInt(C.getAttribute("width"),10),height:parseInt(C.getAttribute("height"),10)});return u(d,_)}catch(A){throw A instanceof Error?A:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(v==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(v==="error")throw new Error("Error: "+p)}throw new Error("Unknown element "+v)}function u(d,p){return p.levels}}(r),function(t){t.ImageTileSource=function(o){o=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},o),t.TileSource.apply(this,[o])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(o,l){return o.type&&o.type==="image"},configure:function(o,l,u){return o},getImageInfo:function(o){var l=this._image=new Image,u=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){u.width=l.naturalWidth,u.height=l.naturalHeight,u.aspectRatio=u.width/u.height,u.dimensions=new t.Point(u.width,u.height),u._tileWidth=u.width,u._tileHeight=u.height,u.tileOverlap=0,u.minLevel=0,u.levels=u._buildLevels(),u.maxLevel=u.levels.length-1,u.ready=!0,u.raiseEvent("ready",{tileSource:u})}),t.addEvent(l,"error",function(){u.raiseEvent("open-failed",{message:"Error loading image at "+o,source:o})}),l.src=o},getLevelScale:function(o){var l=NaN;return o>=this.minLevel&&o<=this.maxLevel&&(l=this.levels[o].width/this.levels[this.maxLevel].width),l},getNumTiles:function(o){var l=this.getLevelScale(o);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].url),d},getContext2D:function(o,l,u){var d=null;return o>=this.minLevel&&o<=this.maxLevel&&(d=this.levels[o].context2D),d},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var o=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas||!this.useCanvas)return delete this._image,o;var l=this._image.naturalWidth,u=this._image.naturalHeight,d=document.createElement("canvas"),p=d.getContext("2d");if(d.width=l,d.height=u,p.drawImage(this._image,0,0,l,u),o[0].context2D=p,delete this._image,t.isCanvasTainted(d))return o;for(;l>=2&&u>=2;){l=Math.floor(l/2),u=Math.floor(u/2);var m=document.createElement("canvas"),v=m.getContext("2d");m.width=l,m.height=u,v.drawImage(d,0,0,l,u),o.splice(0,0,{context2D:v,width:l,height:u}),d=m,p=v}return o},_freeupCanvasMemory:function(){for(var o=0;o<this.levels.length;o++)this.levels[o].context2D&&(this.levels[o].context2D.canvas.height=0,this.levels[o].context2D.canvas.width=0)}})}(r),function(t){t.TileSourceCollection=function(o,l,u,d){t.console.error("TileSourceCollection is deprecated; use World instead")}}(r),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(v){var _=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},v),this.element=v.element||t.makeNeutralElement("div"),v.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",t.Browser.vendor===t.BROWSERS.FIREFOX&&t.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(k){k.insideElementPressed?(p(_,t.ButtonState.DOWN),_.raiseEvent("enter",{originalEvent:k.originalEvent})):k.buttonDownAny||p(_,t.ButtonState.HOVER)},focusHandler:function(k){_.tracker.enterHandler(k),_.raiseEvent("focus",{originalEvent:k.originalEvent})},leaveHandler:function(k){m(_,t.ButtonState.GROUP),k.insideElementPressed&&_.raiseEvent("exit",{originalEvent:k.originalEvent})},blurHandler:function(k){_.tracker.leaveHandler(k),_.raiseEvent("blur",{originalEvent:k.originalEvent})},pressHandler:function(k){p(_,t.ButtonState.DOWN),_.raiseEvent("press",{originalEvent:k.originalEvent})},releaseHandler:function(k){k.insideElementPressed&&k.insideElementReleased?(m(_,t.ButtonState.HOVER),_.raiseEvent("release",{originalEvent:k.originalEvent})):k.insideElementPressed?m(_,t.ButtonState.GROUP):p(_,t.ButtonState.HOVER)},clickHandler:function(k){k.quick&&_.raiseEvent("click",{originalEvent:k.originalEvent})},keyHandler:function(k){k.keyCode===13?(_.raiseEvent("click",{originalEvent:k.originalEvent}),_.raiseEvent("release",{originalEvent:k.originalEvent}),k.preventDefault=!0):k.preventDefault=!1}}),m(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){p(this,t.ButtonState.GROUP)},notifyGroupExit:function(){m(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function o(v){t.requestAnimationFrame(function(){l(v)})}function l(v){var _,k,C;v.shouldFade&&(_=t.now(),k=_-v.fadeBeginTime,C=1-k/v.fadeLength,C=Math.min(1,C),C=Math.max(0,C),v.imgGroup&&t.setElementOpacity(v.imgGroup,C,!0),C>0&&o(v))}function u(v){v.shouldFade=!0,v.fadeBeginTime=t.now()+v.fadeDelay,window.setTimeout(function(){o(v)},v.fadeDelay)}function d(v){v.shouldFade=!1,v.imgGroup&&t.setElementOpacity(v.imgGroup,1,!0)}function p(v,_){v.element.disabled||(_>=t.ButtonState.GROUP&&v.currentState===t.ButtonState.REST&&(d(v),v.currentState=t.ButtonState.GROUP),_>=t.ButtonState.HOVER&&v.currentState===t.ButtonState.GROUP&&(v.imgHover&&(v.imgHover.style.visibility=""),v.currentState=t.ButtonState.HOVER),_>=t.ButtonState.DOWN&&v.currentState===t.ButtonState.HOVER&&(v.imgDown&&(v.imgDown.style.visibility=""),v.currentState=t.ButtonState.DOWN))}function m(v,_){v.element.disabled||(_<=t.ButtonState.HOVER&&v.currentState===t.ButtonState.DOWN&&(v.imgDown&&(v.imgDown.style.visibility="hidden"),v.currentState=t.ButtonState.HOVER),_<=t.ButtonState.GROUP&&v.currentState===t.ButtonState.HOVER&&(v.imgHover&&(v.imgHover.style.visibility="hidden"),v.currentState=t.ButtonState.GROUP),_<=t.ButtonState.REST&&v.currentState===t.ButtonState.GROUP&&(u(v),v.currentState=t.ButtonState.REST))}}(r),function(t){t.ButtonGroup=function(o){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},o);var l=this.buttons.concat([]),u=this,d;if(this.element=o.element||t.makeNeutralElement("div"),!o.group)for(this.element.style.display="inline-block",d=0;d<l.length;d++)this.element.appendChild(l[d].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(p){var m;for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupEnter()},leaveHandler:function(p){var m;if(!p.insideElementPressed)for(m=0;m<u.buttons.length;m++)u.buttons[m].notifyGroupExit()}})},t.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var o=this.buttons.pop();this.element.removeChild(o.element),o.destroy()}this.tracker.destroy(),this.element=null}}}(r),function(t){t.Rect=function(o,l,u,d,p){this.x=typeof o=="number"?o:0,this.y=typeof l=="number"?l:0,this.width=typeof u=="number"?u:0,this.height=typeof d=="number"?d:0,this.degrees=typeof p=="number"?p:0,this.degrees=t.positiveModulo(this.degrees,360);var m,v;this.degrees>=270?(m=this.getTopRight(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=270):this.degrees>=180?(m=this.getBottomRight(),this.x=m.x,this.y=m.y,this.degrees-=180):this.degrees>=90&&(m=this.getBottomLeft(),this.x=m.x,this.y=m.y,v=this.height,this.height=this.width,this.width=v,this.degrees-=90)},t.Rect.fromSummits=function(o,l,u){var d=o.distanceTo(l),p=o.distanceTo(u),m=l.minus(o),v=Math.atan(m.y/m.x);return m.x<0?v+=Math.PI:m.y<0&&(v+=2*Math.PI),new t.Rect(o.x,o.y,d,p,v/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(o){return o instanceof t.Rect&&this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height&&this.degrees===o.degrees},times:function(o){return new t.Rect(this.x*o,this.y*o,this.width*o,this.height*o,this.degrees)},translate:function(o){return new t.Rect(this.x+o.x,this.y+o.y,this.width,this.height,this.degrees)},union:function(o){var l=this.getBoundingBox(),u=o.getBoundingBox(),d=Math.min(l.x,u.x),p=Math.min(l.y,u.y),m=Math.max(l.x+l.width,u.x+u.width),v=Math.max(l.y+l.height,u.y+u.height);return new t.Rect(d,p,m-d,v-p)},intersection:function(o){var l=1e-10,u=[],d=this.getTopLeft();o.containsPoint(d,l)&&u.push(d);var p=this.getTopRight();o.containsPoint(p,l)&&u.push(p);var m=this.getBottomLeft();o.containsPoint(m,l)&&u.push(m);var v=this.getBottomRight();o.containsPoint(v,l)&&u.push(v);var _=o.getTopLeft();this.containsPoint(_,l)&&u.push(_);var k=o.getTopRight();this.containsPoint(k,l)&&u.push(k);var C=o.getBottomLeft();this.containsPoint(C,l)&&u.push(C);var M=o.getBottomRight();this.containsPoint(M,l)&&u.push(M);for(var A=this._getSegments(),F=o._getSegments(),U=0;U<A.length;U++)for(var H=A[U],W=0;W<F.length;W++){var j=F[W],q=nt(H[0],H[1],j[0],j[1]);q&&u.push(q)}function nt(mt,Qt,ie,ye){var Gt=Qt.minus(mt),de=ye.minus(ie),Jt=-de.x*Gt.y+Gt.x*de.y;if(Jt===0)return null;var Qe=(Gt.x*(mt.y-ie.y)-Gt.y*(mt.x-ie.x))/Jt,wt=(de.x*(mt.y-ie.y)-de.y*(mt.x-ie.x))/Jt;return-l<=Qe&&Qe<=1-l&&-l<=wt&&wt<=1-l?new t.Point(mt.x+wt*Gt.x,mt.y+wt*Gt.y):null}if(u.length===0)return null;for(var pt=u[0].x,ut=u[0].x,ct=u[0].y,V=u[0].y,at=1;at<u.length;at++){var ht=u[at];ht.x<pt&&(pt=ht.x),ht.x>ut&&(ut=ht.x),ht.y<ct&&(ct=ht.y),ht.y>V&&(V=ht.y)}return new t.Rect(pt,ct,ut-pt,V-ct)},_getSegments:function(){var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight();return[[o,l],[l,d],[d,u],[u,o]]},rotate:function(o,l){if(o=t.positiveModulo(o,360),o===0)return this.clone();l=l||this.getCenter();var u=this.getTopLeft().rotate(o,l),d=this.getTopRight().rotate(o,l),p=d.minus(u);p=p.apply(function(v){var _=1e-15;return Math.abs(v)<_?0:v});var m=Math.atan(p.y/p.x);return p.x<0?m+=Math.PI:p.y<0&&(m+=2*Math.PI),new t.Rect(u.x,u.y,this.width,this.height,m/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var o=this.getTopLeft(),l=this.getTopRight(),u=this.getBottomLeft(),d=this.getBottomRight(),p=Math.min(o.x,l.x,u.x,d.x),m=Math.max(o.x,l.x,u.x,d.x),v=Math.min(o.y,l.y,u.y,d.y),_=Math.max(o.y,l.y,u.y,d.y);return new t.Rect(p,v,m-p,_-v)},getIntegerBoundingBox:function(){var o=this.getBoundingBox(),l=Math.floor(o.x),u=Math.floor(o.y),d=Math.ceil(o.width+o.x-l),p=Math.ceil(o.height+o.y-u);return new t.Rect(l,u,d,p)},containsPoint:function(o,l){l=l||0;var u=this.getTopLeft(),d=this.getTopRight(),p=this.getBottomLeft(),m=d.minus(u),v=p.minus(u);return(o.x-u.x)*m.x+(o.y-u.y)*m.y>=-l&&(o.x-d.x)*m.x+(o.y-d.y)*m.y<=l&&(o.x-u.x)*v.x+(o.y-u.y)*v.y>=-l&&(o.x-p.x)*v.x+(o.y-p.y)*v.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(r),function(t){var o={};t.ReferenceStrip=function(C){var M=this,A=C.viewer,F=t.getElementSize(A.element),U,H,W;for(C.id||(C.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=C.id,this.element.className="referencestrip"),C=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},C,{element:this.element}),t.extend(this,C),o[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,H=this.element.style,H.marginTop="0px",H.marginRight="0px",H.marginBottom="0px",H.marginLeft="0px",H.left="0px",H.bottom="0px",H.border="0px",H.background="#000",H.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=A,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,u),scrollHandler:t.delegate(this,d),enterHandler:t.delegate(this,m),leaveHandler:t.delegate(this,v),keyDownHandler:t.delegate(this,_),keyHandler:t.delegate(this,k),preProcessEventHandler:function(j){j.eventType==="wheel"&&(j.preventDefault=!0)}}),C.width&&C.height?(this.element.style.width=C.width+"px",this.element.style.height=C.height+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):C.scroll==="horizontal"?(this.element.style.width=F.x*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.height=F.y*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=F.y*C.sizeRatio*A.tileSources.length+12*A.tileSources.length+"px",this.element.style.width=F.x*C.sizeRatio+"px",A.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=F.x*this.sizeRatio+8,this.panelHeight=F.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},W=0;W<A.tileSources.length;W++)U=t.makeNeutralElement("div"),U.id=this.element.id+"-"+W,U.style.width=M.panelWidth+"px",U.style.height=M.panelHeight+"px",U.style.display="inline",U.style.float="left",U.style.cssFloat="left",U.style.styleFloat="left",U.style.padding="2px",t.setElementTouchActionNone(U),t.setElementPointerEventsNone(U),this.element.appendChild(U),U.activePanel=!1,this.panels.push(U);p(this,this.scroll==="vertical"?F.y:F.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(C){var M=this.element.querySelector("#"+this.element.id+"-"+C),A=t.getElementSize(this.viewer.canvas),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),H=-Number(this.element.style.marginLeft.replace("px","")),W=-Number(this.element.style.marginTop.replace("px","")),j;this.currentSelected!==M&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=M,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(j=Number(C)*(this.panelWidth+3),j>H+A.x-this.panelWidth?(j=Math.min(j,F-A.x),this.element.style.marginLeft=-j+"px",p(this,A.x,-j)):j<H&&(j=Math.max(0,j-A.x/2),this.element.style.marginLeft=-j+"px",p(this,A.x,-j))):(j=Number(C)*(this.panelHeight+3),j>W+A.y-this.panelHeight?(j=Math.min(j,U-A.y),this.element.style.marginTop=-j+"px",p(this,A.y,-j)):j<W&&(j=Math.max(0,j-A.y/2),this.element.style.marginTop=-j+"px",p(this,A.y,-j))),this.currentPage=C,m.call(this,{eventSource:this.tracker}))},update:function(){return!!o[this.id].animating},destroy:function(){if(this.miniViewers)for(var C in this.miniViewers)this.miniViewers[C].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(C){if(C.quick){var M;this.scroll==="horizontal"?M=Math.floor(C.position.x/this.panelWidth):M=Math.floor(C.position.y/this.panelHeight),this.viewer.goToPage(M)}this.element.focus()}function u(C){if(this.dragging=!0,this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-C.delta.x>0?M>-(F-H.x)&&(this.element.style.marginLeft=M+C.delta.x*2+"px",p(this,H.x,M+C.delta.x*2)):-C.delta.x<0&&M<0&&(this.element.style.marginLeft=M+C.delta.x*2+"px",p(this,H.x,M+C.delta.x*2)):-C.delta.y>0?A>-(U-H.y)&&(this.element.style.marginTop=A+C.delta.y*2+"px",p(this,H.y,A+C.delta.y*2)):-C.delta.y<0&&A<0&&(this.element.style.marginTop=A+C.delta.y*2+"px",p(this,H.y,A+C.delta.y*2))}}function d(C){if(this.element){var M=Number(this.element.style.marginLeft.replace("px","")),A=Number(this.element.style.marginTop.replace("px","")),F=Number(this.element.style.width.replace("px","")),U=Number(this.element.style.height.replace("px","")),H=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?C.scroll>0?M>-(F-H.x)&&(this.element.style.marginLeft=M-C.scroll*60+"px",p(this,H.x,M-C.scroll*60)):C.scroll<0&&M<0&&(this.element.style.marginLeft=M-C.scroll*60+"px",p(this,H.x,M-C.scroll*60)):C.scroll<0?A>H.y-U&&(this.element.style.marginTop=A+C.scroll*60+"px",p(this,H.y,A+C.scroll*60)):C.scroll>0&&A<0&&(this.element.style.marginTop=A+C.scroll*60+"px",p(this,H.y,A+C.scroll*60)),C.preventDefault=!0}}function p(C,M,A){var F,U,H,W,j,q;for(C.scroll==="horizontal"?F=C.panelWidth:F=C.panelHeight,U=Math.ceil(M/F)+5,H=Math.ceil((Math.abs(A)+M)/F)+1,U=H-U,U=U<0?0:U,j=U;j<H&&j<C.panels.length;j++)if(q=C.panels[j],!q.activePanel){var nt,pt=C.viewer.tileSources[j];pt.referenceStripThumbnailUrl?nt={type:"image",url:pt.referenceStripThumbnailUrl}:nt=pt,W=new t.Viewer({id:q.id,tileSources:[nt],element:q,navigatorSizeRatio:C.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:C.viewer.loadTilesWithAjax,ajaxHeaders:C.viewer.ajaxHeaders,useCanvas:C.useCanvas}),t.setElementPointerEventsNone(W.canvas),t.setElementPointerEventsNone(W.container),W.innerTracker.setTracking(!1),W.outerTracker.setTracking(!1),C.miniViewers[q.id]=W,q.activePanel=!0}}function m(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="0px":M.style.marginLeft="0px"}function v(C){var M=C.eventSource.element;this.scroll==="horizontal"?M.style.marginBottom="-"+t.getElementSize(M).y/2+"px":M.style.marginLeft="-"+t.getElementSize(M).x/2+"px"}function _(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 38:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 40:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 37:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 39:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}function k(C){if(!C.ctrl&&!C.alt&&!C.meta)switch(C.keyCode){case 61:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 45:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 48:case 119:case 87:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;case 115:case 83:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 97:d.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),C.preventDefault=!0;break;case 100:d.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),C.preventDefault=!0;break;default:C.preventDefault=!1;break}else C.preventDefault=!1}}(r),function(t){t.DisplayRect=function(o,l,u,d,p,m){t.Rect.apply(this,[o,l,u,d]),this.minLevel=p,this.maxLevel=m},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(r),function(t){t.Spring=function(l){var u=arguments;typeof l!="object"&&(l={initial:u.length&&typeof u[0]=="number"?u[0]:void 0,springStiffness:u.length>1?u[1].springStiffness:5,animationTime:u.length>1?u[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();var l,u;this._exponential?(l=this.start._logValue,u=this.target._logValue):(l=this.start.value,u=this.target.value);var d=this.current.time>=this.target.time?u:l+(u-l)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),p=this.current.value;return this._exponential?this.current.value=Math.exp(d):this.current.value=d,p!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function o(l,u){return(1-Math.exp(l*-u))/(1-Math.exp(-l))}}(r),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){var l=this,u=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof u=="function"&&u()},this.source.downloadTileStart(this)},finish:function(l,u,d){this.data=l,this.request=u,this.errorMsg=d,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var u=t.TileSource.prototype;l.source={downloadTileStart:u.downloadTileStart,downloadTileAbort:u.downloadTileAbort}}var d=this,p=function(_){o(d,_,l.callback)},m={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:p,abort:l.abort,timeout:this.timeout},v=new t.ImageJob(m);!this.jobLimit||this.jobsInProgress<this.jobLimit?(v.start(),this.jobsInProgress++):this.jobQueue.push(v)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var u=this.jobQueue[l];typeof u.abort=="function"&&u.abort()}this.jobQueue=[]}};function o(l,u,d){var p;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(p=l.jobQueue.shift(),p.start(),l.jobsInProgress++),d(u.data,u.errorMsg,u.request)}}(r),function(t){t.Tile=function(o,l,u,d,p,m,v,_,k,C,M,A){this.level=o,this.x=l,this.y=u,this.bounds=d,this.sourceBounds=C,this.exists=p,this._url=m,this.postData=M,this.context2D=v,this.loadWithAjax=_,this.ajaxHeaders=k,A===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),A=t.TileSource.prototype.getTileHashKey(o,l,u,m,k,M)),this.cacheKey=A,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(o){if(!this.cacheImageRecord){t.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}if(!this.element){var l=this.getImage();if(!l)return;this.element=t.makeNeutralElement("div"),this.imgElement=l.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==o&&o.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),t.setElementOpacity(this.element,this.opacity)},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(o,l,u,d,p,m){var v=this.position.times(t.pixelDensityRatio),_=this.size.times(t.pixelDensityRatio),k;if(!this.context2D&&!this.cacheImageRecord){t.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(k=this.getCanvasContext(),!this.loaded||!k){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}o.save(),o.globalAlpha=this.opacity,typeof u=="number"&&u!==1&&(v=v.times(u),_=_.times(u)),d instanceof t.Point&&(v=v.plus(d)),o.globalAlpha===1&&this.hasTransparency&&(p&&(v.x=Math.round(v.x),v.y=Math.round(v.y),_.x=Math.round(_.x),_.y=Math.round(_.y)),o.clearRect(v.x,v.y,_.x,_.y)),l({context:o,tile:this,rendered:k});var C,M;this.sourceBounds?(C=Math.min(this.sourceBounds.width,k.canvas.width),M=Math.min(this.sourceBounds.height,k.canvas.height)):(C=k.canvas.width,M=k.canvas.height),o.translate(v.x+_.x/2,0),this.flipped&&o.scale(-1,1),o.drawImage(k.canvas,0,0,C,M,-_.x/2,v.y,_.x,_.y),o.restore()},getScaleForEdgeSmoothing:function(){var o;if(this.cacheImageRecord)o=this.cacheImageRecord.getRenderedContext();else if(this.context2D)o=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return o.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(o,l,u){var d=Math.max(1,Math.ceil((u.x-l.x)/2)),p=Math.max(1,Math.ceil((u.y-l.y)/2));return new t.Point(d,p).minus(this.position.times(t.pixelDensityRatio).times(o||1).apply(function(m){return m%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(r),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(o,l,u){var d;t.isPlainObject(o)?d=o:d={element:o,location:l,placement:u},this.element=d.element,this.style=d.element.style,this._init(d)},t.Overlay.prototype={_init:function(o){this.location=o.location,this.placement=o.placement===void 0?t.Placement.TOP_LEFT:o.placement,this.onDraw=o.onDraw,this.checkResize=o.checkResize===void 0?!0:o.checkResize,this.width=o.width===void 0?null:o.width,this.height=o.height===void 0?null:o.height,this.rotationMode=o.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(o,l){var u=t.Placement.properties[this.placement];u&&(u.isHorizontallyCentered?o.x-=l.x/2:u.isRight&&(o.x-=l.x),u.isVerticallyCentered?o.y-=l.y/2:u.isBottom&&(o.y-=l.y))},destroy:function(){var o=this.element,l=this.style;o.parentNode&&(o.parentNode.removeChild(o),o.prevElementParent&&(l.display="none",document.body.appendChild(o))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var u=t.getCssPropertyWithVendorPrefix("transformOrigin"),d=t.getCssPropertyWithVendorPrefix("transform");u&&d&&(l[u]="",l[d]="")},drawHTML:function(o,l){var u=this.element;u.parentNode!==o&&(u.prevElementParent=u.parentNode,u.prevNextSibling=u.nextSibling,o.appendChild(u),this.style.position="absolute",this.size=t.getElementSize(u));var d=this._getOverlayPositionAndSize(l),p=d.position,m=this.size=d.size,v=d.rotate;if(this.onDraw)this.onDraw(p,m,this.element);else{var _=this.style;_.left=p.x+"px",_.top=p.y+"px",this.width!==null&&(_.width=m.x+"px"),this.height!==null&&(_.height=m.y+"px");var k=t.getCssPropertyWithVendorPrefix("transformOrigin"),C=t.getCssPropertyWithVendorPrefix("transform");k&&C&&(v?(_[k]=this._getTransformOrigin(),_[C]="rotate("+v+"deg)"):(_[k]="",_[C]="")),_.display="block"}},_getOverlayPositionAndSize:function(o){var l=o.pixelFromPoint(this.location,!0),u=this._getSizeInPixels(o);this.adjust(l,u);var d=0;if(o.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var p=new t.Rect(l.x,l.y,u.x,u.y),m=this._getBoundingBox(p,o.getRotation(!0));l=m.getTopLeft(),u=m.getSize()}else d=o.getRotation(!0);return{position:l,size:u,rotate:d}},_getSizeInPixels:function(o){var l=this.size.x,u=this.size.y;if(this.width!==null||this.height!==null){var d=o.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=d.x),this.height!==null&&(u=d.y)}if(this.checkResize&&(this.width===null||this.height===null)){var p=this.size=t.getElementSize(this.element);this.width===null&&(l=p.x),this.height===null&&(u=p.y)}return new t.Point(l,u)},_getBoundingBox:function(o,l){var u=this._getPlacementPoint(o);return o.rotate(l,u).getBoundingBox()},_getPlacementPoint:function(o){var l=new t.Point(o.x,o.y),u=t.Placement.properties[this.placement];return u&&(u.isHorizontallyCentered?l.x+=o.width/2:u.isRight&&(l.x+=o.width),u.isVerticallyCentered?l.y+=o.height/2:u.isBottom&&(l.y+=o.height)),l},_getTransformOrigin:function(){var o="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?o="left":l.isRight&&(o="right"),l.isTop?o+=" top":l.isBottom&&(o+=" bottom")),o},update:function(o,l){var u=t.isPlainObject(o)?o:{location:o,placement:l};this._init({location:u.location||this.location,placement:u.placement!==void 0?u.placement:this.placement,onDraw:u.onDraw||this.onDraw,checkResize:u.checkResize||this.checkResize,width:u.width!==void 0?u.width:this.width,height:u.height!==void 0?u.height:this.height,rotationMode:u.rotationMode||this.rotationMode})},getBounds:function(o){t.console.assert(o,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,u=this.height;if(l===null||u===null){var d=o.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=d.x),u===null&&(u=d.y)}var p=this.location.clone();return this.adjust(p,new t.Point(l,u)),this._adjustBoundsForRotation(o,new t.Rect(p.x,p.y,l,u))},_adjustBoundsForRotation:function(o,l){if(!o||o.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var u=this._getOverlayPositionAndSize(o);return o.viewerElementToViewportRectangle(new t.Rect(u.position.x,u.position.y,u.size.x,u.size.y))}return l.rotate(-o.getRotation(!0),this._getPlacementPoint(l))}}}(r),function(t){t.Drawer=function(o){t.console.assert(o.viewer,"[Drawer] options.viewer is required");var l=arguments;if(t.isPlainObject(o)||(o={source:l[0],viewport:l[1],element:l[2]}),t.console.assert(o.viewport,"[Drawer] options.viewport is required"),t.console.assert(o.element,"[Drawer] options.element is required"),o.source&&t.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=o.viewer,this.viewport=o.viewport,this.debugGridColor=typeof o.debugGridColor=="string"?[o.debugGridColor]:o.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,o.opacity&&t.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=t.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=t.getElement(o.element),this.canvas=t.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var u=this._calculateCanvasSize();this.canvas.width=u.x,this.canvas.height=u.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",t.setElementOpacity(this.canvas,this.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},t.Drawer.prototype={addOverlay:function(o,l,u,d){return t.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(o,l,u,d),this},updateOverlay:function(o,l,u){return t.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(o,l,u),this},removeOverlay:function(o){return t.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(o),this},clearOverlays:function(){return t.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(o){var l=this.viewport.pixelFromPointNoRotate(o,!0);return new t.Point(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio)},clipWithPolygons:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),o.forEach(function(d){d.forEach(function(p,m){u[m===0?"moveTo":"lineTo"](p.x,p.y)})}),u.clip()}},setOpacity:function(o){t.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var l=this.viewer.world,u=0;u<l.getItemCount();u++)l.getItemAt(u).setOpacity(o);return this},getOpacity:function(){t.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var o=this.viewer.world,l=0,u=0;u<o.getItemCount();u++){var d=o.getItemAt(u).getOpacity();d>l&&(l=d)}return l},needsUpdate:function(){return t.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return t.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return t.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return t.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var o=this._calculateCanvasSize();if((this.canvas.width!==o.x||this.canvas.height!==o.y)&&(this.canvas.width=o.x,this.canvas.height=o.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var l=this._calculateSketchCanvasSize();this.sketchCanvas.width=l.x,this.sketchCanvas.height=l.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(o,l){if(this.useCanvas){var u=this._getContext(o);if(l)u.clearRect(l.x,l.y,l.width,l.height);else{var d=u.canvas;u.clearRect(0,0,d.width,d.height)}}},viewportToDrawerRectangle:function(o){var l=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!0),u=this.viewport.deltaPixelsFromPointsNoRotate(o.getSize(),!0);return new t.Rect(l.x*t.pixelDensityRatio,l.y*t.pixelDensityRatio,u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)},drawTile:function(o,l,u,d,p,m,v){if(t.console.assert(o,"[Drawer.drawTile] tile is required"),t.console.assert(l,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _=this._getContext(u);d=d||1,o.drawCanvas(_,l,d,p,m,v)}else o.drawHTML(this.canvas)},_getContext:function(o){var l=this.context;if(o){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var u=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=u.x,this.sketchCanvas.height=u.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var d=this;this.viewer.addHandler("rotate",function p(){if(d.viewport.getRotation()!==0){d.viewer.removeHandler("rotate",p);var m=d._calculateSketchCanvasSize();d.sketchCanvas.width=m.x,d.sketchCanvas.height=m.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}l=this.sketchContext}return l},saveContext:function(o){this.useCanvas&&this._getContext(o).save()},restoreContext:function(o){this.useCanvas&&this._getContext(o).restore()},setClip:function(o,l){if(this.useCanvas){var u=this._getContext(l);u.beginPath(),u.rect(o.x,o.y,o.width,o.height),u.clip()}},drawRectangle:function(o,l,u){if(this.useCanvas){var d=this._getContext(u);d.save(),d.fillStyle=l,d.fillRect(o.x,o.y,o.width,o.height),d.restore()}},blendSketch:function(o,l,u,d){var p=o;if(t.isPlainObject(p)||(p={opacity:o,scale:l,translate:u,compositeOperation:d}),!(!this.useCanvas||!this.sketchCanvas)){o=p.opacity,d=p.compositeOperation;var m=p.bounds;if(this.context.save(),this.context.globalAlpha=o,d&&(this.context.globalCompositeOperation=d),m)m.x<0&&(m.width+=m.x,m.x=0),m.x+m.width>this.canvas.width&&(m.width=this.canvas.width-m.x),m.y<0&&(m.height+=m.y,m.y=0),m.y+m.height>this.canvas.height&&(m.height=this.canvas.height-m.y),this.context.drawImage(this.sketchCanvas,m.x,m.y,m.width,m.height,m.x,m.y,m.width,m.height);else{l=p.scale||1,u=p.translate;var v=u instanceof t.Point?u:new t.Point(0,0),_=0,k=0;if(u){var C=this.sketchCanvas.width-this.canvas.width,M=this.sketchCanvas.height-this.canvas.height;_=Math.round(C/2),k=Math.round(M/2)}this.context.drawImage(this.sketchCanvas,v.x-_*l,v.y-k*l,(this.canvas.width+2*_)*l,(this.canvas.height+2*k)*l,-_,-k,this.canvas.width+2*_,this.canvas.height+2*k)}this.context.restore()}},drawDebugInfo:function(o,l,u,d){if(this.useCanvas){var p=this.viewer.world.getIndexOfItem(d)%this.debugGridColor.length,m=this.context;m.save(),m.lineWidth=2*t.pixelDensityRatio,m.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",m.strokeStyle=this.debugGridColor[p],m.fillStyle=this.debugGridColor[p],this.viewport.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),d.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:d.getRotation(!0),point:d.viewport.pixelFromPointNoRotate(d._getRotationPoint(!0),!0)}),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.strokeRect(o.position.x*t.pixelDensityRatio,o.position.y*t.pixelDensityRatio,o.size.x*t.pixelDensityRatio,o.size.y*t.pixelDensityRatio);var v=(o.position.x+o.size.x/2)*t.pixelDensityRatio,_=(o.position.y+o.size.y/2)*t.pixelDensityRatio;m.translate(v,_),m.rotate(Math.PI/180*-this.viewport.getRotation(!0)),m.translate(-v,-_),o.x===0&&o.y===0&&(m.fillText("Zoom: "+this.viewport.getZoom(),o.position.x*t.pixelDensityRatio,(o.position.y-30)*t.pixelDensityRatio),m.fillText("Pan: "+this.viewport.getBounds().toString(),o.position.x*t.pixelDensityRatio,(o.position.y-20)*t.pixelDensityRatio)),m.fillText("Level: "+o.level,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+20)*t.pixelDensityRatio),m.fillText("Column: "+o.x,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+30)*t.pixelDensityRatio),m.fillText("Row: "+o.y,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+40)*t.pixelDensityRatio),m.fillText("Order: "+u+" of "+l,(o.position.x+10)*t.pixelDensityRatio,(o.position.y+50)*t.pixelDensityRatio),m.fillText("Size: "+o.size.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+60)*t.pixelDensityRatio),m.fillText("Position: "+o.position.toString(),(o.position.x+10)*t.pixelDensityRatio,(o.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.getRotation(!0)%360!==0&&this._restoreRotationChanges(),d.viewport.getRotation(!0)%360===0&&d.getRotation(!0)%360===0&&d._drawer.viewer.viewport.getFlip()&&d._drawer._flip(),m.restore()}},debugRect:function(o){if(this.useCanvas){var l=this.context;l.save(),l.lineWidth=2*t.pixelDensityRatio,l.strokeStyle=this.debugGridColor[0],l.fillStyle=this.debugGridColor[0],l.strokeRect(o.x*t.pixelDensityRatio,o.y*t.pixelDensityRatio,o.width*t.pixelDensityRatio,o.height*t.pixelDensityRatio),l.restore()}},setImageSmoothingEnabled:function(o){this.useCanvas&&(this._imageSmoothingEnabled=o,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(o){o.msImageSmoothingEnabled=this._imageSmoothingEnabled,o.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(o){var l=this._getContext(o).canvas;return new t.Point(l.width,l.height)},getCanvasCenter:function(){return new t.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(o){var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.save(),u.translate(l.x,l.y),this.viewer.viewport.flipped?(u.rotate(Math.PI/180*-o.degrees),u.scale(-1,1)):u.rotate(Math.PI/180*o.degrees),u.translate(-l.x,-l.y)},_flip:function(o){o=o||{};var l=o.point?o.point.times(t.pixelDensityRatio):this.getCanvasCenter(),u=this._getContext(o.useSketch);u.translate(l.x,0),u.scale(-1,1),u.translate(-l.x,0)},_restoreRotationChanges:function(o){var l=this._getContext(o);l.restore()},_calculateCanvasSize:function(){var o=t.pixelDensityRatio,l=this.viewport.getContainerSize();return{x:Math.round(l.x*o),y:Math.round(l.y*o)}},_calculateSketchCanvasSize:function(){var o=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return o;var l=Math.ceil(Math.sqrt(o.x*o.x+o.y*o.y));return{x:l,y:l}}}}(r),function(t){t.Viewport=function(o){var l=arguments;l.length&&l[0]instanceof t.Point&&(o={containerSize:l[0],contentSize:l[1],config:l[2]}),o.config&&(t.extend(!0,o,o.config),delete o.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o.margins||{}),delete o.margins,o.initialDegrees=o.degrees,delete o.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},o),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:o.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(o){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(o)},resetContentSize:function(o){return t.console.assert(o,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(o instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(o.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(o.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,o.y/o.x),o.x),this},setHomeBounds:function(o,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(o,l)},_setContentBounds:function(o,l){t.console.assert(o,"[Viewport._setContentBounds] bounds is required"),t.console.assert(o instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(o.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(o.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=o.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=o.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var o=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=o>=1?o:1:l=o>=1?1:o,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var o=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),u=l/this.getAspectRatio();return new t.Rect(o.x-l/2,o.y-u/2,l,u)},goHome:function(o){return this.viewer&&this.viewer.raiseEvent("home",{immediately:o}),this.fitBounds(this.getHomeBounds(),o)},getMinZoom:function(){var o=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*o;return l},getMaxZoom:function(){var o=this.maxZoomLevel;return o||(o=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,o/=this._contentBounds.width),Math.max(o,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(o){t.console.assert(t.type(o)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},o),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(o){return this.getBoundsNoRotate(o).rotate(-this.getRotation(o))},getBoundsNoRotate:function(o){var l=this.getCenter(o),u=1/this.getZoom(o),d=u/this.getAspectRatio();return new t.Rect(l.x-u/2,l.y-d/2,u,d)},getBoundsWithMargins:function(o){return this.getBoundsNoRotateWithMargins(o).rotate(-this.getRotation(o),this.getCenter(o))},getBoundsNoRotateWithMargins:function(o){var l=this.getBoundsNoRotate(o),u=this._containerInnerSize.x*this.getZoom(o);return l.x-=this._margins.left/u,l.y-=this._margins.top/u,l.width+=(this._margins.left+this._margins.right)/u,l.height+=(this._margins.top+this._margins.bottom)/u,l},getCenter:function(o){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),d,p,m,v,_,k,C,M;return o?l:this.zoomPoint?(d=this.pixelFromPoint(this.zoomPoint,!0),p=this.getZoom(),m=1/p,v=m/this.getAspectRatio(),_=new t.Rect(l.x-m/2,l.y-v/2,m,v),k=this._pixelFromPoint(this.zoomPoint,_),C=k.minus(d).rotate(-this.getRotation(!0)),M=C.divide(this._containerInnerSize.x*p),u.plus(M)):u},getZoom:function(o){return o?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(o){return Math.max(Math.min(o,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(o){var l=this.viewportToViewerElementRectangle(o).getBoundingBox(),u=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),d=!1,p=!1;if(!this.wrapHorizontal){var m=l.x+l.width,v=u.x+u.width,_,k,C;l.width>u.width?_=this.visibilityRatio*u.width:_=this.visibilityRatio*l.width,k=u.x-m+_,C=v-l.x-_,_>u.width?(l.x+=(k+C)/2,d=!0):C<0?(l.x+=C,d=!0):k>0&&(l.x+=k,d=!0)}if(!this.wrapVertical){var M=l.y+l.height,A=u.y+u.height,F,U,H;l.height>u.height?F=this.visibilityRatio*u.height:F=this.visibilityRatio*l.height,U=u.y-M+F,H=A-l.y-F,F>u.height?(l.y+=(U+H)/2,p=!0):H<0?(l.y+=H,p=!0):U>0&&(l.y+=U,p=!0)}var W=d||p,j=W?this.viewerElementToViewportRectangle(l):o.clone();return j.xConstrained=d,j.yConstrained=p,j.constraintApplied=W,j},_raiseConstraintsEvent:function(o){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:o})},applyConstraints:function(o){var l=this.getZoom(),u=this._applyZoomConstraints(l);l!==u&&this.zoomTo(u,this.zoomPoint,o);var d=this.getConstrainedBounds(!1);return d.constraintApplied&&(this.fitBounds(d,o),this._raiseConstraintsEvent(o)),this},ensureVisible:function(o){return this.applyConstraints(o)},_fitBounds:function(o,l){l=l||{};var u=l.immediately||!1,d=l.constraints||!1,p=this.getAspectRatio(),m=o.getCenter(),v=new t.Rect(o.x,o.y,o.width,o.height,o.degrees+this.getRotation()).getBoundingBox();v.getAspectRatio()>=p?v.height=v.width/p:v.width=v.height*p,v.x=m.x-v.width/2,v.y=m.y-v.height/2;var _=1/v.width;if(u)return this.panTo(m,!0),this.zoomTo(_,null,!0),d&&this.applyConstraints(!0),this;var k=this.getCenter(!0),C=this.getZoom(!0);this.panTo(k,!0),this.zoomTo(C,null,!0);var M=this.getBounds(),A=this.getZoom();if(A===0||Math.abs(_/A-1)<1e-8)return this.zoomTo(_,null,!0),this.panTo(m,u),d&&this.applyConstraints(!1),this;if(d){this.panTo(m,!1),this.zoomTo(_,null,!1);var F=this.getConstrainedBounds();this.panTo(k,!0),this.zoomTo(C,null,!0),this.fitBounds(F)}else{var U=v.rotate(-this.getRotation()),H=U.getTopLeft().times(_).minus(M.getTopLeft().times(A)).divide(_-A);this.zoomTo(_,H,u)}return this},fitBounds:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(o,l){return this._fitBounds(o,{immediately:l,constraints:!0})},fitVertically:function(o){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,o)},fitHorizontally:function(o){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,o)},getConstrainedBounds:function(o){var l,u;return l=this.getBounds(o),u=this._applyBoundaryConstraints(l),u},panBy:function(o,l){var u=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(u.plus(o),l)},panTo:function(o,l){return l?(this.centerSpringX.resetTo(o.x),this.centerSpringY.resetTo(o.y)):(this.centerSpringX.springTo(o.x),this.centerSpringY.springTo(o.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:o,immediately:l}),this},zoomBy:function(o,l,u){return this.zoomTo(this.zoomSpring.target.value*o,l,u)},zoomTo:function(o,l,u){var d=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u?this._adjustCenterSpringsForZoomPoint(function(){d.zoomSpring.resetTo(o)}):this.zoomSpring.springTo(o),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:o,refPoint:l,immediately:u}),this},setRotation:function(o,l){return this.rotateTo(o,null,l)},getRotation:function(o){return o?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(o,l,u){return this.rotateTo(o,l,u)},rotateTo:function(o,l,u){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===o&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,u)if(this.rotationPivot){var d=o-this._oldDegrees;if(!d)return this.rotationPivot=null,this;this._rotateAboutPivot(o)}else this.degreesSpring.resetTo(o);else{var p=t.positiveModulo(this.degreesSpring.current.value,360),m=t.positiveModulo(o,360),v=m-p;v>180?m-=360:v<-180&&(m+=360);var _=p-m;this.degreesSpring.resetTo(o+_),this.degreesSpring.springTo(o)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:o,immediately:!!u,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(o,l,u){return this.rotateTo(this.degreesSpring.target.value+o,l,u)},resize:function(o,l){var u=this.getBoundsNoRotate(),d=u,p;return this.containerSize.x=o.x,this.containerSize.y=o.y,this._updateContainerInnerSize(),l&&(p=o.x/this.containerSize.x,d.width=u.width*p,d.height=d.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:o,maintain:l}),this.fitBounds(d,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var o=this;this._adjustCenterSpringsForZoomPoint(function(){o.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,l},_rotateAboutPivot:function(o){var l=o===!0,u=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(u.x),this.centerSpringY.shiftBy(u.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(o);var d=this.degreesSpring.current.value-this._oldDegrees,p=u.rotate(d*-1).times(-1);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y)},_adjustCenterSpringsForZoomPoint:function(o){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);o();var u=this.pixelFromPoint(this.zoomPoint,!0),d=u.minus(l),p=this.deltaPointsFromPixels(d,!0);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else o()},deltaPixelsFromPointsNoRotate:function(o,l){return o.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(o,l){return this.deltaPixelsFromPointsNoRotate(o.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(o,l){return o.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(o,l){return this.deltaPointsFromPixelsNoRotate(o,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(o,l){return this._pixelFromPointNoRotate(o,this.getBoundsNoRotate(l))},pixelFromPoint:function(o,l){return this._pixelFromPoint(o,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(o,l){return o.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(o,l){return this._pixelFromPointNoRotate(o.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(o,l){var u=this.getBoundsNoRotate(l);return o.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/u.width).plus(u.getTopLeft())},pointFromPixel:function(o,l){return this.pointFromPixelNoRotate(o,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o*this._contentSizeNoRotate.x/u,l*this._contentSizeNoRotate.x/u)},viewportToImageCoordinates:function(o,l){if(o instanceof t.Point)return this.viewportToImageCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.viewportToImageCoordinates(o,l,!0)}}return this._viewportToImageDelta(o-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(o,l){var u=this._contentBoundsNoRotate.width;return new t.Point(o/this._contentSizeNoRotate.x*u,l/this._contentSizeNoRotate.x*u)},imageToViewportCoordinates:function(o,l){if(o instanceof t.Point)return this.imageToViewportCoordinates(o.x,o.y);if(this.viewer){var u=this.viewer.world.getItemCount();if(u>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(u===1){var d=this.viewer.world.getItemAt(0);return d.imageToViewportCoordinates(o,l,!0)}}var p=this._imageToViewportDelta(o,l);return p.x+=this._contentBoundsNoRotate.x,p.y+=this._contentBoundsNoRotate.y,p},imageToViewportRectangle:function(o,l,u,d){var p=o;if(p instanceof t.Rect||(p=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.imageToViewportRectangle(o,l,u,d,!0)}}var _=this.imageToViewportCoordinates(p.x,p.y),k=this._imageToViewportDelta(p.width,p.height);return new t.Rect(_.x,_.y,k.x,k.y,p.degrees)},viewportToImageRectangle:function(o,l,u,d){var p=o;if(p instanceof t.Rect||(p=new t.Rect(o,l,u,d)),this.viewer){var m=this.viewer.world.getItemCount();if(m>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(m===1){var v=this.viewer.world.getItemAt(0);return v.viewportToImageRectangle(o,l,u,d,!0)}}var _=this.viewportToImageCoordinates(p.x,p.y),k=this._viewportToImageDelta(p.width,p.height);return new t.Rect(_.x,_.y,k.x,k.y,p.degrees)},viewerElementToImageCoordinates:function(o){var l=this.pointFromPixel(o,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(o){var l=this.imageToViewportCoordinates(o);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(o){return this.pointFromPixel(o,!0)},viewportToViewerElementCoordinates:function(o){return this.pixelFromPoint(o,!0)},viewerElementToViewportRectangle:function(o){return t.Rect.fromSummits(this.pointFromPixel(o.getTopLeft(),!0),this.pointFromPixel(o.getTopRight(),!0),this.pointFromPixel(o.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(o){return t.Rect.fromSummits(this.pixelFromPoint(o.getTopLeft(),!0),this.pixelFromPoint(o.getTopRight(),!0),this.pixelFromPoint(o.getBottomLeft(),!0))},windowToViewportCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=o.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(o){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(o);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageZoom(o)}}var d=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=p/d*m;return o*v},imageToViewportZoom:function(o){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportZoom(o)}}var d=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,m=this._contentBoundsNoRotate.width,v=d/p/m;return o*v},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(o){return this.flipped===o?this:(this.flipped=o,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:o}),this)}}}(r),function(t){t.TiledImage=function(p){var m=this;t.console.assert(p.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(p.drawer,"[TiledImage] options.drawer is required"),t.console.assert(p.viewer,"[TiledImage] options.viewer is required"),t.console.assert(p.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(p.source,"[TiledImage] options.source is required"),t.console.assert(!p.clip||p.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=p.tileCache,delete p.tileCache,this._drawer=p.drawer,delete p.drawer,this._imageLoader=p.imageLoader,delete p.imageLoader,p.clip instanceof t.Rect&&(this._clip=p.clip.clone()),delete p.clip;var v=p.x||0;delete p.x;var _=p.y||0;delete p.y,this.normHeight=p.source.dimensions.y/p.source.dimensions.x,this.contentAspectX=p.source.dimensions.x/p.source.dimensions.y;var k=1;p.width?(k=p.width,delete p.width,p.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete p.height)):p.height&&(k=p.height/this.normHeight,delete p.height);var C=p.fitBounds;delete p.fitBounds;var M=p.fitBoundsPlacement||r.Placement.CENTER;delete p.fitBoundsPlacement;var A=p.degrees||0;delete p.degrees,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency},p),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:v,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:_,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:k,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:A,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),C&&this.fitBounds(C,M,!0),this._drawingHandler=function(F){m.viewer.raiseEvent("tile-drawing",t.extend({tiledImage:m},F))}},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(p){p!==this._fullyLoaded&&(this._fullyLoaded=p,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(){var p=this._xSpring.update(),m=this._ySpring.update(),v=this._scaleSpring.update(),_=this._degreesSpring.update();return p||m||v||_?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(p){return this.getBoundsNoRotate(p).rotate(this.getRotation(p),this._getRotationPoint(p))},getBoundsNoRotate:function(p){return p?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(p){var m=this.getBoundsNoRotate(p);if(this._clip){var v=p?this._worldWidthCurrent:this._worldWidthTarget,_=v/this.source.dimensions.x,k=this._clip.times(_);m=new t.Rect(m.x+k.x,m.y+k.y,k.width,k.height)}return m.rotate(this.getRotation(p),this._getRotationPoint(p))},getTileBounds:function(p,m,v){var _=this.source.getNumTiles(p),k=(_.x+m%_.x)%_.x,C=(_.y+v%_.y)%_.y,M=this.source.getTileBounds(p,k,C);return this.getFlip()&&(M.x=1-M.x-M.width),M.x+=(m-k)/_.x,M.y+=this._worldHeightCurrent/this._worldWidthCurrent*((v-C)/_.y),M},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var p=this.imageToWindowCoordinates(new t.Point(0,0)),m=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(m.x-p.x,m.y-p.y)},_viewportToImageDelta:function(p,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(p*(this.source.dimensions.x/_),m*(this.source.dimensions.y*this.contentAspectX/_))},viewportToImageCoordinates:function(p,m,v){var _;return p instanceof t.Point?(v=m,_=p):_=new t.Point(p,m),_=_.rotate(-this.getRotation(v),this._getRotationPoint(v)),v?this._viewportToImageDelta(_.x-this._xSpring.current.value,_.y-this._ySpring.current.value):this._viewportToImageDelta(_.x-this._xSpring.target.value,_.y-this._ySpring.target.value)},_imageToViewportDelta:function(p,m,v){var _=v?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(p/this.source.dimensions.x*_,m/this.source.dimensions.y/this.contentAspectX*_)},imageToViewportCoordinates:function(p,m,v){p instanceof t.Point&&(v=m,m=p.y,p=p.x);var _=this._imageToViewportDelta(p,m);return v?(_.x+=this._xSpring.current.value,_.y+=this._ySpring.current.value):(_.x+=this._xSpring.target.value,_.y+=this._ySpring.target.value),_.rotate(this.getRotation(v),this._getRotationPoint(v))},imageToViewportRectangle:function(p,m,v,_,k){var C=p;C instanceof t.Rect?k=m:C=new t.Rect(p,m,v,_);var M=this.imageToViewportCoordinates(C.getTopLeft(),k),A=this._imageToViewportDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees+this.getRotation(k))},viewportToImageRectangle:function(p,m,v,_,k){var C=p;p instanceof t.Rect?k=m:C=new t.Rect(p,m,v,_);var M=this.viewportToImageCoordinates(C.getTopLeft(),k),A=this._viewportToImageDelta(C.width,C.height,k);return new t.Rect(M.x,M.y,A.x,A.y,C.degrees-this.getRotation(k))},viewerElementToImageCoordinates:function(p){var m=this.viewport.pointFromPixel(p,!0);return this.viewportToImageCoordinates(m)},imageToViewerElementCoordinates:function(p){var m=this.imageToViewportCoordinates(p);return this.viewport.pixelFromPoint(m,!0)},windowToImageCoordinates:function(p){var m=p.minus(r.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(m)},imageToWindowCoordinates:function(p){var m=this.imageToViewerElementCoordinates(p);return m.plus(r.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(p){var m=this._scaleSpring.current.value;return p=p.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((p.x-this._xSpring.current.value)/m,(p.y-this._ySpring.current.value)/m,p.width/m,p.height/m,p.degrees)},viewportToImageZoom:function(p){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return m*p},imageToViewportZoom:function(p){var m=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return p/m},setPosition:function(p,m){var v=this._xSpring.target.value===p.x&&this._ySpring.target.value===p.y;if(m){if(v&&this._xSpring.current.value===p.x&&this._ySpring.current.value===p.y)return;this._xSpring.resetTo(p.x),this._ySpring.resetTo(p.y),this._needsDraw=!0}else{if(v)return;this._xSpring.springTo(p.x),this._ySpring.springTo(p.y),this._needsDraw=!0}v||this._raiseBoundsChange()},setWidth:function(p,m){this._setScale(p,m)},setHeight:function(p,m){this._setScale(p/this.normHeight,m)},setCroppingPolygons:function(p){var m=function(_){return _ instanceof t.Point||typeof _.x=="number"&&typeof _.y=="number"},v=function(_){return _.map(function(k){try{if(m(k))return{x:k.x,y:k.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(p))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=p.map(function(_){return v(_)})}catch(_){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(_),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(p,m,v){m=m||t.Placement.CENTER;var _=t.Placement.properties[m],k=this.contentAspectX,C=0,M=0,A=1,F=1;if(this._clip&&(k=this._clip.getAspectRatio(),A=this._clip.width/this.source.dimensions.x,F=this._clip.height/this.source.dimensions.y,p.getAspectRatio()>k?(C=this._clip.x/this._clip.height*p.height,M=this._clip.y/this._clip.height*p.height):(C=this._clip.x/this._clip.width*p.width,M=this._clip.y/this._clip.width*p.width)),p.getAspectRatio()>k){var U=p.height/F,H=0;_.isHorizontallyCentered?H=(p.width-p.height*k)/2:_.isRight&&(H=p.width-p.height*k),this.setPosition(new t.Point(p.x-C+H,p.y-M),v),this.setHeight(U,v)}else{var W=p.width/A,j=0;_.isVerticallyCentered?j=(p.height-p.width/k)/2:_.isBottom&&(j=p.height-p.width/k),this.setPosition(new t.Point(p.x-C,p.y-M+j),v),this.setWidth(W,v)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(p){t.console.assert(!p||p instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),p instanceof t.Rect?this._clip=p.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(p){this.flipped=!!p,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(p){p!==this.opacity&&(this.opacity=p,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(p){this._preload=!!p,this._needsDraw=!0},getRotation:function(p){return p?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(p,m){this._degreesSpring.target.value===p&&this._degreesSpring.isAtTargetValue()||(m?this._degreesSpring.resetTo(p):this._degreesSpring.springTo(p),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(p){return this.getBoundsNoRotate(p).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(p){p!==this.compositeOperation&&(this.compositeOperation=p,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(p,m){var v=this._scaleSpring.target.value===p;if(m){if(v&&this._scaleSpring.current.value===p)return;this._scaleSpring.resetTo(p),this._updateForScale(),this._needsDraw=!0}else{if(v)return;this._scaleSpring.springTo(p),this._updateForScale(),this._needsDraw=!0}v||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var p=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),m=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,v=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(m/this.minPixelRatio)/Math.log(2))));return v=Math.max(v,this.source.minLevel||0),p=Math.min(p,v),{lowestLevel:p,highestLevel:v}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var p=this.lastDrawn.pop();p.beingDrawn=!1}var m=this.viewport,v=this._viewportToTiledImageRectangle(m.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(v=v.intersection(_),v===null)return}for(var k=this._getLevelsInterval(),C=k.lowestLevel,M=k.highestLevel,A=null,F=!1,U=t.now(),H=M;H>=C;H--){var W=!1,j=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!0).x*this._scaleSpring.current.value;if(H===C||!F&&j>=this.minPixelRatio)W=!0,F=!0;else if(!F)continue;var q=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(H),!1).x*this._scaleSpring.current.value,nt=m.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,pt=this.immediateRender?1:nt,ut=Math.min(1,(j-.5)/.5),ct=pt/Math.abs(pt-q);if(A=this._updateLevel(F,W,H,ut,ct,v,U,A),this._providesCoverage(this.coverage,H))break}this._drawTiles(this.lastDrawn),A&&!A.context2D?(this._loadTile(A,U),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(p,m,v){var _,k;this.wrapHorizontal?(_=t.positiveModulo(m.x,1),k=t.positiveModulo(v.x,1)):(_=Math.max(0,m.x),k=Math.min(1,v.x));var C,M,A=1/this.source.aspectRatio;this.wrapVertical?(C=t.positiveModulo(m.y,A),M=t.positiveModulo(v.y,A)):(C=Math.max(0,m.y),M=Math.min(A,v.y));var F=this.source.getTileAtPoint(p,new t.Point(_,C)),U=this.source.getTileAtPoint(p,new t.Point(k,M)),H=this.source.getNumTiles(p);return this.wrapHorizontal&&(F.x+=H.x*Math.floor(m.x),U.x+=H.x*Math.floor(v.x)),this.wrapVertical&&(F.y+=H.y*Math.floor(m.y/A),U.y+=H.y*Math.floor(v.y/A)),{topLeft:F,bottomRight:U}},_updateLevel:function(p,m,v,_,k,C,M,A){var F=C.getBoundingBox().getTopLeft(),U=C.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:p,level:v,opacity:_,visibility:k,drawArea:C,topleft:F,bottomright:U,currenttime:M,best:A}),this._resetCoverage(this.coverage,v),this._resetCoverage(this.loadingCoverage,v);var H=this._getCornerTiles(v,F,U),W=H.topLeft,j=H.bottomRight,q=this.source.getNumTiles(v),nt=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(j.x+=1,this.wrapHorizontal||(j.x=Math.min(j.x,q.x-1)));for(var pt=W.x;pt<=j.x;pt++)for(var ut=W.y;ut<=j.y;ut++){var ct;if(this.getFlip()){var V=(q.x+pt%q.x)%q.x;ct=pt+q.x-V-V-1}else ct=pt;C.intersection(this.getTileBounds(v,ct,ut))!==null&&(A=this._updateTile(m,p,ct,ut,v,_,k,nt,q,M,A))}return A},_updateTile:function(p,m,v,_,k,C,M,A,F,U,H){var W=this._getTile(v,_,k,U,F,this._worldWidthCurrent,this._worldHeightCurrent),j=m;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:W}),this._setCoverage(this.coverage,k,v,_,!1);var q=W.loaded||W.loading||this._isCovered(this.loadingCoverage,k,v,_);if(this._setCoverage(this.loadingCoverage,k,v,_,q),!W.exists||(p&&!j&&(this._isCovered(this.coverage,k,v,_)?this._setCoverage(this.coverage,k,v,_,!0):j=!0),!j))return H;if(this._positionTile(W,this.source.tileOverlap,this.viewport,A,M),!W.loaded)if(W.context2D)this._setTileLoaded(W);else{var nt=this._tileCache.getImageRecord(W.cacheKey);nt&&this._setTileLoaded(W,nt.getData())}if(W.loaded){var pt=this._blendTile(W,v,_,k,C,U);pt&&(this._needsDraw=!0)}else W.loading?this._tilesLoading++:q||(H=this._compareTiles(H,W));return H},_getTile:function(p,m,v,_,k,C,M){var A,F,U,H,W,j,q,nt,pt,ut,ct=this.tilesMatrix,V=this.source;return ct[v]||(ct[v]={}),ct[v][p]||(ct[v][p]={}),(!ct[v][p][m]||!ct[v][p][m].flipped!=!this.flipped)&&(A=(k.x+p%k.x)%k.x,F=(k.y+m%k.y)%k.y,U=this.getTileBounds(v,p,m),H=V.getTileBounds(v,A,F,!0),W=V.tileExists(v,A,F),j=V.getTileUrl(v,A,F),q=V.getTilePostData(v,A,F),this.loadTilesWithAjax?(nt=V.getTileAjaxHeaders(v,A,F),t.isPlainObject(this.ajaxHeaders)&&(nt=t.extend({},this.ajaxHeaders,nt))):nt=null,pt=V.getContext2D?V.getContext2D(v,A,F):void 0,ut=new t.Tile(v,p,m,U,W,j,pt,this.loadTilesWithAjax,nt,H,q,V.getTileHashKey(v,A,F,j,nt,q)),this.getFlip()?A===0&&(ut.isRightMost=!0):A===k.x-1&&(ut.isRightMost=!0),F===k.y-1&&(ut.isBottomMost=!0),ut.flipped=this.flipped,ct[v][p][m]=ut),ut=ct[v][p][m],ut.lastTouchTime=_,ut},_loadTile:function(p,m){var v=this;p.loading=!0,this._imageLoader.addJob({src:p.getUrl(),tile:p,source:this.source,postData:p.postData,loadWithAjax:p.loadWithAjax,ajaxHeaders:p.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(_,k,C){v._onTileLoad(p,m,_,k,C)},abort:function(){p.loading=!1}})},_onTileLoad:function(p,m,v,_,k){if(!v){t.console.error("Tile %s failed to load: %s - error: %s",p,p.getUrl(),_),this.viewer.raiseEvent("tile-load-failed",{tile:p,tiledImage:this,time:m,message:_,tileRequest:k}),p.loading=!1,p.exists=!1;return}if(m<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",p,p.getUrl()),p.loading=!1;return}var C=this,M=function(){var A=C.source,F=A.getClosestLevel();C._setTileLoaded(p,v,F,k)};this._midDraw?window.setTimeout(M,1):M()},_setTileLoaded:function(p,m,v,_){var k=0,C=this;function M(){return k++,A}function A(){k--,k===0&&(p.loading=!1,p.loaded=!0,p.hasTransparency=C.source.hasTransparency(p.context2D,p.getUrl(),p.ajaxHeaders,p.postData),p.context2D||C._tileCache.cacheTile({data:m,tile:p,cutoff:v,tiledImage:C}),C._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:p,tiledImage:this,tileRequest:_,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),m},data:m,getCompletionCallback:M}),M()()},_positionTile:function(p,m,v,_,k){var C=p.bounds.getTopLeft();C.x*=this._scaleSpring.current.value,C.y*=this._scaleSpring.current.value,C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value;var M=p.bounds.getSize();M.x*=this._scaleSpring.current.value,M.y*=this._scaleSpring.current.value;var A=v.pixelFromPointNoRotate(C,!0),F=v.pixelFromPointNoRotate(C,!1),U=v.deltaPixelsFromPointsNoRotate(M,!0),H=v.deltaPixelsFromPointsNoRotate(M,!1),W=F.plus(H.divide(2)),j=_.squaredDistanceTo(W);m||(U=U.plus(new t.Point(1,1))),p.isRightMost&&this.wrapHorizontal&&(U.x+=.75),p.isBottomMost&&this.wrapVertical&&(U.y+=.75),p.position=A,p.size=U,p.squaredDistance=j,p.visibility=k},_blendTile:function(p,m,v,_,k,C){var M=1e3*this.blendTime,A,F;if(p.blendStart||(p.blendStart=C),A=C-p.blendStart,F=M?Math.min(1,A/M):1,this.alwaysBlend&&(F*=k),p.opacity=F,this.lastDrawn.push(p),F===1)this._setCoverage(this.coverage,_,m,v,!0),this._hasOpaqueTile=!0;else if(A<M)return!0;return!1},_compareTiles:function(p,m){return!p||m.visibility>p.visibility||m.visibility===p.visibility&&m.squaredDistance<p.squaredDistance?m:p},_drawTiles:function(p){if(!(this.opacity===0||p.length===0&&!this.placeholderFillStyle)){var m=p[0],v;m&&(v=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&this.source.hasTransparency(m.context2D,m.getUrl(),m.ajaxHeaders,m.postData));var _,k,C=this.viewport.getZoom(!0),M=this.viewportToImageZoom(C);p.length>1&&M>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&t.supportsCanvas&&this.viewer.useCanvas&&(v=!0,_=m.getScaleForEdgeSmoothing(),k=m.getTranslationForEdgeSmoothing(_,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var A;v&&(_||(A=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360!==0||this.getRotation(!0)%360!==0)&&(A.x=this._drawer.viewer.container.clientWidth-(A.x+A.width)),A=A.times(t.pixelDensityRatio)),this._drawer._clear(!0,A)),_||(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:v}),this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var F=!1;if(this._clip){this._drawer.saveContext(v);var U=this.imageToViewportRectangle(this._clip,!0);U=U.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var H=this._drawer.viewportToDrawerRectangle(U);_&&(H=H.times(_)),k&&(H=H.translate(k)),this._drawer.setClip(H,v),F=!0}if(this._croppingPolygons){var W=this;this._drawer.saveContext(v);try{var j=this._croppingPolygons.map(function(at){return at.map(function(ht){var mt=W.imageToViewportCoordinates(ht.x,ht.y,!0).rotate(-W.getRotation(!0),W._getRotationPoint(!0)),Qt=W._drawer.viewportCoordToDrawerCoord(mt);return _&&(Qt=Qt.times(_)),Qt})});this._drawer.clipWithPolygons(j,v)}catch(at){t.console.error(at)}F=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var q=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));_&&(q=q.times(_)),k&&(q=q.translate(k));var nt=null;typeof this.placeholderFillStyle=="function"?nt=this.placeholderFillStyle(this,this._drawer.context):nt=this.placeholderFillStyle,this._drawer.drawRectangle(q,nt,v)}var pt=d(this.subPixelRoundingForTransparency),ut=!1;if(pt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)ut=!0;else if(pt===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ct=this.viewer&&this.viewer.isAnimating();ut=!ct}for(var V=p.length-1;V>=0;V--)m=p[V],this._drawer.drawTile(m,this._drawingHandler,v,_,k,ut,this.source),m.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:m});F&&this._drawer.restoreContext(v),_||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(v)),v&&(_&&(this.viewport.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:_,translate:k,compositeOperation:this.compositeOperation,bounds:A}),_&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1))),_||this.viewport.getRotation(!0)%360===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(p)}},_drawDebugInfo:function(p){if(this.debugMode)for(var m=p.length-1;m>=0;m--){var v=p[m];try{this._drawer.drawDebugInfo(v,p.length,m,this)}catch(_){t.console.error(_)}}},_providesCoverage:function(p,m,v,_){var k,C,M,A;if(!p[m])return!1;if(v===void 0||_===void 0){k=p[m];for(M in k)if(Object.prototype.hasOwnProperty.call(k,M)){C=k[M];for(A in C)if(Object.prototype.hasOwnProperty.call(C,A)&&!C[A])return!1}return!0}return p[m][v]===void 0||p[m][v][_]===void 0||p[m][v][_]===!0},_isCovered:function(p,m,v,_){return v===void 0||_===void 0?this._providesCoverage(p,m+1):this._providesCoverage(p,m+1,2*v,2*_)&&this._providesCoverage(p,m+1,2*v,2*_+1)&&this._providesCoverage(p,m+1,2*v+1,2*_)&&this._providesCoverage(p,m+1,2*v+1,2*_+1)},_setCoverage:function(p,m,v,_,k){if(!p[m]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",m);return}p[m][v]||(p[m][v]={}),p[m][v][_]=k},_resetCoverage:function(p,m){p[m]={}}});var o=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function l(p){return p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&p!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function u(p){return l(p)?o:p}function d(p){if(typeof p=="number")return u(p);if(!p||!t.Browser)return o;var m=p[t.Browser.vendor];return l(m)&&(m=p["*"]),u(m)}}(r),function(t){var o=function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=u.tile,this.tiledImage=u.tiledImage},l=function(u){t.console.assert(u,"[ImageRecord] options is required"),t.console.assert(u.data,"[ImageRecord] options.data is required"),this._tiles=[],u.create.apply(null,[this,u.data,u.ownerTile]),this._destroyImplementation=u.destroy.bind(null,this),this.getImage=u.getImage.bind(null,this),this.getData=u.getData.bind(null,this),this.getRenderedContext=u.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(u){t.console.assert(u,"[ImageRecord.addTile] tile is required"),this._tiles.push(u)},removeTile:function(u){for(var d=0;d<this._tiles.length;d++)if(this._tiles[d]===u){this._tiles.splice(d,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",u)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(u){u=u||{},this._maxImageCacheCount=u.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(u){t.console.assert(u,"[TileCache.cacheTile] options is required"),t.console.assert(u.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(u.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(u.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var d=u.cutoff||0,p=this._tilesLoaded.length,m=this._imagesLoaded[u.tile.cacheKey];if(m||(u.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),u.data=u.image),t.console.assert(u.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),m=this._imagesLoaded[u.tile.cacheKey]=new l({data:u.data,ownerTile:u.tile,create:u.tiledImage.source.createTileCache,destroy:u.tiledImage.source.destroyTileCache,getImage:u.tiledImage.source.getTileCacheDataAsImage,getData:u.tiledImage.source.getTileCacheData,getRenderedContext:u.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),m.addTile(u.tile),u.tile.cacheImageRecord=m,this._imagesLoadedCount>this._maxImageCacheCount){for(var v=null,_=-1,k=null,C,M,A,F,U,H,W=this._tilesLoaded.length-1;W>=0;W--)if(H=this._tilesLoaded[W],C=H.tile,!(C.level<=d||C.beingDrawn)){if(!v){v=C,_=W,k=H;continue}F=C.lastTouchTime,M=v.lastTouchTime,U=C.level,A=v.level,(F<M||F===M&&U>A)&&(v=C,_=W,k=H)}v&&_>=0&&(this._unloadTile(k),p=_)}this._tilesLoaded[p]=new o({tile:u.tile,tiledImage:u.tiledImage})},clearTilesFor:function(u){t.console.assert(u,"[TileCache.clearTilesFor] tiledImage is required");for(var d,p=0;p<this._tilesLoaded.length;++p)d=this._tilesLoaded[p],d.tiledImage===u&&(this._unloadTile(d),this._tilesLoaded.splice(p,1),p--)},getImageRecord:function(u){return t.console.assert(u,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[u]},_unloadTile:function(u){t.console.assert(u,"[TileCache._unloadTile] tileRecord is required");var d=u.tile,p=u.tiledImage;d.unload(),d.cacheImageRecord=null;var m=this._imagesLoaded[d.cacheKey];m.removeTile(d),m.getTileCount()||(m.destroy(),delete this._imagesLoaded[d.cacheKey],this._imagesLoadedCount--),p.viewer.raiseEvent("tile-unloaded",{tile:d,tiledImage:p})}}}(r),function(t){t.World=function(o){var l=this;t.console.assert(o.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=o.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(u){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(o,l){if(t.console.assert(o,"[World.addItem] item is required"),t.console.assert(o instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var u=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(u,0,o)}else this._items.push(o);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,o.addHandler("bounds-change",this._delegatedFigureSizes),o.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:o})},getItemAt:function(o){return t.console.assert(o!==void 0,"[World.getItemAt] index is required"),this._items[o]},getIndexOfItem:function(o){return t.console.assert(o,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,o)},getItemCount:function(){return this._items.length},setItemIndex:function(o,l){t.console.assert(o,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var u=this.getIndexOfItem(o);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===u||u===-1||(this._items.splice(u,1),this._items.splice(l,0,o),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:o,previousIndex:u,newIndex:l}))},removeItem:function(o){t.console.assert(o,"[World.removeItem] item is required");var l=t.indexOf(this._items,o);l!==-1&&(o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(o))},removeAll:function(){this.viewer._cancelPendingImages();var o,l;for(l=0;l<this._items.length;l++)o=this._items[l],o.removeHandler("bounds-change",this._delegatedFigureSizes),o.removeHandler("clip-change",this._delegatedFigureSizes),o.destroy();var u=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<u.length;l++)o=u[l],this._raiseRemoveItem(o)},resetItems:function(){for(var o=0;o<this._items.length;o++)this._items[o].reset()},update:function(){for(var o=!1,l=0;l<this._items.length;l++)o=this._items[l].update()||o;return o},draw:function(){for(var o=0;o<this._items.length;o++)this._items[o].draw();this._needsDraw=!1},needsDraw:function(){for(var o=0;o<this._items.length;o++)if(this._items[o].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(o){this._autoRefigureSizes=o,o&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(o){o=o||{};var l=o.immediately||!1,u=o.layout||t.DEFAULT_SETTINGS.collectionLayout,d=o.rows||t.DEFAULT_SETTINGS.collectionRows,p=o.columns||t.DEFAULT_SETTINGS.collectionColumns,m=o.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,v=o.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,_=m+v,k;!o.rows&&p?k=p:k=Math.ceil(this._items.length/d);var C=0,M=0,A,F,U,H,W;this.setAutoRefigureSizes(!1);for(var j=0;j<this._items.length;j++)j&&j%k===0&&(u==="horizontal"?(M+=_,C=0):(C+=_,M=0)),A=this._items[j],F=A.getBounds(),F.width>F.height?U=m:U=m*(F.width/F.height),H=U*(F.height/F.width),W=new t.Point(C+(m-U)/2,M+(m-H)/2),A.setPosition(W,l),A.setWidth(U,l),u==="horizontal"?C+=_:M+=_;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var o=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,u=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var d=this._items[0],p=d.getBounds();this._contentFactor=d.getContentSize().x/p.width;for(var m=d.getClippedBounds().getBoundingBox(),v=m.x,_=m.y,k=m.x+m.width,C=m.y+m.height,M=1;M<this._items.length;M++)d=this._items[M],p=d.getBounds(),this._contentFactor=Math.max(this._contentFactor,d.getContentSize().x/p.width),m=d.getClippedBounds().getBoundingBox(),v=Math.min(v,m.x),_=Math.min(_,m.y),k=Math.max(k,m.x+m.width),C=Math.max(C,m.y+m.height);this._homeBounds=new t.Rect(v,_,k-v,C-_),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==u||!this._homeBounds.equals(o)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(o){this.raiseEvent("remove-item",{item:o})}})}(r)})(YC);var s4=YC.exports;const a4=ZC(s4),l4=["aria-label","alt"],c4={key:1,class:"group relative h-10 p-2"},u4=["innerHTML"],h4=["innerHTML"],d4=["manifest"],p4=Qo({__name:"Image.ce",props:{caption:{type:String},cover:{type:Boolean,default:!1},data:{type:String},fit:{type:String,default:"contain"},height:{type:Number},noCaption:{type:Boolean,default:!1},src:{type:String,required:!0},width:{type:Number}},setup(n){const r=n,t=ke(null),o=ke(null),l=wr(()=>{var wt,Ot;return(Ot=(wt=t.value)==null?void 0:wt.getRootNode())==null?void 0:Ot.host}),u=wr(()=>{var wt;return(wt=t==null?void 0:t.value)==null?void 0:wt.parentNode});sr(u,wt=>{wt.children[1].classList.remove("sticky")});const d=ke();sr(d,()=>{V()});const p=ke(),m=wr(()=>{var wt,Ot;return Number(((((wt=p.value)==null?void 0:wt.width)||1)/(((Ot=p.value)==null?void 0:Ot.height)||1)).toFixed(4))});sr(m,()=>{V(),o.value&&at()}),sr(o,()=>{var wt;o.value&&(r.width?((wt=t.value)==null||wt.setAttribute("style",`width: ${r.width}px;margin: auto`),d.value=r.width):new ResizeObserver(()=>{var Ot;d.value=(Ot=o.value)==null?void 0:Ot.clientWidth}).observe(o.value),p.value&&at())}),sr(r,()=>{U()});const v=ke(),_=ke();sr(_,()=>{var wt;(wt=v.value)==null||wt.open(_.value)});const k=ke();sr(k,()=>{j(k.value)});function C(wt){if(v.value&&(_.value=null),/upload\.wikimedia\.org/.test(wt)){let Ot=wt.split("/"),Wt=Ot[5]==="thumb"?Ot[8]:Ot[7];k.value=`https://${yh}/wc:${Wt.replace(/ /g,"_")}/manifest.json`}else k.value=/^http/.test(wt)?wt:/^\w+:/.test(wt)?`https://${yh}/${wt.replace(/ /g,"_")}/manifest.json`:wt}const M=ke(),A=wr(()=>{var wt,Ot,Wt;return r.caption||M.value&&((Wt=(Ot=(wt=M.value)==null?void 0:wt.label)==null?void 0:Ot.en)==null?void 0:Wt[0])}),F=ke();function U(){C(r.src)}ml(()=>{U(),ht()});async function H(wt){var Wt;return wt.indexOf("manifest.json")>0?!0:((Wt=(await fetch(wt,{method:"HEAD"})).headers.get("Content-Type"))==null?void 0:Wt.indexOf("image"))===-1}async function W(wt){let Ot=await fetch("https://${iiifServer}/prezi2to3/",{method:"POST",body:JSON.stringify(wt)});if(Ot.ok)return(await Ot).json()}async function j(wt){if(await H(wt)){let Ot=await pt(wt),Wt=q({type:"Annotation",motivation:"painting"},Ot).body;p.value={width:Wt.width,height:Wt.height},_.value=Wt.service?`${Wt.service[0].id||Wt.service[0]["@id"]}/info.json`:{url:Wt.id,type:"image",buildPyramid:!0}}else ut(wt).then(Ot=>{p.value=Ot}),_.value={url:wt,type:"image",buildPyramid:!0}}function q(wt,Ot,Wt=1){const ee=nt(wt,Ot);return ee.length>=Wt?ee[Wt-1]:null}function nt(wt,Ot,Wt=[]){if(Wt=Wt||[],Ot.items)for(let ee=0;ee<Ot.items.length;ee++){let me=Ot.items[ee];!Object.entries(wt).find(([he,er])=>me[he]&&me[he]!==er)?Wt.push(me):nt(wt,me,Wt)}return Wt}async function pt(wt){let Ot=await fetch(wt);if(Ot.ok){let Wt=await Ot.json(),ee=Array.isArray(Wt["@context"])?Wt["@context"].find(se=>se.indexOf("/presentation/")>0):Wt["@context"],me=parseFloat(ee.split("/").slice(-2,-1).pop());return M.value=me<3?await W(M):Wt,M.value}}async function ut(wt){return new Promise((Ot,Wt)=>{let ee=new Image;ee.onload=()=>Ot({width:ee.width,height:ee.height}),ee.onerror=()=>Wt(),ee.src=wt})}function ct(){var wt,Ot;(wt=o.value)!=null&&wt.clientWidth&&(r.height||Number(((Ot=o.value)==null?void 0:Ot.clientWidth)/m.value).toFixed(0))}function V(){ct(),setTimeout(()=>{var wt,Ot;return(Ot=(wt=v.value)==null?void 0:wt.viewport)==null?void 0:Ot.goHome(!0)},100)}function at(){if(!o.value)return;let wt=u.value.querySelector("#osd");ct();const Ot={element:wt,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",tileSources:_.value,homeFillsViewer:r.cover||r.fit==="cover",maxZoomPixelRatio:10};v.value=a4(Ot),v.value.addHandler("viewport-change",()=>Jt()),setTimeout(()=>Gt(),500)}function ht(){let wt=l.value.parentElement;for(;wt!=null&&wt.parentElement&&wt.tagName!=="MAIN";)Array.from(wt.querySelectorAll("a")).forEach(Ot=>{let ee=new URL(Ot.href).pathname.split("/").filter(se=>se),me=ee.indexOf("zoom");if(me>=0&&ee.length>me+1&&mt(Ot)){let he=ee[me+1];Ot.classList.add("zoom"),Ot.href="javascript:;",Ot.setAttribute("data-region",he),Ot.addEventListener("click",er=>{let Ft=er.target.getAttribute("data-region");Ft&&ie(Ft)})}}),wt=wt.parentElement}function mt(wt){function Ot(Wt){let ee=Wt.previousSibling;for(;ee;){if(ee.nodeName==="MDP-IMAGE")return ee===l.value?ee:null;ee=ee.previousSibling}}for(Ot(wt);wt.parentElement&&wt.tagName!=="BODY";){wt=wt.parentElement;let Wt=wt.querySelector(":scope mdp-image");if(Wt)return Wt===l.value?Wt:null}}let Qt="";function ie(wt){var Wt,ee,me;wt=wt.replace(/^zoom\|/i,"");const Ot=wt==null?void 0:wt.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(Ot){let se=(Wt=Ot==null?void 0:Ot.groups)==null?void 0:Wt.region;se&&(Qt===se?((ee=v.value)==null||ee.viewport.goHome(),Qt=""):(Qt=se,(me=v.value)==null||me.viewport.fitBounds(ye(se,v.value),!1)))}}function ye(wt,Ot){let Wt;const ee=wt.split(":");let[me,se,he,er]=ee[ee.length-1].split(",").map(qt=>parseInt(qt));const Ft=Ot.world.getItemAt(0).getContentSize();return ee.length===2&&(ee[0]==="pct"||ee[0]==="percent")&&(me=Math.round(Ft.x*me/100),se=Math.round(Ft.y*se/100),he=Math.round(Ft.x*he/100),er=Math.round(Ft.y*er/100)),Wt=Ot.viewport.imageToViewportRectangle(me,se,he,er),Wt}function Gt(){var Ot,Wt;const wt=(Ot=v.value)==null?void 0:Ot.world.getItemAt(0);if(wt){let ee=(Wt=v.value)==null?void 0:Wt.viewport.getBounds();const me=ee?wt.viewportToImageRectangle(ee):null;F.value=me?`${Math.ceil(me.x)},${Math.ceil(me.y)},${Math.ceil(me.width)},${Math.ceil(me.height)}`:""}}let de=null;function Jt(){de!==null&&(clearTimeout(de),de=null),de=window.setTimeout(()=>Gt(),100)}function Qe(wt){navigator.clipboard&&navigator.clipboard.writeText(wt)}return(wt,Ot)=>(Pe(),Ae("div",{ref_key:"root",ref:t,class:"h-[100%] image flex flex-col relative rounded overflow-hidden shadow-lg"},[_.value?(Pe(),Ae("div",{key:0,ref_key:"osdEl",ref:o,id:"osd",class:"w-full h-[100%]",role:"img","aria-label":A.value,alt:A.value},null,8,l4)):ci("",!0),_.value&&A.value&&!n.noCaption?(Pe(),Ae("div",c4,[Kt("div",{class:"font-bold text-xl mb-2",innerHTML:A.value},null,8,u4),F.value?(Pe(),Ae("div",{key:0,class:"invisible group-hover:visible absolute pr-4 pl-4 pt-2 pb-2 mt-24 bottom-0 right-0 cursor-copy ml-4 bg-slate-100 text-black",innerHTML:F.value,onClick:Ot[0]||(Ot[0]=Wt=>Qe(F.value||""))},null,8,h4)):ci("",!0)])):ci("",!0),M.value?(Pe(),Ae("mdp-manifest-popup",{key:2,manifest:M.value,class:"z-20"},null,8,d4)):ci("",!0)],512))}}),f4=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}mdp-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.image:hover mdp-manifest-popup{visibility:visible;transition:all .5s ease-in}
`,g4=ta(p4,[["styles",[f4]]]),Da=n=>(h5("data-v-4827c438"),n=n(),d5(),n),m4={class:"main"},v4=["src"],y4=["innerHTML"],b4=["innerHTML"],w4=["href","innerHTML"],x4={class:"links"},_4={class:"detail"},k4={key:0,class:"provider"},E4=Da(()=>Kt("span",{class:"label"},"provider",-1)),T4={key:0,style:{display:"flex","align-items":"center"}},S4=["src"],C4=["href","innerHTML"],P4={key:1},M4=["src"],I4=["href","innerHTML"],L4={key:1,class:"requiredStatement"},R4=["innerHTML"],A4={key:2,class:"rights"},O4=Da(()=>Kt("span",{class:"label"},"Reuse rights",-1)),z4=["href","innerHTML"],N4={key:3,class:"metadata"},D4=Da(()=>Kt("span",{class:"label"},"metadata",-1)),F4=["innerHTML"],B4=["innerHTML"],j4={key:1},H4=["innerHTML"],U4={key:4,class:"navDate"},G4=Da(()=>Kt("span",{class:"label"},"navDate",-1)),q4=["innerHTML"],V4={key:5,class:"homepage"},W4=Da(()=>Kt("span",{class:"label"},"homepage",-1)),Z4=["href","innerHTML"],Y4={key:6,class:"seeAlso"},X4=Da(()=>Kt("span",{class:"label"},"seeAlso",-1)),K4=["href","innerHTML"],J4={key:7,class:"logo"},Q4=Da(()=>Kt("span",{class:"label"},"logo",-1)),$4=["href","innerHTML"],t6={key:8,class:"imageData"},e6=Da(()=>Kt("span",{class:"label"},"source",-1)),r6=["href","innerHTML"],i6=Da(()=>Kt("span",{class:"label"},"format",-1)),n6=["innerHTML"],o6=Da(()=>Kt("span",{class:"label"},"width",-1)),s6=["innerHTML"],a6=Da(()=>Kt("span",{class:"label"},"height",-1)),l6=["innerHTML"],c6=Qo({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n;sr(r,()=>o.value=r.manifest);const t=ke(null),o=ke(null),l=ke(null);sr(o,()=>l.value=m(o.value));const u=wr(()=>l.value&&_(l.value));ml(()=>d());function d(){typeof r.manifest=="object"?o.value=r.manifest:Vv(r.manifest).then(k=>o.value=k)}function p(k,C="en"){return typeof k=="object"&&!Array.isArray(k)?k[C]||k.none||k[Object.keys(k).sort()[0]]:k}function m(k){let C={};if(C.id=p(k.id),C.label=p(k.label),k.summary&&(C.summary=p(k.summary)),k.rights&&(C.rights=k.rights),k.thumbnail&&(C.thumbnail=k.thumbnail[0].id||k.thumbnail),k.metadata){C.metadata=k.metadata.map(F=>({label:p(F.label)[0],value:p(F.value)}));let M=C.metadata.find(F=>F.label=="source_url");C.sourceUrl=M?M.value[0]:null;let A=C.metadata.find(F=>F.label==="depicts");A&&(C.depicts=A.value)}if(k.provider&&(C.provider=k.provider.map(M=>{let A={label:p(M.label),href:M.id};return M.logo&&(A.logo={src:M.logo[0].id}),A})),k.logo&&(C.logo=k.logo.map(M=>{let A={src:typeof M=="object"?M.id||M["@id"]:M};return typeof M=="object"&&(M.width&&(A.width=M.width),M.height&&(A.height=M.height)),A})),C.imageData=VC(k),C.service=C.imageData.service&&`${(C.imageData.service[0].id||C.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,k.requiredStatement){let M=k.requiredStatement;C.requiredStatement={label:p(M.label),value:p(M.value)}}return k.homepage&&(C.homepage={label:k.homepage.label?p(k.homepage.label):k.homepage.id,href:k.homepage.id}),k.seeAlso&&(C.seeAlso=k.seeAlso.map(M=>({label:M.label?p(M.label):M.id,href:M.id}))),C}function v(k){navigator.clipboard&&navigator.clipboard.writeText(k)}function _(k){let C={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const M=function(q,nt){return new Function("return `"+q+"`;").call(nt)};let A=k.rights||"",F="",[U,H,W,j]=A.split("/").slice(2);return U==="creativecommons.org"?(W=W==="zero"?"publicdomain":W,F=`<img src="${M(C.cc.badgeTemplate,{...C.cc,rightsCode:W,version:j})}"/>`):U==="rightsstatements.org"&&(F=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${C.rs.backgroundColor};"><img style="height:100%;" src="${M(C.rs.badgeTemplate,{...C.rs,rightsCode:W})}"/></div>`),F}return(k,C)=>{var M,A,F,U,H,W,j,q,nt,pt,ut,ct,V,at,ht;return Pe(),Ae("div",{ref_key:"root",ref:t,class:"manifest"},[Kt("div",m4,[Kt("img",{class:"thumbnail",src:(M=l.value)==null?void 0:M.thumbnail},null,8,v4),Kt("div",{class:"label",innerHTML:(A=l.value)==null?void 0:A.label},null,8,y4),(F=l.value)!=null&&F.summary?(Pe(),Ae("div",{key:0,class:"summary",innerHTML:(U=l.value)==null?void 0:U.summary},null,8,b4)):ci("",!0),(H=l.value)!=null&&H.rights?(Pe(),Ae("a",{key:1,href:(W=l.value)==null?void 0:W.rights,innerHTML:u.value},null,8,w4)):ci("",!0),Kt("div",x4,[Kt("img",{src:"https://mdpress.io/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:C[0]||(C[0]=mt=>v(o.value.id))})])]),Kt("div",_4,[(j=l.value)!=null&&j.provider?(Pe(),Ae("div",k4,[E4,l.value.provider.length===1?(Pe(),Ae("div",T4,[l.value.provider[0].logo?(Pe(),Ae("img",{key:0,class:"logo",src:l.value.provider[0].logo.src},null,8,S4)):ci("",!0),Kt("a",{class:"value",href:l.value.provider[0].href,innerHTML:l.value.provider[0].label},null,8,C4)])):(Pe(),Ae("ul",P4,[(Pe(!0),Ae(Yi,null,nu(l.value.provider,(mt,Qt)=>(Pe(),Ae("li",{key:`provider-${Qt}`},[mt.logo?(Pe(),Ae("img",{key:0,class:"logo",src:mt.logo.src},null,8,M4)):ci("",!0),Kt("a",{class:"value",href:mt.href,innerHTML:mt.label},null,8,I4)]))),128))]))])):ci("",!0),(q=l.value)!=null&&q.requiredStatement?(Pe(),Ae("div",L4,[Kt("span",{class:"value",innerHTML:l.value.requiredStatement.value},null,8,R4)])):ci("",!0),(nt=l.value)!=null&&nt.rights?(Pe(),Ae("div",A4,[O4,Kt("a",{class:"value",href:l.value.rights,innerHTML:l.value.rights},null,8,z4)])):ci("",!0),(pt=l.value)!=null&&pt.metadata?(Pe(),Ae("div",N4,[D4,Kt("ul",null,[(Pe(!0),Ae(Yi,null,nu(l.value.metadata,(mt,Qt)=>(Pe(),Ae("li",{key:`md-${Qt}`},[Kt("span",{class:"label",innerHTML:mt.label},null,8,F4),mt.value.length===1?(Pe(),Ae("span",{key:0,class:"value",innerHTML:mt.value[0]},null,8,B4)):(Pe(),Ae("ul",j4,[(Pe(!0),Ae(Yi,null,nu(mt.value,ie=>(Pe(),Ae("li",{class:"value",innerHTML:ie},null,8,H4))),256))]))]))),128))])])):ci("",!0),(ut=l.value)!=null&&ut.navDate?(Pe(),Ae("div",U4,[G4,Kt("span",{class:"value",innerHTML:l.value.navDate},null,8,q4)])):ci("",!0),(ct=l.value)!=null&&ct.homepage?(Pe(),Ae("div",V4,[W4,Kt("a",{class:"value",href:l.value.homepage.href,innerHTML:l.value.homepage.label},null,8,Z4)])):ci("",!0),(V=l.value)!=null&&V.seeAlso?(Pe(),Ae("div",Y4,[X4,Kt("a",{class:"value",href:l.value.seeAlso[0].href,innerHTML:l.value.seeAlso[0].label},null,8,K4)])):ci("",!0),(at=l.value)!=null&&at.logo?(Pe(),Ae("div",J4,[Q4,Kt("a",{class:"value",href:l.value.logo[0].src,innerHTML:l.value.logo[0].src},null,8,$4)])):ci("",!0),(ht=l.value)!=null&&ht.imageData?(Pe(),Ae("div",t6,[Kt("div",null,[e6,Kt("a",{class:"value",href:l.value.imageData.id,innerHTML:l.value.imageData.id.split("/").pop()},null,8,r6)]),Kt("div",null,[i6,Kt("span",{class:"value",innerHTML:l.value.imageData.format},null,8,n6)]),Kt("div",null,[o6,Kt("span",{class:"value",innerHTML:l.value.imageData.width},null,8,s6)]),Kt("div",null,[a6,Kt("span",{class:"value",innerHTML:l.value.imageData.height},null,8,l6)])])):ci("",!0)])],512)}}}),u6=`*[data-v-4827c438]{box-sizing:border-box}.manifest[data-v-4827c438]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-4827c438],.detail[data-v-4827c438]{display:flow-root;margin:6px}.main>*[data-v-4827c438]{margin-bottom:6px}.detail>div[data-v-4827c438]{margin-top:12px}.main .label[data-v-4827c438]{font-size:1.2em;font-weight:700}.thumbnail[data-v-4827c438]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-4827c438]{margin-top:6px}img.iiif[data-v-4827c438]{height:24px;cursor:copy}ul[data-v-4827c438]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-4827c438]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-4827c438]:after{content:":"}.detail .value[data-v-4827c438],.main .label[data-v-4827c438]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-4827c438]{padding-right:6px}img.logo[data-v-4827c438]{height:40px}.manifest-id[data-v-4827c438],.manifest-label[data-v-4827c438],.summary[data-v-4827c438],.provider[data-v-4827c438],.rights[data-v-4827c438],.service[data-v-4827c438],.imageData div[data-v-4827c438],.thumbnail[data-v-4827c438]{display:flex;align-items:flex-start}.metadata>ul[data-v-4827c438],.requiredStatement ul[data-v-4827c438]{padding-left:24px}.metadata ul li[data-v-4827c438],.requiredStatement ul li[data-v-4827c438]{display:flex}.metadata ul ul[data-v-4827c438]{padding-left:0}a[data-v-4827c438]:link,a[data-v-4827c438]:visited{color:#00e}
`,h6=ta(c6,[["styles",[u6]],["__scopeId","data-v-4827c438"]]),d6={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},p6=Kt("div",{class:"icon-wrapper"},[Kt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[Kt("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),f6={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},g6={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},m6={class:"p-4 md:p-5"},v6=["manifest"],y6=Qo({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(n){const r=n,t=ke(null),o=wr(()=>{var u;return(u=t==null?void 0:t.value)==null?void 0:u.parentNode});sr(o,()=>{new TC(o.value).init()});const l=ke(null);return sr(r,()=>l.value=r.manifest),ml(()=>l.value=r.manifest),(u,d)=>(Pe(),Ae("div",{ref_key:"root",ref:t,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[Kt("a",d6,[p6,Kt("div",f6,[Kt("div",g6,[Kt("div",m6,[l.value?(Pe(),Ae("mdp-manifest",{key:0,manifest:l.value},null,8,v6)):ci("",!0)])])])])],512))}}),b6=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,w6=ta(y6,[["styles",[b6]]]);var y1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,r){(function(t,o){o(r)})(Ax,function(t){var o="1.9.4";function l(f){var b,S,R,G;for(S=1,R=arguments.length;S<R;S++){G=arguments[S];for(b in G)f[b]=G[b]}return f}var u=Object.create||function(){function f(){}return function(b){return f.prototype=b,new f}}();function d(f,b){var S=Array.prototype.slice;if(f.bind)return f.bind.apply(f,S.call(arguments,1));var R=S.call(arguments,2);return function(){return f.apply(b,R.length?R.concat(S.call(arguments)):arguments)}}var p=0;function m(f){return"_leaflet_id"in f||(f._leaflet_id=++p),f._leaflet_id}function v(f,b,S){var R,G,rt,yt;return yt=function(){R=!1,G&&(rt.apply(S,G),G=!1)},rt=function(){R?G=arguments:(f.apply(S,arguments),setTimeout(yt,b),R=!0)},rt}function _(f,b,S){var R=b[1],G=b[0],rt=R-G;return f===R&&S?f:((f-G)%rt+rt)%rt+G}function k(){return!1}function C(f,b){if(b===!1)return f;var S=Math.pow(10,b===void 0?6:b);return Math.round(f*S)/S}function M(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function A(f){return M(f).split(/\s+/)}function F(f,b){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?u(f.options):{});for(var S in b)f.options[S]=b[S];return f.options}function U(f,b,S){var R=[];for(var G in f)R.push(encodeURIComponent(S?G.toUpperCase():G)+"="+encodeURIComponent(f[G]));return(!b||b.indexOf("?")===-1?"?":"&")+R.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function W(f,b){return f.replace(H,function(S,R){var G=b[R];if(G===void 0)throw new Error("No value provided for variable "+S);return typeof G=="function"&&(G=G(b)),G})}var j=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function q(f,b){for(var S=0;S<f.length;S++)if(f[S]===b)return S;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pt(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var ut=0;function ct(f){var b=+new Date,S=Math.max(0,16-(b-ut));return ut=b+S,window.setTimeout(f,S)}var V=window.requestAnimationFrame||pt("RequestAnimationFrame")||ct,at=window.cancelAnimationFrame||pt("CancelAnimationFrame")||pt("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function ht(f,b,S){if(S&&V===ct)f.call(b);else return V.call(window,d(f,b))}function mt(f){f&&at.call(window,f)}var Qt={__proto__:null,extend:l,create:u,bind:d,get lastId(){return p},stamp:m,throttle:v,wrapNum:_,falseFn:k,formatNum:C,trim:M,splitWords:A,setOptions:F,getParamString:U,template:W,isArray:j,indexOf:q,emptyImageUrl:nt,requestFn:V,cancelFn:at,requestAnimFrame:ht,cancelAnimFrame:mt};function ie(){}ie.extend=function(f){var b=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=b.__super__=this.prototype,R=u(S);R.constructor=b,b.prototype=R;for(var G in this)Object.prototype.hasOwnProperty.call(this,G)&&G!=="prototype"&&G!=="__super__"&&(b[G]=this[G]);return f.statics&&l(b,f.statics),f.includes&&(ye(f.includes),l.apply(null,[R].concat(f.includes))),l(R,f),delete R.statics,delete R.includes,R.options&&(R.options=S.options?u(S.options):{},l(R.options,f.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var rt=0,yt=R._initHooks.length;rt<yt;rt++)R._initHooks[rt].call(this)}},b},ie.include=function(f){var b=this.prototype.options;return l(this.prototype,f),f.options&&(this.prototype.options=b,this.mergeOptions(f.options)),this},ie.mergeOptions=function(f){return l(this.prototype.options,f),this},ie.addInitHook=function(f){var b=Array.prototype.slice.call(arguments,1),S=typeof f=="function"?f:function(){this[f].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function ye(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=j(f)?f:[f];for(var b=0;b<f.length;b++)f[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Gt={on:function(f,b,S){if(typeof f=="object")for(var R in f)this._on(R,f[R],b);else{f=A(f);for(var G=0,rt=f.length;G<rt;G++)this._on(f[G],b,S)}return this},off:function(f,b,S){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var R in f)this._off(R,f[R],b);else{f=A(f);for(var G=arguments.length===1,rt=0,yt=f.length;rt<yt;rt++)G?this._off(f[rt]):this._off(f[rt],b,S)}return this},_on:function(f,b,S,R){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(f,b,S)===!1){S===this&&(S=void 0);var G={fn:b,ctx:S};R&&(G.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(G)}},_off:function(f,b,S){var R,G,rt;if(this._events&&(R=this._events[f],!!R)){if(arguments.length===1){if(this._firingCount)for(G=0,rt=R.length;G<rt;G++)R[G].fn=k;delete this._events[f];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var yt=this._listens(f,b,S);if(yt!==!1){var Lt=R[yt];this._firingCount&&(Lt.fn=k,this._events[f]=R=R.slice()),R.splice(yt,1)}}},fire:function(f,b,S){if(!this.listens(f,S))return this;var R=l({},b,{type:f,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var G=this._events[f];if(G){this._firingCount=this._firingCount+1||1;for(var rt=0,yt=G.length;rt<yt;rt++){var Lt=G[rt],Ht=Lt.fn;Lt.once&&this.off(f,Ht,Lt.ctx),Ht.call(Lt.ctx||this,R)}this._firingCount--}}return S&&this._propagateEvent(R),this},listens:function(f,b,S,R){typeof f!="string"&&console.warn('"string" type argument expected');var G=b;typeof b!="function"&&(R=!!b,G=void 0,S=void 0);var rt=this._events&&this._events[f];if(rt&&rt.length&&this._listens(f,G,S)!==!1)return!0;if(R){for(var yt in this._eventParents)if(this._eventParents[yt].listens(f,b,S,R))return!0}return!1},_listens:function(f,b,S){if(!this._events)return!1;var R=this._events[f]||[];if(!b)return!!R.length;S===this&&(S=void 0);for(var G=0,rt=R.length;G<rt;G++)if(R[G].fn===b&&R[G].ctx===S)return G;return!1},once:function(f,b,S){if(typeof f=="object")for(var R in f)this._on(R,f[R],b,!0);else{f=A(f);for(var G=0,rt=f.length;G<rt;G++)this._on(f[G],b,S,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[m(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[m(f)],this},_propagateEvent:function(f){for(var b in this._eventParents)this._eventParents[b].fire(f.type,l({layer:f.target,propagatedFrom:f.target},f),!0)}};Gt.addEventListener=Gt.on,Gt.removeEventListener=Gt.clearAllEventListeners=Gt.off,Gt.addOneTimeEventListener=Gt.once,Gt.fireEvent=Gt.fire,Gt.hasEventListeners=Gt.listens;var de=ie.extend(Gt);function Jt(f,b,S){this.x=S?Math.round(f):f,this.y=S?Math.round(b):b}var Qe=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};Jt.prototype={clone:function(){return new Jt(this.x,this.y)},add:function(f){return this.clone()._add(wt(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(wt(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Jt(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Jt(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qe(this.x),this.y=Qe(this.y),this},distanceTo:function(f){f=wt(f);var b=f.x-this.x,S=f.y-this.y;return Math.sqrt(b*b+S*S)},equals:function(f){return f=wt(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=wt(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function wt(f,b,S){return f instanceof Jt?f:j(f)?new Jt(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new Jt(f.x,f.y):new Jt(f,b,S)}function Ot(f,b){if(f)for(var S=b?[f,b]:f,R=0,G=S.length;R<G;R++)this.extend(S[R])}Ot.prototype={extend:function(f){var b,S;if(!f)return this;if(f instanceof Jt||typeof f[0]=="number"||"x"in f)b=S=wt(f);else if(f=Wt(f),b=f.min,S=f.max,!b||!S)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=S.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(f){return wt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return wt(this.min.x,this.max.y)},getTopRight:function(){return wt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var b,S;return typeof f[0]=="number"||f instanceof Jt?f=wt(f):f=Wt(f),f instanceof Ot?(b=f.min,S=f.max):b=S=f,b.x>=this.min.x&&S.x<=this.max.x&&b.y>=this.min.y&&S.y<=this.max.y},intersects:function(f){f=Wt(f);var b=this.min,S=this.max,R=f.min,G=f.max,rt=G.x>=b.x&&R.x<=S.x,yt=G.y>=b.y&&R.y<=S.y;return rt&&yt},overlaps:function(f){f=Wt(f);var b=this.min,S=this.max,R=f.min,G=f.max,rt=G.x>b.x&&R.x<S.x,yt=G.y>b.y&&R.y<S.y;return rt&&yt},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var b=this.min,S=this.max,R=Math.abs(b.x-S.x)*f,G=Math.abs(b.y-S.y)*f;return Wt(wt(b.x-R,b.y-G),wt(S.x+R,S.y+G))},equals:function(f){return f?(f=Wt(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function Wt(f,b){return!f||f instanceof Ot?f:new Ot(f,b)}function ee(f,b){if(f)for(var S=b?[f,b]:f,R=0,G=S.length;R<G;R++)this.extend(S[R])}ee.prototype={extend:function(f){var b=this._southWest,S=this._northEast,R,G;if(f instanceof se)R=f,G=f;else if(f instanceof ee){if(R=f._southWest,G=f._northEast,!R||!G)return this}else return f?this.extend(he(f)||me(f)):this;return!b&&!S?(this._southWest=new se(R.lat,R.lng),this._northEast=new se(G.lat,G.lng)):(b.lat=Math.min(R.lat,b.lat),b.lng=Math.min(R.lng,b.lng),S.lat=Math.max(G.lat,S.lat),S.lng=Math.max(G.lng,S.lng)),this},pad:function(f){var b=this._southWest,S=this._northEast,R=Math.abs(b.lat-S.lat)*f,G=Math.abs(b.lng-S.lng)*f;return new ee(new se(b.lat-R,b.lng-G),new se(S.lat+R,S.lng+G))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof se||"lat"in f?f=he(f):f=me(f);var b=this._southWest,S=this._northEast,R,G;return f instanceof ee?(R=f.getSouthWest(),G=f.getNorthEast()):R=G=f,R.lat>=b.lat&&G.lat<=S.lat&&R.lng>=b.lng&&G.lng<=S.lng},intersects:function(f){f=me(f);var b=this._southWest,S=this._northEast,R=f.getSouthWest(),G=f.getNorthEast(),rt=G.lat>=b.lat&&R.lat<=S.lat,yt=G.lng>=b.lng&&R.lng<=S.lng;return rt&&yt},overlaps:function(f){f=me(f);var b=this._southWest,S=this._northEast,R=f.getSouthWest(),G=f.getNorthEast(),rt=G.lat>b.lat&&R.lat<S.lat,yt=G.lng>b.lng&&R.lng<S.lng;return rt&&yt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,b){return f?(f=me(f),this._southWest.equals(f.getSouthWest(),b)&&this._northEast.equals(f.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(f,b){return f instanceof ee?f:new ee(f,b)}function se(f,b,S){if(isNaN(f)||isNaN(b))throw new Error("Invalid LatLng object: ("+f+", "+b+")");this.lat=+f,this.lng=+b,S!==void 0&&(this.alt=+S)}se.prototype={equals:function(f,b){if(!f)return!1;f=he(f);var S=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return S<=(b===void 0?1e-9:b)},toString:function(f){return"LatLng("+C(this.lat,f)+", "+C(this.lng,f)+")"},distanceTo:function(f){return Ft.distance(this,he(f))},wrap:function(){return Ft.wrapLatLng(this)},toBounds:function(f){var b=180*f/40075017,S=b/Math.cos(Math.PI/180*this.lat);return me([this.lat-b,this.lng-S],[this.lat+b,this.lng+S])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function he(f,b,S){return f instanceof se?f:j(f)&&typeof f[0]!="object"?f.length===3?new se(f[0],f[1],f[2]):f.length===2?new se(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new se(f.lat,"lng"in f?f.lng:f.lon,f.alt):b===void 0?null:new se(f,b,S)}var er={latLngToPoint:function(f,b){var S=this.projection.project(f),R=this.scale(b);return this.transformation._transform(S,R)},pointToLatLng:function(f,b){var S=this.scale(b),R=this.transformation.untransform(f,S);return this.projection.unproject(R)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var b=this.projection.bounds,S=this.scale(f),R=this.transformation.transform(b.min,S),G=this.transformation.transform(b.max,S);return new Ot(R,G)},infinite:!1,wrapLatLng:function(f){var b=this.wrapLng?_(f.lng,this.wrapLng,!0):f.lng,S=this.wrapLat?_(f.lat,this.wrapLat,!0):f.lat,R=f.alt;return new se(S,b,R)},wrapLatLngBounds:function(f){var b=f.getCenter(),S=this.wrapLatLng(b),R=b.lat-S.lat,G=b.lng-S.lng;if(R===0&&G===0)return f;var rt=f.getSouthWest(),yt=f.getNorthEast(),Lt=new se(rt.lat-R,rt.lng-G),Ht=new se(yt.lat-R,yt.lng-G);return new ee(Lt,Ht)}},Ft=l({},er,{wrapLng:[-180,180],R:6371e3,distance:function(f,b){var S=Math.PI/180,R=f.lat*S,G=b.lat*S,rt=Math.sin((b.lat-f.lat)*S/2),yt=Math.sin((b.lng-f.lng)*S/2),Lt=rt*rt+Math.cos(R)*Math.cos(G)*yt*yt,Ht=2*Math.atan2(Math.sqrt(Lt),Math.sqrt(1-Lt));return this.R*Ht}}),qt=6378137,Yt={R:qt,MAX_LATITUDE:85.0511287798,project:function(f){var b=Math.PI/180,S=this.MAX_LATITUDE,R=Math.max(Math.min(S,f.lat),-S),G=Math.sin(R*b);return new Jt(this.R*f.lng*b,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(f){var b=180/Math.PI;return new se((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*b,f.x*b/this.R)},bounds:function(){var f=qt*Math.PI;return new Ot([-f,-f],[f,f])}()};function Xt(f,b,S,R){if(j(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=b,this._c=S,this._d=R}Xt.prototype={transform:function(f,b){return this._transform(f.clone(),b)},_transform:function(f,b){return b=b||1,f.x=b*(this._a*f.x+this._b),f.y=b*(this._c*f.y+this._d),f},untransform:function(f,b){return b=b||1,new Jt((f.x/b-this._b)/this._a,(f.y/b-this._d)/this._c)}};function ot(f,b,S,R){return new Xt(f,b,S,R)}var ft=l({},Ft,{code:"EPSG:3857",projection:Yt,transformation:function(){var f=.5/(Math.PI*Yt.R);return ot(f,.5,-f,.5)}()}),vt=l({},ft,{code:"EPSG:900913"});function O(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function X(f,b){var S="",R,G,rt,yt,Lt,Ht;for(R=0,rt=f.length;R<rt;R++){for(Lt=f[R],G=0,yt=Lt.length;G<yt;G++)Ht=Lt[G],S+=(G?"L":"M")+Ht.x+" "+Ht.y;S+=b?Be.svg?"z":"x":""}return S||"M0 0"}var dt=document.documentElement.style,kt="ActiveXObject"in window,xt=kt&&!document.addEventListener,zt="msLaunchUri"in navigator&&!("documentMode"in document),_t=Oo("webkit"),te=Oo("android"),le=Oo("android 2")||Oo("android 3"),pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=te&&Oo("Google")&&pe<537&&!("AudioNode"in window),Le=!!window.opera,Me=!zt&&Oo("chrome"),Ve=Oo("gecko")&&!_t&&!Le&&!kt,$=!Me&&Oo("safari"),J=Oo("phantom"),lt="OTransition"in dt,st=navigator.platform.indexOf("Win")===0,Vt=kt&&"transition"in dt,re="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!le,Ee="MozPerspective"in dt,cr=!window.L_DISABLE_3D&&(Vt||re||Ee)&&!lt&&!J,Fe=typeof orientation<"u"||Oo("mobile"),qn=Fe&&_t,ji=Fe&&re,Es=!window.PointerEvent&&window.MSPointerEvent,ea=!!(window.PointerEvent||Es),_u="ontouchstart"in window||!!window.TouchEvent,Ji=!window.L_NO_TOUCH&&(_u||ea),Gy=Fe&&Le,ku=Fe&&Ve,qy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fc=function(){var f=!1;try{var b=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",k,b),window.removeEventListener("testPassiveEventSupport",k,b)}catch{}return f}(),Eu=function(){return!!document.createElement("canvas").getContext}(),wl=!!(document.createElementNS&&O("svg").createSVGRect),hm=!!wl&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),dm=!wl&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var b=f.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),Lp=navigator.platform.indexOf("Mac")===0,Lh=navigator.platform.indexOf("Linux")===0;function Oo(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Be={ie:kt,ielt9:xt,edge:zt,webkit:_t,android:te,android23:le,androidStock:ae,opera:Le,chrome:Me,gecko:Ve,safari:$,phantom:J,opera12:lt,win:st,ie3d:Vt,webkit3d:re,gecko3d:Ee,any3d:cr,mobile:Fe,mobileWebkit:qn,mobileWebkit3d:ji,msPointer:Es,pointer:ea,touch:Ji,touchNative:_u,mobileOpera:Gy,mobileGecko:ku,retina:qy,passiveEvents:fc,canvas:Eu,svg:wl,vml:dm,inlineSvg:hm,mac:Lp,linux:Lh},xl=Be.msPointer?"MSPointerDown":"pointerdown",Rp=Be.msPointer?"MSPointerMove":"pointermove",ts=Be.msPointer?"MSPointerUp":"pointerup",Tu=Be.msPointer?"MSPointerCancel":"pointercancel",Rh={touchstart:xl,touchmove:Rp,touchend:ts,touchcancel:Tu},pm={touchstart:Yy,touchmove:Fa,touchend:Fa,touchcancel:Fa},gc={},fm=!1;function Vy(f,b,S){return b==="touchstart"&&Zy(),pm[b]?(S=pm[b].bind(this,S),f.addEventListener(Rh[b],S,!1),S):(console.warn("wrong event specified:",b),k)}function gm(f,b,S){if(!Rh[b]){console.warn("wrong event specified:",b);return}f.removeEventListener(Rh[b],S,!1)}function Wy(f){gc[f.pointerId]=f}function mm(f){gc[f.pointerId]&&(gc[f.pointerId]=f)}function Ap(f){delete gc[f.pointerId]}function Zy(){fm||(document.addEventListener(xl,Wy,!0),document.addEventListener(Rp,mm,!0),document.addEventListener(ts,Ap,!0),document.addEventListener(Tu,Ap,!0),fm=!0)}function Fa(f,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var S in gc)b.touches.push(gc[S]);b.changedTouches=[b],f(b)}}function Yy(f,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&Qi(b),Fa(f,b)}function Xy(f){var b={},S,R;for(R in f)S=f[R],b[R]=S&&S.bind?S.bind(f):S;return f=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var Ah=200;function vm(f,b){f.addEventListener("dblclick",b);var S=0,R;function G(rt){if(rt.detail!==1){R=rt.detail;return}if(!(rt.pointerType==="mouse"||rt.sourceCapabilities&&!rt.sourceCapabilities.firesTouchEvents)){var yt=xm(rt);if(!(yt.some(function(Ht){return Ht instanceof HTMLLabelElement&&Ht.attributes.for})&&!yt.some(function(Ht){return Ht instanceof HTMLInputElement||Ht instanceof HTMLSelectElement}))){var Lt=Date.now();Lt-S<=Ah?(R++,R===2&&b(Xy(rt))):R=1,S=Lt}}}return f.addEventListener("click",G),{dblclick:b,simDblclick:G}}function Ky(f,b){f.removeEventListener("dblclick",b.dblclick),f.removeEventListener("click",b.simDblclick)}var Oh=Pu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Su=Pu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ym=Su==="webkitTransition"||Su==="OTransition"?Su+"End":"transitionend";function bm(f){return typeof f=="string"?document.getElementById(f):f}function mc(f,b){var S=f.style[b]||f.currentStyle&&f.currentStyle[b];if((!S||S==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(f,null);S=R?R[b]:null}return S==="auto"?null:S}function ii(f,b,S){var R=document.createElement(f);return R.className=b||"",S&&S.appendChild(R),R}function Ti(f){var b=f.parentNode;b&&b.removeChild(f)}function Cu(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Ba(f){var b=f.parentNode;b&&b.lastChild!==f&&b.appendChild(f)}function ja(f){var b=f.parentNode;b&&b.firstChild!==f&&b.insertBefore(f,b.firstChild)}function vc(f,b){if(f.classList!==void 0)return f.classList.contains(b);var S=yc(f);return S.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(S)}function dr(f,b){if(f.classList!==void 0)for(var S=A(b),R=0,G=S.length;R<G;R++)f.classList.add(S[R]);else if(!vc(f,b)){var rt=yc(f);zh(f,(rt?rt+" ":"")+b)}}function $e(f,b){f.classList!==void 0?f.classList.remove(b):zh(f,M((" "+yc(f)+" ").replace(" "+b+" "," ")))}function zh(f,b){f.className.baseVal===void 0?f.className=b:f.className.baseVal=b}function yc(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function or(f,b){"opacity"in f.style?f.style.opacity=b:"filter"in f.style&&wm(f,b)}function wm(f,b){var S=!1,R="DXImageTransform.Microsoft.Alpha";try{S=f.filters.item(R)}catch{if(b===1)return}b=Math.round(b*100),S?(S.Enabled=b!==100,S.Opacity=b):f.style.filter+=" progid:"+R+"(opacity="+b+")"}function Pu(f){for(var b=document.documentElement.style,S=0;S<f.length;S++)if(f[S]in b)return f[S];return!1}function _l(f,b,S){var R=b||new Jt(0,0);f.style[Oh]=(Be.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(S?" scale("+S+")":"")}function Ki(f,b){f._leaflet_pos=b,Be.any3d?_l(f,b):(f.style.left=b.x+"px",f.style.top=b.y+"px")}function Pi(f){return f._leaflet_pos||new Jt(0,0)}var bc,wc,Mu;if("onselectstart"in document)bc=function(){lr(window,"selectstart",Qi)},wc=function(){pi(window,"selectstart",Qi)};else{var xc=Pu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bc=function(){if(xc){var f=document.documentElement.style;Mu=f[xc],f[xc]="none"}},wc=function(){xc&&(document.documentElement.style[xc]=Mu,Mu=void 0)}}function Op(){lr(window,"dragstart",Qi)}function _c(){pi(window,"dragstart",Qi)}var Nh,Dh;function zp(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(Fh(),Nh=f,Dh=f.style.outlineStyle,f.style.outlineStyle="none",lr(window,"keydown",Fh))}function Fh(){Nh&&(Nh.style.outlineStyle=Dh,Nh=void 0,Dh=void 0,pi(window,"keydown",Fh))}function Iu(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function Lu(f){var b=f.getBoundingClientRect();return{x:b.width/f.offsetWidth||1,y:b.height/f.offsetHeight||1,boundingClientRect:b}}var kl={__proto__:null,TRANSFORM:Oh,TRANSITION:Su,TRANSITION_END:ym,get:bm,getStyle:mc,create:ii,remove:Ti,empty:Cu,toFront:Ba,toBack:ja,hasClass:vc,addClass:dr,removeClass:$e,setClass:zh,getClass:yc,setOpacity:or,testProp:Pu,setTransform:_l,setPosition:Ki,getPosition:Pi,get disableTextSelection(){return bc},get enableTextSelection(){return wc},disableImageDrag:Op,enableImageDrag:_c,preventOutline:zp,restoreOutline:Fh,getSizedParentNode:Iu,getScale:Lu};function lr(f,b,S,R){if(b&&typeof b=="object")for(var G in b)Dp(f,G,b[G],S);else{b=A(b);for(var rt=0,yt=b.length;rt<yt;rt++)Dp(f,b[rt],S,R)}return this}var es="_leaflet_events";function pi(f,b,S,R){if(arguments.length===1)Bh(f),delete f[es];else if(b&&typeof b=="object")for(var G in b)Ru(f,G,b[G],S);else if(b=A(b),arguments.length===2)Bh(f,function(Lt){return q(b,Lt)!==-1});else for(var rt=0,yt=b.length;rt<yt;rt++)Ru(f,b[rt],S,R);return this}function Bh(f,b){for(var S in f[es]){var R=S.split(/\d/)[0];(!b||b(R))&&Ru(f,R,null,null,S)}}var Np={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dp(f,b,S,R){var G=b+m(S)+(R?"_"+m(R):"");if(f[es]&&f[es][G])return this;var rt=function(Lt){return S.call(R||f,Lt||window.event)},yt=rt;!Be.touchNative&&Be.pointer&&b.indexOf("touch")===0?rt=Vy(f,b,rt):Be.touch&&b==="dblclick"?rt=vm(f,rt):"addEventListener"in f?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?f.addEventListener(Np[b]||b,rt,Be.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(rt=function(Lt){Lt=Lt||window.event,ra(f,Lt)&&yt(Lt)},f.addEventListener(Np[b],rt,!1)):f.addEventListener(b,yt,!1):f.attachEvent("on"+b,rt),f[es]=f[es]||{},f[es][G]=rt}function Ru(f,b,S,R,G){G=G||b+m(S)+(R?"_"+m(R):"");var rt=f[es]&&f[es][G];if(!rt)return this;!Be.touchNative&&Be.pointer&&b.indexOf("touch")===0?gm(f,b,rt):Be.touch&&b==="dblclick"?Ky(f,rt):"removeEventListener"in f?f.removeEventListener(Np[b]||b,rt,!1):f.detachEvent("on"+b,rt),f[es][G]=null}function El(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Fp(f){return Dp(f,"wheel",El),this}function kc(f){return lr(f,"mousedown touchstart dblclick contextmenu",El),f._leaflet_disable_click=!0,this}function Qi(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Tl(f){return Qi(f),El(f),this}function xm(f){if(f.composedPath)return f.composedPath();for(var b=[],S=f.target;S;)b.push(S),S=S.parentNode;return b}function _m(f,b){if(!b)return new Jt(f.clientX,f.clientY);var S=Lu(b),R=S.boundingClientRect;return new Jt((f.clientX-R.left)/S.x-b.clientLeft,(f.clientY-R.top)/S.y-b.clientTop)}var Jy=Be.linux&&Be.chrome?window.devicePixelRatio:Be.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function km(f){return Be.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/Jy:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function ra(f,b){var S=b.relatedTarget;if(!S)return!0;try{for(;S&&S!==f;)S=S.parentNode}catch{return!1}return S!==f}var Bp={__proto__:null,on:lr,off:pi,stopPropagation:El,disableScrollPropagation:Fp,disableClickPropagation:kc,preventDefault:Qi,stop:Tl,getPropagationPath:xm,getMousePosition:_m,getWheelDelta:km,isExternalTarget:ra,addListener:lr,removeListener:pi},jp=de.extend({run:function(f,b,S,R){this.stop(),this._el=f,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Pi(f),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ht(this._animate,this),this._step()},_step:function(f){var b=+new Date-this._startTime,S=this._duration*1e3;b<S?this._runFrame(this._easeOut(b/S),f):(this._runFrame(1),this._complete())},_runFrame:function(f,b){var S=this._startPos.add(this._offset.multiplyBy(f));b&&S._round(),Ki(this._el,S),this.fire("step")},_complete:function(){mt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),Kr=de.extend({options:{crs:ft,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,b){b=F(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(he(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Su&&Be.any3d&&!Be.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lr(this._proxy,ym,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,b,S){if(b=b===void 0?this._zoom:this._limitZoom(b),f=this._limitCenter(he(f),b,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=l({animate:S.animate},S.zoom),S.pan=l({animate:S.animate,duration:S.duration},S.pan));var R=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,b,S.zoom):this._tryAnimatedPan(f,S.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(f,b,S.pan&&S.pan.noMoveStart),this},setZoom:function(f,b){return this._loaded?this.setView(this.getCenter(),f,{zoom:b}):(this._zoom=f,this)},zoomIn:function(f,b){return f=f||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,b)},zoomOut:function(f,b){return f=f||(Be.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,b)},setZoomAround:function(f,b,S){var R=this.getZoomScale(b),G=this.getSize().divideBy(2),rt=f instanceof Jt?f:this.latLngToContainerPoint(f),yt=rt.subtract(G).multiplyBy(1-1/R),Lt=this.containerPointToLatLng(G.add(yt));return this.setView(Lt,b,{zoom:S})},_getBoundsCenterZoom:function(f,b){b=b||{},f=f.getBounds?f.getBounds():me(f);var S=wt(b.paddingTopLeft||b.padding||[0,0]),R=wt(b.paddingBottomRight||b.padding||[0,0]),G=this.getBoundsZoom(f,!1,S.add(R));if(G=typeof b.maxZoom=="number"?Math.min(b.maxZoom,G):G,G===1/0)return{center:f.getCenter(),zoom:G};var rt=R.subtract(S).divideBy(2),yt=this.project(f.getSouthWest(),G),Lt=this.project(f.getNorthEast(),G),Ht=this.unproject(yt.add(Lt).divideBy(2).add(rt),G);return{center:Ht,zoom:G}},fitBounds:function(f,b){if(f=me(f),!f.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(f,b);return this.setView(S.center,S.zoom,b)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,b){return this.setView(f,this._zoom,{pan:b})},panBy:function(f,b){if(f=wt(f).round(),b=b||{},!f.x&&!f.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){dr(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,S,b.duration||.25,b.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,b,S){if(S=S||{},S.animate===!1||!Be.any3d)return this.setView(f,b,S);this._stop();var R=this.project(this.getCenter()),G=this.project(f),rt=this.getSize(),yt=this._zoom;f=he(f),b=b===void 0?yt:b;var Lt=Math.max(rt.x,rt.y),Ht=Lt*this.getZoomScale(yt,b),$t=G.distanceTo(R)||1,xe=1.42,Ke=xe*xe;function fr(Hi){var Uu=Hi?-1:1,Vm=Hi?Ht:Lt,Rc=Ht*Ht-Lt*Lt+Uu*Ke*Ke*$t*$t,Wm=2*Vm*Ke*$t,sd=Rc/Wm,lf=Math.sqrt(sd*sd+1)-sd,zl=lf<1e-9?-18:Math.log(lf);return zl}function Rn(Hi){return(Math.exp(Hi)-Math.exp(-Hi))/2}function tn(Hi){return(Math.exp(Hi)+Math.exp(-Hi))/2}function An(Hi){return Rn(Hi)/tn(Hi)}var Wn=fr(0);function Al(Hi){return Lt*(tn(Wn)/tn(Wn+xe*Hi))}function Hm(Hi){return Lt*(tn(Wn)*An(Wn+xe*Hi)-Rn(Wn))/Ke}function Um(Hi){return 1-Math.pow(1-Hi,1.5)}var Gm=Date.now(),qm=(fr(1)-Wn)/xe,af=S.duration?1e3*S.duration:1e3*qm*.8;function Ol(){var Hi=(Date.now()-Gm)/af,Uu=Um(Hi)*qm;Hi<=1?(this._flyToFrame=ht(Ol,this),this._move(this.unproject(R.add(G.subtract(R).multiplyBy(Hm(Uu)/$t)),yt),this.getScaleZoom(Lt/Al(Uu),yt),{flyTo:!0})):this._move(f,b)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Ol.call(this),this},flyToBounds:function(f,b){var S=this._getBoundsCenterZoom(f,b);return this.flyTo(S.center,S.zoom,b)},setMaxBounds:function(f){return f=me(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var b=this.options.minZoom;return this.options.minZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var b=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&b!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,b){this._enforcingBounds=!0;var S=this.getCenter(),R=this._limitCenter(S,this._zoom,me(f));return S.equals(R)||this.panTo(R,b),this._enforcingBounds=!1,this},panInside:function(f,b){b=b||{};var S=wt(b.paddingTopLeft||b.padding||[0,0]),R=wt(b.paddingBottomRight||b.padding||[0,0]),G=this.project(this.getCenter()),rt=this.project(f),yt=this.getPixelBounds(),Lt=Wt([yt.min.add(S),yt.max.subtract(R)]),Ht=Lt.getSize();if(!Lt.contains(rt)){this._enforcingBounds=!0;var $t=rt.subtract(Lt.getCenter()),xe=Lt.extend(rt).getSize().subtract(Ht);G.x+=$t.x<0?-xe.x:xe.x,G.y+=$t.y<0?-xe.y:xe.y,this.panTo(this.unproject(G),b),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=l({animate:!1,pan:!0},f===!0?{animate:!0}:f);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),R=b.divideBy(2).round(),G=S.divideBy(2).round(),rt=R.subtract(G);return!rt.x&&!rt.y?this:(f.animate&&f.pan?this.panBy(rt):(f.pan&&this._rawPanBy(rt),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=l({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=d(this._handleGeolocationResponse,this),S=d(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,S,f):navigator.geolocation.getCurrentPosition(b,S,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var b=f.code,S=f.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var b=f.coords.latitude,S=f.coords.longitude,R=new se(b,S),G=R.toBounds(f.coords.accuracy*2),rt=this._locateOptions;if(rt.setView){var yt=this.getBoundsZoom(G);this.setView(R,rt.maxZoom?Math.min(yt,rt.maxZoom):yt)}var Lt={latlng:R,bounds:G,timestamp:f.timestamp};for(var Ht in f.coords)typeof f.coords[Ht]=="number"&&(Lt[Ht]=f.coords[Ht]);this.fire("locationfound",Lt)}},addHandler:function(f,b){if(!b)return this;var S=this[f]=new b(this);return this._handlers.push(S),this.options[f]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ti(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(mt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)Ti(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,b){var S="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),R=ii("div",S,b||this._mapPane);return f&&(this._panes[f]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),b=this.unproject(f.getBottomLeft()),S=this.unproject(f.getTopRight());return new ee(b,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,b,S){f=me(f),S=wt(S||[0,0]);var R=this.getZoom()||0,G=this.getMinZoom(),rt=this.getMaxZoom(),yt=f.getNorthWest(),Lt=f.getSouthEast(),Ht=this.getSize().subtract(S),$t=Wt(this.project(Lt,R),this.project(yt,R)).getSize(),xe=Be.any3d?this.options.zoomSnap:1,Ke=Ht.x/$t.x,fr=Ht.y/$t.y,Rn=b?Math.max(Ke,fr):Math.min(Ke,fr);return R=this.getScaleZoom(Rn,R),xe&&(R=Math.round(R/(xe/100))*(xe/100),R=b?Math.ceil(R/xe)*xe:Math.floor(R/xe)*xe),Math.max(G,Math.min(rt,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Jt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,b){var S=this._getTopLeftPoint(f,b);return new Ot(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,b){var S=this.options.crs;return b=b===void 0?this._zoom:b,S.scale(f)/S.scale(b)},getScaleZoom:function(f,b){var S=this.options.crs;b=b===void 0?this._zoom:b;var R=S.zoom(f*S.scale(b));return isNaN(R)?1/0:R},project:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(he(f),b)},unproject:function(f,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(wt(f),b)},layerPointToLatLng:function(f){var b=wt(f).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(f){var b=this.project(he(f))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(he(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(me(f))},distance:function(f,b){return this.options.crs.distance(he(f),he(b))},containerPointToLayerPoint:function(f){return wt(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return wt(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var b=this.containerPointToLayerPoint(wt(f));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(f)))},mouseEventToContainerPoint:function(f){return _m(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var b=this._container=bm(f);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lr(b,"scroll",this._onScroll,this),this._containerId=m(b)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Be.any3d,dr(f,"leaflet-container"+(Be.touch?" leaflet-touch":"")+(Be.retina?" leaflet-retina":"")+(Be.ielt9?" leaflet-oldie":"")+(Be.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=mc(f,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ki(this._mapPane,new Jt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dr(f.markerPane,"leaflet-zoom-hide"),dr(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,b,S){Ki(this._mapPane,new Jt(0,0));var R=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var G=this._zoom!==b;this._moveStart(G,S)._move(f,b)._moveEnd(G),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(f,b){return f&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(f,b,S,R){b===void 0&&(b=this._zoom);var G=this._zoom!==b;return this._zoom=b,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),R?S&&S.pinch&&this.fire("zoom",S):((G||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return mt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Ki(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[m(this._container)]=this;var b=f?pi:lr;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),Be.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){mt(this._resizeRequest),this._resizeRequest=ht(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,b){for(var S=[],R,G=b==="mouseout"||b==="mouseover",rt=f.target||f.srcElement,yt=!1;rt;){if(R=this._targets[m(rt)],R&&(b==="click"||b==="preclick")&&this._draggableMoved(R)){yt=!0;break}if(R&&R.listens(b,!0)&&(G&&!ra(rt,f)||(S.push(R),G))||rt===this._container)break;rt=rt.parentNode}return!S.length&&!yt&&!G&&this.listens(b,!0)&&(S=[this]),S},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var b=f.target||f.srcElement;if(!(!this._loaded||b._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(b))){var S=f.type;S==="mousedown"&&zp(b),this._fireDOMEvent(f,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,b,S){if(f.type==="click"){var R=l({},f);R.type="preclick",this._fireDOMEvent(R,R.type,S)}var G=this._findEventTargets(f,b);if(S){for(var rt=[],yt=0;yt<S.length;yt++)S[yt].listens(b,!0)&&rt.push(S[yt]);G=rt.concat(G)}if(G.length){b==="contextmenu"&&Qi(f);var Lt=G[0],Ht={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var $t=Lt.getLatLng&&(!Lt._radius||Lt._radius<=10);Ht.containerPoint=$t?this.latLngToContainerPoint(Lt.getLatLng()):this.mouseEventToContainerPoint(f),Ht.layerPoint=this.containerPointToLayerPoint(Ht.containerPoint),Ht.latlng=$t?Lt.getLatLng():this.layerPointToLatLng(Ht.layerPoint)}for(yt=0;yt<G.length;yt++)if(G[yt].fire(b,Ht,!0),Ht.originalEvent._stopped||G[yt].options.bubblingMouseEvents===!1&&q(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,b=this._handlers.length;f<b;f++)this._handlers[f].disable()},whenReady:function(f,b){return this._loaded?f.call(b||this,{target:this}):this.on("load",f,b),this},_getMapPanePos:function(){return Pi(this._mapPane)||new Jt(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,b){var S=f&&b!==void 0?this._getNewPixelOrigin(f,b):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,b){var S=this.getSize()._divideBy(2);return this.project(f,b)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,b,S){var R=this._getNewPixelOrigin(S,b);return this.project(f,b)._subtract(R)},_latLngBoundsToNewLayerBounds:function(f,b,S){var R=this._getNewPixelOrigin(S,b);return Wt([this.project(f.getSouthWest(),b)._subtract(R),this.project(f.getNorthWest(),b)._subtract(R),this.project(f.getSouthEast(),b)._subtract(R),this.project(f.getNorthEast(),b)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,b,S){if(!S)return f;var R=this.project(f,b),G=this.getSize().divideBy(2),rt=new Ot(R.subtract(G),R.add(G)),yt=this._getBoundsOffset(rt,S,b);return Math.abs(yt.x)<=1&&Math.abs(yt.y)<=1?f:this.unproject(R.add(yt),b)},_limitOffset:function(f,b){if(!b)return f;var S=this.getPixelBounds(),R=new Ot(S.min.add(f),S.max.add(f));return f.add(this._getBoundsOffset(R,b))},_getBoundsOffset:function(f,b,S){var R=Wt(this.project(b.getNorthEast(),S),this.project(b.getSouthWest(),S)),G=R.min.subtract(f.min),rt=R.max.subtract(f.max),yt=this._rebound(G.x,-rt.x),Lt=this._rebound(G.y,-rt.y);return new Jt(yt,Lt)},_rebound:function(f,b){return f+b>0?Math.round(f-b)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(b))},_limitZoom:function(f){var b=this.getMinZoom(),S=this.getMaxZoom(),R=Be.any3d?this.options.zoomSnap:1;return R&&(f=Math.round(f/R)*R),Math.max(b,Math.min(S,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,b){var S=this._getCenterOffset(f)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,b),!0)},_createAnimProxy:function(){var f=this._proxy=ii("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(b){var S=Oh,R=this._proxy.style[S];_l(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),R===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ti(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),b=this.getZoom();_l(this._proxy,this.project(f,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,b,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(b),G=this._getCenterOffset(f)._divideBy(1-1/R);return S.animate!==!0&&!this.getSize().contains(G)?!1:(ht(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(f,b,!0)},this),!0)},_animateZoom:function(f,b,S,R){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=b,dr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:b,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qy(f,b){return new Kr(f,b)}var yo=ie.extend({options:{position:"topright"},initialize:function(f){F(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var b=this._map;return b&&b.removeControl(this),this.options.position=f,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var b=this._container=this.onAdd(f),S=this.getPosition(),R=f._controlCorners[S];return dr(b,"leaflet-control"),S.indexOf("bottom")!==-1?R.insertBefore(b,R.firstChild):R.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ti(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Au=function(f){return new yo(f)};Kr.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},b="leaflet-",S=this._controlContainer=ii("div",b+"control-container",this._container);function R(G,rt){var yt=b+G+" "+b+rt;f[G+rt]=ii("div",yt,S)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Ti(this._controlCorners[f]);Ti(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jh=yo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,b,S,R){return S<R?-1:R<S?1:0}},initialize:function(f,b,S){F(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in f)this._addLayer(f[R],R);for(R in b)this._addLayer(b[R],R,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return yo.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,b){return this._addLayer(f,b),this._map?this._update():this},addOverlay:function(f,b){return this._addLayer(f,b,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var b=this._getLayer(m(f));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){dr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(dr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",b=this._container=ii("div",f),S=this.options.collapsed;b.setAttribute("aria-haspopup",!0),kc(b),Fp(b);var R=this._section=ii("section",f+"-list");S&&(this._map.on("click",this.collapse,this),lr(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var G=this._layersLink=ii("a",f+"-toggle",b);G.href="#",G.title="Layers",G.setAttribute("role","button"),lr(G,{keydown:function(rt){rt.keyCode===13&&this._expandSafely()},click:function(rt){Qi(rt),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=ii("div",f+"-base",R),this._separator=ii("div",f+"-separator",R),this._overlaysList=ii("div",f+"-overlays",R),b.appendChild(R)},_getLayer:function(f){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&m(this._layers[b].layer)===f)return this._layers[b]},_addLayer:function(f,b,S){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:b,overlay:S}),this.options.sortLayers&&this._layers.sort(d(function(R,G){return this.options.sortFunction(R.layer,G.layer,R.name,G.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cu(this._baseLayersList),Cu(this._overlaysList),this._layerControlInputs=[];var f,b,S,R,G=0;for(S=0;S<this._layers.length;S++)R=this._layers[S],this._addItem(R),b=b||R.overlay,f=f||!R.overlay,G+=R.overlay?0:1;return this.options.hideSingleBase&&(f=f&&G>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=b&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var b=this._getLayer(m(f.target)),S=b.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;S&&this._map.fire(S,b)},_createRadioElement:function(f,b){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(b?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=S,R.firstChild},_addItem:function(f){var b=document.createElement("label"),S=this._map.hasLayer(f.layer),R;f.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=S):R=this._createRadioElement("leaflet-base-layers_"+m(this),S),this._layerControlInputs.push(R),R.layerId=m(f.layer),lr(R,"click",this._onInputClick,this);var G=document.createElement("span");G.innerHTML=" "+f.name;var rt=document.createElement("span");b.appendChild(rt),rt.appendChild(R),rt.appendChild(G);var yt=f.overlay?this._overlaysList:this._baseLayersList;return yt.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,b,S,R=[],G=[];this._handlingClick=!0;for(var rt=f.length-1;rt>=0;rt--)b=f[rt],S=this._getLayer(b.layerId).layer,b.checked?R.push(S):b.checked||G.push(S);for(rt=0;rt<G.length;rt++)this._map.hasLayer(G[rt])&&this._map.removeLayer(G[rt]);for(rt=0;rt<R.length;rt++)this._map.hasLayer(R[rt])||this._map.addLayer(R[rt]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,b,S,R=this._map.getZoom(),G=f.length-1;G>=0;G--)b=f[G],S=this._getLayer(b.layerId).layer,b.disabled=S.options.minZoom!==void 0&&R<S.options.minZoom||S.options.maxZoom!==void 0&&R>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,lr(f,"click",Qi),this.expand();var b=this;setTimeout(function(){pi(f,"click",Qi),b._preventClick=!1})}}),Em=function(f,b,S){return new jh(f,b,S)},Hh=yo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var b="leaflet-control-zoom",S=ii("div",b+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,b+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,b+"-out",S,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,b,S,R,G){var rt=ii("a",S,R);return rt.innerHTML=f,rt.href="#",rt.title=b,rt.setAttribute("role","button"),rt.setAttribute("aria-label",b),kc(rt),lr(rt,"click",Tl),lr(rt,"click",G,this),lr(rt,"click",this._refocusOnMap,this),rt},_updateDisabled:function(){var f=this._map,b="leaflet-disabled";$e(this._zoomInButton,b),$e(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(dr(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(dr(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Kr.mergeOptions({zoomControl:!0}),Kr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hh,this.addControl(this.zoomControl))});var $y=function(f){return new Hh(f)},Tm=yo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var b="leaflet-control-scale",S=ii("div",b),R=this.options;return this._addScales(R,b+"-line",S),f.on(R.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),S},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,b,S){f.metric&&(this._mScale=ii("div",b,S)),f.imperial&&(this._iScale=ii("div",b,S))},_update:function(){var f=this._map,b=f.getSize().y/2,S=f.distance(f.containerPointToLatLng([0,b]),f.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(S)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var b=this._getRoundNum(f),S=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,S,b/f)},_updateImperial:function(f){var b=f*3.2808399,S,R,G;b>5280?(S=b/5280,R=this._getRoundNum(S),this._updateScale(this._iScale,R+" mi",R/S)):(G=this._getRoundNum(b),this._updateScale(this._iScale,G+" ft",G/b))},_updateScale:function(f,b,S){f.style.width=Math.round(this.options.maxWidth*S)+"px",f.innerHTML=b},_getRoundNum:function(f){var b=Math.pow(10,(Math.floor(f)+"").length-1),S=f/b;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,b*S}}),Sm=function(f){return new Tm(f)},Hp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Uh=yo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Be.inlineSvg?Hp+" ":"")+"Leaflet</a>"},initialize:function(f){F(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=ii("div","leaflet-control-attribution"),kc(this._container);for(var b in f._layers)f._layers[b].getAttribution&&this.addAttribution(f._layers[b].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var b in this._attributions)this._attributions[b]&&f.push(b);var S=[];this.options.prefix&&S.push(this.options.prefix),f.length&&S.push(f.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Kr.mergeOptions({attributionControl:!0}),Kr.addInitHook(function(){this.options.attributionControl&&new Uh().addTo(this)});var Cm=function(f){return new Uh(f)};yo.Layers=jh,yo.Zoom=Hh,yo.Scale=Tm,yo.Attribution=Uh,Au.layers=Em,Au.zoom=$y,Au.scale=Sm,Au.attribution=Cm;var $i=ie.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$i.addTo=function(f,b){return f.addHandler(b,this),this};var Up={Events:Gt},Ts=Be.touch?"touchstart mousedown":"mousedown",rs=de.extend({options:{clickTolerance:3},initialize:function(f,b,S,R){F(this,R),this._element=f,this._dragStartTarget=b||f,this._preventOutline=S},enable:function(){this._enabled||(lr(this._dragStartTarget,Ts,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rs._dragging===this&&this.finishDrag(!0),pi(this._dragStartTarget,Ts,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!vc(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){rs._dragging===this&&this.finishDrag();return}if(!(rs._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(rs._dragging=this,this._preventOutline&&zp(this._element),Op(),bc(),!this._moving)){this.fire("down");var b=f.touches?f.touches[0]:f,S=Iu(this._element);this._startPoint=new Jt(b.clientX,b.clientY),this._startPos=Pi(this._element),this._parentScale=Lu(S);var R=f.type==="mousedown";lr(document,R?"mousemove":"touchmove",this._onMove,this),lr(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var b=f.touches&&f.touches.length===1?f.touches[0]:f,S=new Jt(b.clientX,b.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Qi(f),this._moved||(this.fire("dragstart"),this._moved=!0,dr(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Ki(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pi(document,"mousemove touchmove",this._onMove,this),pi(document,"mouseup touchend touchcancel",this._onUp,this),_c(),wc();var b=this._moved&&this._moving;this._moving=!1,rs._dragging=!1,b&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function ia(f,b,S){var R,G=[1,4,2,8],rt,yt,Lt,Ht,$t,xe,Ke,fr;for(rt=0,xe=f.length;rt<xe;rt++)f[rt]._code=Sl(f[rt],b);for(Lt=0;Lt<4;Lt++){for(Ke=G[Lt],R=[],rt=0,xe=f.length,yt=xe-1;rt<xe;yt=rt++)Ht=f[rt],$t=f[yt],Ht._code&Ke?$t._code&Ke||(fr=qh($t,Ht,Ke,b,S),fr._code=Sl(fr,b),R.push(fr)):($t._code&Ke&&(fr=qh($t,Ht,Ke,b,S),fr._code=Sl(fr,b),R.push(fr)),R.push(Ht));f=R}return f}function Ou(f,b){var S,R,G,rt,yt,Lt,Ht,$t,xe;if(!f||f.length===0)throw new Error("latlngs not passed");kn(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ke=he([0,0]),fr=me(f),Rn=fr.getNorthWest().distanceTo(fr.getSouthWest())*fr.getNorthEast().distanceTo(fr.getNorthWest());Rn<1700&&(Ke=Gh(f));var tn=f.length,An=[];for(S=0;S<tn;S++){var Wn=he(f[S]);An.push(b.project(he([Wn.lat-Ke.lat,Wn.lng-Ke.lng])))}for(Lt=Ht=$t=0,S=0,R=tn-1;S<tn;R=S++)G=An[S],rt=An[R],yt=G.y*rt.x-rt.y*G.x,Ht+=(G.x+rt.x)*yt,$t+=(G.y+rt.y)*yt,Lt+=yt*3;Lt===0?xe=An[0]:xe=[Ht/Lt,$t/Lt];var Al=b.unproject(wt(xe));return he([Al.lat+Ke.lat,Al.lng+Ke.lng])}function Gh(f){for(var b=0,S=0,R=0,G=0;G<f.length;G++){var rt=he(f[G]);b+=rt.lat,S+=rt.lng,R++}return he([b/R,S/R])}var tb={__proto__:null,clipPolygon:ia,polygonCenter:Ou,centroid:Gh};function zu(f,b){if(!b||!f.length)return f.slice();var S=b*b;return f=eb(f,S),f=Du(f,S),f}function Gp(f,b,S){return Math.sqrt(Fu(f,b,S,!0))}function Nu(f,b,S){return Fu(f,b,S)}function Du(f,b){var S=f.length,R=typeof Uint8Array!=void 0+""?Uint8Array:Array,G=new R(S);G[0]=G[S-1]=1,qp(f,G,b,0,S-1);var rt,yt=[];for(rt=0;rt<S;rt++)G[rt]&&yt.push(f[rt]);return yt}function qp(f,b,S,R,G){var rt=0,yt,Lt,Ht;for(Lt=R+1;Lt<=G-1;Lt++)Ht=Fu(f[Lt],f[R],f[G],!0),Ht>rt&&(yt=Lt,rt=Ht);rt>S&&(b[yt]=1,qp(f,b,S,R,yt),qp(f,b,S,yt,G))}function eb(f,b){for(var S=[f[0]],R=1,G=0,rt=f.length;R<rt;R++)Vp(f[R],f[G])>b&&(S.push(f[R]),G=R);return G<rt-1&&S.push(f[rt-1]),S}var Pm;function Mm(f,b,S,R,G){var rt=R?Pm:Sl(f,S),yt=Sl(b,S),Lt,Ht,$t;for(Pm=yt;;){if(!(rt|yt))return[f,b];if(rt&yt)return!1;Lt=rt||yt,Ht=qh(f,b,Lt,S,G),$t=Sl(Ht,S),Lt===rt?(f=Ht,rt=$t):(b=Ht,yt=$t)}}function qh(f,b,S,R,G){var rt=b.x-f.x,yt=b.y-f.y,Lt=R.min,Ht=R.max,$t,xe;return S&8?($t=f.x+rt*(Ht.y-f.y)/yt,xe=Ht.y):S&4?($t=f.x+rt*(Lt.y-f.y)/yt,xe=Lt.y):S&2?($t=Ht.x,xe=f.y+yt*(Ht.x-f.x)/rt):S&1&&($t=Lt.x,xe=f.y+yt*(Lt.x-f.x)/rt),new Jt($t,xe,G)}function Sl(f,b){var S=0;return f.x<b.min.x?S|=1:f.x>b.max.x&&(S|=2),f.y<b.min.y?S|=4:f.y>b.max.y&&(S|=8),S}function Vp(f,b){var S=b.x-f.x,R=b.y-f.y;return S*S+R*R}function Fu(f,b,S,R){var G=b.x,rt=b.y,yt=S.x-G,Lt=S.y-rt,Ht=yt*yt+Lt*Lt,$t;return Ht>0&&($t=((f.x-G)*yt+(f.y-rt)*Lt)/Ht,$t>1?(G=S.x,rt=S.y):$t>0&&(G+=yt*$t,rt+=Lt*$t)),yt=f.x-G,Lt=f.y-rt,R?yt*yt+Lt*Lt:new Jt(G,rt)}function kn(f){return!j(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function Im(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kn(f)}function un(f,b){var S,R,G,rt,yt,Lt,Ht,$t;if(!f||f.length===0)throw new Error("latlngs not passed");kn(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var xe=he([0,0]),Ke=me(f),fr=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());fr<1700&&(xe=Gh(f));var Rn=f.length,tn=[];for(S=0;S<Rn;S++){var An=he(f[S]);tn.push(b.project(he([An.lat-xe.lat,An.lng-xe.lng])))}for(S=0,R=0;S<Rn-1;S++)R+=tn[S].distanceTo(tn[S+1])/2;if(R===0)$t=tn[0];else for(S=0,rt=0;S<Rn-1;S++)if(yt=tn[S],Lt=tn[S+1],G=yt.distanceTo(Lt),rt+=G,rt>R){Ht=(rt-R)/G,$t=[Lt.x-Ht*(Lt.x-yt.x),Lt.y-Ht*(Lt.y-yt.y)];break}var Wn=b.unproject(wt($t));return he([Wn.lat+xe.lat,Wn.lng+xe.lng])}var Cl={__proto__:null,simplify:zu,pointToSegmentDistance:Gp,closestPointOnSegment:Nu,clipSegment:Mm,_getEdgeIntersection:qh,_getBitCode:Sl,_sqClosestPointOnSegment:Fu,isFlat:kn,_flat:Im,polylineCenter:un},Vh={project:function(f){return new Jt(f.lng,f.lat)},unproject:function(f){return new se(f.y,f.x)},bounds:new Ot([-180,-90],[180,90])},Pl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var b=Math.PI/180,S=this.R,R=f.lat*b,G=this.R_MINOR/S,rt=Math.sqrt(1-G*G),yt=rt*Math.sin(R),Lt=Math.tan(Math.PI/4-R/2)/Math.pow((1-yt)/(1+yt),rt/2);return R=-S*Math.log(Math.max(Lt,1e-10)),new Jt(f.lng*b*S,R)},unproject:function(f){for(var b=180/Math.PI,S=this.R,R=this.R_MINOR/S,G=Math.sqrt(1-R*R),rt=Math.exp(-f.y/S),yt=Math.PI/2-2*Math.atan(rt),Lt=0,Ht=.1,$t;Lt<15&&Math.abs(Ht)>1e-7;Lt++)$t=G*Math.sin(yt),$t=Math.pow((1-$t)/(1+$t),G/2),Ht=Math.PI/2-2*Math.atan(rt*$t)-yt,yt+=Ht;return new se(yt*b,f.x*b/S)}},Lm={__proto__:null,LonLat:Vh,Mercator:Pl,SphericalMercator:Yt},Rm=l({},Ft,{code:"EPSG:3395",projection:Pl,transformation:function(){var f=.5/(Math.PI*Pl.R);return ot(f,.5,-f,.5)}()}),Ec=l({},Ft,{code:"EPSG:4326",projection:Vh,transformation:ot(1/180,1,-1/180,.5)}),Wp=l({},er,{projection:Vh,transformation:ot(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,b){var S=b.lng-f.lng,R=b.lat-f.lat;return Math.sqrt(S*S+R*R)},infinite:!0});er.Earth=Ft,er.EPSG3395=Rm,er.EPSG3857=ft,er.EPSG900913=vt,er.EPSG4326=Ec,er.Simple=Wp;var bo=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[m(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[m(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var b=f.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var S=this.getEvents();b.on(S,this),this.once("remove",function(){b.off(S,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Kr.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var b=m(f);return this._layers[b]?this:(this._layers[b]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var b=m(f);return this._layers[b]?(this._loaded&&f.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return m(f)in this._layers},eachLayer:function(f,b){for(var S in this._layers)f.call(b,this._layers[S]);return this},_addLayers:function(f){f=f?j(f)?f:[f]:[];for(var b=0,S=f.length;b<S;b++)this.addLayer(f[b])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[m(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var b=m(f);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,b=-1/0,S=this._getZoomSpan();for(var R in this._zoomBoundLayers){var G=this._zoomBoundLayers[R].options;f=G.minZoom===void 0?f:Math.min(f,G.minZoom),b=G.maxZoom===void 0?b:Math.max(b,G.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=f===1/0?void 0:f,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ml=bo.extend({initialize:function(f,b){F(this,b),this._layers={};var S,R;if(f)for(S=0,R=f.length;S<R;S++)this.addLayer(f[S])},addLayer:function(f){var b=this.getLayerId(f);return this._layers[b]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var b=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(f){var b=typeof f=="number"?f:this.getLayerId(f);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var b=Array.prototype.slice.call(arguments,1),S,R;for(S in this._layers)R=this._layers[S],R[f]&&R[f].apply(R,b);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,b){for(var S in this._layers)f.call(b,this._layers[S]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return m(f)}}),Wh=function(f,b){return new Ml(f,b)},Vn=Ml.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Ml.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Ml.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ee;for(var b in this._layers){var S=this._layers[b];f.extend(S.getBounds?S.getBounds():S.getLatLng())}return f}}),hn=function(f,b){return new Vn(f,b)},Ss=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){F(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,b){var S=this._getIconUrl(f);if(!S){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(S,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(R,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(f,b){var S=this.options,R=S[b+"Size"];typeof R=="number"&&(R=[R,R]);var G=wt(R),rt=wt(b==="shadow"&&S.shadowAnchor||S.iconAnchor||G&&G.divideBy(2,!0));f.className="leaflet-marker-"+b+" "+(S.className||""),rt&&(f.style.marginLeft=-rt.x+"px",f.style.marginTop=-rt.y+"px"),G&&(f.style.width=G.x+"px",f.style.height=G.y+"px")},_createImg:function(f,b){return b=b||document.createElement("img"),b.src=f,b},_getIconUrl:function(f){return Be.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function Am(f){return new Ss(f)}var Tc=Ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof Tc.imagePath!="string"&&(Tc.imagePath=this._detectIconPath()),(this.options.imagePath||Tc.imagePath)+Ss.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var b=function(S,R,G){var rt=R.exec(S);return rt&&rt[G]};return f=b(f,/^url\((['"])?(.+)\1\)$/,2),f&&b(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=ii("div","leaflet-default-icon-path",document.body),b=mc(f,"background-image")||mc(f,"backgroundImage");if(document.body.removeChild(f),b=this._stripUrl(b),b)return b;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Zh=$i.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new rs(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dr(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var b=this._marker,S=b._map,R=this._marker.options.autoPanSpeed,G=this._marker.options.autoPanPadding,rt=Pi(b._icon),yt=S.getPixelBounds(),Lt=S.getPixelOrigin(),Ht=Wt(yt.min._subtract(Lt).add(G),yt.max._subtract(Lt).subtract(G));if(!Ht.contains(rt)){var $t=wt((Math.max(Ht.max.x,rt.x)-Ht.max.x)/(yt.max.x-Ht.max.x)-(Math.min(Ht.min.x,rt.x)-Ht.min.x)/(yt.min.x-Ht.min.x),(Math.max(Ht.max.y,rt.y)-Ht.max.y)/(yt.max.y-Ht.max.y)-(Math.min(Ht.min.y,rt.y)-Ht.min.y)/(yt.min.y-Ht.min.y)).multiplyBy(R);S.panBy($t,{animate:!1}),this._draggable._newPos._add($t),this._draggable._startPos._add($t),Ki(b._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=ht(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(mt(this._panRequest),this._panRequest=ht(this._adjustPan.bind(this,f)))},_onDrag:function(f){var b=this._marker,S=b._shadow,R=Pi(b._icon),G=b._map.layerPointToLatLng(R);S&&Ki(S,R),b._latlng=G,f.latlng=G,f.oldLatLng=this._oldLatLng,b.fire("move",f).fire("drag",f)},_onDragEnd:function(f){mt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Il=bo.extend({options:{icon:new Tc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,b){F(this,b),this._latlng=he(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var b=this._latlng;return this._latlng=he(f),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=f.icon.createIcon(this._icon),R=!1;S!==this._icon&&(this._icon&&this._removeIcon(),R=!0,f.title&&(S.title=f.title),S.tagName==="IMG"&&(S.alt=f.alt||"")),dr(S,b),f.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lr(S,"focus",this._panOnFocus,this);var G=f.icon.createShadow(this._shadow),rt=!1;G!==this._shadow&&(this._removeShadow(),rt=!0),G&&(dr(G,b),G.alt=""),this._shadow=G,f.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),G&&rt&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pi(this._icon,"focus",this._panOnFocus,this),Ti(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ti(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Ki(this._icon,f),this._shadow&&Ki(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(dr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zh)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zh(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&or(this._icon,f),this._shadow&&or(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var b=this.options.icon.options,S=b.iconSize?wt(b.iconSize):wt(0,0),R=b.iconAnchor?wt(b.iconAnchor):wt(0,0);f.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:S.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Om(f,b){return new Il(f,b)}var na=bo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return F(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yh=na.extend({options:{fill:!0,radius:10},initialize:function(f,b){F(this,b),this._latlng=he(f),this._radius=this.options.radius},setLatLng:function(f){var b=this._latlng;return this._latlng=he(f),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var b=f&&f.radius||this._radius;return na.prototype.setStyle.call(this,f),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,b=this._radiusY||f,S=this._clickTolerance(),R=[f+S,b+S];this._pxBounds=new Ot(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function rb(f,b){return new Yh(f,b)}var Zp=Yh.extend({initialize:function(f,b,S){if(typeof b=="number"&&(b=l({},S,{radius:b})),F(this,b),this._latlng=he(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:na.prototype.setStyle,_project:function(){var f=this._latlng.lng,b=this._latlng.lat,S=this._map,R=S.options.crs;if(R.distance===Ft.distance){var G=Math.PI/180,rt=this._mRadius/Ft.R/G,yt=S.project([b+rt,f]),Lt=S.project([b-rt,f]),Ht=yt.add(Lt).divideBy(2),$t=S.unproject(Ht).lat,xe=Math.acos((Math.cos(rt*G)-Math.sin(b*G)*Math.sin($t*G))/(Math.cos(b*G)*Math.cos($t*G)))/G;(isNaN(xe)||xe===0)&&(xe=rt/Math.cos(Math.PI/180*b)),this._point=Ht.subtract(S.getPixelOrigin()),this._radius=isNaN(xe)?0:Ht.x-S.project([$t,f-xe]).x,this._radiusY=Ht.y-yt.y}else{var Ke=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Ke).x}this._updateBounds()}});function ib(f,b,S){return new Zp(f,b,S)}var oa=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,b){F(this,b),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var b=1/0,S=null,R=Fu,G,rt,yt=0,Lt=this._parts.length;yt<Lt;yt++)for(var Ht=this._parts[yt],$t=1,xe=Ht.length;$t<xe;$t++){G=Ht[$t-1],rt=Ht[$t];var Ke=R(f,G,rt,!0);Ke<b&&(b=Ke,S=R(f,G,rt))}return S&&(S.distance=Math.sqrt(b)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,b){return b=b||this._defaultShape(),f=he(f),b.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ee,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return kn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var b=[],S=kn(f),R=0,G=f.length;R<G;R++)S?(b[R]=he(f[R]),this._bounds.extend(b[R])):b[R]=this._convertLatLngs(f[R]);return b},_project:function(){var f=new Ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),b=new Jt(f,f);this._rawPxBounds&&(this._pxBounds=new Ot([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(f,b,S){var R=f[0]instanceof se,G=f.length,rt,yt;if(R){for(yt=[],rt=0;rt<G;rt++)yt[rt]=this._map.latLngToLayerPoint(f[rt]),S.extend(yt[rt]);b.push(yt)}else for(rt=0;rt<G;rt++)this._projectLatlngs(f[rt],b,S)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,S,R,G,rt,yt,Lt,Ht;for(S=0,G=0,rt=this._rings.length;S<rt;S++)for(Ht=this._rings[S],R=0,yt=Ht.length;R<yt-1;R++)Lt=Mm(Ht[R],Ht[R+1],f,R,!0),Lt&&(b[G]=b[G]||[],b[G].push(Lt[0]),(Lt[1]!==Ht[R+1]||R===yt-2)&&(b[G].push(Lt[1]),G++))}},_simplifyPoints:function(){for(var f=this._parts,b=this.options.smoothFactor,S=0,R=f.length;S<R;S++)f[S]=zu(f[S],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,b){var S,R,G,rt,yt,Lt,Ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(S=0,rt=this._parts.length;S<rt;S++)for(Lt=this._parts[S],R=0,yt=Lt.length,G=yt-1;R<yt;G=R++)if(!(!b&&R===0)&&Gp(f,Lt[G],Lt[R])<=Ht)return!0;return!1}});function nb(f,b){return new oa(f,b)}oa._flat=Im;var Sc=oa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ou(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var b=oa.prototype._convertLatLngs.call(this,f),S=b.length;return S>=2&&b[0]instanceof se&&b[0].equals(b[S-1])&&b.pop(),b},_setLatLngs:function(f){oa.prototype._setLatLngs.call(this,f),kn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,b=this.options.weight,S=new Jt(b,b);if(f=new Ot(f.min.subtract(S),f.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,G=this._rings.length,rt;R<G;R++)rt=ia(this._rings[R],f,!0),rt.length&&this._parts.push(rt)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var b=!1,S,R,G,rt,yt,Lt,Ht,$t;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(rt=0,Ht=this._parts.length;rt<Ht;rt++)for(S=this._parts[rt],yt=0,$t=S.length,Lt=$t-1;yt<$t;Lt=yt++)R=S[yt],G=S[Lt],R.y>f.y!=G.y>f.y&&f.x<(G.x-R.x)*(f.y-R.y)/(G.y-R.y)+R.x&&(b=!b);return b||oa.prototype._containsPoint.call(this,f,!0)}});function ob(f,b){return new Sc(f,b)}var sa=Vn.extend({initialize:function(f,b){F(this,b),this._layers={},f&&this.addData(f)},addData:function(f){var b=j(f)?f:f.features,S,R,G;if(b){for(S=0,R=b.length;S<R;S++)G=b[S],(G.geometries||G.geometry||G.features||G.coordinates)&&this.addData(G);return this}var rt=this.options;if(rt.filter&&!rt.filter(f))return this;var yt=Xh(f,rt);return yt?(yt.feature=Qh(f),yt.defaultOptions=yt.options,this.resetStyle(yt),rt.onEachFeature&&rt.onEachFeature(f,yt),this.addLayer(yt)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=l({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(b){this._setLayerStyle(b,f)},this)},_setLayerStyle:function(f,b){f.setStyle&&(typeof b=="function"&&(b=b(f.feature)),f.setStyle(b))}});function Xh(f,b){var S=f.type==="Feature"?f.geometry:f,R=S?S.coordinates:null,G=[],rt=b&&b.pointToLayer,yt=b&&b.coordsToLatLng||Yp,Lt,Ht,$t,xe;if(!R&&!S)return null;switch(S.type){case"Point":return Lt=yt(R),zm(rt,f,Lt,b);case"MultiPoint":for($t=0,xe=R.length;$t<xe;$t++)Lt=yt(R[$t]),G.push(zm(rt,f,Lt,b));return new Vn(G);case"LineString":case"MultiLineString":return Ht=Kh(R,S.type==="LineString"?0:1,yt),new oa(Ht,b);case"Polygon":case"MultiPolygon":return Ht=Kh(R,S.type==="Polygon"?1:2,yt),new Sc(Ht,b);case"GeometryCollection":for($t=0,xe=S.geometries.length;$t<xe;$t++){var Ke=Xh({geometry:S.geometries[$t],type:"Feature",properties:f.properties},b);Ke&&G.push(Ke)}return new Vn(G);case"FeatureCollection":for($t=0,xe=S.features.length;$t<xe;$t++){var fr=Xh(S.features[$t],b);fr&&G.push(fr)}return new Vn(G);default:throw new Error("Invalid GeoJSON object.")}}function zm(f,b,S,R){return f?f(b,S):new Il(S,R&&R.markersInheritOptions&&R)}function Yp(f){return new se(f[1],f[0],f[2])}function Kh(f,b,S){for(var R=[],G=0,rt=f.length,yt;G<rt;G++)yt=b?Kh(f[G],b-1,S):(S||Yp)(f[G]),R.push(yt);return R}function Xp(f,b){return f=he(f),f.alt!==void 0?[C(f.lng,b),C(f.lat,b),C(f.alt,b)]:[C(f.lng,b),C(f.lat,b)]}function Jh(f,b,S,R){for(var G=[],rt=0,yt=f.length;rt<yt;rt++)G.push(b?Jh(f[rt],kn(f[rt])?0:b-1,S,R):Xp(f[rt],R));return!b&&S&&G.length>0&&G.push(G[0].slice()),G}function Cc(f,b){return f.feature?l({},f.feature,{geometry:b}):Qh(b)}function Qh(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Bu={toGeoJSON:function(f){return Cc(this,{type:"Point",coordinates:Xp(this.getLatLng(),f)})}};Il.include(Bu),Zp.include(Bu),Yh.include(Bu),oa.include({toGeoJSON:function(f){var b=!kn(this._latlngs),S=Jh(this._latlngs,b?1:0,!1,f);return Cc(this,{type:(b?"Multi":"")+"LineString",coordinates:S})}}),Sc.include({toGeoJSON:function(f){var b=!kn(this._latlngs),S=b&&!kn(this._latlngs[0]),R=Jh(this._latlngs,S?2:b?1:0,!0,f);return b||(R=[R]),Cc(this,{type:(S?"Multi":"")+"Polygon",coordinates:R})}}),Ml.include({toMultiPoint:function(f){var b=[];return this.eachLayer(function(S){b.push(S.toGeoJSON(f).geometry.coordinates)}),Cc(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(f){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(f);var S=b==="GeometryCollection",R=[];return this.eachLayer(function(G){if(G.toGeoJSON){var rt=G.toGeoJSON(f);if(S)R.push(rt.geometry);else{var yt=Qh(rt);yt.type==="FeatureCollection"?R.push.apply(R,yt.features):R.push(yt)}}}),S?Cc(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function $h(f,b){return new sa(f,b)}var sb=$h,aa=bo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,b,S){this._url=f,this._bounds=me(b),F(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ti(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Ba(this._image),this},bringToBack:function(){return this._map&&ja(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=me(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",b=this._image=f?this._url:ii("img");if(dr(b,"leaflet-image-layer"),this._zoomAnimated&&dr(b,"leaflet-zoom-animated"),this.options.className&&dr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onload=d(this.fire,this,"load"),b.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(f){var b=this._map.getZoomScale(f.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;_l(this._image,S,b)},_reset:function(){var f=this._image,b=new Ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=b.getSize();Ki(f,b.min),f.style.width=S.x+"px",f.style.height=S.y+"px"},_updateOpacity:function(){or(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),ab=function(f,b,S){return new aa(f,b,S)},Kp=aa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",b=this._image=f?this._url:ii("video");if(dr(b,"leaflet-image-layer"),this._zoomAnimated&&dr(b,"leaflet-zoom-animated"),this.options.className&&dr(b,this.options.className),b.onselectstart=k,b.onmousemove=k,b.onloadeddata=d(this.fire,this,"load"),f){for(var S=b.getElementsByTagName("source"),R=[],G=0;G<S.length;G++)R.push(S[G].src);this._url=S.length>0?R:[b.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var rt=0;rt<this._url.length;rt++){var yt=ii("source");yt.src=this._url[rt],b.appendChild(yt)}}});function Nm(f,b,S){return new Kp(f,b,S)}var Pc=aa.extend({_initImage:function(){var f=this._image=this._url;dr(f,"leaflet-image-layer"),this._zoomAnimated&&dr(f,"leaflet-zoom-animated"),this.options.className&&dr(f,this.options.className),f.onselectstart=k,f.onmousemove=k}});function lb(f,b,S){return new Pc(f,b,S)}var dn=bo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,b){f&&(f instanceof se||j(f))?(this._latlng=he(f),F(this,b)):(F(this,f),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&or(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&or(this._container,1),this.bringToFront(),this.options.interactive&&(dr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(or(this._container,0),this._removeTimeout=setTimeout(d(Ti,void 0,this._container),200)):Ti(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=he(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ba(this._container),this},bringToBack:function(){return this._map&&ja(this._container),this},_prepareOpen:function(f){var b=this._source;if(!b._map)return!1;if(b instanceof Vn){b=null;var S=this._source._layers;for(var R in S)if(S[R]._map){b=S[R];break}if(!b)return!1;this._source=b}if(!f)if(b.getCenter)f=b.getCenter();else if(b.getLatLng)f=b.getLatLng();else if(b.getBounds)f=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")f.innerHTML=b;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),b=wt(this.options.offset),S=this._getAnchor();this._zoomAnimated?Ki(this._container,f.add(S)):b=b.add(f).add(S);var R=this._containerBottom=-b.y,G=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=R+"px",this._container.style.left=G+"px"}},_getAnchor:function(){return[0,0]}});Kr.include({_initOverlay:function(f,b,S,R){var G=b;return G instanceof f||(G=new f(R).setContent(b)),S&&G.setLatLng(S),G}}),bo.include({_initOverlay:function(f,b,S,R){var G=S;return G instanceof f?(F(G,R),G._source=this):(G=b&&!R?b:new f(R,this),G.setContent(S)),G}});var ju=dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,dn.prototype.openOn.call(this,f)},onAdd:function(f){dn.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",El))},onRemove:function(f){dn.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",El))},getEvents:function(){var f=dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",b=this._container=ii("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=ii("div",f+"-content-wrapper",b);if(this._contentNode=ii("div",f+"-content",S),kc(b),Fp(this._contentNode),lr(b,"contextmenu",El),this._tipContainer=ii("div",f+"-tip-container",b),this._tip=ii("div",f+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=ii("a",f+"-close-button",b);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',lr(R,"click",function(G){Qi(G),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,b=f.style;b.width="",b.whiteSpace="nowrap";var S=f.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),b.width=S+1+"px",b.whiteSpace="",b.height="";var R=f.offsetHeight,G=this.options.maxHeight,rt="leaflet-popup-scrolled";G&&R>G?(b.height=G+"px",dr(f,rt)):$e(f,rt),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),S=this._getAnchor();Ki(this._container,b.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,b=parseInt(mc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+b,R=this._containerWidth,G=new Jt(this._containerLeft,-S-this._containerBottom);G._add(Pi(this._container));var rt=f.layerPointToContainerPoint(G),yt=wt(this.options.autoPanPadding),Lt=wt(this.options.autoPanPaddingTopLeft||yt),Ht=wt(this.options.autoPanPaddingBottomRight||yt),$t=f.getSize(),xe=0,Ke=0;rt.x+R+Ht.x>$t.x&&(xe=rt.x+R-$t.x+Ht.x),rt.x-xe-Lt.x<0&&(xe=rt.x-Lt.x),rt.y+S+Ht.y>$t.y&&(Ke=rt.y+S-$t.y+Ht.y),rt.y-Ke-Lt.y<0&&(Ke=rt.y-Lt.y),(xe||Ke)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([xe,Ke]))}},_getAnchor:function(){return wt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),la=function(f,b){return new ju(f,b)};Kr.mergeOptions({closePopupOnClick:!0}),Kr.include({openPopup:function(f,b,S){return this._initOverlay(ju,f,b,S).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),bo.include({bindPopup:function(f,b){return this._popup=this._initOverlay(ju,this._popup,f,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Tl(f);var b=f.layer||f.target;if(this._popup._source===b&&!(b instanceof na)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=b,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var Ll=dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){dn.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){dn.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=dn.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",b=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ii("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var b,S,R=this._map,G=this._container,rt=R.latLngToContainerPoint(R.getCenter()),yt=R.layerPointToContainerPoint(f),Lt=this.options.direction,Ht=G.offsetWidth,$t=G.offsetHeight,xe=wt(this.options.offset),Ke=this._getAnchor();Lt==="top"?(b=Ht/2,S=$t):Lt==="bottom"?(b=Ht/2,S=0):Lt==="center"?(b=Ht/2,S=$t/2):Lt==="right"?(b=0,S=$t/2):Lt==="left"?(b=Ht,S=$t/2):yt.x<rt.x?(Lt="right",b=0,S=$t/2):(Lt="left",b=Ht+(xe.x+Ke.x)*2,S=$t/2),f=f.subtract(wt(b,S,!0)).add(xe).add(Ke),$e(G,"leaflet-tooltip-right"),$e(G,"leaflet-tooltip-left"),$e(G,"leaflet-tooltip-top"),$e(G,"leaflet-tooltip-bottom"),dr(G,"leaflet-tooltip-"+Lt),Ki(G,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&or(this._container,f)},_animateZoom:function(f){var b=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(b)},_getAnchor:function(){return wt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Dm=function(f,b){return new Ll(f,b)};Kr.include({openTooltip:function(f,b,S){return this._initOverlay(Ll,f,b,S).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),bo.include({bindTooltip:function(f,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,f,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var b=f?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[b](S),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&(lr(b,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),lr(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var b=typeof f.getElement=="function"&&f.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var b=f.latlng,S,R;this._tooltip.options.sticky&&f.originalEvent&&(S=this._map.mouseEventToContainerPoint(f.originalEvent),R=this._map.containerPointToLayerPoint(S),b=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(b)}});var Jp=Ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var b=f&&f.tagName==="DIV"?f:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Cu(b),b.appendChild(S.html)):b.innerHTML=S.html!==!1?S.html:"",S.bgPos){var R=wt(S.bgPos);b.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function Qp(f){return new Jp(f)}Ss.Default=Tc;var Hu=bo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){F(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Ti(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ja(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Jt?f:new Jt(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var b=this.getPane().children,S=-f(-1/0,1/0),R=0,G=b.length,rt;R<G;R++)rt=b[R].style.zIndex,b[R]!==this._container&&rt&&(S=f(S,+rt));isFinite(S)&&(this.options.zIndex=S+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Be.ielt9){or(this._container,this.options.opacity);var f=+new Date,b=!1,S=!1;for(var R in this._tiles){var G=this._tiles[R];if(!(!G.current||!G.loaded)){var rt=Math.min(1,(f-G.loaded)/200);or(G.el,rt),rt<1?b=!0:(G.active?S=!0:this._onOpaqueTile(G),G.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),b&&(mt(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=ii("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,b=this.options.maxZoom;if(f!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===f?(this._levels[S].el.style.zIndex=b-Math.abs(f-S),this._onUpdateLevel(S)):(Ti(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var R=this._levels[f],G=this._map;return R||(R=this._levels[f]={},R.el=ii("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=b,R.origin=G.project(G.unproject(G.getPixelOrigin()),f).round(),R.zoom=f,this._setZoomTransform(R,G.getCenter(),G.getZoom()),k(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var f,b,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)b=this._tiles[f],b.retain=b.current;for(f in this._tiles)if(b=this._tiles[f],b.current&&!b.active){var R=b.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var b in this._tiles)this._tiles[b].coords.z===f&&this._removeTile(b)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Ti(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,b,S,R){var G=Math.floor(f/2),rt=Math.floor(b/2),yt=S-1,Lt=new Jt(+G,+rt);Lt.z=+yt;var Ht=this._tileCoordsToKey(Lt),$t=this._tiles[Ht];return $t&&$t.active?($t.retain=!0,!0):($t&&$t.loaded&&($t.retain=!0),yt>R?this._retainParent(G,rt,yt,R):!1)},_retainChildren:function(f,b,S,R){for(var G=2*f;G<2*f+2;G++)for(var rt=2*b;rt<2*b+2;rt++){var yt=new Jt(G,rt);yt.z=S+1;var Lt=this._tileCoordsToKey(yt),Ht=this._tiles[Lt];if(Ht&&Ht.active){Ht.retain=!0;continue}else Ht&&Ht.loaded&&(Ht.retain=!0);S+1<R&&this._retainChildren(G,rt,S+1,R)}},_resetView:function(f){var b=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var b=this.options;return b.minNativeZoom!==void 0&&f<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<f?b.maxNativeZoom:f},_setView:function(f,b,S,R){var G=Math.round(b);this.options.maxZoom!==void 0&&G>this.options.maxZoom||this.options.minZoom!==void 0&&G<this.options.minZoom?G=void 0:G=this._clampZoom(G);var rt=this.options.updateWhenZooming&&G!==this._tileZoom;(!R||rt)&&(this._tileZoom=G,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),G!==void 0&&this._update(f),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(f,b)},_setZoomTransforms:function(f,b){for(var S in this._levels)this._setZoomTransform(this._levels[S],f,b)},_setZoomTransform:function(f,b,S){var R=this._map.getZoomScale(S,f.zoom),G=f.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(b,S)).round();Be.any3d?_l(f.el,G,R):Ki(f.el,G)},_resetGrid:function(){var f=this._map,b=f.options.crs,S=this._tileSize=this.getTileSize(),R=this._tileZoom,G=this._map.getPixelWorldBounds(this._tileZoom);G&&(this._globalTileRange=this._pxBoundsToTileRange(G)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,b.wrapLng[0]],R).x/S.x),Math.ceil(f.project([0,b.wrapLng[1]],R).x/S.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([b.wrapLat[0],0],R).y/S.x),Math.ceil(f.project([b.wrapLat[1],0],R).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var b=this._map,S=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),R=b.getZoomScale(S,this._tileZoom),G=b.project(f,this._tileZoom).floor(),rt=b.getSize().divideBy(R*2);return new Ot(G.subtract(rt),G.add(rt))},_update:function(f){var b=this._map;if(b){var S=this._clampZoom(b.getZoom());if(f===void 0&&(f=b.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(f),G=this._pxBoundsToTileRange(R),rt=G.getCenter(),yt=[],Lt=this.options.keepBuffer,Ht=new Ot(G.getBottomLeft().subtract([Lt,-Lt]),G.getTopRight().add([Lt,-Lt]));if(!(isFinite(G.min.x)&&isFinite(G.min.y)&&isFinite(G.max.x)&&isFinite(G.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $t in this._tiles){var xe=this._tiles[$t].coords;(xe.z!==this._tileZoom||!Ht.contains(new Jt(xe.x,xe.y)))&&(this._tiles[$t].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(f,S);return}for(var Ke=G.min.y;Ke<=G.max.y;Ke++)for(var fr=G.min.x;fr<=G.max.x;fr++){var Rn=new Jt(fr,Ke);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var tn=this._tiles[this._tileCoordsToKey(Rn)];tn?tn.current=!0:yt.push(Rn)}}if(yt.sort(function(Wn,Al){return Wn.distanceTo(rt)-Al.distanceTo(rt)}),yt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var An=document.createDocumentFragment();for(fr=0;fr<yt.length;fr++)this._addTile(yt[fr],An);this._level.el.appendChild(An)}}}},_isValidTile:function(f){var b=this._map.options.crs;if(!b.infinite){var S=this._globalTileRange;if(!b.wrapLng&&(f.x<S.min.x||f.x>S.max.x)||!b.wrapLat&&(f.y<S.min.y||f.y>S.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(f);return me(this.options.bounds).overlaps(R)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var b=this._map,S=this.getTileSize(),R=f.scaleBy(S),G=R.add(S),rt=b.unproject(R,f.z),yt=b.unproject(G,f.z);return[rt,yt]},_tileCoordsToBounds:function(f){var b=this._tileCoordsToNwSe(f),S=new ee(b[0],b[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var b=f.split(":"),S=new Jt(+b[0],+b[1]);return S.z=+b[2],S},_removeTile:function(f){var b=this._tiles[f];b&&(Ti(b.el),delete this._tiles[f],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){dr(f,"leaflet-tile");var b=this.getTileSize();f.style.width=b.x+"px",f.style.height=b.y+"px",f.onselectstart=k,f.onmousemove=k,Be.ielt9&&this.options.opacity<1&&or(f,this.options.opacity)},_addTile:function(f,b){var S=this._getTilePos(f),R=this._tileCoordsToKey(f),G=this.createTile(this._wrapCoords(f),d(this._tileReady,this,f));this._initTile(G),this.createTile.length<2&&ht(d(this._tileReady,this,f,null,G)),Ki(G,S),this._tiles[R]={el:G,coords:f,current:!0},b.appendChild(G),this.fire("tileloadstart",{tile:G,coords:f})},_tileReady:function(f,b,S){b&&this.fire("tileerror",{error:b,tile:S,coords:f});var R=this._tileCoordsToKey(f);S=this._tiles[R],S&&(S.loaded=+new Date,this._map._fadeAnimated?(or(S.el,0),mt(this._fadeFrame),this._fadeFrame=ht(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),b||(dr(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Be.ielt9||!this._map._fadeAnimated?ht(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var b=new Jt(this._wrapX?_(f.x,this._wrapX):f.x,this._wrapY?_(f.y,this._wrapY):f.y);return b.z=f.z,b},_pxBoundsToTileRange:function(f){var b=this.getTileSize();return new Ot(f.min.unscaleBy(b).floor(),f.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function Fm(f){return new Hu(f)}var Rl=Hu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,b){this._url=f,b=F(this,b),b.detectRetina&&Be.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,b){return this._url===f&&b===void 0&&(b=!0),this._url=f,b||this.redraw(),this},createTile:function(f,b){var S=document.createElement("img");return lr(S,"load",d(this._tileOnLoad,this,b,S)),lr(S,"error",d(this._tileOnError,this,b,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(f),S},getTileUrl:function(f){var b={r:Be.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-f.y;this.options.tms&&(b.y=S),b["-y"]=S}return W(this._url,l(b,this.options))},_tileOnLoad:function(f,b){Be.ielt9?setTimeout(d(f,this,null,b),0):f(null,b)},_tileOnError:function(f,b,S){var R=this.options.errorTileUrl;R&&b.getAttribute("src")!==R&&(b.src=R),f(S,b)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,b=this.options.maxZoom,S=this.options.zoomReverse,R=this.options.zoomOffset;return S&&(f=b-f),f+R},_getSubdomain:function(f){var b=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var f,b;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(b=this._tiles[f].el,b.onload=k,b.onerror=k,!b.complete)){b.src=nt;var S=this._tiles[f].coords;Ti(b),delete this._tiles[f],this.fire("tileabort",{tile:b,coords:S})}},_removeTile:function(f){var b=this._tiles[f];if(b)return b.el.setAttribute("src",nt),Hu.prototype._removeTile.call(this,f)},_tileReady:function(f,b,S){if(!(!this._map||S&&S.getAttribute("src")===nt))return Hu.prototype._tileReady.call(this,f,b,S)}});function $p(f,b){return new Rl(f,b)}var td=Rl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,b){this._url=f;var S=l({},this.defaultWmsParams);for(var R in b)R in this.options||(S[R]=b[R]);b=F(this,b);var G=b.detectRetina&&Be.retina?2:1,rt=this.getTileSize();S.width=rt.x*G,S.height=rt.y*G,this.wmsParams=S},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Rl.prototype.onAdd.call(this,f)},getTileUrl:function(f){var b=this._tileCoordsToNwSe(f),S=this._crs,R=Wt(S.project(b[0]),S.project(b[1])),G=R.min,rt=R.max,yt=(this._wmsVersion>=1.3&&this._crs===Ec?[G.y,G.x,rt.y,rt.x]:[G.x,G.y,rt.x,rt.y]).join(","),Lt=Rl.prototype.getTileUrl.call(this,f);return Lt+U(this.wmsParams,Lt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+yt},setParams:function(f,b){return l(this.wmsParams,f),b||this.redraw(),this}});function Bm(f,b){return new td(f,b)}Rl.WMS=td,$p.wms=Bm;var Cs=bo.extend({options:{padding:.1},initialize:function(f){F(this,f),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,b){var S=this._map.getZoomScale(b,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),G=this._map.project(this._center,b),rt=R.multiplyBy(-S).add(G).subtract(this._map._getNewPixelOrigin(f,b));Be.any3d?_l(this._container,rt,S):Ki(this._container,rt)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,b=this._map.getSize(),S=this._map.containerPointToLayerPoint(b.multiplyBy(-f)).round();this._bounds=new Ot(S,S.add(b.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ed=Cs.extend({options:{tolerance:0},getEvents:function(){var f=Cs.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");lr(f,"mousemove",this._onMouseMove,this),lr(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lr(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){mt(this._redrawRequest),delete this._ctx,Ti(this._container),pi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var b in this._layers)f=this._layers[b],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cs.prototype._update.call(this);var f=this._bounds,b=this._container,S=f.getSize(),R=Be.retina?2:1;Ki(b,f.min),b.width=R*S.x,b.height=R*S.y,b.style.width=S.x+"px",b.style.height=S.y+"px",Be.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Cs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[m(f)]=f;var b=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var b=f._order,S=b.next,R=b.prev;S?S.prev=R:this._drawLast=R,R?R.next=S:this._drawFirst=S,delete f._order,delete this._layers[m(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var b=f.options.dashArray.split(/[, ]+/),S=[],R,G;for(G=0;G<b.length;G++){if(R=Number(b[G]),isNaN(R))return;S.push(R)}f.options._dashArray=S}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||ht(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var b=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ot,this._redrawBounds.extend(f._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(f._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var b=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,b=this._redrawBounds;if(this._ctx.save(),b){var S=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)f=R.layer,(!b||f._pxBounds&&f._pxBounds.intersects(b))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,b){if(this._drawing){var S,R,G,rt,yt=f._parts,Lt=yt.length,Ht=this._ctx;if(Lt){for(Ht.beginPath(),S=0;S<Lt;S++){for(R=0,G=yt[S].length;R<G;R++)rt=yt[S][R],Ht[R?"lineTo":"moveTo"](rt.x,rt.y);b&&Ht.closePath()}this._fillStroke(Ht,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var b=f._point,S=this._ctx,R=Math.max(Math.round(f._radius),1),G=(Math.max(Math.round(f._radiusY),1)||R)/R;G!==1&&(S.save(),S.scale(1,G)),S.beginPath(),S.arc(b.x,b.y/G,R,0,Math.PI*2,!1),G!==1&&S.restore(),this._fillStroke(S,f)}},_fillStroke:function(f,b){var S=b.options;S.fill&&(f.globalAlpha=S.fillOpacity,f.fillStyle=S.fillColor||S.color,f.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(f.setLineDash&&f.setLineDash(b.options&&b.options._dashArray||[]),f.globalAlpha=S.opacity,f.lineWidth=S.weight,f.strokeStyle=S.color,f.lineCap=S.lineCap,f.lineJoin=S.lineJoin,f.stroke())},_onClick:function(f){for(var b=this._map.mouseEventToLayerPoint(f),S,R,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(b)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(S))&&(R=S);this._fireEvent(R?[R]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,b)}},_handleMouseOut:function(f){var b=this._hoveredLayer;b&&($e(this._container,"leaflet-interactive"),this._fireEvent([b],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,b){if(!this._mouseHoverThrottled){for(var S,R,G=this._drawFirst;G;G=G.next)S=G.layer,S.options.interactive&&S._containsPoint(b)&&(R=S);R!==this._hoveredLayer&&(this._handleMouseOut(f),R&&(dr(this._container,"leaflet-interactive"),this._fireEvent([R],f,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,b,S){this._map._fireDOMEvent(b,S||b.type,f)},_bringToFront:function(f){var b=f._order;if(b){var S=b.next,R=b.prev;if(S)S.prev=R;else return;R?R.next=S:S&&(this._drawFirst=S),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(f)}},_bringToBack:function(f){var b=f._order;if(b){var S=b.next,R=b.prev;if(R)R.next=S;else return;S?S.prev=R:R&&(this._drawLast=R),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(f)}}});function rd(f){return Be.canvas?new ed(f):null}var Mc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ro={_initContainer:function(){this._container=ii("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cs.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var b=f._container=Mc("shape");dr(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",f._path=Mc("path"),b.appendChild(f._path),this._updateStyle(f),this._layers[m(f)]=f},_addPath:function(f){var b=f._container;this._container.appendChild(b),f.options.interactive&&f.addInteractiveTarget(b)},_removePath:function(f){var b=f._container;Ti(b),f.removeInteractiveTarget(b),delete this._layers[m(f)]},_updateStyle:function(f){var b=f._stroke,S=f._fill,R=f.options,G=f._container;G.stroked=!!R.stroke,G.filled=!!R.fill,R.stroke?(b||(b=f._stroke=Mc("stroke")),G.appendChild(b),b.weight=R.weight+"px",b.color=R.color,b.opacity=R.opacity,R.dashArray?b.dashStyle=j(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=R.lineCap.replace("butt","flat"),b.joinstyle=R.lineJoin):b&&(G.removeChild(b),f._stroke=null),R.fill?(S||(S=f._fill=Mc("fill")),G.appendChild(S),S.color=R.fillColor||R.color,S.opacity=R.fillOpacity):S&&(G.removeChild(S),f._fill=null)},_updateCircle:function(f){var b=f._point.round(),S=Math.round(f._radius),R=Math.round(f._radiusY||S);this._setPath(f,f._empty()?"M0 0":"AL "+b.x+","+b.y+" "+S+","+R+" 0,"+65535*360)},_setPath:function(f,b){f._path.v=b},_bringToFront:function(f){Ba(f._container)},_bringToBack:function(f){ja(f._container)}},id=Be.vml?Mc:O,Ic=Cs.extend({_initContainer:function(){this._container=id("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=id("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ti(this._container),pi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cs.prototype._update.call(this);var f=this._bounds,b=f.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,S.setAttribute("width",b.x),S.setAttribute("height",b.y)),Ki(S,f.min),S.setAttribute("viewBox",[f.min.x,f.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(f){var b=f._path=id("path");f.options.className&&dr(b,f.options.className),f.options.interactive&&dr(b,"leaflet-interactive"),this._updateStyle(f),this._layers[m(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Ti(f._path),f.removeInteractiveTarget(f._path),delete this._layers[m(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var b=f._path,S=f.options;b&&(S.stroke?(b.setAttribute("stroke",S.color),b.setAttribute("stroke-opacity",S.opacity),b.setAttribute("stroke-width",S.weight),b.setAttribute("stroke-linecap",S.lineCap),b.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?b.setAttribute("stroke-dasharray",S.dashArray):b.removeAttribute("stroke-dasharray"),S.dashOffset?b.setAttribute("stroke-dashoffset",S.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),S.fill?(b.setAttribute("fill",S.fillColor||S.color),b.setAttribute("fill-opacity",S.fillOpacity),b.setAttribute("fill-rule",S.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(f,b){this._setPath(f,X(f._parts,b))},_updateCircle:function(f){var b=f._point,S=Math.max(Math.round(f._radius),1),R=Math.max(Math.round(f._radiusY),1)||S,G="a"+S+","+R+" 0 1,0 ",rt=f._empty()?"M0 0":"M"+(b.x-S)+","+b.y+G+S*2+",0 "+G+-S*2+",0 ";this._setPath(f,rt)},_setPath:function(f,b){f._path.setAttribute("d",b)},_bringToFront:function(f){Ba(f._path)},_bringToBack:function(f){ja(f._path)}});Be.vml&&Ic.include(ro);function tf(f){return Be.svg||Be.vml?new Ic(f):null}Kr.include({getRenderer:function(f){var b=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var b=this._paneRenderers[f];return b===void 0&&(b=this._createRenderer({pane:f}),this._paneRenderers[f]=b),b},_createRenderer:function(f){return this.options.preferCanvas&&rd(f)||tf(f)}});var ef=Sc.extend({initialize:function(f,b){Sc.prototype.initialize.call(this,this._boundsToLatLngs(f),b)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=me(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function cb(f,b){return new ef(f,b)}Ic.create=id,Ic.pointsToPath=X,sa.geometryToLayer=Xh,sa.coordsToLatLng=Yp,sa.coordsToLatLngs=Kh,sa.latLngToCoords=Xp,sa.latLngsToCoords=Jh,sa.getFeature=Cc,sa.asFeature=Qh,Kr.mergeOptions({boxZoom:!0});var rf=$i.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){lr(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ti(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bc(),Op(),this._startPoint=this._map.mouseEventToContainerPoint(f),lr(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=ii("div","leaflet-zoom-box",this._container),dr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var b=new Ot(this._point,this._startPoint),S=b.getSize();Ki(this._box,b.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(Ti(this._box),$e(this._container,"leaflet-crosshair")),wc(),_c(),pi(document,{contextmenu:Tl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var b=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Kr.addInitHook("addHandler","boxZoom",rf),Kr.mergeOptions({doubleClickZoom:!0});var nf=$i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var b=this._map,S=b.getZoom(),R=b.options.zoomDelta,G=f.originalEvent.shiftKey?S-R:S+R;b.options.doubleClickZoom==="center"?b.setZoom(G):b.setZoomAround(f.containerPoint,G)}});Kr.addInitHook("addHandler","doubleClickZoom",nf),Kr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nd=$i.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new rs(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}dr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=me(this._map.options.maxBounds);this._offsetLimit=Wt(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var b=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(b),this._prunePositions(b)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,b){return f-(f-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;f.x<b.min.x&&(f.x=this._viscousLimit(f.x,b.min.x)),f.y<b.min.y&&(f.y=this._viscousLimit(f.y,b.min.y)),f.x>b.max.x&&(f.x=this._viscousLimit(f.x,b.max.x)),f.y>b.max.y&&(f.y=this._viscousLimit(f.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,b=Math.round(f/2),S=this._initialWorldOffset,R=this._draggable._newPos.x,G=(R-b+S)%f+b-S,rt=(R+b+S)%f-b-S,yt=Math.abs(G+S)<Math.abs(rt+S)?G:rt;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=yt},_onDragEnd:function(f){var b=this._map,S=b.options,R=!S.inertia||f.noInertia||this._times.length<2;if(b.fire("dragend",f),R)b.fire("moveend");else{this._prunePositions(+new Date);var G=this._lastPos.subtract(this._positions[0]),rt=(this._lastTime-this._times[0])/1e3,yt=S.easeLinearity,Lt=G.multiplyBy(yt/rt),Ht=Lt.distanceTo([0,0]),$t=Math.min(S.inertiaMaxSpeed,Ht),xe=Lt.multiplyBy($t/Ht),Ke=$t/(S.inertiaDeceleration*yt),fr=xe.multiplyBy(-Ke/2).round();!fr.x&&!fr.y?b.fire("moveend"):(fr=b._limitOffset(fr,b.options.maxBounds),ht(function(){b.panBy(fr,{duration:Ke,easeLinearity:yt,noMoveStart:!0,animate:!0})}))}}});Kr.addInitHook("addHandler","dragging",nd),Kr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jm=$i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),lr(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,b=document.documentElement,S=f.scrollTop||b.scrollTop,R=f.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(R,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var b=this._panKeys={},S=this.keyCodes,R,G;for(R=0,G=S.left.length;R<G;R++)b[S.left[R]]=[-1*f,0];for(R=0,G=S.right.length;R<G;R++)b[S.right[R]]=[f,0];for(R=0,G=S.down.length;R<G;R++)b[S.down[R]]=[0,f];for(R=0,G=S.up.length;R<G;R++)b[S.up[R]]=[0,-1*f]},_setZoomDelta:function(f){var b=this._zoomKeys={},S=this.keyCodes,R,G;for(R=0,G=S.zoomIn.length;R<G;R++)b[S.zoomIn[R]]=f;for(R=0,G=S.zoomOut.length;R<G;R++)b[S.zoomOut[R]]=-f},_addHooks:function(){lr(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var b=f.keyCode,S=this._map,R;if(b in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(R=this._panKeys[b],f.shiftKey&&(R=wt(R).multiplyBy(3)),S.options.maxBounds&&(R=S._limitOffset(wt(R),S.options.maxBounds)),S.options.worldCopyJump){var G=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(R)));S.panTo(G)}else S.panBy(R)}else if(b in this._zoomKeys)S.setZoom(S.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Tl(f)}}});Kr.addInitHook("addHandler","keyboard",jm),Kr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lc=$i.extend({addHooks:function(){lr(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var b=km(f),S=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var R=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),R),Tl(f)},_performZoom:function(){var f=this._map,b=f.getZoom(),S=this._map.options.zoomSnap||0;f._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),G=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,rt=S?Math.ceil(G/S)*S:G,yt=f._limitZoom(b+(this._delta>0?rt:-rt))-b;this._delta=0,this._startTime=null,yt&&(f.options.scrollWheelZoom==="center"?f.setZoom(b+yt):f.setZoomAround(this._lastMousePos,b+yt))}});Kr.addInitHook("addHandler","scrollWheelZoom",Lc);var ub=600;Kr.mergeOptions({tapHold:Be.touchNative&&Be.safari&&Be.mobile,tapTolerance:15});var of=$i.extend({addHooks:function(){lr(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var b=f.touches[0];this._startPos=this._newPos=new Jt(b.clientX,b.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(lr(document,"touchend",Qi),lr(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),ub),lr(document,"touchend touchcancel contextmenu",this._cancel,this),lr(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){pi(document,"touchend",Qi),pi(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),pi(document,"touchend touchcancel contextmenu",this._cancel,this),pi(document,"touchmove",this._onMove,this)},_onMove:function(f){var b=f.touches[0];this._newPos=new Jt(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,b){var S=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});S._simulated=!0,b.target.dispatchEvent(S)}});Kr.addInitHook("addHandler","tapHold",of),Kr.mergeOptions({touchZoom:Be.touch,bounceAtZoomLimits:!0});var sf=$i.extend({addHooks:function(){dr(this._map._container,"leaflet-touch-zoom"),lr(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),pi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var b=this._map;if(!(!f.touches||f.touches.length!==2||b._animatingZoom||this._zooming)){var S=b.mouseEventToContainerPoint(f.touches[0]),R=b.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(S.add(R)._divideBy(2))),this._startDist=S.distanceTo(R),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),lr(document,"touchmove",this._onTouchMove,this),lr(document,"touchend touchcancel",this._onTouchEnd,this),Qi(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var b=this._map,S=b.mouseEventToContainerPoint(f.touches[0]),R=b.mouseEventToContainerPoint(f.touches[1]),G=S.distanceTo(R)/this._startDist;if(this._zoom=b.getScaleZoom(G,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&G<1||this._zoom>b.getMaxZoom()&&G>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,G===1)return}else{var rt=S._add(R)._divideBy(2)._subtract(this._centerPoint);if(G===1&&rt.x===0&&rt.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(rt),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),mt(this._animRequest);var yt=d(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ht(yt,this,!0),Qi(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,mt(this._animRequest),pi(document,"touchmove",this._onTouchMove,this),pi(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Kr.addInitHook("addHandler","touchZoom",sf),Kr.BoxZoom=rf,Kr.DoubleClickZoom=nf,Kr.Drag=nd,Kr.Keyboard=jm,Kr.ScrollWheelZoom=Lc,Kr.TapHold=of,Kr.TouchZoom=sf,t.Bounds=Ot,t.Browser=Be,t.CRS=er,t.Canvas=ed,t.Circle=Zp,t.CircleMarker=Yh,t.Class=ie,t.Control=yo,t.DivIcon=Jp,t.DivOverlay=dn,t.DomEvent=Bp,t.DomUtil=kl,t.Draggable=rs,t.Evented=de,t.FeatureGroup=Vn,t.GeoJSON=sa,t.GridLayer=Hu,t.Handler=$i,t.Icon=Ss,t.ImageOverlay=aa,t.LatLng=se,t.LatLngBounds=ee,t.Layer=bo,t.LayerGroup=Ml,t.LineUtil=Cl,t.Map=Kr,t.Marker=Il,t.Mixin=Up,t.Path=na,t.Point=Jt,t.PolyUtil=tb,t.Polygon=Sc,t.Polyline=oa,t.Popup=ju,t.PosAnimation=jp,t.Projection=Lm,t.Rectangle=ef,t.Renderer=Cs,t.SVG=Ic,t.SVGOverlay=Pc,t.TileLayer=Rl,t.Tooltip=Ll,t.Transformation=Xt,t.Util=Qt,t.VideoOverlay=Kp,t.bind=d,t.bounds=Wt,t.canvas=rd,t.circle=ib,t.circleMarker=rb,t.control=Au,t.divIcon=Qp,t.extend=l,t.featureGroup=hn,t.geoJSON=$h,t.geoJson=sb,t.gridLayer=Fm,t.icon=Am,t.imageOverlay=ab,t.latLng=he,t.latLngBounds=me,t.layerGroup=Wh,t.map=Qy,t.marker=Om,t.point=wt,t.polygon=ob,t.polyline=nb,t.popup=la,t.rectangle=cb,t.setOptions=F,t.stamp=m,t.svg=tf,t.svgOverlay=lb,t.tileLayer=$p,t.tooltip=Dm,t.transformation=ot,t.version=o,t.videoOverlay=Nm;var od=window.L;t.noConflict=function(){return window.L=od,this},window.L=t})})(y1,y1.exports);var $n=y1.exports;const ms=ZC($n);var b1={exports:{}};(function(n,r){(function(t,o){o(r)})(Ax,function(t){var o={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var l=!1,u=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(d){d.type=="movestart"||d.type=="move"?l=!0:d.type=="moveend"&&(l=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var d;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)d=this._map.options.gestureHandlingOptions.text;else{var p=this._getUserLanguage();p||(p="en"),o[p]&&(d=o[p]),d||p.indexOf("-")===-1||(p=p.split("-")[0],d=o[p]),d||(d=o[p="en"])}var m=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(m=!0);var v=d.scroll;m&&(v=d.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",d.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",v)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(d){for(var p=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],m=!1,v=0;v<p.length;v++)L.DomUtil.hasClass(d.target,p[v])&&(m=!0);m?L.DomUtil.hasClass(d.target,"leaflet-interactive")&&d.type==="touchmove"&&d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):d.type==="touchmove"||d.type==="touchstart"?d.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(d.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(d){d.metaKey||d.ctrlKey?(d.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var p=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),m=0;m<p.length;m++)L.DomUtil.removeClass(p[m],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(d){this._enableInteractions()},_handleMouseOut:function(d){l||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",u),t.GestureHandling=u,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})})})(b1,b1.exports);var x6=b1.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(n,r){for(const t in L.Util.setOptions(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,n)this._addLayer(n[t],t,!0)},onAdd:function(n){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const n="leaflet-control-layers",r=this._container=L.DomUtil.create("div",n),t=this.options.collapsed;if(r.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(r),L.DomEvent.disableScrollPropagation(r),this.options.label){const u=L.DomUtil.create("p",n+"-label");u.innerHTML=this.options.label,r.appendChild(u)}var o=this._form=L.DomUtil.create("form",n+"-list");t&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(r,{mouseenter:this.expand,mouseleave:this.collapse},this));const l=this._layersLink=L.DomUtil.create("a",n+"-toggle",r);l.href="#",l.title="Layers",L.Browser.touch?(L.DomEvent.on(l,"click",L.DomEvent.stop),L.DomEvent.on(l,"click",this.expand,this)):L.DomEvent.on(l,"focus",this.expand,this),t||this.expand(),this._baseLayersList=L.DomUtil.create("div",n+"-base",o),this._separator=L.DomUtil.create("div",n+"-separator",o),this._overlaysList=L.DomUtil.create("div",n+"-overlays",o),r.appendChild(o)},_getLayer:function(n){for(let r=0;r<this._layers.length;r++)if(this._layers[r]&&L.Util.stamp(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,t){this._layers.push({layer:n,name:r,overlay:t})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let n,r,t,o,l=0;for(t=0;t<this._layers.length;t++)o=this._layers[t],this._addItem(o),r=r||o.overlay,n=n||!o.overlay,l+=o.overlay?0:1;this.options.hideSingleBase&&(n=n&&1<l,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none"},_addItem:function(n){let r=document.createElement("label"),t=document.createElement("input");n.overlay?(t.type="range",t.className="leaflet-control-layers-range",t.min=0,t.max=100,t.value=100*n.layer.options.opacity):t=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(t),t.layerId=L.Util.stamp(n.layer),t.addEventListener("input",p=>{p=p.target.value;const m=this._getLayer(t.layerId).layer;m._url===void 0||m.setOpacity(Number(p/100))});const o=document.createElement("span");o.innerHTML=" "+n.name;const l=document.createElement("div"),u=document.createElement("div");r.appendChild(l),l.appendChild(o),r.appendChild(u),u.appendChild(t),(n.overlay?this._overlaysList:this._baseLayersList).appendChild(r)}}),L.control.opacity=function(n,r){return new L.Control.Opacity(n,r)};(function(n,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).turf={})})(globalThis,function(n){var r=63710088e-1,t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335223679999e-9},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},l={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(e,i,s){s===void 0&&(s={});var a={type:"Feature"};return(s.id===0||s.id)&&(a.id=s.id),s.bbox&&(a.bbox=s.bbox),a.properties=i||{},a.geometry=e,a}function d(e,i,s){switch(e){case"Point":return p(i).geometry;case"LineString":return k(i).geometry;case"Polygon":return v(i).geometry;case"MultiPoint":return F(i).geometry;case"MultiLineString":return A(i).geometry;case"MultiPolygon":return U(i).geometry;default:throw new Error(e+" is invalid")}}function p(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ht(e[0])||!ht(e[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:e},i,s)}function m(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return p(a,i)}),s)}function v(e,i,s){s===void 0&&(s={});for(var a=0,c=e;a<c.length;a++){var h=c[a];if(h.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<h[h.length-1].length;g++)if(h[h.length-1][g]!==h[0][g])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:e},i,s)}function _(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return v(a,i)}),s)}function k(e,i,s){if(s===void 0&&(s={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:e},i,s)}function C(e,i,s){return s===void 0&&(s={}),M(e.map(function(a){return k(a,i)}),s)}function M(e,i){i===void 0&&(i={});var s={type:"FeatureCollection"};return i.id&&(s.id=i.id),i.bbox&&(s.bbox=i.bbox),s.features=e,s}function A(e,i,s){return s===void 0&&(s={}),u({type:"MultiLineString",coordinates:e},i,s)}function F(e,i,s){return s===void 0&&(s={}),u({type:"MultiPoint",coordinates:e},i,s)}function U(e,i,s){return s===void 0&&(s={}),u({type:"MultiPolygon",coordinates:e},i,s)}function H(e,i,s){return s===void 0&&(s={}),u({type:"GeometryCollection",geometries:e},i,s)}function W(e,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,i||0);return Math.round(e*s)/s}function j(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e*s}function q(e,i){i===void 0&&(i="kilometers");var s=t[i];if(!s)throw new Error(i+" units is invalid");return e/s}function nt(e,i){return ut(q(e,i))}function pt(e){var i=e%360;return i<0&&(i+=360),i}function ut(e){return 180*(e%(2*Math.PI))/Math.PI}function ct(e){return e%360*Math.PI/180}function V(e,i,s){if(i===void 0&&(i="kilometers"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("length must be a positive number");return j(q(e,i),s)}function at(e,i,s){if(i===void 0&&(i="meters"),s===void 0&&(s="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=l[i];if(!a)throw new Error("invalid original units");var c=l[s];if(!c)throw new Error("invalid final units");return e/a*c}function ht(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function mt(e){return!!e&&e.constructor===Object}function Qt(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(i){if(!ht(i))throw new Error("bbox must only contain numbers")})}function ie(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}var ye=Object.freeze({__proto__:null,earthRadius:r,factors:t,unitsFactors:o,areaFactors:l,feature:u,geometry:d,point:p,points:m,polygon:v,polygons:_,lineString:k,lineStrings:C,featureCollection:M,multiLineString:A,multiPoint:F,multiPolygon:U,geometryCollection:H,round:W,radiansToLength:j,lengthToRadians:q,lengthToDegrees:nt,bearingToAzimuth:pt,radiansToDegrees:ut,degreesToRadians:ct,convertLength:V,convertArea:at,isNumber:ht,isObject:mt,validateBBox:Qt,validateId:ie});function Gt(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",I=N?e.features.length:1,Y=0;Y<I;Y++){y=(T=!!(x=N?e.features[Y].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,Z=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var K=g.type;switch(E=!s||K!=="Polygon"&&K!=="MultiPolygon"?0:1,K){case null:break;case"Point":if(i(w,P,Y,D,Z)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,Y,D,Z)===!1)return!1;P++,K==="MultiPoint"&&D++}K==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,Y,D,Z)===!1)return!1;P++}K==="MultiLineString"&&D++,K==="Polygon"&&Z++}K==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Z=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,Y,D,Z)===!1)return!1;P++}Z++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Gt(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function de(e,i,s,a){var c=s;return Gt(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c}function Jt(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Qe(e,i,s){var a=s;return Jt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function wt(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Ot(e,i,s){var a=s;return wt(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a}function Wt(e){var i=[];return Gt(e,function(s){i.push(s)}),i}function ee(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function me(e,i,s){var a=s;return ee(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a}function se(e,i){ee(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(u(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T=s.coordinates[x];if(i(u({type:y,coordinates:T},c),a,x)===!1)return!1}})}function he(e,i,s){var a=s;return se(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a}function er(e,i){se(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Gt(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var I=k([y,E],s.properties);if(i(I,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function Ft(e,i,s){var a=s,c=!1;return er(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a}function qt(e,i){if(!e)throw new Error("geojson is required");se(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(k(g[y],s.properties),a,c,y)===!1)return!1}}})}function Yt(e,i,s){var a=s;return qt(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a}function Xt(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),k([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),k([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),k([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),k([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")}function ot(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return p(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),p(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),p(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),p(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),p(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),p(w[c][h][g],y,i)}throw new Error("geojson is invalid")}var ft=Object.freeze({__proto__:null,coordAll:Wt,coordEach:Gt,coordReduce:de,featureEach:wt,featureReduce:Ot,findPoint:ot,findSegment:Xt,flattenEach:se,flattenReduce:he,geomEach:ee,geomReduce:me,lineEach:qt,lineReduce:Yt,propEach:Jt,propReduce:Qe,segmentEach:er,segmentReduce:Ft});function vt(e){var i=[1/0,1/0,-1/0,-1/0];return Gt(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}function O(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function X(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function dt(e){if(e.length>1&&ht(e[0])&&ht(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return dt(e[0]);throw new Error("coordinates must only contain numbers")}function kt(e,i,s){if(!i||!s)throw new Error("type and name required");if(!e||e.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.type)}function xt(e,i,s){if(!e)throw new Error("No feature passed");if(!s)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!e.geometry||e.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+e.geometry.type)}function zt(e,i,s){if(!e)throw new Error("No featureCollection passed");if(!s)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+s+", FeatureCollection required");for(var a=0,c=e.features;a<c.length;a++){var h=c[a];if(!h||h.type!=="Feature"||!h.geometry)throw new Error("Invalid input to "+s+", Feature with geometry required");if(!h.geometry||h.geometry.type!==i)throw new Error("Invalid input to "+s+": must be a "+i+", given "+h.geometry.type)}}function _t(e){return e.type==="Feature"?e.geometry:e}function te(e,i){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}vt.default=vt;var le=Object.freeze({__proto__:null,getCoord:O,getCoords:X,containsNumber:dt,geojsonType:kt,featureOf:xt,collectionOf:zt,getGeom:_t,getType:te}),pe=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function Me(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var Ve=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;if(Object.getOwnPropertyNames(i).map(function(c){return i[c]}).join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,i){for(var s,a,c=Me(e),h=1;h<arguments.length;h++){for(var g in s=Object(arguments[h]))ae.call(s,g)&&(c[g]=s[g]);if(pe){a=pe(s);for(var y=0;y<a.length;y++)Le.call(s,a[y])&&(c[a[y]]=s[a[y]])}}return c},$={successCallback:null,verbose:!1},J={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function lt(e,i,s){s=s||{};for(var a=Object.keys($),c=0;c<a.length;c++){var h=a[c],g=s[h];g=g??$[h],J[h]=g}J.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+i);var y=function(w){var x=[],T=0,E=1e-7;return w.cells.forEach(function(P,z){P.forEach(function(N,B){if(N!==void 0&&(tt=N).cval!==5&&tt.cval!==10&&!Vt(N)){var I=function(Q,Rt,Et){var Nt,Tt,jt=Q.length,Mt=[],Pt=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],St=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],Dt=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],It=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],Ut=Q[Rt][Et],gt=Ut.cval,Re=Dt[gt],oe=Ee(Ut,Re);Mt.push([Et+oe[0],Rt+oe[1]]),Re=It[gt],oe=Ee(Ut,Re),Mt.push([Et+oe[0],Rt+oe[1]]),re(Ut);for(var ir=Et+Pt[gt],we=Rt+St[gt],Ue=gt;ir>=0&&we>=0&&we<jt&&(ir!=Et||we!=Rt)&&(Ut=Q[we][ir])!==void 0;){if((gt=Ut.cval)===0||gt===15)return{path:Mt,info:"mergeable"};Re=It[gt],Nt=Pt[gt],Tt=St[gt],gt!==5&&gt!==10||(gt===5?Ut.flipped?St[Ue]===-1?(Re="left",Nt=-1,Tt=0):(Re="right",Nt=1,Tt=0):Pt[Ue]===-1&&(Re="bottom",Nt=0,Tt=-1):gt===10&&(Ut.flipped?Pt[Ue]===-1?(Re="top",Nt=0,Tt=1):(Re="bottom",Nt=0,Tt=-1):St[Ue]===1&&(Re="left",Nt=-1,Tt=0))),oe=Ee(Ut,Re),Mt.push([ir+oe[0],we+oe[1]]),re(Ut),ir+=Nt,we+=Tt,Ue=gt}return{path:Mt,info:"closed"}}(w.cells,z,B),Y=!1;if(I.info==="mergeable"){for(var it=I.path[I.path.length-1][0],D=I.path[I.path.length-1][1],Z=T-1;Z>=0;Z--)if(Math.abs(x[Z][0][0]-it)<=E&&Math.abs(x[Z][0][1]-D)<=E){for(var K=I.path.length-2;K>=0;--K)x[Z].unshift(I.path[K]);Y=!0;break}}Y||(x[T++]=I.path)}var tt})}),x}(function(w,x){for(var T=w.length-1,E=w[0].length-1,P={rows:T,cols:E,cells:[]},z=0;z<T;++z){P.cells[z]=[];for(var N=0;N<E;++N){var B=0,I=w[z+1][N],Y=w[z+1][N+1],it=w[z][N+1],D=w[z][N];if(!(isNaN(I)||isNaN(Y)||isNaN(it)||isNaN(D))){B|=I>=x?8:0,B|=Y>=x?4:0,B|=it>=x?2:0;var Z,K,tt,Q,Rt=!1;if((B|=D>=x?1:0)===5||B===10){var Et=(I+Y+it+D)/4;B===5&&Et<x?(B=10,Rt=!0):B===10&&Et<x&&(B=5,Rt=!0)}B!==0&&B!==15&&(Z=K=tt=Q=.5,B===1?(tt=1-st(x,I,D),K=1-st(x,it,D)):B===2?(K=st(x,D,it),Q=1-st(x,Y,it)):B===3?(tt=1-st(x,I,D),Q=1-st(x,Y,it)):B===4?(Z=st(x,I,Y),Q=st(x,it,Y)):B===5?(Z=st(x,I,Y),Q=st(x,it,Y),K=1-st(x,it,D),tt=1-st(x,I,D)):B===6?(K=st(x,D,it),Z=st(x,I,Y)):B===7?(tt=1-st(x,I,D),Z=st(x,I,Y)):B===8?(tt=st(x,D,I),Z=1-st(x,Y,I)):B===9?(K=1-st(x,it,D),Z=1-st(x,Y,I)):B===10?(Z=1-st(x,Y,I),Q=1-st(x,Y,it),K=st(x,D,it),tt=st(x,D,I)):B===11?(Z=1-st(x,Y,I),Q=1-st(x,Y,it)):B===12?(tt=st(x,D,I),Q=st(x,it,Y)):B===13?(K=1-st(x,it,D),Q=st(x,it,Y)):B===14?(tt=st(x,D,I),K=st(x,D,it)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+B),P.cells[z][N]={cval:B,flipped:Rt,top:Z,right:Q,bottom:K,left:tt})}}}return P}(e,i));return typeof J.successCallback=="function"&&J.successCallback(y),y}function st(e,i,s){return(e-i)/(s-i)}function Vt(e){return e.cval===0||e.cval===15}function re(e){Vt(e)||e.cval===5||e.cval===10||(e.cval=15)}function Ee(e,i){return i==="top"?[e.top,1]:i==="bottom"?[e.bottom,0]:i==="right"?[1,e.right]:i==="left"?[0,e.left]:void 0}function cr(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;zt(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return wt(P,function(B){var I=X(B)[1];N[I]||(N[I]=[]),N[I].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(I,Y){return X(I)[0]-X(Y)[0]})}).sort(function(B,I){return z?X(B[0])[1]-X(I[0])[1]:X(I[0])[1]-X(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var Fe=ji,qn=ji;function ji(e,i,s,a,c){Es(e,i,s||0,a||e.length-1,c||_u)}function Es(e,i,s,a,c){for(;a>s;){if(a-s>600){var h=a-s+1,g=i-s+1,y=Math.log(h),w=.5*Math.exp(2*y/3),x=.5*Math.sqrt(y*w*(h-w)/h)*(g-h/2<0?-1:1);Es(e,i,Math.max(s,Math.floor(i-g*w/h+x)),Math.min(a,Math.floor(i+(h-g)*w/h+x)),c)}var T=e[i],E=s,P=a;for(ea(e,s,i),c(e[a],T)>0&&ea(e,s,a);E<P;){for(ea(e,E,P),E++,P--;c(e[E],T)<0;)E++;for(;c(e[P],T)>0;)P--}c(e[s],T)===0?ea(e,s,P):ea(e,++P,a),P<=i&&(s=P+1),i<=P&&(a=P-1)}}function ea(e,i,s){var a=e[i];e[i]=e[s],e[s]=a}function _u(e,i){return e<i?-1:e>i?1:0}Fe.default=qn;var Ji=ku,Gy=ku;function ku(e,i){if(!(this instanceof ku))return new ku(e,i);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),this.clear()}function qy(e,i,s){if(!s)return i.indexOf(e);for(var a=0;a<i.length;a++)if(s(e,i[a]))return a;return-1}function fc(e,i){Eu(e,0,e.children.length,i,e)}function Eu(e,i,s,a,c){c||(c=xl(null)),c.minX=1/0,c.minY=1/0,c.maxX=-1/0,c.maxY=-1/0;for(var h,g=i;g<s;g++)h=e.children[g],wl(c,e.leaf?a(h):h);return c}function wl(e,i){return e.minX=Math.min(e.minX,i.minX),e.minY=Math.min(e.minY,i.minY),e.maxX=Math.max(e.maxX,i.maxX),e.maxY=Math.max(e.maxY,i.maxY),e}function hm(e,i){return e.minX-i.minX}function dm(e,i){return e.minY-i.minY}function Lp(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Lh(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Oo(e,i){return e.minX<=i.minX&&e.minY<=i.minY&&i.maxX<=e.maxX&&i.maxY<=e.maxY}function Be(e,i){return i.minX<=e.maxX&&i.minY<=e.maxY&&i.maxX>=e.minX&&i.maxY>=e.minY}function xl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Rp(e,i,s,a,c){for(var h,g=[i,s];g.length;)(s=g.pop())-(i=g.pop())<=a||(h=i+Math.ceil((s-i)/a/2)*a,Fe(e,h,i,s,c),g.push(i,h,h,s))}function ts(e){var i={exports:{}};return e(i,i.exports),i.exports}ku.prototype={all:function(){return this._all(this.data,[])},search:function(e){var i=this.data,s=[],a=this.toBBox;if(!Be(e,i))return s;for(var c,h,g,y,w=[];i;){for(c=0,h=i.children.length;c<h;c++)g=i.children[c],Be(e,y=i.leaf?a(g):g)&&(i.leaf?s.push(g):Oo(e,y)?this._all(g,s):w.push(g));i=w.pop()}return s},collides:function(e){var i=this.data,s=this.toBBox;if(!Be(e,i))return!1;for(var a,c,h,g,y=[];i;){for(a=0,c=i.children.length;a<c;a++)if(h=i.children[a],Be(e,g=i.leaf?s(h):h)){if(i.leaf||Oo(e,g))return!0;y.push(h)}i=y.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var i=0,s=e.length;i<s;i++)this.insert(e[i]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var c=this.data;this.data=a,a=c}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=xl([]),this},remove:function(e,i){if(!e)return this;for(var s,a,c,h,g=this.data,y=this.toBBox(e),w=[],x=[];g||w.length;){if(g||(g=w.pop(),a=w[w.length-1],s=x.pop(),h=!0),g.leaf&&(c=qy(e,g.children,i))!==-1)return g.children.splice(c,1),w.push(g),this._condense(w),this;h||g.leaf||!Oo(g,y)?a?(s++,g=a.children[s],h=!1):g=null:(w.push(g),x.push(s),s=0,a=g,g=g.children[0])}return this},toBBox:function(e){return e},compareMinX:hm,compareMinY:dm,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,i){for(var s=[];e;)e.leaf?i.push.apply(i,e.children):s.push.apply(s,e.children),e=s.pop();return i},_build:function(e,i,s,a){var c,h=s-i+1,g=this._maxEntries;if(h<=g)return fc(c=xl(e.slice(i,s+1)),this.toBBox),c;a||(a=Math.ceil(Math.log(h)/Math.log(g)),g=Math.ceil(h/Math.pow(g,a-1))),(c=xl([])).leaf=!1,c.height=a;var y,w,x,T,E=Math.ceil(h/g),P=E*Math.ceil(Math.sqrt(g));for(Rp(e,i,s,P,this.compareMinX),y=i;y<=s;y+=P)for(Rp(e,y,x=Math.min(y+P-1,s),E,this.compareMinY),w=y;w<=x;w+=E)T=Math.min(w+E-1,x),c.children.push(this._build(e,w,T,a-1));return fc(c,this.toBBox),c},_chooseSubtree:function(e,i,s,a){for(var c,h,g,y,w,x,T,E,P,z;a.push(i),!i.leaf&&a.length-1!==s;){for(T=E=1/0,c=0,h=i.children.length;c<h;c++)w=Lp(g=i.children[c]),P=e,z=g,(x=(Math.max(z.maxX,P.maxX)-Math.min(z.minX,P.minX))*(Math.max(z.maxY,P.maxY)-Math.min(z.minY,P.minY))-w)<E?(E=x,T=w<T?w:T,y=g):x===E&&w<T&&(T=w,y=g);i=y||i.children[0]}return i},_insert:function(e,i,s){var a=this.toBBox,c=s?e:a(e),h=[],g=this._chooseSubtree(c,this.data,i,h);for(g.children.push(e),wl(g,c);i>=0&&h[i].children.length>this._maxEntries;)this._split(h,i),i--;this._adjustParentBBoxes(c,h,i)},_split:function(e,i){var s=e[i],a=s.children.length,c=this._minEntries;this._chooseSplitAxis(s,c,a);var h=this._chooseSplitIndex(s,c,a),g=xl(s.children.splice(h,s.children.length-h));g.height=s.height,g.leaf=s.leaf,fc(s,this.toBBox),fc(g,this.toBBox),i?e[i-1].children.push(g):this._splitRoot(s,g)},_splitRoot:function(e,i){this.data=xl([e,i]),this.data.height=e.height+1,this.data.leaf=!1,fc(this.data,this.toBBox)},_chooseSplitIndex:function(e,i,s){var a,c,h,g,y,w,x,T,E,P,z,N,B,I;for(w=x=1/0,a=i;a<=s-i;a++)c=Eu(e,0,a,this.toBBox),h=Eu(e,a,s,this.toBBox),E=c,P=h,z=void 0,N=void 0,B=void 0,I=void 0,z=Math.max(E.minX,P.minX),N=Math.max(E.minY,P.minY),B=Math.min(E.maxX,P.maxX),I=Math.min(E.maxY,P.maxY),g=Math.max(0,B-z)*Math.max(0,I-N),y=Lp(c)+Lp(h),g<w?(w=g,T=a,x=y<x?y:x):g===w&&y<x&&(x=y,T=a);return T},_chooseSplitAxis:function(e,i,s){var a=e.leaf?this.compareMinX:hm,c=e.leaf?this.compareMinY:dm;this._allDistMargin(e,i,s,a)<this._allDistMargin(e,i,s,c)&&e.children.sort(a)},_allDistMargin:function(e,i,s,a){e.children.sort(a);var c,h,g=this.toBBox,y=Eu(e,0,i,g),w=Eu(e,s-i,s,g),x=Lh(y)+Lh(w);for(c=i;c<s-i;c++)h=e.children[c],wl(y,e.leaf?g(h):h),x+=Lh(y);for(c=s-i-1;c>=i;c--)h=e.children[c],wl(w,e.leaf?g(h):h),x+=Lh(w);return x},_adjustParentBBoxes:function(e,i,s){for(var a=s;a>=0;a--)wl(i[a],e)},_condense:function(e){for(var i,s=e.length-1;s>=0;s--)e[s].children.length===0?s>0?(i=e[s-1].children).splice(i.indexOf(e[s]),1):this.clear():fc(e[s],this.toBBox)},_initFormat:function(e){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(e[0])),this.compareMinY=new Function("a","b",i.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}},Ji.default=Gy;var Tu=function(e,i,s){var a=e*i,c=Rh*e,h=c-(c-e),g=e-h,y=Rh*i,w=y-(y-i),x=i-w,T=g*x-(a-h*w-g*w-h*x);return s?(s[0]=T,s[1]=a,s):[T,a]},Rh=+(Math.pow(2,27)+1),pm=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var Rt=tt+Q,Et=Rt-tt,Nt=tt-(Rt-Et)+(Q-Et);return Nt?[Nt,Rt]:[Rt]}(e[0],i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z)));for(var B,I,Y=c+h,it=Y-c,D=h-it,Z=D,K=Y;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=i[x],N=T(z))),(D=(h=Z)-(it=(Y=c+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B;for(;w<s;)(D=(h=Z)-(it=(Y=(c=E)+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=Z)-(it=(Y=(c=z)+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B,(x+=1)<a&&(z=i[x]);return Z&&(g[y++]=Z),K&&(g[y++]=K),y||(g[y++]=0),g.length=y,g},gc=function(e,i,s){var a=e+i,c=a-e,h=i-c,g=e-(a-c);return s?(s[0]=g+h,s[1]=a,s):[g+h,a]},fm=function(e,i){var s=e.length;if(s===1){var a=Tu(e[0],i);return a[0]?a:[a[1]]}var c=new Array(2*s),h=[.1,.1],g=[.1,.1],y=0;Tu(e[0],i,h),h[0]&&(c[y++]=h[0]);for(var w=1;w<s;++w){Tu(e[w],i,g);var x=h[1];gc(x,g[0],h),h[0]&&(c[y++]=h[0]);var T=g[1],E=h[1],P=T+E,z=E-(P-T);h[1]=P,z&&(c[y++]=z)}return h[1]&&(c[y++]=h[1]),y===0&&(c[y++]=0),c.length=y,c},Vy=function(e,i){var s=0|e.length,a=0|i.length;if(s===1&&a===1)return function(tt,Q){var Rt=tt+Q,Et=Rt-tt,Nt=tt-(Rt-Et)+(Q-Et);return Nt?[Nt,Rt]:[Rt]}(e[0],-i[0]);var c,h,g=new Array(s+a),y=0,w=0,x=0,T=Math.abs,E=e[w],P=T(E),z=-i[x],N=T(z);P<N?(h=E,(w+=1)<s&&(E=e[w],P=T(E))):(h=z,(x+=1)<a&&(z=-i[x],N=T(z))),w<s&&P<N||x>=a?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z)));for(var B,I,Y=c+h,it=Y-c,D=h-it,Z=D,K=Y;w<s&&x<a;)P<N?(c=E,(w+=1)<s&&(E=e[w],P=T(E))):(c=z,(x+=1)<a&&(z=-i[x],N=T(z))),(D=(h=Z)-(it=(Y=c+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B;for(;w<s;)(D=(h=Z)-(it=(Y=(c=E)+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B,(w+=1)<s&&(E=e[w]);for(;x<a;)(D=(h=Z)-(it=(Y=(c=z)+h)-c))&&(g[y++]=D),Z=K-((B=K+Y)-(I=B-K))+(Y-I),K=B,(x+=1)<a&&(z=-i[x]);return Z&&(g[y++]=Z),K&&(g[y++]=K),y||(g[y++]=0),g.length=y,g},gm=ts(function(e){function i(x,T){for(var E=new Array(x.length-1),P=1;P<x.length;++P)for(var z=E[P-1]=new Array(x.length-1),N=0,B=0;N<x.length;++N)N!==T&&(z[B++]=x[P][N]);return E}function s(x){if(x.length===1)return x[0];if(x.length===2)return["sum(",x[0],",",x[1],")"].join("");var T=x.length>>1;return["sum(",s(x.slice(0,T)),",",s(x.slice(T)),")"].join("")}function a(x){if(x.length===2)return[["sum(prod(",x[0][0],",",x[1][1],"),prod(-",x[0][1],",",x[1][0],"))"].join("")];for(var T=[],E=0;E<x.length;++E)T.push(["scale(",s(a(i(x,E))),",",(P=E,1&P?"-":""),x[0][E],")"].join(""));return T;var P}function c(x){for(var T=[],E=[],P=function(D){for(var Z=new Array(D),K=0;K<D;++K){Z[K]=new Array(D);for(var tt=0;tt<D;++tt)Z[K][tt]=["m",tt,"[",D-K-1,"]"].join("")}return Z}(x),z=[],N=0;N<x;++N)1&N?E.push.apply(E,a(i(P,N))):T.push.apply(T,a(i(P,N))),z.push("m"+N);var B=s(T),I=s(E),Y="orientation"+x+"Exact",it=["function ",Y,"(",z.join(),"){var p=",B,",n=",I,",d=sub(p,n);return d[d.length-1];};return ",Y].join("");return new Function("sum","prod","scale","sub",it)(pm,Tu,fm,Vy)}var h=c(3),g=c(4),y=[function(){return 0},function(){return 0},function(x,T){return T[0]-x[0]},function(x,T,E){var P,z=(x[1]-E[1])*(T[0]-E[0]),N=(x[0]-E[0])*(T[1]-E[1]),B=z-N;if(z>0){if(N<=0)return B;P=z+N}else{if(!(z<0)||N>=0)return B;P=-(z+N)}var I=33306690738754716e-32*P;return B>=I||B<=-I?B:h(x,T,E)},function(x,T,E,P){var z=x[0]-P[0],N=T[0]-P[0],B=E[0]-P[0],I=x[1]-P[1],Y=T[1]-P[1],it=E[1]-P[1],D=x[2]-P[2],Z=T[2]-P[2],K=E[2]-P[2],tt=N*it,Q=B*Y,Rt=B*I,Et=z*it,Nt=z*Y,Tt=N*I,jt=D*(tt-Q)+Z*(Rt-Et)+K*(Nt-Tt),Mt=7771561172376103e-31*((Math.abs(tt)+Math.abs(Q))*Math.abs(D)+(Math.abs(Rt)+Math.abs(Et))*Math.abs(Z)+(Math.abs(Nt)+Math.abs(Tt))*Math.abs(K));return jt>Mt||-jt>Mt?jt:g(x,T,E,P)}];function w(x){var T=y[x.length];return T||(T=y[x.length]=c(x.length)),T.apply(void 0,x)}(function(){for(;y.length<=5;)y.push(c(y.length));for(var x=[],T=["slow"],E=0;E<=5;++E)x.push("a"+E),T.push("o"+E);var P=["function getOrientation(",x.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(E=2;E<=5;++E)P.push("case ",E,":return o",E,"(",x.slice(0,E).join(),");");P.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),T.push(P.join(""));var z=Function.apply(void 0,T);for(e.exports=z.apply(void 0,[w].concat(y)),E=0;E<=5;++E)e.exports[E]=y[E]})()}),Wy=function(e){var i=e.length;if(i<3){for(var s=new Array(i),a=0;a<i;++a)s[a]=a;return i===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:s}var c=new Array(i);for(a=0;a<i;++a)c[a]=a;c.sort(function(z,N){var B=e[z][0]-e[N][0];return B||e[z][1]-e[N][1]});var h=[c[0],c[1]],g=[c[0],c[1]];for(a=2;a<i;++a){for(var y=c[a],w=e[y],x=h.length;x>1&&mm(e[h[x-2]],e[h[x-1]],w)<=0;)x-=1,h.pop();for(h.push(y),x=g.length;x>1&&mm(e[g[x-2]],e[g[x-1]],w)>=0;)x-=1,g.pop();g.push(y)}s=new Array(g.length+h.length-2);for(var T=0,E=(a=0,h.length);a<E;++a)s[T++]=h[a];for(var P=g.length-2;P>0;--P)s[T++]=g[P];return s},mm=gm[3],Ap=Fa,Zy=Fa;function Fa(e,i){if(!(this instanceof Fa))return new Fa(e,i);if(this.data=e||[],this.length=this.data.length,this.compare=i||Yy,this.length>0)for(var s=(this.length>>1)-1;s>=0;s--)this._down(s)}function Yy(e,i){return e<i?-1:e>i?1:0}Fa.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var i=this.data,s=this.compare,a=i[e];e>0;){var c=e-1>>1,h=i[c];if(s(a,h)>=0)break;i[e]=h,e=c}i[e]=a},_down:function(e){for(var i=this.data,s=this.compare,a=this.length>>1,c=i[e];e<a;){var h=1+(e<<1),g=h+1,y=i[h];if(g<this.length&&s(i[g],y)<0&&(h=g,y=i[g]),s(y,c)>=0)break;i[e]=y,e=h}i[e]=c}},Ap.default=Zy;var Xy=function(e,i){for(var s=e[0],a=e[1],c=!1,h=0,g=i.length-1;h<i.length;g=h++){var y=i[h][0],w=i[h][1],x=i[g][0],T=i[g][1];w>a!=T>a&&s<(x-y)*(a-w)/(T-w)+y&&(c=!c)}return c},Ah=gm[3],vm=Oh,Ky=Oh;function Oh(e,i,s){i=Math.max(0,i===void 0?2:i),s=s||0;for(var a,c=function(it){for(var D=it[0],Z=it[0],K=it[0],tt=it[0],Q=0;Q<it.length;Q++){var Rt=it[Q];Rt[0]<D[0]&&(D=Rt),Rt[0]>K[0]&&(K=Rt),Rt[1]<Z[1]&&(Z=Rt),Rt[1]>tt[1]&&(tt=Rt)}var Et=[D,Z,K,tt],Nt=Et.slice();for(Q=0;Q<it.length;Q++)Xy(it[Q],Et)||Nt.push(it[Q]);var Tt=Wy(Nt),jt=[];for(Q=0;Q<Tt.length;Q++)jt.push(Nt[Tt[Q]]);return jt}(e),h=Ji(16,["[0]","[1]","[0]","[1]"]).load(e),g=[],y=0;y<c.length;y++){var w=c[y];h.remove(w),a=Cu(w,a),g.push(a)}var x=Ji(16);for(y=0;y<g.length;y++)x.insert(Ti(g[y]));for(var T=i*i,E=s*s;g.length;){var P=g.shift(),z=P.p,N=P.next.p,B=Ba(z,N);if(!(B<E)){var I=B/T;(w=Su(h,P.prev.p,z,N,P.next.next.p,I,x))&&Math.min(Ba(w,z),Ba(w,N))<=I&&(g.push(P),g.push(Cu(w,P)),h.remove(w),x.remove(P),x.insert(Ti(P)),x.insert(Ti(P.next)))}}P=a;var Y=[];do Y.push(P.p),P=P.next;while(P!==a);return Y.push(P.p),Y}function Su(e,i,s,a,c,h,g){for(var y=new Ap(null,ym),w=e.data;w;){for(var x=0;x<w.children.length;x++){var T=w.children[x],E=w.leaf?ja(T,s,a):bm(s,a,T);E>h||y.push({node:T,dist:E})}for(;y.length&&!y.peek().node.children;){var P=y.pop(),z=P.node,N=ja(z,i,s),B=ja(z,a,c);if(P.dist<N&&P.dist<B&&ii(s,z,g)&&ii(a,z,g))return z}(w=y.pop())&&(w=w.node)}return null}function ym(e,i){return e.dist-i.dist}function bm(e,i,s){if(mc(e,s)||mc(i,s))return 0;var a=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.maxX,s.minY);if(a===0)return 0;var c=vc(e[0],e[1],i[0],i[1],s.minX,s.minY,s.minX,s.maxY);if(c===0)return 0;var h=vc(e[0],e[1],i[0],i[1],s.maxX,s.minY,s.maxX,s.maxY);if(h===0)return 0;var g=vc(e[0],e[1],i[0],i[1],s.minX,s.maxY,s.maxX,s.maxY);return g===0?0:Math.min(a,c,h,g)}function mc(e,i){return e[0]>=i.minX&&e[0]<=i.maxX&&e[1]>=i.minY&&e[1]<=i.maxY}function ii(e,i,s){for(var a,c,h,g,y=Math.min(e[0],i[0]),w=Math.min(e[1],i[1]),x=Math.max(e[0],i[0]),T=Math.max(e[1],i[1]),E=s.search({minX:y,minY:w,maxX:x,maxY:T}),P=0;P<E.length;P++)if(a=E[P].p,c=E[P].next.p,h=e,a!==(g=i)&&c!==h&&Ah(a,c,h)>0!=Ah(a,c,g)>0&&Ah(h,g,a)>0!=Ah(h,g,c)>0)return!1;return!0}function Ti(e){var i=e.p,s=e.next.p;return e.minX=Math.min(i[0],s[0]),e.minY=Math.min(i[1],s[1]),e.maxX=Math.max(i[0],s[0]),e.maxY=Math.max(i[1],s[1]),e}function Cu(e,i){var s={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Ba(e,i){var s=e[0]-i[0],a=e[1]-i[1];return s*s+a*a}function ja(e,i,s){var a=i[0],c=i[1],h=s[0]-a,g=s[1]-c;if(h!==0||g!==0){var y=((e[0]-a)*h+(e[1]-c)*g)/(h*h+g*g);y>1?(a=s[0],c=s[1]):y>0&&(a+=h*y,c+=g*y)}return(h=e[0]-a)*h+(g=e[1]-c)*g}function vc(e,i,s,a,c,h,g,y){var w,x,T,E,P=s-e,z=a-i,N=g-c,B=y-h,I=e-c,Y=i-h,it=P*P+z*z,D=P*N+z*B,Z=N*N+B*B,K=P*I+z*Y,tt=N*I+B*Y,Q=it*Z-D*D,Rt=Q,Et=Q;Q===0?(x=0,Rt=1,E=tt,Et=Z):(E=it*tt-D*K,(x=D*tt-Z*K)<0?(x=0,E=tt,Et=Z):x>Rt&&(x=Rt,E=tt+D,Et=Z)),E<0?(E=0,-K<0?x=0:-K>it?x=Rt:(x=-K,Rt=it)):E>Et&&(E=Et,-K+D<0?x=0:-K+D>it?x=Rt:(x=-K+D,Rt=it));var Nt=(1-(T=E===0?0:E/Et))*c+T*g-((1-(w=x===0?0:x/Rt))*e+w*s),Tt=(1-T)*h+T*y-((1-w)*i+w*a);return Nt*Nt+Tt*Tt}function dr(e,i){i===void 0&&(i={}),i.concavity=i.concavity||1/0;var s=[];if(Gt(e,function(c){s.push([c[0],c[1]])}),!s.length)return null;var a=vm(s,i.concavity);return a.length>3?v([a]):null}function $e(e,i,s){if(s===void 0&&(s={}),!e)throw new Error("point is required");if(!i)throw new Error("polygon is required");var a=O(e),c=_t(i),h=c.type,g=i.bbox,y=c.coordinates;if(g&&function(P,z){return z[0]<=P[0]&&z[1]<=P[1]&&z[2]>=P[0]&&z[3]>=P[1]}(a,g)===!1)return!1;h==="Polygon"&&(y=[y]);for(var w=!1,x=0;x<y.length&&!w;x++)if(zh(a,y[x][0],s.ignoreBoundary)){for(var T=!1,E=1;E<y[x].length&&!T;)zh(a,y[x][E],!s.ignoreBoundary)&&(T=!0),E++;T||(w=!0)}return w}function zh(e,i,s){var a=!1;i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]&&(i=i.slice(0,i.length-1));for(var c=0,h=i.length-1;c<i.length;h=c++){var g=i[c][0],y=i[c][1],w=i[h][0],x=i[h][1];if(e[1]*(g-w)+y*(w-e[0])+x*(e[0]-g)==0&&(g-e[0])*(w-e[0])<=0&&(y-e[1])*(x-e[1])<=0)return!s;y>e[1]!=x>e[1]&&e[0]<(w-g)*(e[1]-y)/(x-y)+g&&(a=!a)}return a}function yc(e,i){var s=[];return wt(e,function(a){var c=!1;if(a.geometry.type==="Point")ee(i,function(g){$e(a,g)&&(c=!0)}),c&&s.push(a);else{if(a.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var h=[];ee(i,function(g){Gt(a,function(y){$e(y,g)&&(c=!0,h.push(y))})}),c&&s.push(F(h))}}),M(s)}function or(e,i,s){s===void 0&&(s={});var a=O(e),c=O(i),h=ct(c[1]-a[1]),g=ct(c[0]-a[0]),y=ct(a[1]),w=ct(c[1]),x=Math.pow(Math.sin(h/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(y)*Math.cos(w);return j(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)),s.units)}function wm(e,i){var s=!1;return M(function(a){if(a.length<3)return[];a.sort(_l);for(var c,h,g,y,w,x,T=a.length-1,E=a[T].x,P=a[0].x,z=a[T].y,N=z,B=1e-12;T--;)a[T].y<z&&(z=a[T].y),a[T].y>N&&(N=a[T].y);var I,Y=P-E,it=N-z,D=Y>it?Y:it,Z=.5*(P+E),K=.5*(N+z),tt=[new Pu({__sentinel:!0,x:Z-20*D,y:K-D},{__sentinel:!0,x:Z,y:K+20*D},{__sentinel:!0,x:Z+20*D,y:K-D})],Q=[],Rt=[];for(T=a.length;T--;){for(Rt.length=0,I=tt.length;I--;)(Y=a[T].x-tt[I].x)>0&&Y*Y>tt[I].r?(Q.push(tt[I]),tt.splice(I,1)):Y*Y+(it=a[T].y-tt[I].y)*it>tt[I].r||(Rt.push(tt[I].a,tt[I].b,tt[I].b,tt[I].c,tt[I].c,tt[I].a),tt.splice(I,1));for(Ki(Rt),I=Rt.length;I;)h=Rt[--I],c=Rt[--I],g=a[T],y=h.x-c.x,w=h.y-c.y,x=2*(y*(g.y-h.y)-w*(g.x-h.x)),Math.abs(x)>B&&tt.push(new Pu(c,h,g))}for(Array.prototype.push.apply(Q,tt),T=Q.length;T--;)(Q[T].a.__sentinel||Q[T].b.__sentinel||Q[T].c.__sentinel)&&Q.splice(T,1);return Q}(e.features.map(function(a){var c={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return i?c.z=a.properties[i]:a.geometry.coordinates.length===3&&(s=!0,c.z=a.geometry.coordinates[2]),c})).map(function(a){var c=[a.a.x,a.a.y],h=[a.b.x,a.b.y],g=[a.c.x,a.c.y],y={};return s?(c.push(a.a.z),h.push(a.b.z),g.push(a.c.z)):y={a:a.a.z,b:a.b.z,c:a.c.z},v([[c,h,g,c]],y)}))}vm.default=Ky;var Pu=function(e,i,s){this.a=e,this.b=i,this.c=s;var a,c,h=i.x-e.x,g=i.y-e.y,y=s.x-e.x,w=s.y-e.y,x=h*(e.x+i.x)+g*(e.y+i.y),T=y*(e.x+s.x)+w*(e.y+s.y),E=2*(h*(s.y-i.y)-g*(s.x-i.x));this.x=(w*x-g*T)/E,this.y=(h*T-y*x)/E,a=this.x-e.x,c=this.y-e.y,this.r=a*a+c*c};function _l(e,i){return i.x-e.x}function Ki(e){var i,s,a,c,h,g=e.length;t:for(;g;)for(s=e[--g],i=e[--g],a=g;a;)if(h=e[--a],i===(c=e[--a])&&s===h||i===h&&s===c){e.splice(g,2),e.splice(a,2),g-=2;continue t}}function Pi(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return bc(e);case"FeatureCollection":return function(i){var s={type:"FeatureCollection"};return Object.keys(i).forEach(function(a){switch(a){case"type":case"features":return;default:s[a]=i[a]}}),s.features=i.features.map(function(a){return bc(a)}),s}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Mu(e);default:throw new Error("unknown GeoJSON type")}}function bc(e){var i={type:"Feature"};return Object.keys(e).forEach(function(s){switch(s){case"type":case"properties":case"geometry":return;default:i[s]=e[s]}}),i.properties=wc(e.properties),i.geometry=Mu(e.geometry),i}function wc(e){var i={};return e&&Object.keys(e).forEach(function(s){var a=e[s];typeof a=="object"?a===null?i[s]=null:Array.isArray(a)?i[s]=a.map(function(c){return c}):i[s]=wc(a):i[s]=a}),i}function Mu(e){var i={type:e.type};return e.bbox&&(i.bbox=e.bbox),e.type==="GeometryCollection"?(i.geometries=e.geometries.map(function(s){return Mu(s)}),i):(i.coordinates=xc(e.coordinates),i)}function xc(e){var i=e;return typeof i[0]!="object"?i.slice():i.map(function(s){return xc(s)})}function Op(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Pi(e));var a=[],c=Yt(e,function(h,g){var y=function(w,x){var T,E=w.geometry.coordinates,P=x.geometry.coordinates,z=_c(E[0]),N=_c(E[E.length-1]),B=_c(P[0]),I=_c(P[P.length-1]);if(z===I)T=P.concat(E.slice(1));else if(B===N)T=E.concat(P.slice(1));else if(z===B)T=E.slice(1).reverse().concat(P);else{if(N!==I)return null;T=E.concat(P.reverse().slice(1))}return k(T)}(h,g);return y||(a.push(h),g)});return c&&a.push(c),a.length?a.length===1?a[0]:A(a.map(function(h){return h.coordinates})):null}function _c(e){return e[0].toString()+","+e[1].toString()}function Nh(e){return e}function Dh(e,i){var s=function(x){if(x==null)return Nh;var T,E,P=x.scale[0],z=x.scale[1],N=x.translate[0],B=x.translate[1];return function(I,Y){Y||(T=E=0);var it=2,D=I.length,Z=new Array(D);for(Z[0]=(T+=I[0])*P+N,Z[1]=(E+=I[1])*z+B;it<D;)Z[it]=I[it],++it;return Z}}(e.transform),a=e.arcs;function c(x,T){T.length&&T.pop();for(var E=a[x<0?~x:x],P=0,z=E.length;P<z;++P)T.push(s(E[P],P));x<0&&function(N,B){for(var I,Y=N.length,it=Y-B;it<--Y;)I=N[it],N[it++]=N[Y],N[Y]=I}(T,z)}function h(x){return s(x)}function g(x){for(var T=[],E=0,P=x.length;E<P;++E)c(x[E],T);return T.length<2&&T.push(T[0]),T}function y(x){for(var T=g(x);T.length<4;)T.push(T[0]);return T}function w(x){return x.map(y)}return function x(T){var E,P=T.type;switch(P){case"GeometryCollection":return{type:P,geometries:T.geometries.map(x)};case"Point":E=h(T.coordinates);break;case"MultiPoint":E=T.coordinates.map(h);break;case"LineString":E=g(T.arcs);break;case"MultiLineString":E=T.arcs.map(g);break;case"Polygon":E=w(T.arcs);break;case"MultiPolygon":E=T.arcs.map(w);break;default:return null}return{type:P,coordinates:E}}(i)}function zp(e,i){var s={},a={},c={},h=[],g=-1;function y(w,x){for(var T in w){var E=w[T];delete x[E.start],delete E.start,delete E.end,E.forEach(function(P){s[P<0?~P:P]=1}),h.push(E)}}return i.forEach(function(w,x){var T,E=e.arcs[w<0?~w:w];E.length<3&&!E[1][0]&&!E[1][1]&&(T=i[++g],i[g]=w,i[x]=T)}),i.forEach(function(w){var x,T,E=function(I){var Y,it=e.arcs[I<0?~I:I],D=it[0];return e.transform?(Y=[0,0],it.forEach(function(Z){Y[0]+=Z[0],Y[1]+=Z[1]})):Y=it[it.length-1],I<0?[Y,D]:[D,Y]}(w),P=E[0],z=E[1];if(x=c[P])if(delete c[x.end],x.push(w),x.end=z,T=a[z]){delete a[T.start];var N=T===x?x:x.concat(T);a[N.start=x.start]=c[N.end=T.end]=N}else a[x.start]=c[x.end]=x;else if(x=a[z])if(delete a[x.start],x.unshift(w),x.start=P,T=c[P]){delete c[T.end];var B=T===x?x:T.concat(x);a[B.start=T.start]=c[B.end=x.end]=B}else a[x.start]=c[x.end]=x;else a[(x=[w]).start=P]=c[x.end=z]=x}),y(c,a),y(a,c),i.forEach(function(w){s[w<0?~w:w]||h.push([w])}),h}function Fh(e,i){var s={},a=[],c=[];function h(y){y.forEach(function(w){w.forEach(function(x){(s[x=x<0?~x:x]||(s[x]=[])).push(y)})}),a.push(y)}function g(y){return function(w){for(var x,T=-1,E=w.length,P=w[E-1],z=0;++T<E;)x=P,P=w[T],z+=x[0]*P[1]-x[1]*P[0];return Math.abs(z)}(Dh(e,{type:"Polygon",arcs:[y]}).coordinates[0])}return i.forEach(function y(w){switch(w.type){case"GeometryCollection":w.geometries.forEach(y);break;case"Polygon":h(w.arcs);break;case"MultiPolygon":w.arcs.forEach(h)}}),a.forEach(function(y){if(!y._){var w=[],x=[y];for(y._=1,c.push(w);y=x.pop();)w.push(y),y.forEach(function(T){T.forEach(function(E){s[E<0?~E:E].forEach(function(P){P._||(P._=1,x.push(P))})})})}}),a.forEach(function(y){delete y._}),{type:"MultiPolygon",arcs:c.map(function(y){var w,x=[];if(y.forEach(function(N){N.forEach(function(B){B.forEach(function(I){s[I<0?~I:I].length<2&&x.push(I)})})}),(w=(x=zp(e,x)).length)>1)for(var T,E,P=1,z=g(x[0]);P<w;++P)(T=g(x[P]))>z&&(E=x[0],x[0]=x[P],x[P]=E,z=T);return x}).filter(function(y){return y.length>0})}}var Iu=Object.prototype.hasOwnProperty;function Lu(e,i,s,a,c,h){arguments.length===3&&(a=h=Array,c=null);for(var g=new a(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),y=new h(e),w=e-1,x=0;x<e;++x)g[x]=c;function T(N,B){for(var I=i(N)&w,Y=g[I],it=0;Y!=c;){if(s(Y,N))return y[I]=B;if(++it>=e)throw new Error("full hashmap");Y=g[I=I+1&w]}return g[I]=N,y[I]=B,B}function E(N,B){for(var I=i(N)&w,Y=g[I],it=0;Y!=c;){if(s(Y,N))return y[I];if(++it>=e)throw new Error("full hashmap");Y=g[I=I+1&w]}return g[I]=N,y[I]=B,B}function P(N,B){for(var I=i(N)&w,Y=g[I],it=0;Y!=c;){if(s(Y,N))return y[I];if(++it>=e)break;Y=g[I=I+1&w]}return B}function z(){for(var N=[],B=0,I=g.length;B<I;++B){var Y=g[B];Y!=c&&N.push(Y)}return N}return{set:T,maybeSet:E,get:P,keys:z}}function kl(e,i){return e[0]===i[0]&&e[1]===i[1]}var lr=new ArrayBuffer(16),es=new Float64Array(lr),pi=new Uint32Array(lr);function Bh(e){es[0]=e[0],es[1]=e[1];var i=pi[0]^pi[1];return 2147483647&(i=i<<5^i>>7^pi[2]^pi[3])}function Np(e){var i,s,a,c,h=e.coordinates,g=e.lines,y=e.rings,w=function(){for(var Et=Lu(1.4*h.length,K,tt,Int32Array,-1,Int32Array),Nt=new Int32Array(h.length),Tt=0,jt=h.length;Tt<jt;++Tt)Nt[Tt]=Et.maybeSet(Tt,Tt);return Nt}(),x=new Int32Array(h.length),T=new Int32Array(h.length),E=new Int32Array(h.length),P=new Int8Array(h.length),z=0;for(i=0,s=h.length;i<s;++i)x[i]=T[i]=E[i]=-1;for(i=0,s=g.length;i<s;++i){var N=g[i],B=N[0],I=N[1];for(a=w[B],c=w[++B],++z,P[a]=1;++B<=I;)Z(i,a,a=c,c=w[B]);++z,P[c]=1}for(i=0,s=h.length;i<s;++i)x[i]=-1;for(i=0,s=y.length;i<s;++i){var Y=y[i],it=Y[0]+1,D=Y[1];for(Z(i,w[D-1],a=w[it-1],c=w[it]);++it<=D;)Z(i,a,a=c,c=w[it])}function Z(Et,Nt,Tt,jt){if(x[Tt]!==Et){x[Tt]=Et;var Mt=T[Tt];if(Mt>=0){var Pt=E[Tt];Mt===Nt&&Pt===jt||Mt===jt&&Pt===Nt||(++z,P[Tt]=1)}else T[Tt]=Nt,E[Tt]=jt}}function K(Et){return Bh(h[Et])}function tt(Et,Nt){return kl(h[Et],h[Nt])}x=T=E=null;var Q,Rt=function(Et,Nt,Tt,jt,Mt){arguments.length===3&&(jt=Array,Mt=null);for(var Pt=new jt(Et=1<<Math.max(4,Math.ceil(Math.log(Et)/Math.LN2))),St=Et-1,Dt=0;Dt<Et;++Dt)Pt[Dt]=Mt;function It(Re){for(var oe=Nt(Re)&St,ir=Pt[oe],we=0;ir!=Mt;){if(Tt(ir,Re))return!0;if(++we>=Et)throw new Error("full hashset");ir=Pt[oe=oe+1&St]}return Pt[oe]=Re,!0}function Ut(Re){for(var oe=Nt(Re)&St,ir=Pt[oe],we=0;ir!=Mt;){if(Tt(ir,Re))return!0;if(++we>=Et)break;ir=Pt[oe=oe+1&St]}return!1}function gt(){for(var Re=[],oe=0,ir=Pt.length;oe<ir;++oe){var we=Pt[oe];we!=Mt&&Re.push(we)}return Re}return{add:It,has:Ut,values:gt}}(1.4*z,Bh,kl);for(i=0,s=h.length;i<s;++i)P[Q=w[i]]&&Rt.add(h[Q]);return Rt}function Dp(e,i,s,a){Ru(e,i,s),Ru(e,i,i+a),Ru(e,i+a,s)}function Ru(e,i,s){for(var a,c=i+(s---i>>1);i<c;++i,--s)a=e[i],e[i]=e[s],e[s]=a}function El(e){var i,s,a={};for(i in e)a[i]=(s=e[i])==null?{type:null}:(s.type==="FeatureCollection"?Fp:s.type==="Feature"?kc:Qi)(s);return a}function Fp(e){var i={type:"GeometryCollection",geometries:e.features.map(kc)};return e.bbox!=null&&(i.bbox=e.bbox),i}function kc(e){var i,s=Qi(e.geometry);for(i in e.id!=null&&(s.id=e.id),e.bbox!=null&&(s.bbox=e.bbox),e.properties){s.properties=e.properties;break}return s}function Qi(e){if(e==null)return{type:null};var i=e.type==="GeometryCollection"?{type:"GeometryCollection",geometries:e.geometries.map(Qi)}:e.type==="Point"||e.type==="MultiPoint"?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return e.bbox!=null&&(i.bbox=e.bbox),i}function Tl(e,i){var s=function(P){var z=1/0,N=1/0,B=-1/0,I=-1/0;function Y(Q){Q!=null&&Iu.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(Y)},Point:function(Q){D(Q.coordinates)},MultiPoint:function(Q){Q.coordinates.forEach(D)},LineString:function(Q){Z(Q.arcs)},MultiLineString:function(Q){Q.arcs.forEach(Z)},Polygon:function(Q){Q.arcs.forEach(Z)},MultiPolygon:function(Q){Q.arcs.forEach(K)}};function D(Q){var Rt=Q[0],Et=Q[1];Rt<z&&(z=Rt),Rt>B&&(B=Rt),Et<N&&(N=Et),Et>I&&(I=Et)}function Z(Q){Q.forEach(D)}function K(Q){Q.forEach(Z)}for(var tt in P)Y(P[tt]);return B>=z&&I>=N?[z,N,B,I]:void 0}(e=El(e)),a=i>0&&s&&function(P,z,N){var B=z[0],I=z[1],Y=z[2],it=z[3],D=Y-B?(N-1)/(Y-B):1,Z=it-I?(N-1)/(it-I):1;function K(Mt){return[Math.round((Mt[0]-B)*D),Math.round((Mt[1]-I)*Z)]}function tt(Mt,Pt){for(var St,Dt,It,Ut,gt,Re=-1,oe=0,ir=Mt.length,we=new Array(ir);++Re<ir;)St=Mt[Re],Ut=Math.round((St[0]-B)*D),gt=Math.round((St[1]-I)*Z),Ut===Dt&&gt===It||(we[oe++]=[Dt=Ut,It=gt]);for(we.length=oe;oe<Pt;)oe=we.push([we[0][0],we[0][1]]);return we}function Q(Mt){return tt(Mt,2)}function Rt(Mt){return tt(Mt,4)}function Et(Mt){return Mt.map(Rt)}function Nt(Mt){Mt!=null&&Iu.call(Tt,Mt.type)&&Tt[Mt.type](Mt)}var Tt={GeometryCollection:function(Mt){Mt.geometries.forEach(Nt)},Point:function(Mt){Mt.coordinates=K(Mt.coordinates)},MultiPoint:function(Mt){Mt.coordinates=Mt.coordinates.map(K)},LineString:function(Mt){Mt.arcs=Q(Mt.arcs)},MultiLineString:function(Mt){Mt.arcs=Mt.arcs.map(Q)},Polygon:function(Mt){Mt.arcs=Et(Mt.arcs)},MultiPolygon:function(Mt){Mt.arcs=Mt.arcs.map(Et)}};for(var jt in P)Nt(P[jt]);return{scale:[1/D,1/Z],translate:[B,I]}}(e,s,i),c=function(P){var z,N,B,I,Y=P.coordinates,it=P.lines,D=P.rings,Z=it.length+D.length;for(delete P.lines,delete P.rings,B=0,I=it.length;B<I;++B)for(z=it[B];z=z.next;)++Z;for(B=0,I=D.length;B<I;++B)for(N=D[B];N=N.next;)++Z;var K=Lu(2*Z*1.4,Bh,kl),tt=P.arcs=[];for(B=0,I=it.length;B<I;++B){z=it[B];do Q(z);while(z=z.next)}for(B=0,I=D.length;B<I;++B)if((N=D[B]).next)do Q(N);while(N=N.next);else Rt(N);function Q(Pt){var St,Dt,It,Ut,gt,Re,oe,ir;if(It=K.get(St=Y[Pt[0]])){for(oe=0,ir=It.length;oe<ir;++oe)if(Et(Ut=It[oe],Pt))return Pt[0]=Ut[0],void(Pt[1]=Ut[1])}if(gt=K.get(Dt=Y[Pt[1]])){for(oe=0,ir=gt.length;oe<ir;++oe)if(Nt(Re=gt[oe],Pt))return Pt[1]=Re[0],void(Pt[0]=Re[1])}It?It.push(Pt):K.set(St,[Pt]),gt?gt.push(Pt):K.set(Dt,[Pt]),tt.push(Pt)}function Rt(Pt){var St,Dt,It,Ut,gt;if(Dt=K.get(Y[Pt[0]]))for(Ut=0,gt=Dt.length;Ut<gt;++Ut){if(Tt(It=Dt[Ut],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(jt(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}if(Dt=K.get(St=Y[Pt[0]+Mt(Pt)]))for(Ut=0,gt=Dt.length;Ut<gt;++Ut){if(Tt(It=Dt[Ut],Pt))return Pt[0]=It[0],void(Pt[1]=It[1]);if(jt(It,Pt))return Pt[0]=It[1],void(Pt[1]=It[0])}Dt?Dt.push(Pt):K.set(St,[Pt]),tt.push(Pt)}function Et(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1];if(Dt-Ut!=It-St[1])return!1;for(;Dt<=Ut;++Dt,++It)if(!kl(Y[Dt],Y[It]))return!1;return!0}function Nt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1],gt=St[1];if(Dt-Ut!=It-gt)return!1;for(;Dt<=Ut;++Dt,--gt)if(!kl(Y[Dt],Y[gt]))return!1;return!0}function Tt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1]-Dt;if(Ut!==St[1]-It)return!1;for(var gt=Mt(Pt),Re=Mt(St),oe=0;oe<Ut;++oe)if(!kl(Y[Dt+(oe+gt)%Ut],Y[It+(oe+Re)%Ut]))return!1;return!0}function jt(Pt,St){var Dt=Pt[0],It=St[0],Ut=Pt[1],gt=St[1],Re=Ut-Dt;if(Re!==gt-It)return!1;for(var oe=Mt(Pt),ir=Re-Mt(St),we=0;we<Re;++we)if(!kl(Y[Dt+(we+oe)%Re],Y[gt-(we+ir)%Re]))return!1;return!0}function Mt(Pt){for(var St=Pt[0],Dt=Pt[1],It=St,Ut=It,gt=Y[It];++It<Dt;){var Re=Y[It];(Re[0]<gt[0]||Re[0]===gt[0]&&Re[1]<gt[1])&&(Ut=It,gt=Re)}return Ut-St}return P}(function(P){var z,N,B,I=Np(P),Y=P.coordinates,it=P.lines,D=P.rings;for(N=0,B=it.length;N<B;++N)for(var Z=it[N],K=Z[0],tt=Z[1];++K<tt;)I.has(Y[K])&&(z={0:K,1:Z[1]},Z[1]=K,Z=Z.next=z);for(N=0,B=D.length;N<B;++N)for(var Q=D[N],Rt=Q[0],Et=Rt,Nt=Q[1],Tt=I.has(Y[Rt]);++Et<Nt;)I.has(Y[Et])&&(Tt?(z={0:Et,1:Q[1]},Q[1]=Et,Q=Q.next=z):(Dp(Y,Rt,Nt,Nt-Et),Y[Nt]=Y[Rt],Tt=!0,Et=Rt));return P}(function(P){var z=-1,N=[],B=[],I=[];function Y(Q){Q&&Iu.call(it,Q.type)&&it[Q.type](Q)}var it={GeometryCollection:function(Q){Q.geometries.forEach(Y)},LineString:function(Q){Q.arcs=D(Q.arcs)},MultiLineString:function(Q){Q.arcs=Q.arcs.map(D)},Polygon:function(Q){Q.arcs=Q.arcs.map(Z)},MultiPolygon:function(Q){Q.arcs=Q.arcs.map(K)}};function D(Q){for(var Rt=0,Et=Q.length;Rt<Et;++Rt)I[++z]=Q[Rt];var Nt={0:z-Et+1,1:z};return N.push(Nt),Nt}function Z(Q){for(var Rt=0,Et=Q.length;Rt<Et;++Rt)I[++z]=Q[Rt];var Nt={0:z-Et+1,1:z};return B.push(Nt),Nt}function K(Q){return Q.map(Z)}for(var tt in P)Y(P[tt]);return{type:"Topology",coordinates:I,lines:N,rings:B,objects:P}}(e))),h=c.coordinates,g=Lu(1.4*c.arcs.length,xm,_m);function y(P){P&&Iu.call(w,P.type)&&w[P.type](P)}e=c.objects,c.bbox=s,c.arcs=c.arcs.map(function(P,z){return g.set(P,z),h.slice(P[0],P[1]+1)}),delete c.coordinates,h=null;var w={GeometryCollection:function(P){P.geometries.forEach(y)},LineString:function(P){P.arcs=x(P.arcs)},MultiLineString:function(P){P.arcs=P.arcs.map(x)},Polygon:function(P){P.arcs=P.arcs.map(x)},MultiPolygon:function(P){P.arcs=P.arcs.map(T)}};function x(P){var z=[];do{var N=g.get(P);z.push(P[0]<P[1]?N:~N)}while(P=P.next);return z}function T(P){return P.map(x)}for(var E in e)y(e[E]);return a&&(c.transform=a,c.arcs=function(P){for(var z=-1,N=P.length;++z<N;){for(var B,I,Y=P[z],it=0,D=1,Z=Y.length,K=Y[0],tt=K[0],Q=K[1];++it<Z;)B=(K=Y[it])[0],I=K[1],B===tt&&I===Q||(Y[D++]=[B-tt,I-Q],tt=B,Q=I);D===1&&(Y[D++]=[0,0]),Y.length=D}return P}(c.arcs)),c}function xm(e){var i,s=e[0],a=e[1];return a<s&&(i=s,s=a,a=i),s+31*a}function _m(e,i){var s,a=e[0],c=e[1],h=i[0],g=i[1];return c<a&&(s=a,a=c,c=s),g<h&&(s=h,h=g,g=s),a===h&&c===g}function Jy(e,i){if(i===void 0&&(i={}),te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");i.mutate!==!1&&i.mutate!==void 0||(e=Pi(e));var s=[];se(e,function(c){s.push(c.geometry)});var a=Tl({geoms:H(s).geometry});return function(c){return Dh(c,Fh.apply(this,arguments))}(a,a.objects.geoms.geometries)}function km(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(te(e)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");s!==!1&&s!==void 0||(e=Pi(e));var a=function(h){var g={};se(h,function(w){g[w.geometry.type]=!0});var y=Object.keys(g);return y.length===1?y[0]:null}(e);if(!a)throw new Error("geojson must be homogenous");var c=e;switch(a){case"LineString":return Op(c,i);case"Polygon":return Jy(c,i);default:throw new Error(a+" is not supported")}}function ra(e,i){i===void 0&&(i={});var s=typeof i=="object"?i.mutate:i;if(!e)throw new Error("geojson is required");var a=te(e),c=[];switch(a){case"LineString":c=Bp(e);break;case"MultiLineString":case"Polygon":X(e).forEach(function(g){c.push(Bp(g))});break;case"MultiPolygon":X(e).forEach(function(g){var y=[];g.forEach(function(w){y.push(Bp(w))}),c.push(y)});break;case"Point":return e;case"MultiPoint":var h={};X(e).forEach(function(g){var y=g.join("-");Object.prototype.hasOwnProperty.call(h,y)||(c.push(g),h[y]=!0)});break;default:throw new Error(a+" geometry not supported")}return e.coordinates?s===!0?(e.coordinates=c,e):{type:a,coordinates:c}:s===!0?(e.geometry.coordinates=c,e):u({type:a,coordinates:c},e.properties,{bbox:e.bbox,id:e.id})}function Bp(e){var i=X(e);if(i.length===2&&!jp(i[0],i[1]))return i;var s=[],a=i.length-1,c=s.length;s.push(i[0]);for(var h=1;h<a;h++){var g=s[s.length-1];i[h][0]===g[0]&&i[h][1]===g[1]||(s.push(i[h]),(c=s.length)>2&&Kr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1))}if(s.push(i[i.length-1]),c=s.length,jp(i[0],i[i.length-1])&&c<4)throw new Error("invalid polygon");return Kr(s[c-3],s[c-1],s[c-2])&&s.splice(s.length-2,1),s}function jp(e,i){return e[0]===i[0]&&e[1]===i[1]}function Kr(e,i,s){var a=s[0],c=s[1],h=e[0],g=e[1],y=i[0],w=i[1],x=y-h,T=w-g;return(a-h)*T-(c-g)*x===0&&(Math.abs(x)>=Math.abs(T)?x>0?h<=a&&a<=y:y<=a&&a<=h:T>0?g<=c&&c<=w:w<=c&&c<=g)}function Qy(e,i,s){var a=i.x,c=i.y,h=s.x-a,g=s.y-c;if(h!==0||g!==0){var y=((e.x-a)*h+(e.y-c)*g)/(h*h+g*g);y>1?(a=s.x,c=s.y):y>0&&(a+=h*y,c+=g*y)}return(h=e.x-a)*h+(g=e.y-c)*g}function yo(e,i,s,a,c){for(var h,g=a,y=i+1;y<s;y++){var w=Qy(e[y],e[i],e[s]);w>g&&(h=y,g=w)}g>a&&(h-i>1&&yo(e,i,h,a,c),c.push(e[h]),s-h>1&&yo(e,h,s,a,c))}function Au(e,i){var s=e.length-1,a=[e[0]];return yo(e,0,s,i,a),a.push(e[s]),a}function jh(e,i,s){if(e.length<=2)return e;var a=i!==void 0?i*i:1;return e=Au(e=s?e:function(c,h){for(var g,y,w,x,T,E=c[0],P=[E],z=1,N=c.length;z<N;z++)g=c[z],w=E,x=void 0,T=void 0,x=(y=g).x-w.x,T=y.y-w.y,x*x+T*T>h&&(P.push(g),E=g);return E!==g&&P.push(g),P}(e,a),a)}function Em(e,i,s){return jh(e.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),i,s).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function Hh(e,i,s){return e.map(function(a){var c=a.map(function(g){return{x:g[0],y:g[1]}});if(c.length<4)throw new Error("invalid polygon");for(var h=jh(c,i,s).map(function(g){return[g.x,g.y]});!$y(h);)h=jh(c,i-=.01*i,s).map(function(g){return[g.x,g.y]});return h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),h})}function $y(e){return!(e.length<3)&&!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var Tm=function(){function e(i){this.points=i.points||[],this.duration=i.duration||1e4,this.sharpness=i.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=i.stepLength||60,this.length=this.points.length,this.delay=0;for(var s=0;s<this.length;s++)this.points[s].z=this.points[s].z||0;for(s=0;s<this.length-1;s++){var a=this.points[s],c=this.points[s+1];this.centers.push({x:(a.x+c.x)/2,y:(a.y+c.y)/2,z:(a.z+c.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),s=0;s<this.centers.length-1;s++){var h=this.points[s+1].x-(this.centers[s].x+this.centers[s+1].x)/2,g=this.points[s+1].y-(this.centers[s].y+this.centers[s+1].y)/2,y=this.points[s+1].z-(this.centers[s].y+this.centers[s+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s].z+y)},{x:(1-this.sharpness)*this.points[s+1].x+this.sharpness*(this.centers[s+1].x+h),y:(1-this.sharpness)*this.points[s+1].y+this.sharpness*(this.centers[s+1].y+g),z:(1-this.sharpness)*this.points[s+1].z+this.sharpness*(this.centers[s+1].z+y)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return e.prototype.cacheSteps=function(i){var s=[],a=this.pos(0);s.push(0);for(var c=0;c<this.duration;c+=10){var h=this.pos(c);Math.sqrt((h.x-a.x)*(h.x-a.x)+(h.y-a.y)*(h.y-a.y)+(h.z-a.z)*(h.z-a.z))>i&&(s.push(c),a=h)}return s},e.prototype.vector=function(i){var s=this.pos(i+10),a=this.pos(i-10);return{angle:180*Math.atan2(s.y-a.y,s.x-a.x)/3.14,speed:Math.sqrt((a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)+(a.z-s.z)*(a.z-s.z))}},e.prototype.pos=function(i){var s=i-this.delay;s<0&&(s=0),s>this.duration&&(s=this.duration-1);var a=s/this.duration;if(a>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*a);return function(h,g,y,w,x){var T=function(E){var P=E*E;return[P*E,3*P*(1-E),3*E*(1-E)*(1-E),(1-E)*(1-E)*(1-E)]}(h);return{x:x.x*T[0]+w.x*T[1]+y.x*T[2]+g.x*T[3],y:x.y*T[0]+w.y*T[1]+y.y*T[2]+g.y*T[3],z:x.z*T[0]+w.z*T[1]+y.z*T[2]+g.z*T[3]}}((this.length-1)*a-c,this.points[c],this.controls[c][1],this.controls[c+1][0],this.points[c+1])},e}();function Sm(e,i){i===void 0&&(i={});for(var s=i.resolution||1e4,a=i.sharpness||.85,c=[],h=_t(e).coordinates.map(function(x){return{x:x[0],y:x[1]}}),g=new Tm({duration:s,points:h,sharpness:a}),y=function(x){var T=g.pos(x);Math.floor(x/100)%2==0&&c.push([T.x,T.y])},w=0;w<g.duration;w+=10)y(w);return y(g.duration),k(c,i.properties)}function Hp(e,i){i===void 0&&(i={});var s=Number(e[0]),a=Number(e[1]),c=Number(e[2]),h=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var g=[s,a];return v([[g,[c,a],[c,h],[s,h],g]],i.properties,{bbox:e,id:i.id})}function Uh(e){return Hp(vt(e))}function Cm(e){var i=e[0],s=e[1],a=e[2],c=e[3];if(or(e.slice(0,2),[a,s])>=or(e.slice(0,2),[i,c])){var h=(s+c)/2;return[i,h-(a-i)/2,a,h+(a-i)/2]}var g=(i+a)/2;return[g-(c-s)/2,s,g+(c-s)/2,c]}function $i(e,i,s,a){a===void 0&&(a={});var c=O(e),h=ct(c[0]),g=ct(c[1]),y=ct(s),w=q(i,a.units),x=Math.asin(Math.sin(g)*Math.cos(w)+Math.cos(g)*Math.sin(w)*Math.cos(y));return p([ut(h+Math.atan2(Math.sin(y)*Math.sin(w)*Math.cos(g),Math.cos(w)-Math.sin(g)*Math.sin(x))),ut(x)],a.properties)}function Up(e,i,s){s===void 0&&(s={});for(var a=s.steps||64,c=s.properties?s.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},h=[],g=0;g<a;g++)h.push($i(e,i,-360*g/a,s).geometry.coordinates);return h.push(h[0]),v([h],c)}function Ts(e,i,s){if(s===void 0&&(s={}),s.final===!0)return function(E,P){var z=Ts(P,E);return z=(z+180)%360}(e,i);var a=O(e),c=O(i),h=ct(a[0]),g=ct(c[0]),y=ct(a[1]),w=ct(c[1]),x=Math.sin(g-h)*Math.cos(w),T=Math.cos(y)*Math.sin(w)-Math.sin(y)*Math.cos(w)*Math.cos(g-h);return ut(Math.atan2(x,T))}function rs(e,i){i===void 0&&(i={});var s=vt(e);return p([(s[0]+s[2])/2,(s[1]+s[3])/2],i.properties,i)}function ia(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return Gt(e,function(h){s+=h[0],a+=h[1],c++},!0),p([s/c,a/c],i.properties)}function Ou(e){var i=[];return e.type==="FeatureCollection"?wt(e,function(s){Gt(s,function(a){i.push(p(a,s.properties))})}):Gt(e,function(s){i.push(p(s,e.properties))}),M(i)}var Gh=zu,tb=zu;function zu(e,i,s){s=s||2;var a,c,h,g,y,w,x,T=i&&i.length,E=T?i[0]*s:e.length,P=Gp(e,0,E,s,!0),z=[];if(!P)return z;if(T&&(P=function(B,I,Y,it){var D,Z,K,tt=[];for(D=0,Z=I.length;D<Z;D++)(K=Gp(B,I[D]*it,D<Z-1?I[D+1]*it:B.length,it,!1))===K.next&&(K.steiner=!0),tt.push(Fu(K));for(tt.sort(qh),D=0;D<tt.length;D++)Sl(tt[D],Y),Y=Nu(Y,Y.next);return Y}(e,i,P,s)),e.length>80*s){a=h=e[0],c=g=e[1];for(var N=s;N<E;N+=s)(y=e[N])<a&&(a=y),(w=e[N+1])<c&&(c=w),y>h&&(h=y),w>g&&(g=w);x=(x=Math.max(h-a,g-c))!==0?1/x:0}return Du(P,z,s,a,c,x),z}function Gp(e,i,s,a,c){var h,g;if(c===bo(e,i,s,a)>0)for(h=i;h<s;h+=a)g=Rm(h,e[h],e[h+1],g);else for(h=s-a;h>=i;h-=a)g=Rm(h,e[h],e[h+1],g);return g&&Cl(g,g.next)&&(Ec(g),g=g.next),g}function Nu(e,i){if(!e)return e;i||(i=e);var s,a=e;do if(s=!1,a.steiner||!Cl(a,a.next)&&un(a.prev,a,a.next)!==0)a=a.next;else{if(Ec(a),(a=i=a.prev)===a.next)break;s=!0}while(s||a!==i);return i}function Du(e,i,s,a,c,h,g){if(e){!g&&h&&function(T,E,P,z){var N=T;do N.z===null&&(N.z=Vp(N.x,N.y,E,P,z)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==T);N.prevZ.nextZ=null,N.prevZ=null,function(B){var I,Y,it,D,Z,K,tt,Q,Rt=1;do{for(Y=B,B=null,Z=null,K=0;Y;){for(K++,it=Y,tt=0,I=0;I<Rt&&(tt++,it=it.nextZ);I++);for(Q=Rt;tt>0||Q>0&&it;)tt!==0&&(Q===0||!it||Y.z<=it.z)?(D=Y,Y=Y.nextZ,tt--):(D=it,it=it.nextZ,Q--),Z?Z.nextZ=D:B=D,D.prevZ=Z,Z=D;Y=it}Z.nextZ=null,Rt*=2}while(K>1)}(N)}(e,a,c,h);for(var y,w,x=e;e.prev!==e.next;)if(y=e.prev,w=e.next,h?eb(e,a,c,h):qp(e))i.push(y.i/s),i.push(e.i/s),i.push(w.i/s),Ec(e),e=w.next,x=w.next;else if((e=w)===x){g?g===1?Du(e=Pm(e,i,s),i,s,a,c,h,2):g===2&&Mm(e,i,s,a,c,h):Du(Nu(e),i,s,a,c,h,1);break}}}function qp(e){var i=e.prev,s=e,a=e.next;if(un(i,s,a)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(kn(i.x,i.y,s.x,s.y,a.x,a.y,c.x,c.y)&&un(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function eb(e,i,s,a){var c=e.prev,h=e,g=e.next;if(un(c,h,g)>=0)return!1;for(var y=c.x<h.x?c.x<g.x?c.x:g.x:h.x<g.x?h.x:g.x,w=c.y<h.y?c.y<g.y?c.y:g.y:h.y<g.y?h.y:g.y,x=c.x>h.x?c.x>g.x?c.x:g.x:h.x>g.x?h.x:g.x,T=c.y>h.y?c.y>g.y?c.y:g.y:h.y>g.y?h.y:g.y,E=Vp(y,w,i,s,a),P=Vp(x,T,i,s,a),z=e.prevZ,N=e.nextZ;z&&z.z>=E&&N&&N.z<=P;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0||(z=z.prevZ,N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;z&&z.z>=E;){if(z!==e.prev&&z!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,z.x,z.y)&&un(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;N&&N.z<=P;){if(N!==e.prev&&N!==e.next&&kn(c.x,c.y,h.x,h.y,g.x,g.y,N.x,N.y)&&un(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function Pm(e,i,s){var a=e;do{var c=a.prev,h=a.next.next;!Cl(c,h)&&Vh(c,a,a.next,h)&&Pl(c,h)&&Pl(h,c)&&(i.push(c.i/s),i.push(a.i/s),i.push(h.i/s),Ec(a),Ec(a.next),a=e=h),a=a.next}while(a!==e);return a}function Mm(e,i,s,a,c,h){var g=e;do{for(var y=g.next.next;y!==g.prev;){if(g.i!==y.i&&Im(g,y)){var w=Lm(g,y);return g=Nu(g,g.next),w=Nu(w,w.next),Du(g,i,s,a,c,h),void Du(w,i,s,a,c,h)}y=y.next}g=g.next}while(g!==e)}function qh(e,i){return e.x-i.x}function Sl(e,i){if(i=function(a,c){var h,g=c,y=a.x,w=a.y,x=-1/0;do{if(w<=g.y&&w>=g.next.y&&g.next.y!==g.y){var T=g.x+(w-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(T<=y&&T>x){if(x=T,T===y){if(w===g.y)return g;if(w===g.next.y)return g.next}h=g.x<g.next.x?g:g.next}}g=g.next}while(g!==c);if(!h)return null;if(y===x)return h.prev;var E,P=h,z=h.x,N=h.y,B=1/0;for(g=h.next;g!==P;)y>=g.x&&g.x>=z&&y!==g.x&&kn(w<N?y:x,w,z,N,w<N?x:y,w,g.x,g.y)&&((E=Math.abs(w-g.y)/(y-g.x))<B||E===B&&g.x>h.x)&&Pl(g,a)&&(h=g,B=E),g=g.next;return h}(e,i)){var s=Lm(i,e);Nu(s,s.next)}}function Vp(e,i,s,a,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-a)*c)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function Fu(e){var i=e,s=e;do i.x<s.x&&(s=i),i=i.next;while(i!==e);return s}function kn(e,i,s,a,c,h,g,y){return(c-g)*(i-y)-(e-g)*(h-y)>=0&&(e-g)*(a-y)-(s-g)*(i-y)>=0&&(s-g)*(h-y)-(c-g)*(a-y)>=0}function Im(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!function(s,a){var c=s;do{if(c.i!==s.i&&c.next.i!==s.i&&c.i!==a.i&&c.next.i!==a.i&&Vh(c,c.next,s,a))return!0;c=c.next}while(c!==s);return!1}(e,i)&&Pl(e,i)&&Pl(i,e)&&function(s,a){var c=s,h=!1,g=(s.x+a.x)/2,y=(s.y+a.y)/2;do c.y>y!=c.next.y>y&&c.next.y!==c.y&&g<(c.next.x-c.x)*(y-c.y)/(c.next.y-c.y)+c.x&&(h=!h),c=c.next;while(c!==s);return h}(e,i)}function un(e,i,s){return(i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y)}function Cl(e,i){return e.x===i.x&&e.y===i.y}function Vh(e,i,s,a){return!!(Cl(e,i)&&Cl(s,a)||Cl(e,a)&&Cl(s,i))||un(e,i,s)>0!=un(e,i,a)>0&&un(s,a,e)>0!=un(s,a,i)>0}function Pl(e,i){return un(e.prev,e,e.next)<0?un(e,i,e.next)>=0&&un(e,e.prev,i)>=0:un(e,i,e.prev)<0||un(e,e.next,i)<0}function Lm(e,i){var s=new Wp(e.i,e.x,e.y),a=new Wp(i.i,i.x,i.y),c=e.next,h=i.prev;return e.next=i,i.prev=e,s.next=c,c.prev=s,a.next=s,s.prev=a,h.next=a,a.prev=h,a}function Rm(e,i,s,a){var c=new Wp(e,i,s);return a?(c.next=a.next,c.prev=a,a.next.prev=c,a.next=c):(c.prev=c,c.next=c),c}function Ec(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Wp(e,i,s){this.i=e,this.x=i,this.y=s,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bo(e,i,s,a){for(var c=0,h=i,g=s-a;h<s;h+=a)c+=(e[g]-e[h])*(e[h+1]+e[g+1]),g=h;return c}function Ml(e){var i=function(y){for(var w=y[0][0].length,x={vertices:[],holes:[],dimensions:w},T=0,E=0;E<y.length;E++){for(var P=0;P<y[E].length;P++)for(var z=0;z<w;z++)x.vertices.push(y[E][P][z]);E>0&&(T+=y[E-1].length,x.holes.push(T))}return x}(e),s=Gh(i.vertices,i.holes,2),a=[],c=[];s.forEach(function(y,w){var x=s[w];c.push([i.vertices[2*x],i.vertices[2*x+1]])});for(var h=0;h<c.length;h+=3){var g=c.slice(h,h+3);g.push(c[h]),a.push(v([g]))}return a}function Wh(e,i){if(!e)throw new Error("targetPoint is required");if(!i)throw new Error("points is required");var s,a=1/0,c=0;return wt(i,function(h,g){var y=or(e,h);y<a&&(c=g,a=y)}),(s=Pi(i.features[c])).properties.featureIndex=c,s.properties.distanceToPoint=a,s}function Vn(e){if(!e)throw new Error("geojson is required");var i=[];return se(e,function(s){(function(a,c){var h=[],g=a.geometry;if(g!==null){switch(g.type){case"Polygon":h=X(g);break;case"LineString":h=[X(g)]}h.forEach(function(y){(function(w,x){var T=[];return w.reduce(function(E,P){var z=k([E,P],x);return z.bbox=function(N,B){var I=N[0],Y=N[1],it=B[0],D=B[1];return[I<it?I:it,Y<D?Y:D,I>it?I:it,Y>D?Y:D]}(E,P),T.push(z),P}),T})(y,a.properties).forEach(function(w){w.id=c.length,c.push(w)})})}})(s,i)}),M(i)}zu.deviation=function(e,i,s,a){var c=i&&i.length,h=c?i[0]*s:e.length,g=Math.abs(bo(e,0,h,s));if(c)for(var y=0,w=i.length;y<w;y++){var x=i[y]*s,T=y<w-1?i[y+1]*s:e.length;g-=Math.abs(bo(e,x,T,s))}var E=0;for(y=0;y<a.length;y+=3){var P=a[y]*s,z=a[y+1]*s,N=a[y+2]*s;E+=Math.abs((e[P]-e[N])*(e[z+1]-e[P+1])-(e[P]-e[z])*(e[N+1]-e[P+1]))}return g===0&&E===0?0:Math.abs((E-g)/g)},zu.flatten=function(e){for(var i=e[0][0].length,s={vertices:[],holes:[],dimensions:i},a=0,c=0;c<e.length;c++){for(var h=0;h<e[c].length;h++)for(var g=0;g<i;g++)s.vertices.push(e[c][h][g]);c>0&&(a+=e[c-1].length,s.holes.push(a))}return s},Gh.default=tb;var hn=ts(function(e,i){function s(N,B,I){I===void 0&&(I={});var Y={type:"Feature"};return(I.id===0||I.id)&&(Y.id=I.id),I.bbox&&(Y.bbox=I.bbox),Y.properties=B||{},Y.geometry=N,Y}function a(N,B,I){if(I===void 0&&(I={}),!N)throw new Error("coordinates is required");if(!Array.isArray(N))throw new Error("coordinates must be an Array");if(N.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!z(N[0])||!z(N[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:N},B,I)}function c(N,B,I){I===void 0&&(I={});for(var Y=0,it=N;Y<it.length;Y++){var D=it[Y];if(D.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Z=0;Z<D[D.length-1].length;Z++)if(D[D.length-1][Z]!==D[0][Z])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:N},B,I)}function h(N,B,I){if(I===void 0&&(I={}),N.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:N},B,I)}function g(N,B){B===void 0&&(B={});var I={type:"FeatureCollection"};return B.id&&(I.id=B.id),B.bbox&&(I.bbox=B.bbox),I.features=N,I}function y(N,B,I){return I===void 0&&(I={}),s({type:"MultiLineString",coordinates:N},B,I)}function w(N,B,I){return I===void 0&&(I={}),s({type:"MultiPoint",coordinates:N},B,I)}function x(N,B,I){return I===void 0&&(I={}),s({type:"MultiPolygon",coordinates:N},B,I)}function T(N,B){B===void 0&&(B="kilometers");var I=i.factors[B];if(!I)throw new Error(B+" units is invalid");return N*I}function E(N,B){B===void 0&&(B="kilometers");var I=i.factors[B];if(!I)throw new Error(B+" units is invalid");return N/I}function P(N){return 180*(N%(2*Math.PI))/Math.PI}function z(N){return!isNaN(N)&&N!==null&&!Array.isArray(N)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=s,i.geometry=function(N,B,I){switch(N){case"Point":return a(B).geometry;case"LineString":return h(B).geometry;case"Polygon":return c(B).geometry;case"MultiPoint":return w(B).geometry;case"MultiLineString":return y(B).geometry;case"MultiPolygon":return x(B).geometry;default:throw new Error(N+" is invalid")}},i.point=a,i.points=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(Y){return a(Y,B)}),I)},i.polygon=c,i.polygons=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(Y){return c(Y,B)}),I)},i.lineString=h,i.lineStrings=function(N,B,I){return I===void 0&&(I={}),g(N.map(function(Y){return h(Y,B)}),I)},i.featureCollection=g,i.multiLineString=y,i.multiPoint=w,i.multiPolygon=x,i.geometryCollection=function(N,B,I){return I===void 0&&(I={}),s({type:"GeometryCollection",geometries:N},B,I)},i.round=function(N,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var I=Math.pow(10,B||0);return Math.round(N*I)/I},i.radiansToLength=T,i.lengthToRadians=E,i.lengthToDegrees=function(N,B){return P(E(N,B))},i.bearingToAzimuth=function(N){var B=N%360;return B<0&&(B+=360),B},i.radiansToDegrees=P,i.degreesToRadians=function(N){return N%360*Math.PI/180},i.convertLength=function(N,B,I){if(B===void 0&&(B="kilometers"),I===void 0&&(I="kilometers"),!(N>=0))throw new Error("length must be a positive number");return T(E(N,B),I)},i.convertArea=function(N,B,I){if(B===void 0&&(B="meters"),I===void 0&&(I="kilometers"),!(N>=0))throw new Error("area must be a positive number");var Y=i.areaFactors[B];if(!Y)throw new Error("invalid original units");var it=i.areaFactors[I];if(!it)throw new Error("invalid final units");return N/Y*it},i.isNumber=z,i.isObject=function(N){return!!N&&N.constructor===Object},i.validateBBox=function(N){if(!N)throw new Error("bbox is required");if(!Array.isArray(N))throw new Error("bbox must be an Array");if(N.length!==4&&N.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");N.forEach(function(B){if(!z(B))throw new Error("bbox must only contain numbers")})},i.validateId=function(N){if(!N)throw new Error("id is required");if(["string","number"].indexOf(typeof N)===-1)throw new Error("id must be a number or a string")}});function Ss(e,i,s){if(e!==null)for(var a,c,h,g,y,w,x,T,E=0,P=0,z=e.type,N=z==="FeatureCollection",B=z==="Feature",I=N?e.features.length:1,Y=0;Y<I;Y++){y=(T=!!(x=N?e.features[Y].geometry:B?e.geometry:e)&&x.type==="GeometryCollection")?x.geometries.length:1;for(var it=0;it<y;it++){var D=0,Z=0;if((g=T?x.geometries[it]:x)!==null){w=g.coordinates;var K=g.type;switch(E=!s||K!=="Polygon"&&K!=="MultiPolygon"?0:1,K){case null:break;case"Point":if(i(w,P,Y,D,Z)===!1)return!1;P++,D++;break;case"LineString":case"MultiPoint":for(a=0;a<w.length;a++){if(i(w[a],P,Y,D,Z)===!1)return!1;P++,K==="MultiPoint"&&D++}K==="LineString"&&D++;break;case"Polygon":case"MultiLineString":for(a=0;a<w.length;a++){for(c=0;c<w[a].length-E;c++){if(i(w[a][c],P,Y,D,Z)===!1)return!1;P++}K==="MultiLineString"&&D++,K==="Polygon"&&Z++}K==="Polygon"&&D++;break;case"MultiPolygon":for(a=0;a<w.length;a++){for(Z=0,c=0;c<w[a].length;c++){for(h=0;h<w[a][c].length-E;h++){if(i(w[a][c][h],P,Y,D,Z)===!1)return!1;P++}Z++}D++}break;case"GeometryCollection":for(a=0;a<g.geometries.length;a++)if(Ss(g.geometries[a],i,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Am(e,i){var s;switch(e.type){case"FeatureCollection":for(s=0;s<e.features.length&&i(e.features[s].properties,s)!==!1;s++);break;case"Feature":i(e.properties,0)}}function Tc(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var s=0;s<e.features.length&&i(e.features[s],s)!==!1;s++);}function Zh(e,i){var s,a,c,h,g,y,w,x,T,E,P=0,z=e.type==="FeatureCollection",N=e.type==="Feature",B=z?e.features.length:1;for(s=0;s<B;s++){for(y=z?e.features[s].geometry:N?e.geometry:e,x=z?e.features[s].properties:N?e.properties:{},T=z?e.features[s].bbox:N?e.bbox:void 0,E=z?e.features[s].id:N?e.id:void 0,g=(w=!!y&&y.type==="GeometryCollection")?y.geometries.length:1,c=0;c<g;c++)if((h=w?y.geometries[c]:y)!==null)switch(h.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(i(h,P,x,T,E)===!1)return!1;break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)if(i(h.geometries[a],P,x,T,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(i(null,P,x,T,E)===!1)return!1;P++}}function Il(e,i){Zh(e,function(s,a,c,h,g){var y,w=s===null?null:s.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return i(hn.feature(s,c,{bbox:h,id:g}),a,0)!==!1&&void 0}switch(w){case"MultiPoint":y="Point";break;case"MultiLineString":y="LineString";break;case"MultiPolygon":y="Polygon"}for(var x=0;x<s.coordinates.length;x++){var T={type:y,coordinates:s.coordinates[x]};if(i(hn.feature(T,c),a,x)===!1)return!1}})}function Om(e,i){Il(e,function(s,a,c){var h=0;if(s.geometry){var g=s.geometry.type;if(g!=="Point"&&g!=="MultiPoint"){var y,w=0,x=0,T=0;return Ss(s,function(E,P,z,N,B){if(y===void 0||a>w||N>x||B>T)return y=E,w=a,x=N,T=B,void(h=0);var I=hn.lineString([y,E],s.properties);if(i(I,a,c,B,h)===!1)return!1;h++,y=E})!==!1&&void 0}}})}function na(e,i){if(!e)throw new Error("geojson is required");Il(e,function(s,a,c){if(s.geometry!==null){var h=s.geometry.type,g=s.geometry.coordinates;switch(h){case"LineString":if(i(s,a,c,0,0)===!1)return!1;break;case"Polygon":for(var y=0;y<g.length;y++)if(i(hn.lineString(g[y],s.properties),a,c,y)===!1)return!1}}})}var Yh=function(e){var i=[];return Ss(e,function(s){i.push(s)}),i},rb=Ss,Zp=function(e,i,s,a){var c=s;return Ss(e,function(h,g,y,w,x){c=g===0&&s===void 0?h:i(c,h,g,y,w,x)},a),c},ib=Tc,oa=function(e,i,s){var a=s;return Tc(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},nb=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.coordIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":return hn.point(w,y,i);case"MultiPoint":return c<0&&(c=w.length+c),hn.point(w[c],y,i);case"LineString":return g<0&&(g=w.length+g),hn.point(w[g],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g),hn.point(w[h][g],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g),hn.point(w[c][g],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g),hn.point(w[c][h][g],y,i)}throw new Error("geojson is invalid")},Sc=function(e,i){if(i=i||{},!hn.isObject(i))throw new Error("options is invalid");var s,a=i.featureIndex||0,c=i.multiFeatureIndex||0,h=i.geometryIndex||0,g=i.segmentIndex||0,y=i.properties;switch(e.type){case"FeatureCollection":a<0&&(a=e.features.length+a),y=y||e.features[a].properties,s=e.features[a].geometry;break;case"Feature":y=y||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var w=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=w.length+g-1),hn.lineString([w[g],w[g+1]],y,i);case"Polygon":return h<0&&(h=w.length+h),g<0&&(g=w[h].length+g-1),hn.lineString([w[h][g],w[h][g+1]],y,i);case"MultiLineString":return c<0&&(c=w.length+c),g<0&&(g=w[c].length+g-1),hn.lineString([w[c][g],w[c][g+1]],y,i);case"MultiPolygon":return c<0&&(c=w.length+c),h<0&&(h=w[c].length+h),g<0&&(g=w[c][h].length-g-1),hn.lineString([w[c][h][g],w[c][h][g+1]],y,i)}throw new Error("geojson is invalid")},ob=Il,sa=function(e,i,s){var a=s;return Il(e,function(c,h,g){a=h===0&&g===0&&s===void 0?c:i(a,c,h,g)}),a},Xh=Zh,zm=function(e,i,s){var a=s;return Zh(e,function(c,h,g,y,w){a=h===0&&s===void 0?c:i(a,c,h,g,y,w)}),a},Yp=na,Kh=function(e,i,s){var a=s;return na(e,function(c,h,g,y){a=h===0&&s===void 0?c:i(a,c,h,g,y)}),a},Xp=Am,Jh=function(e,i,s){var a=s;return Am(e,function(c,h){a=h===0&&s===void 0?c:i(a,c,h)}),a},Cc=Om,Qh=function(e,i,s){var a=s,c=!1;return Om(e,function(h,g,y,w,x){a=c===!1&&s===void 0?h:i(a,h,g,y,w,x),c=!0}),a},Bu=Object.defineProperty({coordAll:Yh,coordEach:rb,coordReduce:Zp,featureEach:ib,featureReduce:oa,findPoint:nb,findSegment:Sc,flattenEach:ob,flattenReduce:sa,geomEach:Xh,geomReduce:zm,lineEach:Yp,lineReduce:Kh,propEach:Xp,propReduce:Jh,segmentEach:Cc,segmentReduce:Qh},"__esModule",{value:!0});function $h(e){var i=[1/0,1/0,-1/0,-1/0];return Bu.coordEach(e,function(s){i[0]>s[0]&&(i[0]=s[0]),i[1]>s[1]&&(i[1]=s[1]),i[2]<s[0]&&(i[2]=s[0]),i[3]<s[1]&&(i[3]=s[1])}),i}$h.default=$h;var sb=$h,aa=Object.defineProperty({default:sb},"__esModule",{value:!0}).default,ab=Bu.featureEach,Kp=(Bu.coordEach,hn.polygon,hn.featureCollection);function Nm(e){var i=Ji(e);return i.insert=function(s){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:aa(s),Ji.prototype.insert.call(this,s)},i.load=function(s){var a=[];return Array.isArray(s)?s.forEach(function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:aa(c),a.push(c)}):ab(s,function(c){if(c.type!=="Feature")throw new Error("invalid features");c.bbox=c.bbox?c.bbox:aa(c),a.push(c)}),Ji.prototype.load.call(this,a)},i.remove=function(s,a){if(s.type!=="Feature")throw new Error("invalid feature");return s.bbox=s.bbox?s.bbox:aa(s),Ji.prototype.remove.call(this,s,a)},i.clear=function(){return Ji.prototype.clear.call(this)},i.search=function(s){var a=Ji.prototype.search.call(this,this.toBBox(s));return Kp(a)},i.collides=function(s){return Ji.prototype.collides.call(this,this.toBBox(s))},i.all=function(){var s=Ji.prototype.all.call(this);return Kp(s)},i.toJSON=function(){return Ji.prototype.toJSON.call(this)},i.fromJSON=function(s){return Ji.prototype.fromJSON.call(this,s)},i.toBBox=function(s){var a;if(s.bbox)a=s.bbox;else if(Array.isArray(s)&&s.length===4)a=s;else if(Array.isArray(s)&&s.length===6)a=[s[0],s[1],s[3],s[4]];else if(s.type==="Feature")a=aa(s);else{if(s.type!=="FeatureCollection")throw new Error("invalid geojson");a=aa(s)}return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}},i}var Pc=Nm,lb=Nm;function dn(e,i){var s={},a=[];if(e.type==="LineString"&&(e=u(e)),i.type==="LineString"&&(i=u(i)),e.type==="Feature"&&i.type==="Feature"&&e.geometry!==null&&i.geometry!==null&&e.geometry.type==="LineString"&&i.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&i.geometry.coordinates.length===2){var c=ju(e,i);return c&&a.push(c),M(a)}var h=Pc();return h.load(Vn(i)),wt(Vn(e),function(g){wt(h.search(g),function(y){var w=ju(g,y);if(w){var x=X(w).join(",");s[x]||(s[x]=!0,a.push(w))}})}),M(a)}function ju(e,i){var s=X(e),a=X(i);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(a.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var c=s[0][0],h=s[0][1],g=s[1][0],y=s[1][1],w=a[0][0],x=a[0][1],T=a[1][0],E=a[1][1],P=(E-x)*(g-c)-(T-w)*(y-h),z=(T-w)*(h-x)-(E-x)*(c-w),N=(g-c)*(h-x)-(y-h)*(c-w);if(P===0)return null;var B=z/P,I=N/P;return B>=0&&B<=1&&I>=0&&I<=1?p([c+B*(g-c),h+B*(y-h)]):null}function la(e,i,s){s===void 0&&(s={});var a=p([1/0,1/0],{dist:1/0}),c=0;return se(e,function(h){for(var g=X(h),y=0;y<g.length-1;y++){var w=p(g[y]);w.properties.dist=or(i,w,s);var x=p(g[y+1]);x.properties.dist=or(i,x,s);var T=or(w,x,s),E=Math.max(w.properties.dist,x.properties.dist),P=Ts(w,x),z=$i(i,E,P+90,s),N=$i(i,E,P-90,s),B=dn(k([z.geometry.coordinates,N.geometry.coordinates]),k([w.geometry.coordinates,x.geometry.coordinates])),I=null;B.features.length>0&&((I=B.features[0]).properties.dist=or(i,I,s),I.properties.location=c+or(w,I,s)),w.properties.dist<a.properties.dist&&((a=w).properties.index=y,a.properties.location=c),x.properties.dist<a.properties.dist&&((a=x).properties.index=y+1,a.properties.location=c+T),I&&I.properties.dist<a.properties.dist&&((a=I).properties.index=y),c+=T}}),a}function Ll(e,i,s){s===void 0&&(s={});var a=O(e),c=O(i);return c[0]+=c[0]-a[0]>180?-360:a[0]-c[0]>180?360:0,V(function(h,g,y){var w=y=y===void 0?r:Number(y),x=h[1]*Math.PI/180,T=g[1]*Math.PI/180,E=T-x,P=Math.abs(g[0]-h[0])*Math.PI/180;P>Math.PI&&(P-=2*Math.PI);var z=Math.log(Math.tan(T/2+Math.PI/4)/Math.tan(x/2+Math.PI/4)),N=Math.abs(z)>1e-11?E/z:Math.cos(x);return Math.sqrt(E*E+N*N*P*P)*w}(a,c),"meters",s.units)}function Dm(e,i,s){if(s===void 0&&(s={}),s.method||(s.method="geodesic"),s.units||(s.units="kilometers"),!e)throw new Error("pt is required");if(Array.isArray(e)?e=p(e):e.type==="Point"?e=u(e):xt(e,"Point","point"),!i)throw new Error("line is required");Array.isArray(i)?i=k(i):i.type==="LineString"?i=u(i):xt(i,"LineString","line");var a=1/0,c=e.geometry.coordinates;return er(i,function(h){var g=h.geometry.coordinates[0],y=h.geometry.coordinates[1],w=function(x,T,E,P){var z=[E[0]-T[0],E[1]-T[1]],N=Jp([x[0]-T[0],x[1]-T[1]],z);if(N<=0)return Qp(x,T,{method:P.method,units:"degrees"});var B=Jp(z,z);if(B<=N)return Qp(x,E,{method:P.method,units:"degrees"});var I=N/B,Y=[T[0]+I*z[0],T[1]+I*z[1]];return Qp(x,Y,{method:P.method,units:"degrees"})}(c,g,y,s);w<a&&(a=w)}),V(a,"degrees",s.units)}function Jp(e,i){return e[0]*i[0]+e[1]*i[1]}function Qp(e,i,s){return s.method==="planar"?Ll(e,i,s):or(e,i,s)}function Hu(e,i,s,a,c,h,g,y){var w,x,T,E,P={x:null,y:null,onLine1:!1,onLine2:!1};return(w=(y-h)*(s-e)-(g-c)*(a-i))===0?P.x!==null&&P.y!==null&&P:(E=(s-e)*(x=i-h)-(a-i)*(T=e-c),x=((g-c)*x-(y-h)*T)/w,T=E/w,P.x=e+x*(s-e),P.y=i+x*(a-i),x>=0&&x<=1&&(P.onLine1=!0),T>=0&&T<=1&&(P.onLine2=!0),!(!P.onLine1||!P.onLine2)&&[P.x,P.y])}function Fm(e){for(var i=function(P){return P.type!=="FeatureCollection"?P.type!=="Feature"?M([u(P)]):M([P]):P}(e),s=rs(i),a=!1,c=0;!a&&c<i.features.length;){var h,g=i.features[c].geometry,y=!1;if(g.type==="Point")s.geometry.coordinates[0]===g.coordinates[0]&&s.geometry.coordinates[1]===g.coordinates[1]&&(a=!0);else if(g.type==="MultiPoint"){var w=!1;for(h=0;!w&&h<g.coordinates.length;)s.geometry.coordinates[0]===g.coordinates[h][0]&&s.geometry.coordinates[1]===g.coordinates[h][1]&&(a=!0,w=!0),h++}else if(g.type==="LineString")for(h=0;!y&&h<g.coordinates.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],g.coordinates[h][0],g.coordinates[h][1],g.coordinates[h+1][0],g.coordinates[h+1][1])&&(y=!0,a=!0),h++;else if(g.type==="MultiLineString")for(var x=0;x<g.coordinates.length;){y=!1,h=0;for(var T=g.coordinates[x];!y&&h<T.length-1;)Rl(s.geometry.coordinates[0],s.geometry.coordinates[1],T[h][0],T[h][1],T[h+1][0],T[h+1][1])&&(y=!0,a=!0),h++;x++}else g.type!=="Polygon"&&g.type!=="MultiPolygon"||$e(s,g)&&(a=!0);c++}if(a)return s;var E=M([]);for(c=0;c<i.features.length;c++)E.features=E.features.concat(Ou(i.features[c]).features);return p(Wh(s,E).geometry.coordinates)}function Rl(e,i,s,a,c,h){return Math.sqrt((c-s)*(c-s)+(h-a)*(h-a))===Math.sqrt((e-s)*(e-s)+(i-a)*(i-a))+Math.sqrt((c-e)*(c-e)+(h-i)*(h-i))}Pc.default=lb;var $p=6378137;function td(e){return me(e,function(i,s){return i+function(a){var c,h=0;switch(a.type){case"Polygon":return Bm(a.coordinates);case"MultiPolygon":for(c=0;c<a.coordinates.length;c++)h+=Bm(a.coordinates[c]);return h;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(s)},0)}function Bm(e){var i=0;if(e&&e.length>0){i+=Math.abs(Cs(e[0]));for(var s=1;s<e.length;s++)i-=Math.abs(Cs(e[s]))}return i}function Cs(e){var i,s,a,c,h,g,y=0,w=e.length;if(w>2){for(g=0;g<w;g++)g===w-2?(a=w-2,c=w-1,h=0):g===w-1?(a=w-1,c=0,h=1):(a=g,c=g+1,h=g+2),i=e[a],s=e[c],y+=(ed(e[h][0])-ed(i[0]))*Math.sin(ed(s[1]));y=y*$p*$p/2}return y}function ed(e){return e*Math.PI/180}function rd(e,i){return i===void 0&&(i={}),Ft(e,function(s,a){var c=a.geometry.coordinates;return s+or(c[0],c[1],i)},0)}function Mc(e,i,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c,h=[];if(e.type==="Feature")c=e.geometry.coordinates;else{if(e.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");c=e.coordinates}for(var g,y,w,x=c.length,T=0,E=0;E<c.length&&!(i>=T&&E===c.length-1);E++){if(T>i&&h.length===0){if(!(g=i-T))return h.push(c[E]),k(h);y=Ts(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates)}if(T>=s)return(g=s-T)?(y=Ts(c[E],c[E-1])-180,w=$i(c[E],g,y,a),h.push(w.geometry.coordinates),k(h)):(h.push(c[E]),k(h));if(T>=i&&h.push(c[E]),E===c.length-1)return k(h);T+=or(c[E],c[E+1],a)}if(T<i&&c.length===x)throw new Error("Start position is beyond line");var P=c[c.length-1];return k([P,P])}function ro(e,i,s){s===void 0&&(s={});for(var a=O(e),c=X(i),h=0;h<c.length-1;h++){var g=!1;if(s.ignoreEndVertices&&(h===0&&(g="start"),h===c.length-2&&(g="end"),h===0&&h+1===c.length-1&&(g="both")),id(c[h],c[h+1],a,g,s.epsilon===void 0?null:s.epsilon))return!0}return!1}function id(e,i,s,a,c){var h=s[0],g=s[1],y=e[0],w=e[1],x=i[0],T=i[1],E=x-y,P=T-w,z=(s[0]-y)*P-(s[1]-w)*E;if(c!==null){if(Math.abs(z)>c)return!1}else if(z!==0)return!1;return a?a==="start"?Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<=x:x<=h&&h<y:P>0?w<g&&g<=T:T<=g&&g<w:a==="end"?Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<x:x<h&&h<=y:P>0?w<=g&&g<T:T<g&&g<=w:a==="both"&&(Math.abs(E)>=Math.abs(P)?E>0?y<h&&h<x:x<h&&h<y:P>0?w<g&&g<T:T<g&&g<w):Math.abs(E)>=Math.abs(P)?E>0?y<=h&&h<=x:x<=h&&h<=y:P>0?w<=g&&g<=T:T<=g&&g<=w}function Ic(e,i){var s=_t(e),a=_t(i),c=s.type,h=a.type;switch(c){case"Point":switch(h){case"MultiPoint":return function(g,y){var w,x=!1;for(w=0;w<y.coordinates.length;w++)if(ef(y.coordinates[w],g.coordinates)){x=!0;break}return x}(s,a);case"LineString":return ro(s,a,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return $e(s,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"MultiPoint":return function(g,y){for(var w=0;w<g.coordinates.length;w++){for(var x=!1,T=0;T<y.coordinates.length;T++)ef(g.coordinates[w],y.coordinates[T])&&(x=!0);if(!x)return!1}return!0}(s,a);case"LineString":return function(g,y){for(var w=!1,x=0;x<g.coordinates.length;x++){if(!ro(g.coordinates[x],y))return!1;w||(w=ro(g.coordinates[x],y,{ignoreEndVertices:!0}))}return w}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){for(var w=!0,x=!1,T=0;T<g.coordinates.length;T++){if(!(x=$e(g.coordinates[1],y))){w=!1;break}x=$e(g.coordinates[1],y,{ignoreBoundary:!0})}return w&&x}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"LineString":return function(g,y){for(var w=0;w<g.coordinates.length;w++)if(!ro(g.coordinates[w],y))return!1;return!0}(s,a);case"Polygon":case"MultiPolygon":return function(g,y){var w=vt(y),x=vt(g);if(!tf(w,x))return!1;for(var T=!1,E=0;E<g.coordinates.length-1;E++){if(!$e(g.coordinates[E],y))return!1;T||(T=$e(g.coordinates[E],y,{ignoreBoundary:!0})),!T&&(T=$e(cb(g.coordinates[E],g.coordinates[E+1]),y,{ignoreBoundary:!0}))}return T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Polygon":case"MultiPolygon":return function(g,y){var w=vt(g);if(!tf(vt(y),w))return!1;for(var x=0;x<g.coordinates[0].length;x++)if(!$e(g.coordinates[0][x],y))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}}function tf(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function ef(e,i){return e[0]===i[0]&&e[1]===i[1]}function cb(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function rf(e,i,s){s===void 0&&(s={}),s.mask&&!s.units&&(s.units="kilometers");for(var a=[],c=e[0],h=e[1],g=e[2],y=e[3],w=i/or([c,h],[g,h],s)*(g-c),x=i/or([c,h],[c,y],s)*(y-h),T=g-c,E=y-h,P=Math.floor(T/w),z=(E-Math.floor(E/x)*x)/2,N=c+(T-P*w)/2;N<=g;){for(var B=h+z;B<=y;){var I=p([N,B],s.properties);s.mask?Ic(I,s.mask)&&a.push(I):a.push(I),B+=x}N+=w}return M(a)}function nf(e,i){i===void 0&&(i={});var s=i.precision,a=i.coordinates,c=i.mutate;if(s=s==null||isNaN(s)?6:s,a=a==null||isNaN(a)?3:a,!e)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof a!="number")throw new Error("<coordinates> must be a number");c!==!1&&c!==void 0||(e=JSON.parse(JSON.stringify(e)));var h=Math.pow(10,s);return Gt(e,function(g){(function(y,w,x){y.length>x&&y.splice(x,y.length);for(var T=0;T<y.length;T++)y[T]=Math.round(y[T]*w)/w})(g,h,a)}),e}function nd(e){if(!e)throw new Error("geojson is required");var i=[];return se(e,function(s){i.push(s)}),M(i)}function jm(e,i,s){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");s===void 0&&(s=1);var a=e.geometry.coordinates,c=[],h={};if(s){for(var g=[],y=0;y<a.length;y++)for(var w=0;w<a[y].length-1;w++)g.push(B(y,w));var x=Ji();x.load(g)}for(var T=0;T<a.length;T++)for(var E=0;E<a[T].length-1;E++)if(s)x.search(B(T,E)).forEach(function(I){var Y=I.ring,it=I.edge;N(T,E,Y,it)});else for(var P=0;P<a.length;P++)for(var z=0;z<a[P].length-1;z++)N(T,E,P,z);return i||(c={type:"Feature",geometry:{type:"MultiPoint",coordinates:c}}),c;function N(I,Y,it,D){var Z,K,tt=a[I][Y],Q=a[I][Y+1],Rt=a[it][D],Et=a[it][D+1],Nt=function(Mt,Pt,St,Dt){if(Lc(Mt,St)||Lc(Mt,Dt)||Lc(Pt,St)||Lc(Dt,St))return null;var It=Mt[0],Ut=Mt[1],gt=Pt[0],Re=Pt[1],oe=St[0],ir=St[1],we=Dt[0],Ue=Dt[1],gr=(It-gt)*(ir-Ue)-(Ut-Re)*(oe-we);return gr===0?null:[((It*Re-Ut*gt)*(oe-we)-(It-gt)*(oe*Ue-ir*we))/gr,((It*Re-Ut*gt)*(ir-Ue)-(Ut-Re)*(oe*Ue-ir*we))/gr]}(tt,Q,Rt,Et);if(Nt!==null&&(Z=Q[0]!==tt[0]?(Nt[0]-tt[0])/(Q[0]-tt[0]):(Nt[1]-tt[1])/(Q[1]-tt[1]),K=Et[0]!==Rt[0]?(Nt[0]-Rt[0])/(Et[0]-Rt[0]):(Nt[1]-Rt[1])/(Et[1]-Rt[1]),!(Z>=1||Z<=0||K>=1||K<=0))){var Tt=Nt,jt=!h[Tt];jt&&(h[Tt]=!0),i?c.push(i(Nt,I,Y,tt,Q,Z,it,D,Rt,Et,K,jt)):c.push(Nt)}}function B(I,Y){var it,D,Z,K,tt=a[I][Y],Q=a[I][Y+1];return tt[0]<Q[0]?(it=tt[0],D=Q[0]):(it=Q[0],D=tt[0]),tt[1]<Q[1]?(Z=tt[1],K=Q[1]):(Z=Q[1],K=tt[1]),{minX:it,minY:Z,maxX:D,maxY:K,ring:I,edge:Y}}}function Lc(e,i){if(!e||!i||e.length!==i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!Lc(e[s],i[s]))return!1}else if(e[s]!==i[s])return!1;return!0}function ub(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,s=[],a=0;a<i;a++){var c=e.geometry.coordinates[a];b(c[0],c[c.length-1])||c.push(c[0]),s.push.apply(s,c.slice(0,c.length-1))}if(!function(we){for(var Ue={},gr=1,ai=0,wn=we.length;ai<wn;++ai){if(Object.prototype.hasOwnProperty.call(Ue,we[ai])){gr=0;break}Ue[we[ai]]=1}return gr}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var h=s.length,g=jm(e,function(we,Ue,gr,ai,wn,A0,Kc,Vf,Wf,Bd,O0,jd){return[we,Ue,gr,ai,wn,A0,Kc,Vf,Wf,Bd,O0,jd]}),y=g.length;if(y==0){var w=[];for(a=0;a<i;a++)w.push(v([e.geometry.coordinates[a]],{parent:-1,winding:f(e.geometry.coordinates[a])}));var x=M(w);return Re(),oe(),x}var T=[],E=[];for(a=0;a<i;a++){T.push([]);for(var P=0;P<e.geometry.coordinates[a].length-1;P++)T[a].push([new of(e.geometry.coordinates[a][S(P+1,e.geometry.coordinates[a].length-1)],1,[a,P],[a,S(P+1,e.geometry.coordinates[a].length-1)],void 0)]),E.push(new sf(e.geometry.coordinates[a][P],[a,S(P-1,e.geometry.coordinates[a].length-1)],[a,P],void 0,void 0,!1,!0))}for(a=0;a<y;a++)T[g[a][1]][g[a][2]].push(new of(g[a][0],g[a][5],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0)),g[a][11]&&E.push(new sf(g[a][0],[g[a][1],g[a][2]],[g[a][6],g[a][7]],void 0,void 0,!0,!0));var z=E.length;for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)T[a][P].sort(function(we,Ue){return we.param<Ue.param?-1:1});var N=[];for(a=0;a<z;a++)N.push({minX:E[a].coord[0],minY:E[a].coord[1],maxX:E[a].coord[0],maxY:E[a].coord[1],index:a});var B=Ji();for(B.load(N),a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(var I=0;I<T[a][P].length;I++){it=I==T[a][P].length-1?T[a][S(P+1,e.geometry.coordinates[a].length-1)][0].coord:T[a][P][I+1].coord;var Y=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0];T[a][P][I].nxtIsectAlongEdgeIn=Y.index}for(a=0;a<T.length;a++)for(P=0;P<T[a].length;P++)for(I=0;I<T[a][P].length;I++){var it=T[a][P][I].coord,D=(Y=B.search({minX:it[0],minY:it[1],maxX:it[0],maxY:it[1]})[0]).index;D<h?E[D].nxtIsectAlongRingAndEdge2=T[a][P][I].nxtIsectAlongEdgeIn:b(E[D].ringAndEdge1,T[a][P][I].ringAndEdgeIn)?E[D].nxtIsectAlongRingAndEdge1=T[a][P][I].nxtIsectAlongEdgeIn:E[D].nxtIsectAlongRingAndEdge2=T[a][P][I].nxtIsectAlongEdgeIn}var Z=[];for(a=0,P=0;P<i;P++){var K=a;for(I=0;I<e.geometry.coordinates[P].length-1;I++)E[a].coord[0]<E[K].coord[0]&&(K=a),a++;var tt=E[K].nxtIsectAlongRingAndEdge2;for(I=0;I<E.length;I++)if(E[I].nxtIsectAlongRingAndEdge1==K||E[I].nxtIsectAlongRingAndEdge2==K){var Q=I;break}var Rt=od([E[Q].coord,E[K].coord,E[tt].coord],!0)?1:-1;Z.push({isect:K,parent:-1,winding:Rt})}for(Z.sort(function(we,Ue){return E[we.isect].coord>E[Ue.isect].coord?-1:1}),w=[];Z.length>0;){var Et=Z.pop(),Nt=Et.isect,Tt=Et.parent,jt=Et.winding,Mt=w.length,Pt=[E[Nt].coord],St=Nt;if(E[Nt].ringAndEdge1Walkable)var Dt=E[Nt].ringAndEdge1,It=E[Nt].nxtIsectAlongRingAndEdge1;else Dt=E[Nt].ringAndEdge2,It=E[Nt].nxtIsectAlongRingAndEdge2;for(;!b(E[Nt].coord,E[It].coord);){Pt.push(E[It].coord);var Ut=void 0;for(a=0;a<Z.length;a++)if(Z[a].isect==It){Ut=a;break}if(Ut!=null&&Z.splice(Ut,1),b(Dt,E[It].ringAndEdge1)){if(Dt=E[It].ringAndEdge2,E[It].ringAndEdge2Walkable=!1,E[It].ringAndEdge1Walkable){var gt={isect:It};od([E[St].coord,E[It].coord,E[E[It].nxtIsectAlongRingAndEdge2].coord],jt==1)?(gt.parent=Tt,gt.winding=-jt):(gt.parent=Mt,gt.winding=jt),Z.push(gt)}St=It,It=E[It].nxtIsectAlongRingAndEdge2}else Dt=E[It].ringAndEdge1,E[It].ringAndEdge1Walkable=!1,E[It].ringAndEdge2Walkable&&(gt={isect:It},od([E[St].coord,E[It].coord,E[E[It].nxtIsectAlongRingAndEdge1].coord],jt==1)?(gt.parent=Tt,gt.winding=-jt):(gt.parent=Mt,gt.winding=jt),Z.push(gt)),St=It,It=E[It].nxtIsectAlongRingAndEdge1}Pt.push(E[It].coord),w.push(v([Pt],{index:Mt,parent:Tt,winding:jt,netWinding:void 0}))}x=M(w);function Re(){for(var we=[],Ue=0;Ue<x.features.length;Ue++)x.features[Ue].properties.parent==-1&&we.push(Ue);if(we.length>1)for(Ue=0;Ue<we.length;Ue++){for(var gr=-1,ai=0;ai<x.features.length;ai++)we[Ue]!=ai&&$e(x.features[we[Ue]].geometry.coordinates[0][0],x.features[ai],{ignoreBoundary:!0})&&td(x.features[ai])<1/0&&(gr=ai);x.features[we[Ue]].properties.parent=gr}}function oe(){for(var we=0;we<x.features.length;we++)if(x.features[we].properties.parent==-1){var Ue=x.features[we].properties.winding;x.features[we].properties.netWinding=Ue,ir(we,Ue)}}function ir(we,Ue){for(var gr=0;gr<x.features.length;gr++)if(x.features[gr].properties.parent==we){var ai=Ue+x.features[gr].properties.winding;x.features[gr].properties.netWinding=ai,ir(gr,ai)}}return Re(),oe(),x}var of=function(e,i,s,a,c){this.coord=e,this.param=i,this.ringAndEdgeIn=s,this.ringAndEdgeOut=a,this.nxtIsectAlongEdgeIn=c},sf=function(e,i,s,a,c,h,g){this.coord=e,this.ringAndEdge1=i,this.ringAndEdge2=s,this.nxtIsectAlongRingAndEdge1=a,this.nxtIsectAlongRingAndEdge2=c,this.ringAndEdge1Walkable=h,this.ringAndEdge2Walkable=g};function od(e,i){if(i===void 0&&(i=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==i}function f(e){for(var i=0,s=0;s<e.length-1;s++)e[s][0]<e[i][0]&&(i=s);if(od([e[S(i-1,e.length-1)],e[i],e[S(i+1,e.length-1)]],!0))var a=1;else a=-1;return a}function b(e,i){if(!e||!i||e.length!=i.length)return!1;for(var s=0,a=e.length;s<a;s++)if(e[s]instanceof Array&&i[s]instanceof Array){if(!b(e[s],i[s]))return!1}else if(e[s]!=i[s])return!1;return!0}function S(e,i){return(e%i+i)%i}var R=Math.PI/180,G=180/Math.PI,rt=function(e,i){this.lon=e,this.lat=i,this.x=R*e,this.y=R*i};rt.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rt.prototype.antipode=function(){var e=-1*this.lat,i=this.lon<0?180+this.lon:-1*(180-this.lon);return new rt(i,e)};var yt=function(){this.coords=[],this.length=0};yt.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Lt=function(e){this.properties=e||{},this.geometries=[]};Lt.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],i=0;i<this.geometries.length;i++)e.push(this.geometries[i].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Lt.prototype.wkt=function(){for(var e="",i="LINESTRING(",s=function(c){i+=c[0]+" "+c[1]+","},a=0;a<this.geometries.length;a++){if(this.geometries[a].coords.length===0)return"LINESTRING(empty)";this.geometries[a].coords.forEach(s),e+=i.substring(0,i.length-1)+")"}return e};var Ht=function(e,i,s){if(!e||e.x===void 0||e.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!i||i.x===void 0||i.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rt(e.x,e.y),this.end=new rt(i.x,i.y),this.properties=s||{};var a=this.start.x-this.end.x,c=this.start.y-this.end.y,h=Math.pow(Math.sin(c/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(a/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+i.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+i)};function $t(e,i){var s=[],a=Pc();return se(i,function(c){if(s.forEach(function(y,w){y.id=w}),s.length){var h=a.search(c);if(h.features.length){var g=Ke(c,h);s=s.filter(function(y){return y.id!==g.id}),a.remove(g),wt(xe(g,c),function(y){s.push(y),a.insert(y)})}}else(s=xe(e,c).features).forEach(function(y){y.bbox||(y.bbox=Cm(vt(y)))}),a.load(M(s))}),M(s)}function xe(e,i){var s=[],a=X(e)[0],c=X(e)[e.geometry.coordinates.length-1];if(fr(a,O(i))||fr(c,O(i)))return M([e]);var h=Pc(),g=Vn(e);h.load(g);var y=h.search(i);if(!y.features.length)return M([e]);var w=Ke(i,y),x=Ot(g,function(T,E,P){var z=X(E)[1],N=O(i);return P===w.id?(T.push(N),s.push(k(T)),fr(N,z)?[N]:[N,z]):(T.push(z),T)},[a]);return x.length>1&&s.push(k(x)),M(s)}function Ke(e,i){if(!i.features.length)throw new Error("lines must contain features");if(i.features.length===1)return i.features[0];var s,a=1/0;return wt(i,function(c){var h=la(c,e).properties.dist;h<a&&(s=c,a=h)}),s}function fr(e,i){return e[0]===i[0]&&e[1]===i[1]}function Rn(e,i,s,a,c){c===void 0&&(c={});var h=c.steps||64,g=tn(s),y=tn(a),w=Array.isArray(e)||e.type!=="Feature"?{}:e.properties;if(g===y)return k(Up(e,i,c).geometry.coordinates[0],w);for(var x=g,T=g<y?y:y+360,E=x,P=[],z=0;E<T;)P.push($i(e,i,E,c).geometry.coordinates),E=x+360*++z/h;return E>T&&P.push($i(e,i,T,c).geometry.coordinates),k(P,w)}function tn(e){var i=e%360;return i<0&&(i+=360),i}function An(e,i){i===void 0&&(i={});var s=_t(e);switch(i.properties||e.type!=="Feature"||(i.properties=e.properties),s.type){case"Polygon":return Wn(s,i);case"MultiPolygon":return function(a,c){c===void 0&&(c={});var h=_t(a).coordinates,g=c.properties?c.properties:a.type==="Feature"?a.properties:{},y=[];return h.forEach(function(w){y.push(Al(w,g))}),M(y)}(s,i);default:throw new Error("invalid poly")}}function Wn(e,i){return i===void 0&&(i={}),Al(_t(e).coordinates,i.properties?i.properties:e.type==="Feature"?e.properties:{})}function Al(e,i){return e.length>1?A(e,i):k(e[0],i)}function Hm(e,i){var s,a,c;i===void 0&&(i={});var h=i.properties,g=(s=i.autoComplete)===null||s===void 0||s,y=(a=i.orderCoords)===null||a===void 0||a;switch((c=i.mutate)!==null&&c!==void 0&&c||(e=Pi(e)),e.type){case"FeatureCollection":var w=[];return e.features.forEach(function(x){w.push(X(Um(x,{},g,y)))}),U(w,h);default:return Um(e,h,g,y)}}function Um(e,i,s,a){i=i||(e.type==="Feature"?e.properties:{});var c=_t(e),h=c.coordinates,g=c.type;if(!h.length)throw new Error("line must contain coordinates");switch(g){case"LineString":return s&&(h=Gm(h)),v([h],i);case"MultiLineString":var y=[],w=0;return h.forEach(function(x){if(s&&(x=Gm(x)),a){var T=function(E){var P=E[0],z=E[1],N=E[2],B=E[3];return Math.abs(P-N)*Math.abs(z-B)}(vt(k(x)));T>w?(y.unshift(x),w=T):y.push(x)}else y.push(x)}),v(y,i);default:throw new Error("geometry type "+g+" is not supported")}}function Gm(e){var i=e[0],s=i[0],a=i[1],c=e[e.length-1],h=c[0],g=c[1];return s===h&&a===g||e.push(i),e}function qm(e,i){var s,a,c,h,g,y,w;for(a=1;a<=8;a*=2){for(s=[],h=!(Ol(c=e[e.length-1],i)&a),g=0;g<e.length;g++)(w=!(Ol(y=e[g],i)&a))!==h&&s.push(af(c,y,a,i)),w&&s.push(y),c=y,h=w;if(!(e=s).length)break}return s}function af(e,i,s,a){return 8&s?[e[0]+(i[0]-e[0])*(a[3]-e[1])/(i[1]-e[1]),a[3]]:4&s?[e[0]+(i[0]-e[0])*(a[1]-e[1])/(i[1]-e[1]),a[1]]:2&s?[a[2],e[1]+(i[1]-e[1])*(a[2]-e[0])/(i[0]-e[0])]:1&s?[a[0],e[1]+(i[1]-e[1])*(a[0]-e[0])/(i[0]-e[0])]:null}function Ol(e,i){var s=0;return e[0]<i[0]?s|=1:e[0]>i[2]&&(s|=2),e[1]<i[1]?s|=4:e[1]>i[3]&&(s|=8),s}function Hi(e,i){for(var s=[],a=0,c=e;a<c.length;a++){var h=qm(c[a],i);h.length>0&&(h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push(h[0]),h.length>=4&&s.push(h))}return s}Ht.prototype.interpolate=function(e){var i=Math.sin((1-e)*this.g)/Math.sin(this.g),s=Math.sin(e*this.g)/Math.sin(this.g),a=i*Math.cos(this.start.y)*Math.cos(this.start.x)+s*Math.cos(this.end.y)*Math.cos(this.end.x),c=i*Math.cos(this.start.y)*Math.sin(this.start.x)+s*Math.cos(this.end.y)*Math.sin(this.end.x),h=i*Math.sin(this.start.y)+s*Math.sin(this.end.y),g=G*Math.atan2(h,Math.sqrt(Math.pow(a,2)+Math.pow(c,2)));return[G*Math.atan2(c,a),g]},Ht.prototype.Arc=function(e,i){var s=[];if(!e||e<=2)s.push([this.start.lon,this.start.lat]),s.push([this.end.lon,this.end.lat]);else for(var a=1/(e-1),c=0;c<e;++c){var h=a*c,g=this.interpolate(h);s.push(g)}for(var y=!1,w=0,x=i&&i.offset?i.offset:10,T=180-x,E=-180+x,P=360-x,z=1;z<s.length;++z){var N=s[z-1][0],B=s[z][0],I=Math.abs(B-N);I>P&&(B>T&&N<E||N>T&&B<E)?y=!0:I>w&&(w=I)}var Y=[];if(y&&w<x){var it=[];Y.push(it);for(var D=0;D<s.length;++D){var Z=parseFloat(s[D][0]);if(D>0&&Math.abs(Z-s[D-1][0])>P){var K=parseFloat(s[D-1][0]),tt=parseFloat(s[D-1][1]),Q=parseFloat(s[D][0]),Rt=parseFloat(s[D][1]);if(K>-180&&K<E&&Q===180&&D+1<s.length&&s[D-1][0]>-180&&s[D-1][0]<E){it.push([-180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(K>T&&K<180&&Q===-180&&D+1<s.length&&s[D-1][0]>T&&s[D-1][0]<180){it.push([180,s[D][1]]),D++,it.push([s[D][0],s[D][1]]);continue}if(K<E&&Q>T){var Et=K;K=Q,Q=Et;var Nt=tt;tt=Rt,Rt=Nt}if(K>T&&Q<E&&(Q+=360),K<=180&&Q>=180&&K<Q){var Tt=(180-K)/(Q-K),jt=Tt*Rt+(1-Tt)*tt;it.push([s[D-1][0]>T?180:-180,jt]),(it=[]).push([s[D-1][0]>T?-180:180,jt]),Y.push(it)}else it=[],Y.push(it);it.push([Z,s[D][1]])}else it.push([s[D][0],s[D][1]])}}else{var Mt=[];Y.push(Mt);for(var Pt=0;Pt<s.length;++Pt)Mt.push([s[Pt][0],s[Pt][1]])}for(var St=new Lt(this.properties),Dt=0;Dt<Y.length;++Dt){var It=new yt;St.geometries.push(It);for(var Ut=Y[Dt],gt=0;gt<Ut.length;++gt)It.move_to(Ut[gt])}return St};var Uu=ts(function(e,i){function s(a){var c=[];for(var h in a)c.push(h);return c}(e.exports=typeof Object.keys=="function"?Object.keys:s).shim=s}),Vm=ts(function(e,i){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function a(h){return Object.prototype.toString.call(h)=="[object Arguments]"}function c(h){return h&&typeof h=="object"&&typeof h.length=="number"&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(i=e.exports=s?a:c).supported=a,i.unsupported=c}),Rc=ts(function(e){var i=Array.prototype.slice,s=e.exports=function(h,g,y){return y||(y={}),h===g||(h instanceof Date&&g instanceof Date?h.getTime()===g.getTime():!h||!g||typeof h!="object"&&typeof g!="object"?y.strict?h===g:h==g:function(w,x,T){var E,P;if(a(w)||a(x)||w.prototype!==x.prototype)return!1;if(Vm(w))return!!Vm(x)&&(w=i.call(w),x=i.call(x),s(w,x,T));if(c(w)){if(!c(x)||w.length!==x.length)return!1;for(E=0;E<w.length;E++)if(w[E]!==x[E])return!1;return!0}try{var z=Uu(w),N=Uu(x)}catch{return!1}if(z.length!=N.length)return!1;for(z.sort(),N.sort(),E=z.length-1;E>=0;E--)if(z[E]!=N[E])return!1;for(E=z.length-1;E>=0;E--)if(P=z[E],!s(w[P],x[P],T))return!1;return typeof w==typeof x}(h,g,y))};function a(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number")&&typeof h.copy=="function"&&typeof h.slice=="function"&&!(h.length>0&&typeof h[0]!="number")}});function Wm(e,i,s){if(s===void 0&&(s={}),!mt(s=s||{}))throw new Error("options is invalid");var a,c=s.tolerance||0,h=[],g=Pc(),y=Vn(e);return g.load(y),er(i,function(w){var x=!1;w&&(wt(g.search(w),function(T){if(x===!1){var E=X(w).sort(),P=X(T).sort();Rc(E,P)||(c===0?ro(E[0],T)&&ro(E[1],T):la(T,E[0]).properties.dist<=c&&la(T,E[1]).properties.dist<=c)?(x=!0,a=a?sd(a,w):w):(c===0?ro(P[0],w)&&ro(P[1],w):la(w,P[0]).properties.dist<=c&&la(w,P[1]).properties.dist<=c)&&(a=a?sd(a,T):T)}}),x===!1&&a&&(h.push(a),a=void 0))}),a&&h.push(a),M(h)}function sd(e,i){var s=X(i),a=X(e),c=a[0],h=a[a.length-1],g=e.geometry.coordinates;return Rc(s[0],c)?g.unshift(s[1]):Rc(s[0],h)?g.push(s[1]):Rc(s[1],c)?g.unshift(s[0]):Rc(s[1],h)&&g.push(s[0]),e}function lf(e){var i=e%360;return i<0&&(i+=360),i}function zl(e,i,s){var a;return s===void 0&&(s={}),(a=s.final?o_(O(i),O(e)):o_(O(e),O(i)))>180?-(360-a):a}function o_(e,i){var s=ct(e[1]),a=ct(i[1]),c=ct(i[0]-e[0]);c>Math.PI&&(c-=2*Math.PI),c<-Math.PI&&(c+=2*Math.PI);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(s/2+Math.PI/4));return(ut(Math.atan2(c,h))+360)%360}function ad(e,i,s,a){a===void 0&&(a={});var c=i<0,h=V(Math.abs(i),a.units,"meters");c&&(h=-Math.abs(h));var g=O(e),y=function(w,x,T,E){E=E===void 0?r:Number(E);var P=x/E,z=w[0]*Math.PI/180,N=ct(w[1]),B=ct(T),I=P*Math.cos(B),Y=N+I;Math.abs(Y)>Math.PI/2&&(Y=Y>0?Math.PI-Y:-Math.PI-Y);var it=Math.log(Math.tan(Y/2+Math.PI/4)/Math.tan(N/2+Math.PI/4)),D=Math.abs(it)>1e-11?I/it:Math.cos(N),Z=P*Math.sin(B)/D;return[(180*(z+Z)/Math.PI+540)%360-180,180*Y/Math.PI]}(g,h,s);return y[0]+=y[0]-g[0]>180?-360:g[0]-y[0]>180?360:0,p(y,a.properties)}function s_(e,i,s,a,c,h){for(var g=0;g<e.length;g++){var y=e[g],w=e[g+1];g===e.length-1&&(w=e[0]),a=cf(y,w,i),s<=0&&a>0?cf(i,y,c)<0||(c=y):s>0&&a<=0&&(EM(i,y,h)||(h=y)),s=a}return[c,h]}function EM(e,i,s){return cf(e,i,s)>0}function cf(e,i,s){return(i[0]-e[0])*(s[1]-e[1])-(s[0]-e[0])*(i[1]-e[1])}function Zm(e){for(var i,s,a=X(e),c=0,h=1;h<a.length;)i=s||a[0],c+=((s=a[h])[0]-i[0])*(s[1]+i[1]),h++;return c>0}function Ym(e,i){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return ee(e,function(s){Ym(s,i)}),e;case"LineString":return a_(X(e),i),e;case"Polygon":return l_(X(e),i),e;case"MultiLineString":return X(e).forEach(function(s){a_(s,i)}),e;case"MultiPolygon":return X(e).forEach(function(s){l_(s,i)}),e;case"Point":case"MultiPoint":return e}}function a_(e,i){Zm(e)===i&&e.reverse()}function l_(e,i){Zm(e[0])!==i&&e[0].reverse();for(var s=1;s<e.length;s++)Zm(e[s])===i&&e[s].reverse()}function TM(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.zProperty||"elevation",a=i.flip,c=i.flags;zt(e,"Point","input must contain Points");for(var h=function(P,z){var N={};return wt(P,function(B){var I=X(B)[1];N[I]||(N[I]=[]),N[I].push(B)}),Object.keys(N).map(function(B){return N[B].sort(function(I,Y){return X(I)[0]-X(Y)[0]})}).sort(function(B,I){return z?X(B[0])[1]-X(I[0])[1]:X(I[0])[1]-X(B[0])[1]})}(e,a),g=[],y=0;y<h.length;y++){for(var w=h[y],x=[],T=0;T<w.length;T++){var E=w[T];E.properties[s]?x.push(E.properties[s]):x.push(0),c===!0&&(E.properties.matrixPosition=[y,T])}g.push(x)}return g}var c_={successCallback:null,verbose:!1,polygons:!1},Gu={};function SM(e,i,s,a){a=a||{};for(var c=Object.keys(c_),h=0;h<c.length;h++){var g=c[h],y=a[g];y=y??c_[g],Gu[g]=y}Gu.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+i+":"+(i+s)+"]");var w,x=function(T,E,P){for(var z=T.length-1,N=T[0].length-1,B={rows:z,cols:N,cells:[]},I=E+Math.abs(P),Y=0;Y<z;++Y){B.cells[Y]=[];for(var it=0;it<N;++it){var D=0,Z=T[Y+1][it],K=T[Y+1][it+1],tt=T[Y][it+1],Q=T[Y][it];if(!(isNaN(Z)||isNaN(K)||isNaN(tt)||isNaN(Q))){D|=Z<E?0:Z>I?128:64,D|=K<E?0:K>I?32:16,D|=tt<E?0:tt>I?8:4;var Rt=+(D|=Q<E?0:Q>I?2:1),Et=0;if(D===17||D===18||D===33||D===34||D===38||D===68||D===72||D===98||D===102||D===132||D===136||D===137||D===152||D===153){var Nt=(Z+K+tt+Q)/4;Et=Nt>I?2:Nt<E?0:1,D===34?Et===1?D=35:Et===0&&(D=136):D===136?Et===1?(D=35,Et=4):Et===0&&(D=34):D===17?Et===1?(D=155,Et=4):Et===0&&(D=153):D===68?Et===1?(D=103,Et=4):Et===0&&(D=102):D===153?Et===1&&(D=155):D===102?Et===1&&(D=103):D===152?Et<2&&(D=156,Et=1):D===137?Et<2&&(D=139,Et=1):D===98?Et<2&&(D=99,Et=1):D===38?Et<2&&(D=39,Et=1):D===18?Et>0?(D=156,Et=4):D=152:D===33?Et>0?(D=139,Et=4):D=137:D===72?Et>0?(D=99,Et=4):D=98:D===132&&(Et>0?(D=39,Et=4):D=38)}if(D!=0&&D!=170){var Tt,jt,Mt,Pt,St,Dt,It,Ut;Tt=jt=Mt=Pt=St=Dt=It=Ut=.5;var gt=[];D===1?(Mt=1-et(E,tt,Q),Ut=1-et(E,Z,Q),gt.push(De[D])):D===169?(Mt=et(I,Q,tt),Ut=et(I,Q,Z),gt.push(De[D])):D===4?(Dt=1-et(E,K,tt),Pt=et(E,Q,tt),gt.push(_e[D])):D===166?(Dt=et(I,tt,K),Pt=1-et(I,tt,Q),gt.push(_e[D])):D===16?(St=et(E,tt,K),jt=et(E,Z,K),gt.push(Se[D])):D===154?(St=1-et(I,K,tt),jt=1-et(I,K,Z),gt.push(Se[D])):D===64?(It=et(E,Q,Z),Tt=1-et(E,K,Z),gt.push(Ze[D])):D===106?(It=1-et(I,Z,Q),Tt=et(I,Z,K),gt.push(Ze[D])):D===168?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),gt.push(je[D]),gt.push(De[D])):D===2?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),gt.push(je[D]),gt.push(De[D])):D===162?(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),gt.push(je[D]),gt.push(De[D])):D===8?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),gt.push(Se[D]),gt.push(_e[D])):D===138?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(Se[D]),gt.push(_e[D])):D===32?(St=et(I,tt,K),Dt=et(E,tt,K),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(Se[D]),gt.push(_e[D])):D===42?(Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(Ye[D]),gt.push(Ze[D])):D===128&&(Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(Ye[D]),gt.push(Ze[D])),D===5?(Dt=1-et(E,K,tt),Ut=1-et(E,Z,Q),gt.push(_e[D])):D===165?(Dt=et(I,tt,K),Ut=et(I,Q,Z),gt.push(_e[D])):D===20?(Pt=et(E,Q,tt),jt=et(E,Z,K),gt.push(je[D])):D===150?(Pt=1-et(I,tt,Q),jt=1-et(I,K,Z),gt.push(je[D])):D===80?(St=et(E,tt,K),It=et(E,Q,Z),gt.push(Se[D])):D===90?(St=1-et(I,K,tt),It=1-et(I,Z,Q),gt.push(Se[D])):D===65?(Mt=1-et(E,tt,Q),Tt=1-et(E,K,Z),gt.push(De[D])):D===105?(Mt=et(I,Q,tt),Tt=et(I,Z,K),gt.push(De[D])):D===160?(St=et(I,tt,K),Dt=et(E,tt,K),Ut=et(E,Q,Z),It=et(I,Q,Z),gt.push(Se[D]),gt.push(_e[D])):D===10?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),gt.push(Se[D]),gt.push(_e[D])):D===130?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(je[D]),gt.push(De[D])):D===40?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(je[D]),gt.push(De[D])):D===101?(Dt=et(I,tt,K),Tt=et(I,Z,K),gt.push(_e[D])):D===69?(Dt=1-et(E,K,tt),Tt=1-et(E,K,Z),gt.push(_e[D])):D===149?(Ut=et(I,Q,Z),jt=1-et(I,K,Z),gt.push(Ye[D])):D===21?(Ut=1-et(E,Z,Q),jt=et(E,Z,K),gt.push(Ye[D])):D===86?(Pt=1-et(I,tt,Q),It=1-et(I,Z,Q),gt.push(je[D])):D===84?(Pt=et(E,Q,tt),It=et(E,Q,Z),gt.push(je[D])):D===89?(St=1-et(I,K,tt),Mt=et(I,Q,tt),gt.push(De[D])):D===81?(St=et(E,tt,K),Mt=1-et(E,tt,Q),gt.push(De[D])):D===96?(St=et(I,tt,K),Dt=et(E,tt,K),It=et(E,Q,Z),Tt=et(I,Z,K),gt.push(Se[D]),gt.push(_e[D])):D===74?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),It=1-et(I,Z,Q),Tt=1-et(E,K,Z),gt.push(Se[D]),gt.push(_e[D])):D===24?(St=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),jt=et(E,Z,K),gt.push(Se[D]),gt.push(De[D])):D===146?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),jt=1-et(I,K,Z),gt.push(Se[D]),gt.push(De[D])):D===6?(Dt=1-et(E,K,tt),Pt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),gt.push(_e[D]),gt.push(je[D])):D===164?(Dt=et(I,tt,K),Pt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),gt.push(_e[D]),gt.push(je[D])):D===129?(Mt=1-et(E,tt,Q),Ut=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(De[D]),gt.push(Ye[D])):D===41?(Mt=et(I,Q,tt),Ut=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(De[D]),gt.push(Ye[D])):D===66?(Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=1-et(E,K,Z),gt.push(je[D]),gt.push(De[D])):D===104?(Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,Z),Tt=et(I,Z,K),gt.push(De[D]),gt.push(Wr[D])):D===144?(St=et(E,tt,K),Ut=et(E,Q,Z),It=et(I,Q,Z),jt=1-et(I,K,Z),gt.push(Se[D]),gt.push(Ze[D])):D===26?(St=1-et(I,K,tt),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),jt=et(E,Z,K),gt.push(Se[D]),gt.push(Ze[D])):D===36?(Dt=et(I,tt,K),Pt=et(E,Q,tt),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(_e[D]),gt.push(je[D])):D===134?(Dt=1-et(E,K,tt),Pt=1-et(I,tt,Q),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(_e[D]),gt.push(je[D])):D===9?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=1-et(E,Z,Q),gt.push(Se[D]),gt.push(_e[D])):D===161?(St=et(I,tt,K),Dt=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=et(I,Q,Z),gt.push(Se[D]),gt.push(_e[D])):D===37?(Dt=et(I,tt,K),Ut=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K),gt.push(_e[D]),gt.push(Ye[D])):D===133?(Dt=1-et(E,K,tt),Ut=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z),gt.push(_e[D]),gt.push(Ye[D])):D===148?(Pt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),jt=1-et(I,K,Z),gt.push(je[D]),gt.push(Ze[D])):D===22?(Pt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),jt=et(E,Z,K),gt.push(je[D]),gt.push(Ze[D])):D===82?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,Z,Q),gt.push(Se[D]),gt.push(De[D])):D===88?(St=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,Z),gt.push(Se[D]),gt.push(De[D])):D===73?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Mt=et(I,Q,tt),Tt=1-et(E,K,Z),gt.push(Se[D]),gt.push(_e[D])):D===97?(St=et(I,tt,K),Dt=et(E,tt,K),Mt=1-et(E,tt,Q),Tt=et(I,Z,K),gt.push(Se[D]),gt.push(_e[D])):D===145?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=et(I,Q,Z),jt=1-et(I,K,Z),gt.push(Se[D]),gt.push(Ye[D])):D===25?(St=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=1-et(E,Z,Q),jt=et(E,Z,K),gt.push(Se[D]),gt.push(Ye[D])):D===70?(Dt=1-et(E,K,tt),Pt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=1-et(E,K,Z),gt.push(_e[D]),gt.push(je[D])):D===100?(Dt=et(I,tt,K),Pt=et(E,Q,tt),It=et(E,Q,Z),Tt=et(I,Z,K),gt.push(_e[D]),gt.push(je[D])):D===34?(Et===0?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)):(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)),gt.push(Se[D]),gt.push(_e[D]),gt.push(Ye[D]),gt.push(Ze[D])):D===35?(Et===4?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)):(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)),gt.push(Se[D]),gt.push(_e[D]),gt.push(De[D]),gt.push(Ze[D])):D===136?(Et===0?(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)):(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)),gt.push(Se[D]),gt.push(_e[D]),gt.push(Ye[D]),gt.push(Ze[D])):D===153?(Et===0?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Z,Q),jt=et(E,Z,K)):(St=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=et(I,Q,Z),jt=1-et(I,K,Z)),gt.push(Se[D]),gt.push(De[D])):D===102?(Et===0?(Dt=1-et(E,K,tt),Pt=et(E,Q,tt),It=et(E,Q,Z),Tt=1-et(E,K,Z)):(Dt=et(I,tt,K),Pt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=et(I,Z,K)),gt.push(_e[D]),gt.push(Ze[D])):D===155?(Et===4?(St=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Z,Q),jt=et(E,Z,K)):(St=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=et(I,Q,Z),jt=1-et(I,K,Z)),gt.push(Se[D]),gt.push(Ye[D])):D===103?(Et===4?(Dt=1-et(E,K,tt),Pt=et(E,Q,tt),It=et(E,Q,Z),Tt=1-et(E,K,Z)):(Dt=et(I,tt,K),Pt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=et(I,Z,K)),gt.push(_e[D]),gt.push(je[D])):D===152?(Et===0?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),jt=et(E,Z,K)):(St=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),jt=1-et(I,K,Z)),gt.push(Se[D]),gt.push(je[D]),gt.push(De[D])):D===156?(Et===4?(St=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),jt=et(E,Z,K)):(St=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),jt=1-et(I,K,Z)),gt.push(Se[D]),gt.push(De[D]),gt.push(Ze[D])):D===137?(Et===0?(St=et(I,tt,K),Dt=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)):(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)),gt.push(Se[D]),gt.push(_e[D]),gt.push(De[D])):D===139?(Et===4?(St=et(I,tt,K),Dt=et(E,tt,K),Mt=1-et(E,tt,Q),Ut=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)):(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Mt=et(I,Q,tt),Ut=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)),gt.push(Se[D]),gt.push(_e[D]),gt.push(Ye[D])):D===98?(Et===0?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,Z),Tt=1-et(E,K,Z)):(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=et(I,Z,K)),gt.push(Se[D]),gt.push(_e[D]),gt.push(Ze[D])):D===99?(Et===4?(St=1-et(E,K,tt),Dt=1-et(I,K,tt),Pt=et(I,Q,tt),Mt=et(E,Q,tt),It=et(E,Q,Z),Tt=1-et(E,K,Z)):(St=et(I,tt,K),Dt=et(E,tt,K),Pt=1-et(E,tt,Q),Mt=1-et(I,tt,Q),It=1-et(I,Z,Q),Tt=et(I,Z,K)),gt.push(Se[D]),gt.push(_e[D]),gt.push(De[D])):D===38?(Et===0?(Dt=1-et(E,K,tt),Pt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)):(Dt=et(I,tt,K),Pt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)),gt.push(_e[D]),gt.push(Ye[D]),gt.push(Ze[D])):D===39?(Et===4?(Dt=1-et(E,K,tt),Pt=et(E,Q,tt),Ut=et(E,Q,Z),It=et(I,Q,Z),Tt=1-et(I,K,Z),jt=1-et(E,K,Z)):(Dt=et(I,tt,K),Pt=1-et(I,tt,Q),Ut=1-et(I,Z,Q),It=1-et(E,Z,Q),Tt=et(E,Z,K),jt=et(I,Z,K)),gt.push(_e[D]),gt.push(je[D]),gt.push(Ze[D])):D===85&&(St=1,Dt=0,Pt=1,Mt=0,Ut=0,It=1,Tt=0,jt=1),(Tt<0||Tt>1||jt<0||jt>1||St<0||St>1||Pt<0||Pt>1||Ut<0||Ut>1||It<0||It>1)&&console.log("MarchingSquaresJS-isoBands: "+D+" "+Rt+" "+Z+","+K+","+tt+","+Q+" "+Et+" "+Tt+" "+jt+" "+St+" "+Dt+" "+Pt+" "+Mt+" "+Ut+" "+It),B.cells[Y][it]={cval:D,cval_real:Rt,flipped:Et,topleft:Tt,topright:jt,righttop:St,rightbottom:Dt,bottomright:Pt,bottomleft:Mt,leftbottom:Ut,lefttop:It,edges:gt}}}}}return B}(e,i,s);return Gu.polygons?(Gu.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),w=function(T){var E=[],P=0;return T.cells.forEach(function(z,N){z.forEach(function(B,I){if(B!==void 0){var Y=ve[B.cval](B);typeof Y=="object"&&bb(Y)?typeof Y[0]=="object"&&bb(Y[0])?typeof Y[0][0]=="object"&&bb(Y[0][0])?Y.forEach(function(it){it.forEach(function(D){D[0]+=I,D[1]+=N}),E[P++]=it}):(Y.forEach(function(it){it[0]+=I,it[1]+=N}),E[P++]=Y):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),E}(x)):(Gu.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),w=function(T){for(var E=[],P=T.rows,z=T.cols,N=[],B=0;B<P;B++)for(var I=0;I<z;I++)if(T.cells[B][I]!==void 0&&T.cells[B][I].edges.length>0){var Y=PM(T.cells[B][I]),it=null,D=I,Z=B;Y!==null&&N.push([Y.p[0]+D,Y.p[1]+Z]);do{if((it=MM(T.cells[Z][D],Y.x,Y.y,Y.o))===null)break;if(N.push([it.p[0]+D,it.p[1]+Z]),D+=it.x,Y=it,(Z+=it.y)<0||Z>=P||D<0||D>=z||T.cells[Z][D]===void 0){var K=CM(T,D-=it.x,Z-=it.y,it.x,it.y,it.o);if(K===null)break;K.path.forEach(function(tt){N.push(tt)}),D=K.i,Z=K.j,Y=K}}while(T.cells[Z][D]!==void 0&&T.cells[Z][D].edges.length>0);E.push(N),N=[],T.cells[B][I].edges.length>0&&I--}return E}(x)),typeof Gu.successCallback=="function"&&Gu.successCallback(w),w}var Zn=64,ca=16,_r=[],kr=[],Er=[],Tr=[],Sr=[],Cr=[],Pr=[],Mr=[],Ir=[],Lr=[],Rr=[],Ar=[],Or=[],zr=[],Nr=[],Dr=[],Fr=[],Br=[],jr=[],Hr=[],Ur=[],Gr=[],qr=[],Vr=[];Pr[85]=Lr[85]=-1,Mr[85]=Rr[85]=0,Ir[85]=Ar[85]=1,jr[85]=Gr[85]=1,Hr[85]=qr[85]=0,Ur[85]=Vr[85]=1,_r[85]=Tr[85]=0,kr[85]=Sr[85]=-1,Er[85]=Nr[85]=0,Dr[85]=Or[85]=0,Fr[85]=zr[85]=1,Cr[85]=Br[85]=1,Gr[1]=Gr[169]=0,qr[1]=qr[169]=-1,Vr[1]=Vr[169]=0,Or[1]=Or[169]=-1,zr[1]=zr[169]=0,Nr[1]=Nr[169]=0,Lr[4]=Lr[166]=0,Rr[4]=Rr[166]=-1,Ar[4]=Ar[166]=1,Dr[4]=Dr[166]=1,Fr[4]=Fr[166]=0,Br[4]=Br[166]=0,Pr[16]=Pr[154]=0,Mr[16]=Mr[154]=1,Ir[16]=Ir[154]=1,Tr[16]=Tr[154]=1,Sr[16]=Sr[154]=0,Cr[16]=Cr[154]=1,jr[64]=jr[106]=0,Hr[64]=Hr[106]=1,Ur[64]=Ur[106]=0,_r[64]=_r[106]=-1,kr[64]=kr[106]=0,Er[64]=Er[106]=1,jr[2]=jr[168]=0,Hr[2]=Hr[168]=-1,Ur[2]=Ur[168]=1,Gr[2]=Gr[168]=0,qr[2]=qr[168]=-1,Vr[2]=Vr[168]=0,Or[2]=Or[168]=-1,zr[2]=zr[168]=0,Nr[2]=Nr[168]=0,Dr[2]=Dr[168]=-1,Fr[2]=Fr[168]=0,Br[2]=Br[168]=1,Pr[8]=Pr[162]=0,Mr[8]=Mr[162]=-1,Ir[8]=Ir[162]=0,Lr[8]=Lr[162]=0,Rr[8]=Rr[162]=-1,Ar[8]=Ar[162]=1,Or[8]=Or[162]=1,zr[8]=zr[162]=0,Nr[8]=Nr[162]=1,Dr[8]=Dr[162]=1,Fr[8]=Fr[162]=0,Br[8]=Br[162]=0,Pr[32]=Pr[138]=0,Mr[32]=Mr[138]=1,Ir[32]=Ir[138]=1,Lr[32]=Lr[138]=0,Rr[32]=Rr[138]=1,Ar[32]=Ar[138]=0,_r[32]=_r[138]=1,kr[32]=kr[138]=0,Er[32]=Er[138]=0,Tr[32]=Tr[138]=1,Sr[32]=Sr[138]=0,Cr[32]=Cr[138]=1,Gr[128]=Gr[42]=0,qr[128]=qr[42]=1,Vr[128]=Vr[42]=1,jr[128]=jr[42]=0,Hr[128]=Hr[42]=1,Ur[128]=Ur[42]=0,_r[128]=_r[42]=-1,kr[128]=kr[42]=0,Er[128]=Er[42]=1,Tr[128]=Tr[42]=-1,Sr[128]=Sr[42]=0,Cr[128]=Cr[42]=0,Lr[5]=Lr[165]=-1,Rr[5]=Rr[165]=0,Ar[5]=Ar[165]=0,Gr[5]=Gr[165]=1,qr[5]=qr[165]=0,Vr[5]=Vr[165]=0,Dr[20]=Dr[150]=0,Fr[20]=Fr[150]=1,Br[20]=Br[150]=1,Tr[20]=Tr[150]=0,Sr[20]=Sr[150]=-1,Cr[20]=Cr[150]=1,Pr[80]=Pr[90]=-1,Mr[80]=Mr[90]=0,Ir[80]=Ir[90]=1,jr[80]=jr[90]=1,Hr[80]=Hr[90]=0,Ur[80]=Ur[90]=1,Or[65]=Or[105]=0,zr[65]=zr[105]=1,Nr[65]=Nr[105]=0,_r[65]=_r[105]=0,kr[65]=kr[105]=-1,Er[65]=Er[105]=0,Pr[160]=Pr[10]=-1,Mr[160]=Mr[10]=0,Ir[160]=Ir[10]=1,Lr[160]=Lr[10]=-1,Rr[160]=Rr[10]=0,Ar[160]=Ar[10]=0,Gr[160]=Gr[10]=1,qr[160]=qr[10]=0,Vr[160]=Vr[10]=0,jr[160]=jr[10]=1,Hr[160]=Hr[10]=0,Ur[160]=Ur[10]=1,Dr[130]=Dr[40]=0,Fr[130]=Fr[40]=1,Br[130]=Br[40]=1,Or[130]=Or[40]=0,zr[130]=zr[40]=1,Nr[130]=Nr[40]=0,_r[130]=_r[40]=0,kr[130]=kr[40]=-1,Er[130]=Er[40]=0,Tr[130]=Tr[40]=0,Sr[130]=Sr[40]=-1,Cr[130]=Cr[40]=1,Lr[37]=Lr[133]=0,Rr[37]=Rr[133]=1,Ar[37]=Ar[133]=1,Gr[37]=Gr[133]=0,qr[37]=qr[133]=1,Vr[37]=Vr[133]=0,_r[37]=_r[133]=-1,kr[37]=kr[133]=0,Er[37]=Er[133]=0,Tr[37]=Tr[133]=1,Sr[37]=Sr[133]=0,Cr[37]=Cr[133]=0,Dr[148]=Dr[22]=-1,Fr[148]=Fr[22]=0,Br[148]=Br[22]=0,Gr[148]=Gr[22]=0,qr[148]=qr[22]=-1,Vr[148]=Vr[22]=1,jr[148]=jr[22]=0,Hr[148]=Hr[22]=1,Ur[148]=Ur[22]=1,Tr[148]=Tr[22]=-1,Sr[148]=Sr[22]=0,Cr[148]=Cr[22]=1,Pr[82]=Pr[88]=0,Mr[82]=Mr[88]=-1,Ir[82]=Ir[88]=1,Dr[82]=Dr[88]=1,Fr[82]=Fr[88]=0,Br[82]=Br[88]=1,Or[82]=Or[88]=-1,zr[82]=zr[88]=0,Nr[82]=Nr[88]=1,jr[82]=jr[88]=0,Hr[82]=Hr[88]=-1,Ur[82]=Ur[88]=0,Pr[73]=Pr[97]=0,Mr[73]=Mr[97]=1,Ir[73]=Ir[97]=0,Lr[73]=Lr[97]=0,Rr[73]=Rr[97]=-1,Ar[73]=Ar[97]=0,Or[73]=Or[97]=1,zr[73]=zr[97]=0,Nr[73]=Nr[97]=0,_r[73]=_r[97]=1,kr[73]=kr[97]=0,Er[73]=Er[97]=1,Pr[145]=Pr[25]=0,Mr[145]=Mr[25]=-1,Ir[145]=Ir[25]=0,Or[145]=Or[25]=1,zr[145]=zr[25]=0,Nr[145]=Nr[25]=1,Gr[145]=Gr[25]=0,qr[145]=qr[25]=1,Vr[145]=Vr[25]=1,Tr[145]=Tr[25]=-1,Sr[145]=Sr[25]=0,Cr[145]=Cr[25]=0,Lr[70]=Lr[100]=0,Rr[70]=Rr[100]=1,Ar[70]=Ar[100]=0,Dr[70]=Dr[100]=-1,Fr[70]=Fr[100]=0,Br[70]=Br[100]=1,jr[70]=jr[100]=0,Hr[70]=Hr[100]=-1,Ur[70]=Ur[100]=1,_r[70]=_r[100]=1,kr[70]=kr[100]=0,Er[70]=Er[100]=0,Lr[101]=Lr[69]=0,Rr[101]=Rr[69]=1,Ar[101]=Ar[69]=0,_r[101]=_r[69]=1,kr[101]=kr[69]=0,Er[101]=Er[69]=0,Gr[149]=Gr[21]=0,qr[149]=qr[21]=1,Vr[149]=Vr[21]=1,Tr[149]=Tr[21]=-1,Sr[149]=Sr[21]=0,Cr[149]=Cr[21]=0,Dr[86]=Dr[84]=-1,Fr[86]=Fr[84]=0,Br[86]=Br[84]=1,jr[86]=jr[84]=0,Hr[86]=Hr[84]=-1,Ur[86]=Ur[84]=1,Pr[89]=Pr[81]=0,Mr[89]=Mr[81]=-1,Ir[89]=Ir[81]=0,Or[89]=Or[81]=1,zr[89]=zr[81]=0,Nr[89]=Nr[81]=1,Pr[96]=Pr[74]=0,Mr[96]=Mr[74]=1,Ir[96]=Ir[74]=0,Lr[96]=Lr[74]=-1,Rr[96]=Rr[74]=0,Ar[96]=Ar[74]=1,jr[96]=jr[74]=1,Hr[96]=Hr[74]=0,Ur[96]=Ur[74]=0,_r[96]=_r[74]=1,kr[96]=kr[74]=0,Er[96]=Er[74]=1,Pr[24]=Pr[146]=0,Mr[24]=Mr[146]=-1,Ir[24]=Ir[146]=1,Dr[24]=Dr[146]=1,Fr[24]=Fr[146]=0,Br[24]=Br[146]=1,Or[24]=Or[146]=0,zr[24]=zr[146]=1,Nr[24]=Nr[146]=1,Tr[24]=Tr[146]=0,Sr[24]=Sr[146]=-1,Cr[24]=Cr[146]=0,Lr[6]=Lr[164]=-1,Rr[6]=Rr[164]=0,Ar[6]=Ar[164]=1,Dr[6]=Dr[164]=-1,Fr[6]=Fr[164]=0,Br[6]=Br[164]=0,Gr[6]=Gr[164]=0,qr[6]=qr[164]=-1,Vr[6]=Vr[164]=1,jr[6]=jr[164]=1,Hr[6]=Hr[164]=0,Ur[6]=Ur[164]=0,Or[129]=Or[41]=0,zr[129]=zr[41]=1,Nr[129]=Nr[41]=1,Gr[129]=Gr[41]=0,qr[129]=qr[41]=1,Vr[129]=Vr[41]=0,_r[129]=_r[41]=-1,kr[129]=kr[41]=0,Er[129]=Er[41]=0,Tr[129]=Tr[41]=0,Sr[129]=Sr[41]=-1,Cr[129]=Cr[41]=0,Dr[66]=Dr[104]=0,Fr[66]=Fr[104]=1,Br[66]=Br[104]=0,Or[66]=Or[104]=-1,zr[66]=zr[104]=0,Nr[66]=Nr[104]=1,jr[66]=jr[104]=0,Hr[66]=Hr[104]=-1,Ur[66]=Ur[104]=0,_r[66]=_r[104]=0,kr[66]=kr[104]=-1,Er[66]=Er[104]=1,Pr[144]=Pr[26]=-1,Mr[144]=Mr[26]=0,Ir[144]=Ir[26]=0,Gr[144]=Gr[26]=1,qr[144]=qr[26]=0,Vr[144]=Vr[26]=1,jr[144]=jr[26]=0,Hr[144]=Hr[26]=1,Ur[144]=Ur[26]=1,Tr[144]=Tr[26]=-1,Sr[144]=Sr[26]=0,Cr[144]=Cr[26]=1,Lr[36]=Lr[134]=0,Rr[36]=Rr[134]=1,Ar[36]=Ar[134]=1,Dr[36]=Dr[134]=0,Fr[36]=Fr[134]=1,Br[36]=Br[134]=0,_r[36]=_r[134]=0,kr[36]=kr[134]=-1,Er[36]=Er[134]=1,Tr[36]=Tr[134]=1,Sr[36]=Sr[134]=0,Cr[36]=Cr[134]=0,Pr[9]=Pr[161]=-1,Mr[9]=Mr[161]=0,Ir[9]=Ir[161]=0,Lr[9]=Lr[161]=0,Rr[9]=Rr[161]=-1,Ar[9]=Ar[161]=0,Or[9]=Or[161]=1,zr[9]=zr[161]=0,Nr[9]=Nr[161]=0,Gr[9]=Gr[161]=1,qr[9]=qr[161]=0,Vr[9]=Vr[161]=1,Pr[136]=0,Mr[136]=1,Ir[136]=1,Lr[136]=0,Rr[136]=1,Ar[136]=0,Dr[136]=-1,Fr[136]=0,Br[136]=1,Or[136]=-1,zr[136]=0,Nr[136]=0,Gr[136]=0,qr[136]=-1,Vr[136]=0,jr[136]=0,Hr[136]=-1,Ur[136]=1,_r[136]=1,kr[136]=0,Er[136]=0,Tr[136]=1,Sr[136]=0,Cr[136]=1,Pr[34]=0,Mr[34]=-1,Ir[34]=0,Lr[34]=0,Rr[34]=-1,Ar[34]=1,Dr[34]=1,Fr[34]=0,Br[34]=0,Or[34]=1,zr[34]=0,Nr[34]=1,Gr[34]=0,qr[34]=1,Vr[34]=1,jr[34]=0,Hr[34]=1,Ur[34]=0,_r[34]=-1,kr[34]=0,Er[34]=1,Tr[34]=-1,Sr[34]=0,Cr[34]=0,Pr[35]=0,Mr[35]=1,Ir[35]=1,Lr[35]=0,Rr[35]=-1,Ar[35]=1,Dr[35]=1,Fr[35]=0,Br[35]=0,Or[35]=-1,zr[35]=0,Nr[35]=0,Gr[35]=0,qr[35]=-1,Vr[35]=0,jr[35]=0,Hr[35]=1,Ur[35]=0,_r[35]=-1,kr[35]=0,Er[35]=1,Tr[35]=1,Sr[35]=0,Cr[35]=1,Pr[153]=0,Mr[153]=1,Ir[153]=1,Or[153]=-1,zr[153]=0,Nr[153]=0,Gr[153]=0,qr[153]=-1,Vr[153]=0,Tr[153]=1,Sr[153]=0,Cr[153]=1,Lr[102]=0,Rr[102]=-1,Ar[102]=1,Dr[102]=1,Fr[102]=0,Br[102]=0,jr[102]=0,Hr[102]=1,Ur[102]=0,_r[102]=-1,kr[102]=0,Er[102]=1,Pr[155]=0,Mr[155]=-1,Ir[155]=0,Or[155]=1,zr[155]=0,Nr[155]=1,Gr[155]=0,qr[155]=1,Vr[155]=1,Tr[155]=-1,Sr[155]=0,Cr[155]=0,Lr[103]=0,Rr[103]=1,Ar[103]=0,Dr[103]=-1,Fr[103]=0,Br[103]=1,jr[103]=0,Hr[103]=-1,Ur[103]=1,_r[103]=1,kr[103]=0,Er[103]=0,Pr[152]=0,Mr[152]=1,Ir[152]=1,Dr[152]=-1,Fr[152]=0,Br[152]=1,Or[152]=-1,zr[152]=0,Nr[152]=0,Gr[152]=0,qr[152]=-1,Vr[152]=0,jr[152]=0,Hr[152]=-1,Ur[152]=1,Tr[152]=1,Sr[152]=0,Cr[152]=1,Pr[156]=0,Mr[156]=-1,Ir[156]=1,Dr[156]=1,Fr[156]=0,Br[156]=1,Or[156]=-1,zr[156]=0,Nr[156]=0,Gr[156]=0,qr[156]=-1,Vr[156]=0,jr[156]=0,Hr[156]=1,Ur[156]=1,Tr[156]=-1,Sr[156]=0,Cr[156]=1,Pr[137]=0,Mr[137]=1,Ir[137]=1,Lr[137]=0,Rr[137]=1,Ar[137]=0,Or[137]=-1,zr[137]=0,Nr[137]=0,Gr[137]=0,qr[137]=-1,Vr[137]=0,_r[137]=1,kr[137]=0,Er[137]=0,Tr[137]=1,Sr[137]=0,Cr[137]=1,Pr[139]=0,Mr[139]=1,Ir[139]=1,Lr[139]=0,Rr[139]=-1,Ar[139]=0,Or[139]=1,zr[139]=0,Nr[139]=0,Gr[139]=0,qr[139]=1,Vr[139]=0,_r[139]=-1,kr[139]=0,Er[139]=0,Tr[139]=1,Sr[139]=0,Cr[139]=1,Pr[98]=0,Mr[98]=-1,Ir[98]=0,Lr[98]=0,Rr[98]=-1,Ar[98]=1,Dr[98]=1,Fr[98]=0,Br[98]=0,Or[98]=1,zr[98]=0,Nr[98]=1,jr[98]=0,Hr[98]=1,Ur[98]=0,_r[98]=-1,kr[98]=0,Er[98]=1,Pr[99]=0,Mr[99]=1,Ir[99]=0,Lr[99]=0,Rr[99]=-1,Ar[99]=1,Dr[99]=1,Fr[99]=0,Br[99]=0,Or[99]=-1,zr[99]=0,Nr[99]=1,jr[99]=0,Hr[99]=-1,Ur[99]=0,_r[99]=1,kr[99]=0,Er[99]=1,Lr[38]=0,Rr[38]=-1,Ar[38]=1,Dr[38]=1,Fr[38]=0,Br[38]=0,Gr[38]=0,qr[38]=1,Vr[38]=1,jr[38]=0,Hr[38]=1,Ur[38]=0,_r[38]=-1,kr[38]=0,Er[38]=1,Tr[38]=-1,Sr[38]=0,Cr[38]=0,Lr[39]=0,Rr[39]=1,Ar[39]=1,Dr[39]=-1,Fr[39]=0,Br[39]=0,Gr[39]=0,qr[39]=-1,Vr[39]=1,jr[39]=0,Hr[39]=1,Ur[39]=0,_r[39]=-1,kr[39]=0,Er[39]=1,Tr[39]=1,Sr[39]=0,Cr[39]=0;var hb=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},db=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},pb=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},fb=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},gb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},mb=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},vb=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},yb=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Se=[],_e=[],je=[],De=[],Ye=[],Ze=[],Wr=[],Zr=[];De[1]=Ye[1]=18,De[169]=Ye[169]=18,je[4]=_e[4]=12,je[166]=_e[166]=12,Se[16]=Zr[16]=4,Se[154]=Zr[154]=4,Ze[64]=Wr[64]=22,Ze[106]=Wr[106]=22,je[2]=Ze[2]=17,De[2]=Ye[2]=18,je[168]=Ze[168]=17,De[168]=Ye[168]=18,Se[8]=De[8]=9,_e[8]=je[8]=12,Se[162]=De[162]=9,_e[162]=je[162]=12,Se[32]=Zr[32]=4,_e[32]=Wr[32]=1,Se[138]=Zr[138]=4,_e[138]=Wr[138]=1,Ye[128]=Zr[128]=21,Ze[128]=Wr[128]=22,Ye[42]=Zr[42]=21,Ze[42]=Wr[42]=22,_e[5]=Ye[5]=14,_e[165]=Ye[165]=14,je[20]=Zr[20]=6,je[150]=Zr[150]=6,Se[80]=Ze[80]=11,Se[90]=Ze[90]=11,De[65]=Wr[65]=3,De[105]=Wr[105]=3,Se[160]=Ze[160]=11,_e[160]=Ye[160]=14,Se[10]=Ze[10]=11,_e[10]=Ye[10]=14,je[130]=Zr[130]=6,De[130]=Wr[130]=3,je[40]=Zr[40]=6,De[40]=Wr[40]=3,_e[101]=Wr[101]=1,_e[69]=Wr[69]=1,Ye[149]=Zr[149]=21,Ye[21]=Zr[21]=21,je[86]=Ze[86]=17,je[84]=Ze[84]=17,Se[89]=De[89]=9,Se[81]=De[81]=9,Se[96]=Wr[96]=0,_e[96]=Ze[96]=15,Se[74]=Wr[74]=0,_e[74]=Ze[74]=15,Se[24]=je[24]=8,De[24]=Zr[24]=7,Se[146]=je[146]=8,De[146]=Zr[146]=7,_e[6]=Ze[6]=15,je[6]=Ye[6]=16,_e[164]=Ze[164]=15,je[164]=Ye[164]=16,De[129]=Zr[129]=7,Ye[129]=Wr[129]=20,De[41]=Zr[41]=7,Ye[41]=Wr[41]=20,je[66]=Wr[66]=2,De[66]=Ze[66]=19,je[104]=Wr[104]=2,De[104]=Ze[104]=19,Se[144]=Ye[144]=10,Ze[144]=Zr[144]=23,Se[26]=Ye[26]=10,Ze[26]=Zr[26]=23,_e[36]=Zr[36]=5,je[36]=Wr[36]=2,_e[134]=Zr[134]=5,je[134]=Wr[134]=2,Se[9]=Ye[9]=10,_e[9]=De[9]=13,Se[161]=Ye[161]=10,_e[161]=De[161]=13,_e[37]=Zr[37]=5,Ye[37]=Wr[37]=20,_e[133]=Zr[133]=5,Ye[133]=Wr[133]=20,je[148]=Ye[148]=16,Ze[148]=Zr[148]=23,je[22]=Ye[22]=16,Ze[22]=Zr[22]=23,Se[82]=je[82]=8,De[82]=Ze[82]=19,Se[88]=je[88]=8,De[88]=Ze[88]=19,Se[73]=Wr[73]=0,_e[73]=De[73]=13,Se[97]=Wr[97]=0,_e[97]=De[97]=13,Se[145]=De[145]=9,Ye[145]=Zr[145]=21,Se[25]=De[25]=9,Ye[25]=Zr[25]=21,_e[70]=Wr[70]=1,je[70]=Ze[70]=17,_e[100]=Wr[100]=1,je[100]=Ze[100]=17,Se[34]=De[34]=9,_e[34]=je[34]=12,Ye[34]=Zr[34]=21,Ze[34]=Wr[34]=22,Se[136]=Zr[136]=4,_e[136]=Wr[136]=1,je[136]=Ze[136]=17,De[136]=Ye[136]=18,Se[35]=Zr[35]=4,_e[35]=je[35]=12,De[35]=Ye[35]=18,Ze[35]=Wr[35]=22,Se[153]=Zr[153]=4,De[153]=Ye[153]=18,_e[102]=je[102]=12,Ze[102]=Wr[102]=22,Se[155]=De[155]=9,Ye[155]=Zr[155]=23,_e[103]=Wr[103]=1,je[103]=Ze[103]=17,Se[152]=Zr[152]=4,je[152]=Ze[152]=17,De[152]=Ye[152]=18,Se[156]=je[156]=8,De[156]=Ye[156]=18,Ze[156]=Zr[156]=23,Se[137]=Zr[137]=4,_e[137]=Wr[137]=1,De[137]=Ye[137]=18,Se[139]=Zr[139]=4,_e[139]=De[139]=13,Ye[139]=Wr[139]=20,Se[98]=De[98]=9,_e[98]=je[98]=12,Ze[98]=Wr[98]=22,Se[99]=Wr[99]=0,_e[99]=je[99]=12,De[99]=Ze[99]=19,_e[38]=je[38]=12,Ye[38]=Zr[38]=21,Ze[38]=Wr[38]=22,_e[39]=Zr[39]=5,je[39]=Ye[39]=16,Ze[39]=Wr[39]=22;var ve=[];function et(e,i,s){return(e-i)/(s-i)}function bb(e){return e.constructor.toString().indexOf("Array")>-1}function CM(e,i,s,a,c,h){for(var g=e.cells[s][i],y=g.cval_real,w=i+a,x=s+c,T=[],E=!1;!E;){if(e.cells[x]===void 0||e.cells[x][w]===void 0)if(x-=c,w-=a,y=(g=e.cells[x][w]).cval_real,c===-1)if(h===0)if(1&y)T.push([w,x]),a=-1,c=0,h=0;else{if(!(4&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+1,x]),a=1,c=0,h=0}else{if(!(1&y)){if(4&y){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w+g.bottomleft,x]),a=0,c=1,h=0,E=!0;break}T.push([w,x]),a=-1,c=0,h=0}else if(c===1)if(h===0){if(!(y&ca)){if(y&Zn){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+g.topright,x+1]),a=0,c=-1,h=1,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}else T.push([w+1,x+1]),a=1,c=0,h=1;else if(a===-1)if(h===0){if(!(y&Zn)){if(1&y){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+g.lefttop]),a=1,c=0,h=1,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: wtf");break}T.push([w,x+1]),a=0,c=1,h=0}else{if(a!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(h===0){if(!(4&y)){T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}else{if(!(4&y)){if(y&ca){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1;break}T.push([w+1,x+g.rightbottom]),a=-1,c=0,h=0,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else if(y=(g=e.cells[x][w]).cval_real,a===-1)if(h===0)if(e.cells[x-1]!==void 0&&e.cells[x-1][w]!==void 0)a=0,c=-1,h=1;else{if(!(1&y)){T.push([w+g.bottomright,x]),a=0,c=1,h=1,E=!0;break}T.push([w,x])}else{if(!(y&Zn)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+w+","+x);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(a===1){if(h===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x+1]!==void 0&&e.cells[x+1][w]!==void 0)a=0,c=1,h=0;else{if(!(y&ca)){T.push([w+g.topleft,x+1]),a=0,c=-1,h=0,E=!0;break}T.push([w+1,x+1]),a=1,c=0,h=1}}else if(c===-1){if(h!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w+1]!==void 0)a=1,c=0,h=1;else{if(!(4&y)){T.push([w+1,x+g.righttop]),a=-1,c=0,h=1,E=!0;break}T.push([w+1,x]),a=0,c=-1,h=1}}else{if(c!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(h!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(e.cells[x][w-1]!==void 0)a=-1,c=0,h=0;else{if(!(y&Zn)){T.push([w,x+g.leftbottom]),a=1,c=0,h=0,E=!0;break}T.push([w,x+1]),a=0,c=1,h=0}}if(x+=c,(w+=a)===i&&x===s)break}return{path:T,i:w,j:x,x:a,y:c,o:h}}function PM(e){if(e.edges.length>0){var i=e.edges[e.edges.length-1],s=e.cval_real;switch(i){case 0:return s&ca?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return 4&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return 1&s?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return s&ca?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return 4&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return 1&s?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return 1&s?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return s&Zn?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return 1&s?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return s&Zn?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return 4&s?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return s&Zn?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return 1&s?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return s&Zn?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return s&ca?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return s&Zn?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return s&ca?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}function MM(e,i,s,a){var c,h,g,y,w,x=e.cval;switch(i){case-1:switch(a){case 0:c=_e[x],g=Lr[x],y=Rr[x],w=Ar[x];break;default:c=Se[x],g=Pr[x],y=Mr[x],w=Ir[x]}break;case 1:switch(a){case 0:c=Ye[x],g=Gr[x],y=qr[x],w=Vr[x];break;default:c=Ze[x],g=jr[x],y=Hr[x],w=Ur[x]}break;default:switch(s){case-1:switch(a){case 0:c=Wr[x],g=_r[x],y=kr[x],w=Er[x];break;default:c=Zr[x],g=Tr[x],y=Sr[x],w=Cr[x]}break;case 1:switch(a){case 0:c=De[x],g=Or[x],y=zr[x],w=Nr[x];break;default:c=je[x],g=Dr[x],y=Fr[x],w=Br[x]}}}if(h=e.edges.indexOf(c),e.edges[h]===void 0)return null;switch(function(T,E){delete T.edges[E];for(var P=E+1;P<T.edges.length;P++)T.edges[P-1]=T.edges[P];T.edges.pop()}(e,h),x=e.cval_real,c){case 0:x&ca?(i=e.topleft,s=1):(i=1,s=e.righttop);break;case 1:4&x?(i=1,s=e.rightbottom):(i=e.topleft,s=1);break;case 2:4&x?(i=e.topleft,s=1):(i=e.bottomright,s=0);break;case 3:1&x?(i=e.bottomleft,s=0):(i=e.topleft,s=1);break;case 4:x&ca?(i=e.topright,s=1):(i=1,s=e.righttop);break;case 5:4&x?(i=1,s=e.rightbottom):(i=e.topright,s=1);break;case 6:4&x?(i=e.topright,s=1):(i=e.bottomright,s=0);break;case 7:1&x?(i=e.bottomleft,s=0):(i=e.topright,s=1);break;case 8:4&x?(i=1,s=e.righttop):(i=e.bottomright,s=0);break;case 9:1&x?(i=e.bottomleft,s=0):(i=1,s=e.righttop);break;case 10:1&x?(i=1,s=e.righttop):(i=0,s=e.leftbottom);break;case 11:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.righttop);break;case 12:4&x?(i=1,s=e.rightbottom):(i=e.bottomright,s=0);break;case 13:1&x?(i=e.bottomleft,s=0):(i=1,s=e.rightbottom);break;case 14:1&x?(i=1,s=e.rightbottom):(i=0,s=e.leftbottom);break;case 15:x&Zn?(i=0,s=e.lefttop):(i=1,s=e.rightbottom);break;case 16:4&x?(i=0,s=e.leftbottom):(i=e.bottomright,s=0);break;case 17:x&Zn?(i=0,s=e.lefttop):(i=e.bottomright,s=0);break;case 18:1&x?(i=e.bottomleft,s=0):(i=0,s=e.leftbottom);break;case 19:x&Zn?(i=0,s=e.lefttop):(i=e.bottomleft,s=0);break;case 20:x&Zn?(i=0,s=e.leftbottom):(i=e.topleft,s=1);break;case 21:x&ca?(i=e.topright,s=1):(i=0,s=e.leftbottom);break;case 22:x&Zn?(i=0,s=e.lefttop):(i=e.topleft,s=1);break;case 23:x&ca?(i=e.topright,s=1):(i=0,s=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return i!==void 0&&s!==void 0&&g!==void 0&&y!==void 0&&w!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(i+" "+s+" "+g+" "+y+" "+w)),{p:[i,s],x:g,y,o:w}}function IM(e){var i=[],s=[];e.forEach(function(c){var h=td(v([c]));s.push(h),i.push({ring:c,area:h})}),s.sort(function(c,h){return h-c});var a=[];return s.forEach(function(c){for(var h=0;h<i.length;h++)if(i[h].area===c){a.push(i[h].ring),i.splice(h,1);break}}),a}function LM(e){for(var i=e.map(function(y){return{lrCoordinates:y,grouped:!1}}),s=[];!AM(i);)for(var a=0;a<i.length;a++)if(!i[a].grouped){var c=[];c.push(i[a].lrCoordinates),i[a].grouped=!0;for(var h=v([i[a].lrCoordinates]),g=a+1;g<i.length;g++)i[g].grouped||RM(v([i[g].lrCoordinates]),h)&&(c.push(i[g].lrCoordinates),i[g].grouped=!0);s.push(c)}return s}function RM(e,i){for(var s=Ou(e),a=0;a<s.features.length;a++)if(!$e(s.features[a],i))return!1;return!0}function AM(e){for(var i=0;i<e.length;i++)if(e[i].grouped===!1)return!1;return!0}function u_(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.pivot,c=s.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("angle is required");return i===0||(a||(a=ia(e)),c!==!1&&c!==void 0||(e=Pi(e)),Gt(e,function(h){var g=zl(a,h)+i,y=Ll(a,h),w=X(ad(a,y,g));h[0]=w[0],h[1]=w[1]})),e}function h_(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.origin,c=s.mutate;if(!e)throw new Error("geojson required");if(typeof i!="number"||i===0)throw new Error("invalid factor");var h=Array.isArray(a)||typeof a=="object";return c!==!0&&(e=Pi(e)),e.type!=="FeatureCollection"||h?d_(e,i,a):(wt(e,function(g,y){e.features[y]=d_(g,i,a)}),e)}function d_(e,i,s){var a=te(e)==="Point";return s=function(c,h){if(h==null&&(h="centroid"),Array.isArray(h)||typeof h=="object")return O(h);var g=c.bbox?c.bbox:vt(c),y=g[0],w=g[1],x=g[2],T=g[3];switch(h){case"sw":case"southwest":case"westsouth":case"bottomleft":return p([y,w]);case"se":case"southeast":case"eastsouth":case"bottomright":return p([x,w]);case"nw":case"northwest":case"westnorth":case"topleft":return p([y,T]);case"ne":case"northeast":case"eastnorth":case"topright":return p([x,T]);case"center":return rs(c);case void 0:case null:case"centroid":return ia(c);default:throw new Error("invalid origin")}}(e,s),i===1||a||Gt(e,function(c){var h=Ll(s,c),g=zl(s,c),y=X(ad(s,h*i,g));c[0]=y[0],c[1]=y[1],c.length===3&&(c[2]*=i)}),e}function Xm(e){var i=e[0],s=e[1];return[s[0]-i[0],s[1]-i[1]]}function wb(e,i){return e[0]*i[1]-i[0]*e[1]}function OM(e,i){return!function(s,a){return wb(Xm(s),Xm(a))===0}(e,i)&&function(s,a){var c,h,g=s[0],y=Xm(s),w=a[0],x=Xm(a),T=wb(y,x);return function(E,P){return[E[0]+P[0],E[1]+P[1]]}(g,function(E,P){return[E*P[0],E*P[1]]}(wb((h=g,[(c=w)[0]-h[0],c[1]-h[1]]),x)/T,y))}(e,i)}function p_(e,i,s){var a=[],c=nt(i,s),h=X(e),g=[];return h.forEach(function(y,w){if(w!==h.length-1){var x=(P=y,z=h[w+1],N=c,B=Math.sqrt((P[0]-z[0])*(P[0]-z[0])+(P[1]-z[1])*(P[1]-z[1])),I=P[0]+N*(z[1]-P[1])/B,Y=z[0]+N*(z[1]-P[1])/B,it=P[1]+N*(P[0]-z[0])/B,D=z[1]+N*(P[0]-z[0])/B,[[I,it],[Y,D]]);if(a.push(x),w>0){var T=a[w-1],E=OM(x,T);E!==!1&&(T[1]=E,x[0]=E),g.push(T[0]),w===h.length-2&&(g.push(x[0]),g.push(x[1]))}h.length===2&&(g.push(x[0]),g.push(x[1]))}var P,z,N,B,I,Y,it,D}),k(g,e.properties)}function xb(e,i,s){var a=i[0]-e[0],c=i[1]-e[1],h=s[0]-i[0];return function(g){return(g>0)-(g<0)||+g}(a*(s[1]-i[1])-h*c)}function f_(e,i){return i.geometry.coordinates[0].every(function(s){return $e(p(s),e)})}ve[1]=ve[169]=hb,ve[4]=ve[166]=db,ve[16]=ve[154]=pb,ve[64]=ve[106]=fb,ve[168]=ve[2]=gb,ve[162]=ve[8]=mb,ve[138]=ve[32]=vb,ve[42]=ve[128]=yb,ve[5]=ve[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ve[20]=ve[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ve[80]=ve[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ve[65]=ve[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ve[160]=ve[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ve[130]=ve[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ve[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ve[101]=ve[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ve[149]=ve[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ve[86]=ve[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ve[89]=ve[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ve[96]=ve[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[24]=ve[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ve[6]=ve[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ve[129]=ve[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ve[66]=ve[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[144]=ve[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[36]=ve[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ve[9]=ve[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ve[37]=ve[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ve[148]=ve[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[82]=ve[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ve[73]=ve[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ve[145]=ve[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ve[70]=ve[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[34]=function(e){return[yb(e),mb(e)]},ve[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ve[136]=function(e){return[vb(e),gb(e)]},ve[153]=function(e){return[pb(e),hb(e)]},ve[102]=function(e){return[db(e),fb(e)]},ve[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ve[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[152]=function(e){return[pb(e),gb(e)]},ve[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ve[137]=function(e){return[vb(e),hb(e)]},ve[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ve[98]=function(e){return[mb(e),fb(e)]},ve[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ve[38]=function(e){return[db(e),yb(e)]},ve[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var g_=function(){function e(i){this.id=e.buildId(i),this.coordinates=i,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(i){return i.join(",")},e.prototype.removeInnerEdge=function(i){this.innerEdges=this.innerEdges.filter(function(s){return s.from.id!==i.from.id})},e.prototype.removeOuterEdge=function(i){this.outerEdges=this.outerEdges.filter(function(s){return s.to.id!==i.to.id})},e.prototype.addOuterEdge=function(i){this.outerEdges.push(i),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var i=this;this.outerEdgesSorted||(this.outerEdges.sort(function(s,a){var c=s.to,h=a.to;if(c.coordinates[0]-i.coordinates[0]>=0&&h.coordinates[0]-i.coordinates[0]<0)return 1;if(c.coordinates[0]-i.coordinates[0]<0&&h.coordinates[0]-i.coordinates[0]>=0)return-1;if(c.coordinates[0]-i.coordinates[0]==0&&h.coordinates[0]-i.coordinates[0]==0)return c.coordinates[1]-i.coordinates[1]>=0||h.coordinates[1]-i.coordinates[1]>=0?c.coordinates[1]-h.coordinates[1]:h.coordinates[1]-c.coordinates[1];var g=xb(i.coordinates,c.coordinates,h.coordinates);return g<0?1:g>0?-1:Math.pow(c.coordinates[0]-i.coordinates[0],2)+Math.pow(c.coordinates[1]-i.coordinates[1],2)-(Math.pow(h.coordinates[0]-i.coordinates[0],2)+Math.pow(h.coordinates[1]-i.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(i){return this.sortOuterEdges(),this.outerEdges[i]},e.prototype.addInnerEdge=function(i){this.innerEdges.push(i)},e}(),zM=function(){function e(i,s){this.from=i,this.to=s,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(i){return this.from.id===i.from.id&&this.to.id===i.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return k([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(i){return xb(i.from.coordinates,i.to.coordinates,this.to.coordinates)},e}(),m_=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(i){this.edges.push(i),this.polygon=this.envelope=void 0},e.prototype.get=function(i){return this.edges[i]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(i){this.edges.forEach(i)},e.prototype.map=function(i){return this.edges.map(i)},e.prototype.some=function(i){return this.edges.some(i)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var i=this,s=this.edges.reduce(function(g,y,w){return y.from.coordinates[1]>i.edges[g].from.coordinates[1]&&(g=w),g},0),a=(s===0?this.length:s)-1,c=(s+1)%this.length,h=xb(this.edges[a].from.coordinates,this.edges[s].from.coordinates,this.edges[c].from.coordinates);return h===0?this.edges[a].from.coordinates[0]>this.edges[c].from.coordinates[0]:h>0},e.prototype.toMultiPoint=function(){return F(this.edges.map(function(i){return i.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var i=this.edges.map(function(s){return s.from.coordinates});return i.push(this.edges[0].from.coordinates),this.polygon=v([i])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Uh(this.toPolygon())},e.findEdgeRingContaining=function(i,s){var a,c,h=i.getEnvelope();return s.forEach(function(g){var y,w,x,T,E,P,z=g.getEnvelope();if(c&&(a=c.getEnvelope()),w=h,x=(y=z).geometry.coordinates[0].map(function(D){return D[0]}),T=y.geometry.coordinates[0].map(function(D){return D[1]}),E=w.geometry.coordinates[0].map(function(D){return D[0]}),P=w.geometry.coordinates[0].map(function(D){return D[1]}),(Math.max.apply(null,x)!==Math.max.apply(null,E)||Math.max.apply(null,T)!==Math.max.apply(null,P)||Math.min.apply(null,x)!==Math.min.apply(null,E)||Math.min.apply(null,T)!==Math.min.apply(null,P))&&f_(z,h)){for(var N=i.map(function(D){return D.from.coordinates}),B=void 0,I=function(D){g.some(function(Z){return K=D,tt=Z.from.coordinates,K[0]===tt[0]&&K[1]===tt[1];var K,tt})||(B=D)},Y=0,it=N;Y<it.length;Y++)I(it[Y]);B&&g.inside(p(B))&&(c&&!f_(a,z)||(c=g))}}),c},e.prototype.inside=function(i){return $e(i,this.toPolygon())},e}(),NM=function(){function e(){this.edges=[],this.nodes={}}return e.fromGeoJson=function(i){(function(a){if(!a)throw new Error("No geojson passed");if(a.type!=="FeatureCollection"&&a.type!=="GeometryCollection"&&a.type!=="MultiLineString"&&a.type!=="LineString"&&a.type!=="Feature")throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(i);var s=new e;return se(i,function(a){xt(a,"LineString","Graph::fromGeoJson"),de(a,function(c,h){if(c){var g=s.getNode(c),y=s.getNode(h);s.addEdge(g,y)}return h})}),s},e.prototype.getNode=function(i){var s=g_.buildId(i),a=this.nodes[s];return a||(a=this.nodes[s]=new g_(i)),a},e.prototype.addEdge=function(i,s){var a=new zM(i,s),c=a.getSymetric();this.edges.push(a),this.edges.push(c)},e.prototype.deleteDangles=function(){var i=this;Object.keys(this.nodes).map(function(s){return i.nodes[s]}).forEach(function(s){return i._removeIfDangle(s)})},e.prototype._removeIfDangle=function(i){var s=this;if(i.innerEdges.length<=1){var a=i.getOuterEdges().map(function(c){return c.to});this.removeNode(i),a.forEach(function(c){return s._removeIfDangle(c)})}},e.prototype.deleteCutEdges=function(){var i=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(s){s.label===s.symetric.label&&(i.removeEdge(s.symetric),i.removeEdge(s))})},e.prototype._computeNextCWEdges=function(i){var s=this;i===void 0?Object.keys(this.nodes).forEach(function(a){return s._computeNextCWEdges(s.nodes[a])}):i.getOuterEdges().forEach(function(a,c){i.getOuterEdge((c===0?i.getOuterEdges().length:c)-1).symetric.next=a})},e.prototype._computeNextCCWEdges=function(i,s){for(var a,c,h=i.getOuterEdges(),g=h.length-1;g>=0;--g){var y=h[g],w=y.symetric,x=void 0,T=void 0;y.label===s&&(x=y),w.label===s&&(T=w),x&&T&&(T&&(c=T),x&&(c&&(c.next=x,c=void 0),a||(a=x)))}c&&(c.next=a)},e.prototype._findLabeledEdgeRings=function(){var i=[],s=0;return this.edges.forEach(function(a){if(!(a.label>=0)){i.push(a);var c=a;do c.label=s,c=c.next;while(!a.isEqual(c));s++}}),i},e.prototype.getEdgeRings=function(){var i=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(a){i._findIntersectionNodes(a).forEach(function(c){i._computeNextCCWEdges(c,a.label)})});var s=[];return this.edges.forEach(function(a){a.ring||s.push(i._findEdgeRing(a))}),s},e.prototype._findIntersectionNodes=function(i){var s=[],a=i,c=function(){var h=0;a.from.getOuterEdges().forEach(function(g){g.label===i.label&&++h}),h>1&&s.push(a.from),a=a.next};do c();while(!i.isEqual(a));return s},e.prototype._findEdgeRing=function(i){var s=i,a=new m_;do a.push(s),s.ring=a,s=s.next;while(!i.isEqual(s));return a},e.prototype.removeNode=function(i){var s=this;i.getOuterEdges().forEach(function(a){return s.removeEdge(a)}),i.innerEdges.forEach(function(a){return s.removeEdge(a)}),delete this.nodes[i.id]},e.prototype.removeEdge=function(i){this.edges=this.edges.filter(function(s){return!s.isEqual(i)}),i.deleteEdge()},e}();function v_(e,i){var s=!0;return se(e,function(a){se(i,function(c){if(s===!1)return!1;s=function(h,g){switch(h.type){case"Point":switch(g.type){case"Point":return y=h.coordinates,w=g.coordinates,!(y[0]===w[0]&&y[1]===w[1]);case"LineString":return!y_(g,h);case"Polygon":return!$e(h,g)}break;case"LineString":switch(g.type){case"Point":return!y_(h,g);case"LineString":return!function(x,T){return dn(x,T).features.length>0}(h,g);case"Polygon":return!b_(g,h)}break;case"Polygon":switch(g.type){case"Point":return!$e(g,h);case"LineString":return!b_(h,g);case"Polygon":return!function(x,T){for(var E=0,P=x.coordinates[0];E<P.length;E++)if($e(P[E],T))return!0;for(var z=0,N=T.coordinates[0];z<N.length;z++)if($e(N[z],x))return!0;return dn(An(x),An(T)).features.length>0}(g,h)}}var y,w;return!1}(a.geometry,c.geometry)})}),s}function y_(e,i){for(var s=0;s<e.coordinates.length-1;s++)if(DM(e.coordinates[s],e.coordinates[s+1],i.coordinates))return!0;return!1}function b_(e,i){for(var s=0,a=i.coordinates;s<a.length;s++)if($e(a[s],e))return!0;return dn(i,An(e)).features.length>0}function DM(e,i,s){var a=s[0]-e[0],c=s[1]-e[1],h=i[0]-e[0],g=i[1]-e[1];return a*g-c*h==0&&(Math.abs(h)>=Math.abs(g)?h>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:g>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1])}function w_(e,i){return!(e[0]>i[0])&&!(e[2]<i[2])&&!(e[1]>i[1])&&!(e[3]<i[3])}function _b(e,i){return e[0]===i[0]&&e[1]===i[1]}function FM(e,i){return[(e[0]+i[0])/2,(e[1]+i[1])/2]}function x_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&!s&&!a;){for(var g=0;g<i.coordinates.length-1;g++){var y=!0;g!==0&&g!==i.coordinates.length-2||(y=!1),E_(i.coordinates[g],i.coordinates[g+1],e.coordinates[h],y)?s=!0:a=!0}h++}return s&&a}function __(e,i){return dn(e,Wn(i)).features.length>0}function k_(e,i){for(var s=!1,a=!1,c=e.coordinates.length,h=0;h<c&&(!s||!a);h++)$e(p(e.coordinates[h]),i)?s=!0:a=!0;return a&&s}function E_(e,i,s,a){var c=s[0]-e[0],h=s[1]-e[1],g=i[0]-e[0],y=i[1]-e[1];return c*y-h*g==0&&(a?Math.abs(g)>=Math.abs(y)?g>0?e[0]<=s[0]&&s[0]<=i[0]:i[0]<=s[0]&&s[0]<=e[0]:y>0?e[1]<=s[1]&&s[1]<=i[1]:i[1]<=s[1]&&s[1]<=e[1]:Math.abs(g)>=Math.abs(y)?g>0?e[0]<s[0]&&s[0]<i[0]:i[0]<s[0]&&s[0]<e[0]:y>0?e[1]<s[1]&&s[1]<i[1]:i[1]<s[1]&&s[1]<e[1])}var Ha=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:BM};function T_(e){return e.coordinates.map(function(i){return{type:e.type.replace("Multi",""),coordinates:i}})}function S_(e,i){return e.hasOwnProperty("coordinates")?e.coordinates.length===i.coordinates.length:e.length===i.length}function BM(e,i){return Rc(e,i,{strict:!0})}Ha.prototype.compare=function(e,i){if(e.type!==i.type||!S_(e,i))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,i.coordinates);case"LineString":return this.compareLine(e.coordinates,i.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,i);case"Feature":return this.compareFeature(e,i);default:if(e.type.indexOf("Multi")===0){var s=this,a=T_(e),c=T_(i);return a.every(function(h){return this.some(function(g){return s.compare(h,g)})},c)}}return!1},Ha.prototype.compareCoord=function(e,i){if(e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(e[s].toFixed(this.precision)!==i[s].toFixed(this.precision))return!1;return!0},Ha.prototype.compareLine=function(e,i,s,a){if(!S_(e,i))return!1;var c=this.pseudoNode?e:this.removePseudo(e),h=this.pseudoNode?i:this.removePseudo(i);if(!a||this.compareCoord(c[0],h[0])||(h=this.fixStartIndex(h,c))){var g=this.compareCoord(c[s],h[s]);return this.direction||g?this.comparePath(c,h):!!this.compareCoord(c[s],h[h.length-(1+s)])&&this.comparePath(c.slice().reverse(),h)}},Ha.prototype.fixStartIndex=function(e,i){for(var s,a=-1,c=0;c<e.length;c++)if(this.compareCoord(e[c],i[0])){a=c;break}return a>=0&&(s=[].concat(e.slice(a,e.length),e.slice(1,a+1))),s},Ha.prototype.comparePath=function(e,i){var s=this;return e.every(function(a,c){return s.compareCoord(a,this[c])},i)},Ha.prototype.comparePolygon=function(e,i){if(this.compareLine(e.coordinates[0],i.coordinates[0],1,!0)){var s=e.coordinates.slice(1,e.coordinates.length),a=i.coordinates.slice(1,i.coordinates.length),c=this;return s.every(function(h){return this.some(function(g){return c.compareLine(h,g,1,!0)})},a)}return!1},Ha.prototype.compareFeature=function(e,i){return!(e.id!==i.id||!this.objectComparator(e.properties,i.properties)||!this.compareBBox(e,i))&&this.compare(e.geometry,i.geometry)},Ha.prototype.compareBBox=function(e,i){return!!(!e.bbox&&!i.bbox||e.bbox&&i.bbox&&this.compareCoord(e.bbox,i.bbox))},Ha.prototype.removePseudo=function(e){return e};var C_=Ha;function P_(e,i){var s=!1;return se(e,function(a){se(i,function(c){if(s===!0)return!0;s=!v_(a.geometry,c.geometry)})}),s}var jM=ts(function(e){function i(s,a,c,h){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(s,a,c,h)}i.prototype.run=function(s,a,c,h){this._init(s,a,c,h);for(var g=0;g<this._datasetLength;g++)if(this._visited[g]!==1){this._visited[g]=1;var y=this._regionQuery(g);if(y.length<this.minPts)this.noise.push(g);else{var w=this.clusters.length;this.clusters.push([]),this._addToCluster(g,w),this._expandCluster(w,y)}}return this.clusters},i.prototype._init=function(s,a,c,h){if(s){if(!(s instanceof Array))throw Error("Dataset must be of type array, "+typeof s+" given");this.dataset=s,this.clusters=[],this.noise=[],this._datasetLength=s.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}a&&(this.epsilon=a),c&&(this.minPts=c),h&&(this.distance=h)},i.prototype._expandCluster=function(s,a){for(var c=0;c<a.length;c++){var h=a[c];if(this._visited[h]!==1){this._visited[h]=1;var g=this._regionQuery(h);g.length>=this.minPts&&(a=this._mergeArrays(a,g))}this._assigned[h]!==1&&this._addToCluster(h,s)}},i.prototype._addToCluster=function(s,a){this.clusters[a].push(s),this._assigned[s]=1},i.prototype._regionQuery=function(s){for(var a=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[s],this.dataset[c])<this.epsilon&&a.push(c);return a},i.prototype._mergeArrays=function(s,a){for(var c=a.length,h=0;h<c;h++){var g=a[h];s.indexOf(g)<0&&s.push(g)}return s},i.prototype._euclideanDistance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;)c+=(s[h]-a[h])*(s[h]-a[h]);return Math.sqrt(c)},e.exports&&(e.exports=i)}),HM=ts(function(e){function i(s,a,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(s,a,c)}i.prototype.init=function(s,a,c){this.assignments=[],this.centroids=[],s!==void 0&&(this.dataset=s),a!==void 0&&(this.k=a),c!==void 0&&(this.distance=c)},i.prototype.run=function(s,a){this.init(s,a);for(var c=this.dataset.length,h=0;h<this.k;h++)this.centroids[h]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var y=0;y<this.k;y++){for(var w=new Array(P),x=0,T=0;T<P;T++)w[T]=0;for(var E=0;E<c;E++){var P=this.dataset[E].length;if(y===this.assignments[E]){for(T=0;T<P;T++)w[T]+=this.dataset[E][T];x++}}if(x>0){for(T=0;T<P;T++)w[T]/=x;this.centroids[y]=w}else this.centroids[y]=this.randomCentroid(),g=!0}}return this.getClusters()},i.prototype.randomCentroid=function(){var s,a,c=this.dataset.length-1;do a=Math.round(Math.random()*c),s=this.dataset[a];while(this.centroids.indexOf(s)>=0);return s},i.prototype.assign=function(){for(var s,a=!1,c=this.dataset.length,h=0;h<c;h++)(s=this.argmin(this.dataset[h],this.centroids,this.distance))!=this.assignments[h]&&(this.assignments[h]=s,a=!0);return a},i.prototype.getClusters=function(){for(var s,a=new Array(this.k),c=0;c<this.assignments.length;c++)a[s=this.assignments[c]]===void 0&&(a[s]=[]),a[s].push(c);return a},i.prototype.argmin=function(s,a,c){for(var h,g=Number.MAX_VALUE,y=0,w=a.length,x=0;x<w;x++)(h=c(s,a[x]))<g&&(g=h,y=x);return y},i.prototype.distance=function(s,a){for(var c=0,h=Math.min(s.length,a.length);h--;){var g=s[h]-a[h];c+=g*g}return Math.sqrt(c)},e.exports&&(e.exports=i)}),M_=ts(function(e){function i(s,a,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(s,a,c)}i.prototype.insert=function(s,a){for(var c=this._queue.length,h=c;h--;){var g=this._priorities[h];this._sorting==="desc"?a>g&&(c=h):a<g&&(c=h)}this._insertAt(s,a,c)},i.prototype.remove=function(s){for(var a=this._queue.length;a--;)if(s===this._queue[a]){this._queue.splice(a,1),this._priorities.splice(a,1);break}},i.prototype.forEach=function(s){this._queue.forEach(s)},i.prototype.getElements=function(){return this._queue},i.prototype.getElementPriority=function(s){return this._priorities[s]},i.prototype.getPriorities=function(){return this._priorities},i.prototype.getElementsWithPriorities=function(){for(var s=[],a=0,c=this._queue.length;a<c;a++)s.push([this._queue[a],this._priorities[a]]);return s},i.prototype._init=function(s,a,c){if(s&&a){if(this._queue=[],this._priorities=[],s.length!==a.length)throw new Error("Arrays must have the same length");for(var h=0;h<s.length;h++)this.insert(s[h],a[h])}c&&(this._sorting=c)},i.prototype._insertAt=function(s,a,c){this._queue.length===c?(this._queue.push(s),this._priorities.push(a)):(this._queue.splice(c,0,s),this._priorities.splice(c,0,a))},e.exports&&(e.exports=i)}),UM=ts(function(e){if(e.exports)var i=M_;function s(a,c,h,g){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,c,h,g)}s.prototype.run=function(a,c,h,g){this._init(a,c,h,g);for(var y=0,w=this.dataset.length;y<w;y++)if(this._processed[y]!==1){this._processed[y]=1,this.clusters.push([y]);var x=this.clusters.length-1;this._orderedList.push(y);var T=new i(null,null,"asc"),E=this._regionQuery(y);this._distanceToCore(y)!==void 0&&(this._updateQueue(y,E,T),this._expandCluster(x,T))}return this.clusters},s.prototype.getReachabilityPlot=function(){for(var a=[],c=0,h=this._orderedList.length;c<h;c++){var g=this._orderedList[c],y=this._reachability[g];a.push([g,y])}return a},s.prototype._init=function(a,c,h,g){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+typeof a+" given");this.dataset=a,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}c&&(this.epsilon=c),h&&(this.minPts=h),g&&(this.distance=g)},s.prototype._updateQueue=function(a,c,h){var g=this;this._coreDistance=this._distanceToCore(a),c.forEach(function(y){if(g._processed[y]===void 0){var w=g.distance(g.dataset[a],g.dataset[y]),x=Math.max(g._coreDistance,w);g._reachability[y]===void 0?(g._reachability[y]=x,h.insert(y,x)):x<g._reachability[y]&&(g._reachability[y]=x,h.remove(y),h.insert(y,x))}})},s.prototype._expandCluster=function(a,c){for(var h=c.getElements(),g=0,y=h.length;g<y;g++){var w=h[g];if(this._processed[w]===void 0){var x=this._regionQuery(w);this._processed[w]=1,this.clusters[a].push(w),this._orderedList.push(w),this._distanceToCore(w)!==void 0&&(this._updateQueue(w,x,c),this._expandCluster(a,c))}}},s.prototype._distanceToCore=function(a){for(var c=this.epsilon,h=0;h<c;h++)if(this._regionQuery(a,h).length>=this.minPts)return h},s.prototype._regionQuery=function(a,c){c=c||this.epsilon;for(var h=[],g=0,y=this.dataset.length;g<y;g++)this.distance(this.dataset[a],this.dataset[g])<c&&h.push(g);return h},s.prototype._euclideanDistance=function(a,c){for(var h=0,g=Math.min(a.length,c.length);g--;)h+=(a[g]-c[g])*(a[g]-c[g]);return Math.sqrt(h)},e.exports&&(e.exports=s)}),GM=ts(function(e){e.exports&&(e.exports={DBSCAN:jM,KMEANS:HM,OPTICS:UM,PriorityQueue:M_})}),I_=function(e,i,s){for(var a=e.length,c=0,h=0;h<a;h++){var g=(e[h]||0)-(i[h]||0);c+=g*g}return s?Math.sqrt(c):c},qM=I_,VM=function(e,i,s){var a=Math.abs(e-i);return s?a:a*a},WM=I_,ZM=function(e,i){for(var s={},a=[],c=i<<2,h=e.length,g=e[0].length>0;a.length<i&&c-- >0;){var y=e[Math.floor(Math.random()*h)],w=g?y.join("_"):""+y;s[w]||(s[w]=!0,a.push(y))}if(a.length<i)throw new Error("Error initializating clusters");return a},YM=function(e,i){var s=e[0].length?qM:VM,a=[],c=e.length,h=e[0].length>0,g=e[Math.floor(Math.random()*c)];for(h&&g.join("_"),a.push(g);a.length<i;){for(var y=[],w=a.length,x=0,T=[],E=0;E<c;E++){for(var P=1/0,z=0;z<w;z++){var N=s(e[E],a[z]);N<=P&&(P=N)}y[E]=P}for(var B=0;B<c;B++)x+=y[B];for(var I=0;I<c;I++)T[I]={i:I,v:e[I],pr:y[I]/x,cs:0};T.sort(function(Z,K){return Z.pr-K.pr}),T[0].cs=T[0].pr;for(var Y=1;Y<c;Y++)T[Y].cs=T[Y-1].cs+T[Y].pr;for(var it=Math.random(),D=0;D<c-1&&T[D++].cs<it;);a.push(T[D-1].v)}return a};function L_(e,i,s){s=s||[];for(var a=0;a<e;a++)s[a]=i;return s}var XM=function(e,i,s,a){var c=[],h=[],g=[],y=[],w=!1,x=a||1e4,T=e.length,E=e[0].length,P=E>0,z=[];if(s)c=s=="kmrand"?ZM(e,i):s=="kmpp"?YM(e,i):s;else for(var N={};c.length<i;){var B=Math.floor(Math.random()*T);N[B]||(N[B]=!0,c.push(e[B]))}do{L_(i,0,z);for(var I=0;I<T;I++){for(var Y=1/0,it=0,D=0;D<i;D++)(y=P?WM(e[I],c[D]):Math.abs(e[I]-c[D]))<=Y&&(Y=y,it=D);g[I]=it,z[it]++}for(var Z=[],K=(h=[],0);K<i;K++)Z[K]=P?L_(E,0,Z[K]):0,h[K]=c[K];if(P){for(var tt=0;tt<i;tt++)c[tt]=[];for(var Q=0;Q<T;Q++)for(var Rt=Z[g[Q]],Et=e[Q],Nt=0;Nt<E;Nt++)Rt[Nt]+=Et[Nt];w=!0;for(var Tt=0;Tt<i;Tt++){for(var jt=c[Tt],Mt=Z[Tt],Pt=h[Tt],St=z[Tt],Dt=0;Dt<E;Dt++)jt[Dt]=Mt[Dt]/St||0;if(w){for(var It=0;It<E;It++)if(Pt[It]!=jt[It]){w=!1;break}}}}else{for(var Ut=0;Ut<T;Ut++)Z[g[Ut]]+=e[Ut];for(var gt=0;gt<i;gt++)c[gt]=Z[gt]/z[gt]||0;w=!0;for(var Re=0;Re<i;Re++)if(h[Re]!=c[Re]){w=!1;break}}w=w||--x<=0}while(!w);return{it:1e4-x,k:i,idxs:g,centroids:c}};function KM(e,i){return pt(zl(e[0],e[1]))===pt(zl(i[0],i[1]))}function R_(e,i){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+i)}function A_(e){for(var i=e,s=[];i.parent;)s.unshift(i),i=i.parent;return s}var Km={search:function(e,i,s,a){e.cleanDirty();var c=(a=a||{}).heuristic||Km.heuristics.manhattan,h=a.closest||!1,g=new O_(function(B){return B.f}),y=i;for(i.h=c(i,s),g.push(i);g.size()>0;){var w=g.pop();if(w===s)return A_(w);w.closed=!0;for(var x=e.neighbors(w),T=0,E=x.length;T<E;++T){var P=x[T];if(!P.closed&&!P.isWall()){var z=w.g+P.getCost(w),N=P.visited;(!N||z<P.g)&&(P.visited=!0,P.parent=w,P.h=P.h||c(P,s),P.g=z,P.f=P.g+P.h,e.markDirty(P),h&&(P.h<y.h||P.h===y.h&&P.g<y.g)&&(y=P),N?g.rescoreElement(P):g.push(P))}}}return h?A_(y):[]},heuristics:{manhattan:function(e,i){return Math.abs(i.x-e.x)+Math.abs(i.y-e.y)},diagonal:function(e,i){var s=Math.sqrt(2),a=Math.abs(i.x-e.x),c=Math.abs(i.y-e.y);return 1*(a+c)+(s-2)*Math.min(a,c)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function ld(e,i){i=i||{},this.nodes=[],this.diagonal=!!i.diagonal,this.grid=[];for(var s=0;s<e.length;s++){this.grid[s]=[];for(var a=0,c=e[s];a<c.length;a++){var h=new Jm(s,a,c[a]);this.grid[s][a]=h,this.nodes.push(h)}}this.init()}function Jm(e,i,s){this.x=e,this.y=i,this.weight=s}function O_(e){this.content=[],this.scoreFunction=e}function JM(e,i){for(var s=0;s<i.features.length;s++)if($e(e,i.features[s]))return!0;return!1}function z_(e){return function(){return e}}function QM(e){return e[0]}function $M(e){return e[1]}function Qm(){this._=null}function $m(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function uf(e,i){var s=i,a=i.R,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.R=a.L,s.R&&(s.R.U=s),a.L=s}function hf(e,i){var s=i,a=i.L,c=s.U;c?c.L===s?c.L=a:c.R=a:e._=a,a.U=c,s.U=a,s.L=a.R,s.L&&(s.L.U=s),a.R=s}function N_(e){for(;e.L;)e=e.L;return e}function df(e,i,s,a){var c=[null,null],h=io.push(c)-1;return c.left=e,c.right=i,s&&t0(c,e,i,s),a&&t0(c,i,e,a),is[e.index].halfedges.push(h),is[i.index].halfedges.push(h),c}function pf(e,i,s){var a=[i,s];return a.left=e,a}function t0(e,i,s,a){e[0]||e[1]?e.left===s?e[1]=a:e[0]=a:(e[0]=a,e.left=i,e.right=s)}function tI(e,i,s,a,c){var h,g=e[0],y=e[1],w=g[0],x=g[1],T=0,E=1,P=y[0]-w,z=y[1]-x;if(h=i-w,P||!(h>0)){if(h/=P,P<0){if(h<T)return;h<E&&(E=h)}else if(P>0){if(h>E)return;h>T&&(T=h)}if(h=a-w,P||!(h<0)){if(h/=P,P<0){if(h>E)return;h>T&&(T=h)}else if(P>0){if(h<T)return;h<E&&(E=h)}if(h=s-x,z||!(h>0)){if(h/=z,z<0){if(h<T)return;h<E&&(E=h)}else if(z>0){if(h>E)return;h>T&&(T=h)}if(h=c-x,z||!(h<0)){if(h/=z,z<0){if(h>E)return;h>T&&(T=h)}else if(z>0){if(h<T)return;h<E&&(E=h)}return!(T>0||E<1)||(T>0&&(e[0]=[w+T*P,x+T*z]),E<1&&(e[1]=[w+E*P,x+E*z]),!0)}}}}}function eI(e,i,s,a,c){var h=e[1];if(h)return!0;var g,y,w=e[0],x=e.left,T=e.right,E=x[0],P=x[1],z=T[0],N=T[1],B=(E+z)/2,I=(P+N)/2;if(N===P){if(B<i||B>=a)return;if(E>z){if(w){if(w[1]>=c)return}else w=[B,s];h=[B,c]}else{if(w){if(w[1]<s)return}else w=[B,c];h=[B,s]}}else if(y=I-(g=(E-z)/(N-P))*B,g<-1||g>1)if(E>z){if(w){if(w[1]>=c)return}else w=[(s-y)/g,s];h=[(c-y)/g,c]}else{if(w){if(w[1]<s)return}else w=[(c-y)/g,c];h=[(s-y)/g,s]}else if(P<N){if(w){if(w[0]>=a)return}else w=[i,g*i+y];h=[a,g*a+y]}else{if(w){if(w[0]<i)return}else w=[a,g*a+y];h=[i,g*i+y]}return e[0]=w,e[1]=h,!0}function rI(e,i){var s=e.site,a=i.left,c=i.right;return s===c&&(c=a,a=s),c?Math.atan2(c[1]-a[1],c[0]-a[0]):(s===a?(a=i[1],c=i[0]):(a=i[0],c=i[1]),Math.atan2(a[0]-c[0],c[1]-a[1]))}function D_(e,i){return i[+(i.left!==e.site)]}function iI(e,i){return i[+(i.left===e.site)]}ld.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)Km.cleanNode(this.nodes[e])},ld.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)Km.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},ld.prototype.markDirty=function(e){this.dirtyNodes.push(e)},ld.prototype.neighbors=function(e){var i=[],s=e.x,a=e.y,c=this.grid;return c[s-1]&&c[s-1][a]&&i.push(c[s-1][a]),c[s+1]&&c[s+1][a]&&i.push(c[s+1][a]),c[s]&&c[s][a-1]&&i.push(c[s][a-1]),c[s]&&c[s][a+1]&&i.push(c[s][a+1]),this.diagonal&&(c[s-1]&&c[s-1][a-1]&&i.push(c[s-1][a-1]),c[s+1]&&c[s+1][a-1]&&i.push(c[s+1][a-1]),c[s-1]&&c[s-1][a+1]&&i.push(c[s-1][a+1]),c[s+1]&&c[s+1][a+1]&&i.push(c[s+1][a+1])),i},ld.prototype.toString=function(){for(var e,i,s,a,c=[],h=this.grid,g=0,y=h.length;g<y;g++){for(e=[],s=0,a=(i=h[g]).length;s<a;s++)e.push(i[s].weight);c.push(e.join(" "))}return c.join(`
`)},Jm.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Jm.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Jm.prototype.isWall=function(){return this.weight===0},O_.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],i=this.content.pop();return this.content.length>0&&(this.content[0]=i,this.bubbleUp(0)),e},remove:function(e){var i=this.content.indexOf(e),s=this.content.pop();i!==this.content.length-1&&(this.content[i]=s,this.scoreFunction(s)<this.scoreFunction(e)?this.sinkDown(i):this.bubbleUp(i))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var i=this.content[e];e>0;){var s=(e+1>>1)-1,a=this.content[s];if(!(this.scoreFunction(i)<this.scoreFunction(a)))break;this.content[s]=i,this.content[e]=a,e=s}},bubbleUp:function(e){for(var i=this.content.length,s=this.content[e],a=this.scoreFunction(s);;){var c,h=e+1<<1,g=h-1,y=null;if(g<i){var w=this.content[g];(c=this.scoreFunction(w))<a&&(y=g)}if(h<i){var x=this.content[h];this.scoreFunction(x)<(y===null?a:c)&&(y=h)}if(y===null)break;this.content[e]=this.content[y],this.content[y]=s,e=y}}},Qm.prototype={constructor:Qm,insert:function(e,i){var s,a,c;if(e){if(i.P=e,i.N=e.N,e.N&&(e.N.P=i),e.N=i,e.R){for(e=e.R;e.L;)e=e.L;e.L=i}else e.R=i;s=e}else this._?(e=N_(this._),i.P=null,i.N=e,e.P=e.L=i,s=e):(i.P=i.N=null,this._=i,s=null);for(i.L=i.R=null,i.U=s,i.C=!0,e=i;s&&s.C;)s===(a=s.U).L?(c=a.R)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.R&&(uf(this,s),s=(e=s).U),s.C=!1,a.C=!0,hf(this,a)):(c=a.L)&&c.C?(s.C=c.C=!1,a.C=!0,e=a):(e===s.L&&(hf(this,s),s=(e=s).U),s.C=!1,a.C=!0,uf(this,a)),s=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var i,s,a,c=e.U,h=e.L,g=e.R;if(s=h?g?N_(g):h:g,c?c.L===e?c.L=s:c.R=s:this._=s,h&&g?(a=s.C,s.C=e.C,s.L=h,h.U=s,s!==g?(c=s.U,s.U=e.U,e=s.R,c.L=e,s.R=g,g.U=s):(s.U=c,c=s,e=s.R)):(a=e.C,e=s),e&&(e.U=c),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===c.L){if((i=c.R).C&&(i.C=!1,c.C=!0,uf(this,c),i=c.R),i.L&&i.L.C||i.R&&i.R.C){i.R&&i.R.C||(i.L.C=!1,i.C=!0,hf(this,i),i=c.R),i.C=c.C,c.C=i.R.C=!1,uf(this,c),e=this._;break}}else if((i=c.L).C&&(i.C=!1,c.C=!0,hf(this,c),i=c.L),i.L&&i.L.C||i.R&&i.R.C){i.L&&i.L.C||(i.R.C=!1,i.C=!0,uf(this,i),i=c.L),i.C=c.C,c.C=i.L.C=!1,hf(this,c),e=this._;break}i.C=!0,e=c,c=c.U}while(!e.C);e&&(e.C=!1)}}};var kb,F_=[];function nI(){$m(this),this.x=this.y=this.arc=this.site=this.cy=null}function cd(e){var i=e.P,s=e.N;if(i&&s){var a=i.site,c=e.site,h=s.site;if(a!==h){var g=c[0],y=c[1],w=a[0]-g,x=a[1]-y,T=h[0]-g,E=h[1]-y,P=2*(w*E-x*T);if(!(P>=-cI)){var z=w*w+x*x,N=T*T+E*E,B=(E*z-x*N)/P,I=(w*N-T*z)/P,Y=F_.pop()||new nI;Y.arc=e,Y.site=c,Y.x=B+g,Y.y=(Y.cy=I+y)+Math.sqrt(B*B+I*I),e.circle=Y;for(var it=null,D=ff._;D;)if(Y.y<D.y||Y.y===D.y&&Y.x<=D.x){if(!D.L){it=D.P;break}D=D.L}else{if(!D.R){it=D;break}D=D.R}ff.insert(it,Y),it||(kb=Y)}}}}function ud(e){var i=e.circle;i&&(i.P||(kb=i.N),ff.remove(i),F_.push(i),$m(i),e.circle=null)}var B_=[];function oI(){$m(this),this.edge=this.site=this.circle=null}function j_(e){var i=B_.pop()||new oI;return i.site=e,i}function Eb(e){ud(e),hd.remove(e),B_.push(e),$m(e)}function sI(e){var i=e.circle,s=i.x,a=i.cy,c=[s,a],h=e.P,g=e.N,y=[e];Eb(e);for(var w=h;w.circle&&Math.abs(s-w.circle.x)<_i&&Math.abs(a-w.circle.cy)<_i;)h=w.P,y.unshift(w),Eb(w),w=h;y.unshift(w),ud(w);for(var x=g;x.circle&&Math.abs(s-x.circle.x)<_i&&Math.abs(a-x.circle.cy)<_i;)g=x.N,y.push(x),Eb(x),x=g;y.push(x),ud(x);var T,E=y.length;for(T=1;T<E;++T)x=y[T],w=y[T-1],t0(x.edge,w.site,x.site,c);w=y[0],(x=y[E-1]).edge=df(w.site,x.site,null,c),cd(w),cd(x)}function aI(e){for(var i,s,a,c,h=e[0],g=e[1],y=hd._;y;)if((a=H_(y,g)-h)>_i)y=y.L;else{if(!((c=h-lI(y,g))>_i)){a>-_i?(i=y.P,s=y):c>-_i?(i=y,s=y.N):i=s=y;break}if(!y.R){i=y;break}y=y.R}(function(K){is[K.index]={site:K,halfedges:[]}})(e);var w=j_(e);if(hd.insert(i,w),i||s){if(i===s)return ud(i),s=j_(i.site),hd.insert(w,s),w.edge=s.edge=df(i.site,w.site),cd(i),void cd(s);if(s){ud(i),ud(s);var x=i.site,T=x[0],E=x[1],P=e[0]-T,z=e[1]-E,N=s.site,B=N[0]-T,I=N[1]-E,Y=2*(P*I-z*B),it=P*P+z*z,D=B*B+I*I,Z=[(I*it-z*D)/Y+T,(P*D-B*it)/Y+E];t0(s.edge,x,N,Z),w.edge=df(x,e,null,Z),s.edge=df(e,N,null,Z),cd(i),cd(s)}else w.edge=df(i.site,w.site)}}function H_(e,i){var s=e.site,a=s[0],c=s[1],h=c-i;if(!h)return a;var g=e.P;if(!g)return-1/0;var y=(s=g.site)[0],w=s[1],x=w-i;if(!x)return y;var T=y-a,E=1/h-1/x,P=T/x;return E?(-P+Math.sqrt(P*P-2*E*(T*T/(-2*x)-w+x/2+c-h/2)))/E+a:(a+y)/2}function lI(e,i){var s=e.N;if(s)return H_(s,i);var a=e.site;return a[1]===i?a[0]:1/0}var hd,is,ff,io,_i=1e-6,cI=1e-12;function uI(e,i){return i[1]-e[1]||i[0]-e[0]}function Tb(e,i){var s,a,c,h=e.sort(uI).pop();for(io=[],is=new Array(e.length),hd=new Qm,ff=new Qm;;)if(c=kb,h&&(!c||h[1]<c.y||h[1]===c.y&&h[0]<c.x))h[0]===s&&h[1]===a||(aI(h),s=h[0],a=h[1]),h=e.pop();else{if(!c)break;sI(c.arc)}if(function(){for(var T,E,P,z,N=0,B=is.length;N<B;++N)if((T=is[N])&&(z=(E=T.halfedges).length)){var I=new Array(z),Y=new Array(z);for(P=0;P<z;++P)I[P]=P,Y[P]=rI(T,io[E[P]]);for(I.sort(function(it,D){return Y[D]-Y[it]}),P=0;P<z;++P)Y[P]=E[I[P]];for(P=0;P<z;++P)E[P]=Y[P]}}(),i){var g=+i[0][0],y=+i[0][1],w=+i[1][0],x=+i[1][1];(function(T,E,P,z){for(var N,B=io.length;B--;)eI(N=io[B],T,E,P,z)&&tI(N,T,E,P,z)&&(Math.abs(N[0][0]-N[1][0])>_i||Math.abs(N[0][1]-N[1][1])>_i)||delete io[B]})(g,y,w,x),function(T,E,P,z){var N,B,I,Y,it,D,Z,K,tt,Q,Rt,Et,Nt=is.length,Tt=!0;for(N=0;N<Nt;++N)if(B=is[N]){for(I=B.site,Y=(it=B.halfedges).length;Y--;)io[it[Y]]||it.splice(Y,1);for(Y=0,D=it.length;Y<D;)Rt=(Q=iI(B,io[it[Y]]))[0],Et=Q[1],K=(Z=D_(B,io[it[++Y%D]]))[0],tt=Z[1],(Math.abs(Rt-K)>_i||Math.abs(Et-tt)>_i)&&(it.splice(Y,0,io.push(pf(I,Q,Math.abs(Rt-T)<_i&&z-Et>_i?[T,Math.abs(K-T)<_i?tt:z]:Math.abs(Et-z)<_i&&P-Rt>_i?[Math.abs(tt-z)<_i?K:P,z]:Math.abs(Rt-P)<_i&&Et-E>_i?[P,Math.abs(K-P)<_i?tt:E]:Math.abs(Et-E)<_i&&Rt-T>_i?[Math.abs(tt-E)<_i?K:T,E]:null))-1),++D);D&&(Tt=!1)}if(Tt){var jt,Mt,Pt,St=1/0;for(N=0,Tt=null;N<Nt;++N)(B=is[N])&&(Pt=(jt=(I=B.site)[0]-T)*jt+(Mt=I[1]-E)*Mt)<St&&(St=Pt,Tt=B);if(Tt){var Dt=[T,E],It=[T,z],Ut=[P,z],gt=[P,E];Tt.halfedges.push(io.push(pf(I=Tt.site,Dt,It))-1,io.push(pf(I,It,Ut))-1,io.push(pf(I,Ut,gt))-1,io.push(pf(I,gt,Dt))-1)}}for(N=0;N<Nt;++N)(B=is[N])&&(B.halfedges.length||delete is[N])}(g,y,w,x)}this.edges=io,this.cells=is,hd=ff=io=is=null}function hI(e){return(e=e.slice()).push(e[0]),v([e])}function U_(e,i,s,a){var c=(a=a||{}).steps||64,h=a.units||"kilometers",g=a.angle||0,y=a.pivot||e,w=a.properties||e.properties||{};if(!e)throw new Error("center is required");if(!i)throw new Error("xSemiAxis is required");if(!s)throw new Error("ySemiAxis is required");if(!mt(a))throw new Error("options must be an object");if(!ht(c))throw new Error("steps must be a number");if(!ht(g))throw new Error("angle must be a number");var x=O(e);if(h==="degrees")var T=ct(g);else i=ad(e,i,90,{units:h}),s=ad(e,s,0,{units:h}),i=O(i)[0]-x[0],s=O(s)[1]-x[1];for(var E=[],P=0;P<c;P+=1){var z=-360*P/c,N=i*s/Math.sqrt(Math.pow(s,2)+Math.pow(i,2)*Math.pow(G_(z),2)),B=i*s/Math.sqrt(Math.pow(i,2)+Math.pow(s,2)/Math.pow(G_(z),2));if(z<-90&&z>=-270&&(N=-N),z<-180&&z>=-360&&(B=-B),h==="degrees"){var I=N*Math.cos(T)+B*Math.sin(T),Y=B*Math.cos(T)-N*Math.sin(T);N=I,B=Y}E.push([N+x[0],B+x[1]])}return E.push(E[0]),h==="degrees"?v([E],w):u_(v([E],w),g,{pivot:y})}function G_(e){var i=e*Math.PI/180;return Math.tan(i)}function Sb(e,i){i===void 0&&(i={});var s=0,a=0,c=0;return ee(e,function(h,g,y){var w=i.weight?y==null?void 0:y[i.weight]:void 0;if(!ht(w=w??1))throw new Error("weight value must be a number for feature index "+g);(w=Number(w))>0&&Gt(h,function(x){s+=x[0]*w,a+=x[1]*w,c+=w})}),p([s/c,a/c],i.properties,i)}function q_(e,i,s,a,c){var h=a.tolerance||.001,g=0,y=0,w=0,x=0;if(wt(s,function(P){var z,N=(z=P.properties)===null||z===void 0?void 0:z.weight,B=N??1;if(!ht(B=Number(B)))throw new Error("weight value must be a number");if(B>0){x+=1;var I=B*or(P,e);I===0&&(I=1);var Y=B/I;g+=P.geometry.coordinates[0]*Y,y+=P.geometry.coordinates[1]*Y,w+=Y}}),x<1)throw new Error("no features to measure");var T=g/w,E=y/w;return x===1||c===0||Math.abs(T-i[0])<h&&Math.abs(E-i[1])<h?p([T,E],{medianCandidates:a.medianCandidates}):(a.medianCandidates.push([T,E]),q_([T,E],e,s,a,c-1))}function V_(e,i){return{x:e[0]-i[0],y:e[1]-i[1]}}function dI(e,i){var s=0,a=0;Gt(e,function(c,h,g,y,w){w>s&&(s=w,a=h,i.push([]));var x=h-a,T=e.coordinates[w][x+1],E=c[0],P=c[1],z=T[0],N=T[1];i[w].push([.75*E+.25*z,.75*P+.25*N]),i[w].push([.25*E+.75*z,.25*P+.75*N])},!0),i.forEach(function(c){c.push(c[0])})}function pI(e,i){var s=0,a=0,c=0;Gt(e,function(h,g,y,w,x){w>c&&(c=w,a=g,i.push([[]])),x>s&&(s=x,a=g,i[w].push([]));var T=g-a,E=e.coordinates[w][x][T+1],P=h[0],z=h[1],N=E[0],B=E[1];i[w][x].push([.75*P+.25*N,.75*z+.25*B]),i[w][x].push([.25*P+.75*N,.25*z+.75*B])},!0),i.forEach(function(h){h.forEach(function(g){g.push(g[0])})})}function fI(e,i,s){s===void 0&&(s=2);var a=O(e),c=O(i),h=a[0]-c[0],g=a[1]-c[1];return s===1?Math.abs(h)+Math.abs(g):Math.pow(Math.pow(h,s)+Math.pow(g,s),1/s)}function W_(e,i){var s=(i=i||{}).threshold||1e4,a=i.p||2,c=i.binary||!1,h=i.alpha||-1,g=i.standardization||!1,y=[];wt(e,function(z){y.push(ia(z))});for(var w=[],x=0;x<y.length;x++)w[x]=[];for(x=0;x<y.length;x++)for(var T=x;T<y.length;T++){x===T&&(w[x][T]=0);var E=fI(y[x],y[T],a);w[x][T]=E,w[T][x]=E}for(x=0;x<y.length;x++)for(T=0;T<y.length;T++)(E=w[x][T])!==0&&(w[x][T]=c?E<=s?1:0:E<=s?Math.pow(E,h):0);if(g)for(x=0;x<y.length;x++){var P=w[x].reduce(function(z,N){return z+N},0);for(T=0;T<y.length;T++)w[x][T]=w[x][T]/P}return w}function Z_(e){for(var i=0,s=0,a=e;s<a.length;s++)i+=a[s];return i/e.length}function Y_(e,i){return i===void 0&&(i={}),K_(e,"mercator",i)}function X_(e,i){return i===void 0&&(i={}),K_(e,"wgs84",i)}function K_(e,i,s){s===void 0&&(s={});var a=(s=s||{}).mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&ht(e[0])?e=i==="mercator"?J_(e):Q_(e):(a!==!0&&(e=Pi(e)),Gt(e,function(c){var h=i==="mercator"?J_(c):Q_(c);c[0]=h[0],c[1]=h[1]})),e}function J_(e){var i=Math.PI/180,s=6378137,a=20037508342789244e-9,c=[s*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(h){return h<0?-1:h>0?1:0}(e[0]))*i,s*Math.log(Math.tan(.25*Math.PI+.5*e[1]*i))];return c[0]>a&&(c[0]=a),c[0]<-a&&(c[0]=-a),c[1]>a&&(c[1]=a),c[1]<-a&&(c[1]=-a),c}function Q_(e){var i=180/Math.PI,s=6378137;return[e[0]*i/s,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/s)))*i]}Tb.prototype={constructor:Tb,polygons:function(){var e=this.edges;return this.cells.map(function(i){var s=i.halfedges.map(function(a){return D_(i,e[a])});return s.data=i.site.data,s})},triangles:function(){var e=[],i=this.edges;return this.cells.forEach(function(s,a){if(h=(c=s.halfedges).length)for(var c,h,g,y,w,x,T=s.site,E=-1,P=i[c[h-1]],z=P.left===T?P.right:P.left;++E<h;)g=z,z=(P=i[c[E]]).left===T?P.right:P.left,g&&z&&a<g.index&&a<z.index&&(w=g,x=z,((y=T)[0]-x[0])*(w[1]-y[1])-(y[0]-w[0])*(x[1]-y[1])<0)&&e.push([T.data,g.data,z.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,i,s){for(var a,c,h=this,g=h._found||0,y=h.cells.length;!(c=h.cells[g]);)if(++g>=y)return null;var w=e-c.site[0],x=i-c.site[1],T=w*w+x*x;do c=h.cells[a=g],g=null,c.halfedges.forEach(function(E){var P=h.edges[E],z=P.left;if(z!==c.site&&z||(z=P.right)){var N=e-z[0],B=i-z[1],I=N*N+B*B;I<T&&(T=I,g=z.index)}});while(g!==null);return h._found=a,s==null||T<=s*s?c.site:null}};var gI=Object.freeze({__proto__:null,toMercator:Y_,toWgs84:X_}),mI=function(){for(var e=0,i=0,s=arguments.length;i<s;i++)e+=arguments[i].length;var a=Array(e),c=0;for(i=0;i<s;i++)for(var h=arguments[i],g=0,y=h.length;g<y;g++,c++)a[c]=h[g];return a};function gf(e){return Array.isArray(e)?ik(e):e&&e.bbox?ik(e.bbox):[360*rk(),180*rk()]}function $_(e,i){i===void 0&&(i={}),e==null&&(e=1);for(var s=[],a=0;a<e;a++)s.push(p(gf(i.bbox)));return M(s)}function tk(e,i){i===void 0&&(i={}),e==null&&(e=1),ht(i.num_vertices)&&i.num_vertices!==void 0||(i.num_vertices=10),ht(i.max_radial_length)&&i.max_radial_length!==void 0||(i.max_radial_length=10);for(var s=[],a=function(h){var g,y=[],w=mI(Array(i.num_vertices+1)).map(Math.random);w.forEach(function(x,T,E){E[T]=T>0?x+E[T-1]:x}),w.forEach(function(x){x=2*x*Math.PI/w[w.length-1];var T=Math.random();y.push([T*(i.max_radial_length||10)*Math.sin(x),T*(i.max_radial_length||10)*Math.cos(x)])}),y[y.length-1]=y[0],y=y.map((g=gf(i.bbox),function(x){return[x[0]+g[0],x[1]+g[1]]})),s.push(v([y]))},c=0;c<e;c++)a();return M(s)}function ek(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.bbox,a=i.num_vertices,c=i.max_length,h=i.max_rotation;e==null&&(e=1),(!ht(a)||a===void 0||a<2)&&(a=10),ht(c)&&c!==void 0||(c=1e-4),ht(h)&&h!==void 0||(h=Math.PI/8);for(var g=[],y=0;y<e;y++){for(var w=[gf(s)],x=0;x<a-1;x++){var T=(x===0?2*Math.random()*Math.PI:Math.tan((w[x][1]-w[x-1][1])/(w[x][0]-w[x-1][0])))+(Math.random()-.5)*h*2,E=Math.random()*c;w.push([w[x][0]+E*Math.cos(T),w[x][1]+E*Math.sin(T)])}g.push(k(w))}return M(g)}function rk(){return Math.random()-.5}function ik(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}var vI=Object.freeze({__proto__:null,randomPosition:gf,randomPoint:$_,randomPolygon:tk,randomLineString:ek});function nk(e,i){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("filter is required");var s=[];return wt(e,function(a){e0(a.properties,i)&&s.push(a)}),M(s)}function Cb(e,i,s){if(!e)throw new Error("geojson is required");if(e.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(i==null)throw new Error("property is required");for(var a=Pb(e,i),c=Object.keys(a),h=0;h<c.length;h++){for(var g=c[h],y=a[g],w=[],x=0;x<y.length;x++)w.push(e.features[y[x]]);s(M(w),g,h)}}function ok(e,i,s,a){var c=a;return Cb(e,i,function(h,g,y){c=y===0&&a===void 0?h:s(c,h,g,y)}),c}function Pb(e,i){var s={};return wt(e,function(a,c){var h=a.properties||{};if(Object.prototype.hasOwnProperty.call(h,String(i))){var g=h[i];Object.prototype.hasOwnProperty.call(s,g)?s[g].push(c):s[g]=[c]}}),s}function e0(e,i){if(e===void 0)return!1;var s=typeof i;if(s==="number"||s==="string")return Object.prototype.hasOwnProperty.call(e,i);if(Array.isArray(i)){for(var a=0;a<i.length;a++)if(!e0(e,i[a]))return!1;return!0}return Mb(e,i)}function Mb(e,i){for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a];if(e[c]!==i[c])return!1}return!0}function sk(e,i){if(!i)return{};if(!i.length)return{};for(var s={},a=0;a<i.length;a++){var c=i[a];Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=e[c])}return s}var yI=Object.freeze({__proto__:null,getCluster:nk,clusterEach:Cb,clusterReduce:ok,createBins:Pb,applyFilter:e0,propertiesContainsFilter:Mb,filterProperties:sk}),Ac=function(e,i){this.next=null,this.key=e,this.data=i,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function bI(e,i){return e>i?1:e<i?-1:0}function Oc(e,i,s){for(var a=new Ac(null,null),c=a,h=a;;){var g=s(e,i.key);if(g<0){if(i.left===null)break;if(s(e,i.left.key)<0){var y=i.left;if(i.left=y.right,y.right=i,(i=y).left===null)break}h.left=i,h=i,i=i.left}else{if(!(g>0)||i.right===null||s(e,i.right.key)>0&&(y=i.right,i.right=y.left,y.left=i,(i=y).right===null))break;c.right=i,c=i,i=i.right}}return c.right=i.left,h.left=i.right,i.left=a.right,i.right=a.left,i}function Ib(e,i,s,a){var c=new Ac(e,i);if(s===null)return c.left=c.right=null,c;var h=a(e,(s=Oc(e,s,a)).key);return h<0?(c.left=s.left,c.right=s,s.left=null):h>=0&&(c.right=s.right,c.left=s,s.right=null),c}function ak(e,i,s){var a=null,c=null;if(i){var h=s((i=Oc(e,i,s)).key,e);h===0?(a=i.left,c=i.right):h<0?(c=i.right,i.right=null,a=i):(a=i.left,i.left=null,c=i)}return{left:a,right:c}}function Lb(e,i,s,a,c){if(e){a(i+(s?"└── ":"├── ")+c(e)+`
`);var h=i+(s?"    ":"│   ");e.left&&Lb(e.left,h,!1,a,c),e.right&&Lb(e.right,h,!0,a,c)}}var Rb=function(){function e(i){i===void 0&&(i=bI),this._root=null,this._size=0,this._comparator=i}return e.prototype.insert=function(i,s){return this._size++,this._root=Ib(i,s,this._root,this._comparator)},e.prototype.add=function(i,s){var a=new Ac(i,s);this._root===null&&(a.left=a.right=null,this._size++,this._root=a);var c=this._comparator,h=Oc(i,this._root,c),g=c(i,h.key);return g===0?this._root=h:(g<0?(a.left=h.left,a.right=h,h.left=null):g>0&&(a.right=h.right,a.left=h,h.right=null),this._size++,this._root=a),this._root},e.prototype.remove=function(i){this._root=this._remove(i,this._root,this._comparator)},e.prototype._remove=function(i,s,a){var c;return s===null?null:a(i,(s=Oc(i,s,a)).key)===0?(s.left===null?c=s.right:(c=Oc(i,s.left,a)).right=s.right,this._size--,c):s},e.prototype.pop=function(){var i=this._root;if(i){for(;i.left;)i=i.left;return this._root=Oc(i.key,this._root,this._comparator),this._root=this._remove(i.key,this._root,this._comparator),{key:i.key,data:i.data}}return null},e.prototype.findStatic=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return s;s=c<0?s.left:s.right}return null},e.prototype.find=function(i){return this._root&&(this._root=Oc(i,this._root,this._comparator),this._comparator(i,this._root.key)!==0)?null:this._root},e.prototype.contains=function(i){for(var s=this._root,a=this._comparator;s;){var c=a(i,s.key);if(c===0)return!0;s=c<0?s.left:s.right}return!1},e.prototype.forEach=function(i,s){for(var a=this._root,c=[],h=!1;!h;)a!==null?(c.push(a),a=a.left):c.length!==0?(a=c.pop(),i.call(s,a),a=a.right):h=!0;return this},e.prototype.range=function(i,s,a,c){for(var h=[],g=this._comparator,y=this._root;h.length!==0||y;)if(y)h.push(y),y=y.left;else{if(g((y=h.pop()).key,s)>0)break;if(g(y.key,i)>=0&&a.call(c,y))return this;y=y.right}return this},e.prototype.keys=function(){var i=[];return this.forEach(function(s){var a=s.key;return i.push(a)}),i},e.prototype.values=function(){var i=[];return this.forEach(function(s){var a=s.data;return i.push(a)}),i},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.left;)i=i.left;return i},e.prototype.maxNode=function(i){if(i===void 0&&(i=this._root),i)for(;i.right;)i=i.right;return i},e.prototype.at=function(i){for(var s=this._root,a=!1,c=0,h=[];!a;)if(s)h.push(s),s=s.left;else if(h.length>0){if(s=h.pop(),c===i)return s;c++,s=s.right}else a=!0;return null},e.prototype.next=function(i){var s=this._root,a=null;if(i.right){for(a=i.right;a.left;)a=a.left;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?(a=s,s=s.left):s=s.right}return a},e.prototype.prev=function(i){var s=this._root,a=null;if(i.left!==null){for(a=i.left;a.right;)a=a.right;return a}for(var c=this._comparator;s;){var h=c(i.key,s.key);if(h===0)break;h<0?s=s.left:(a=s,s=s.right)}return a},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(i){for(var s=i,a=[],c=!1,h=new Ac(null,null),g=h;!c;)s?(a.push(s),s=s.left):a.length>0?s=(s=g=g.next=a.pop()).right:c=!0;return g.next=null,h.next}(this._root)},e.prototype.load=function(i,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1);var c=i.length,h=this._comparator;if(a&&zb(i,s,0,c-1,h),this._root===null)this._root=Ab(i,s,0,c),this._size=c;else{var g=function(y,w,x){for(var T=new Ac(null,null),E=T,P=y,z=w;P!==null&&z!==null;)x(P.key,z.key)<0?(E.next=P,P=P.next):(E.next=z,z=z.next),E=E.next;return P!==null?E.next=P:z!==null&&(E.next=z),T.next}(this.toList(),function(y,w){for(var x=new Ac(null,null),T=x,E=0;E<y.length;E++)T=T.next=new Ac(y[E],w[E]);return T.next=null,x.next}(i,s),h);c=this._size+c,this._root=Ob({head:g},0,c)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(i){i===void 0&&(i=function(a){return String(a.key)});var s=[];return Lb(this._root,"",!0,function(a){return s.push(a)},i),s.join("")},e.prototype.update=function(i,s,a){var c=this._comparator,h=ak(i,this._root,c),g=h.left,y=h.right;c(i,s)<0?y=Ib(s,a,y,c):g=Ib(s,a,g,c),this._root=function(w,x,T){return x===null?w:(w===null||((x=Oc(w.key,x,T)).left=w),x)}(g,y,c)},e.prototype.split=function(i){return ak(i,this._root,this._comparator)},e}();function Ab(e,i,s,a){var c=a-s;if(c>0){var h=s+Math.floor(c/2),g=e[h],y=i[h],w=new Ac(g,y);return w.left=Ab(e,i,s,h),w.right=Ab(e,i,h+1,a),w}return null}function Ob(e,i,s){var a=s-i;if(a>0){var c=i+Math.floor(a/2),h=Ob(e,i,c),g=e.head;return g.left=h,e.head=e.head.next,g.right=Ob(e,c+1,s),g}return null}function zb(e,i,s,a,c){if(!(s>=a)){for(var h=e[s+a>>1],g=s-1,y=a+1;;){do g++;while(c(e[g],h)<0);do y--;while(c(e[y],h)>0);if(g>=y)break;var w=e[g];e[g]=e[y],e[y]=w,w=i[g],i[g]=i[y],i[y]=w}zb(e,i,s,y,c),zb(e,i,y+1,a,c)}}function Ps(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function lk(e,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wo(e,i,s){return i&&lk(e.prototype,i),s&&lk(e,s),e}var mf=function(e,i){return e.ll.x<=i.x&&i.x<=e.ur.x&&e.ll.y<=i.y&&i.y<=e.ur.y},Nb=function(e,i){if(i.ur.x<e.ll.x||e.ur.x<i.ll.x||i.ur.y<e.ll.y||e.ur.y<i.ll.y)return null;var s=e.ll.x<i.ll.x?i.ll.x:e.ll.x,a=e.ur.x<i.ur.x?e.ur.x:i.ur.x;return{ll:{x:s,y:e.ll.y<i.ll.y?i.ll.y:e.ll.y},ur:{x:a,y:e.ur.y<i.ur.y?e.ur.y:i.ur.y}}},zc=Number.EPSILON;zc===void 0&&(zc=Math.pow(2,-52));var wI=zc*zc,Db=function(e,i){if(-zc<e&&e<zc&&-zc<i&&i<zc)return 0;var s=e-i;return s*s<wI*e*i?0:e<i?-1:1},xI=function(){function e(){Ps(this,e),this.reset()}return wo(e,[{key:"reset",value:function(){this.xRounder=new ck,this.yRounder=new ck}},{key:"round",value:function(i,s){return{x:this.xRounder.round(i),y:this.yRounder.round(s)}}}]),e}(),ck=function(){function e(){Ps(this,e),this.tree=new Rb,this.round(0)}return wo(e,[{key:"round",value:function(i){var s=this.tree.add(i),a=this.tree.prev(s);if(a!==null&&Db(s.key,a.key)===0)return this.tree.remove(i),a.key;var c=this.tree.next(s);return c!==null&&Db(s.key,c.key)===0?(this.tree.remove(i),c.key):i}}]),e}(),vf=new xI,yf=function(e,i){return e.x*i.y-e.y*i.x},uk=function(e,i){return e.x*i.x+e.y*i.y},hk=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y},h=yf(a,c);return Db(h,0)},r0=function(e){return Math.sqrt(uk(e,e))},_I=function(e,i,s){var a={x:i.x-e.x,y:i.y-e.y},c={x:s.x-e.x,y:s.y-e.y};return uk(c,a)/r0(c)/r0(a)},dk=function(e,i,s){return i.y===0?null:{x:e.x+i.x/i.y*(s-e.y),y:s}},pk=function(e,i,s){return i.x===0?null:{x:s,y:e.y+i.y/i.x*(s-e.x)}},Ua=function(){function e(i,s){Ps(this,e),i.events===void 0?i.events=[this]:i.events.push(this),this.point=i,this.isLeft=s}return wo(e,null,[{key:"compare",value:function(i,s){var a=e.comparePoints(i.point,s.point);return a!==0?a:(i.point!==s.point&&i.link(s),i.isLeft!==s.isLeft?i.isLeft?1:-1:i0.compare(i.segment,s.segment))}},{key:"comparePoints",value:function(i,s){return i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0}}]),wo(e,[{key:"link",value:function(i){if(i.point===this.point)throw new Error("Tried to link already linked events");for(var s=i.point.events,a=0,c=s.length;a<c;a++){var h=s[a];this.point.events.push(h),h.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var i=this.point.events.length,s=0;s<i;s++){var a=this.point.events[s];if(a.segment.consumedBy===void 0)for(var c=s+1;c<i;c++){var h=this.point.events[c];h.consumedBy===void 0&&a.otherSE.point.events===h.otherSE.point.events&&a.segment.consume(h.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var i=[],s=0,a=this.point.events.length;s<a;s++){var c=this.point.events[s];c!==this&&!c.segment.ringOut&&c.segment.isInResult()&&i.push(c)}return i}},{key:"getLeftmostComparator",value:function(i){var s=this,a=new Map,c=function(h){var g,y,w,x,T,E=h.otherSE;a.set(h,{sine:(g=s.point,y=i.point,w=E.point,x={x:y.x-g.x,y:y.y-g.y},T={x:w.x-g.x,y:w.y-g.y},yf(T,x)/r0(T)/r0(x)),cosine:_I(s.point,i.point,E.point)})};return function(h,g){a.has(h)||c(h),a.has(g)||c(g);var y=a.get(h),w=y.sine,x=y.cosine,T=a.get(g),E=T.sine,P=T.cosine;return w>=0&&E>=0?x<P?1:x>P?-1:0:w<0&&E<0?x<P?-1:x>P?1:0:E<w?-1:E>w?1:0}}}]),e}(),kI=0,i0=function(){function e(i,s,a,c){Ps(this,e),this.id=++kI,this.leftSE=i,i.segment=this,i.otherSE=s,this.rightSE=s,s.segment=this,s.otherSE=i,this.rings=a,this.windings=c}return wo(e,null,[{key:"compare",value:function(i,s){var a=i.leftSE.point.x,c=s.leftSE.point.x,h=i.rightSE.point.x,g=s.rightSE.point.x;if(g<a)return 1;if(h<c)return-1;var y=i.leftSE.point.y,w=s.leftSE.point.y,x=i.rightSE.point.y,T=s.rightSE.point.y;if(a<c){if(w<y&&w<x)return 1;if(w>y&&w>x)return-1;var E=i.comparePoint(s.leftSE.point);if(E<0)return 1;if(E>0)return-1;var P=s.comparePoint(i.rightSE.point);return P!==0?P:-1}if(a>c){if(y<w&&y<T)return-1;if(y>w&&y>T)return 1;var z=s.comparePoint(i.leftSE.point);if(z!==0)return z;var N=i.comparePoint(s.rightSE.point);return N<0?1:N>0?-1:1}if(y<w)return-1;if(y>w)return 1;if(h<g){var B=s.comparePoint(i.rightSE.point);if(B!==0)return B}if(h>g){var I=i.comparePoint(s.rightSE.point);if(I<0)return 1;if(I>0)return-1}if(h!==g){var Y=x-y,it=h-a,D=T-w,Z=g-c;if(Y>it&&D<Z)return 1;if(Y<it&&D>Z)return-1}return h>g?1:h<g||x<T?-1:x>T?1:i.id<s.id?-1:i.id>s.id?1:0}}]),wo(e,[{key:"replaceRightSE",value:function(i){this.rightSE=i,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var i=this.leftSE.point.y,s=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:i<s?i:s},ur:{x:this.rightSE.point.x,y:i>s?i:s}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(i){return i.x===this.leftSE.point.x&&i.y===this.leftSE.point.y||i.x===this.rightSE.point.x&&i.y===this.rightSE.point.y}},{key:"comparePoint",value:function(i){if(this.isAnEndpoint(i))return 0;var s=this.leftSE.point,a=this.rightSE.point,c=this.vector();if(s.x===a.x)return i.x===s.x?0:i.x<s.x?1:-1;var h=(i.y-s.y)/c.y,g=s.x+h*c.x;if(i.x===g)return 0;var y=(i.x-s.x)/c.x,w=s.y+y*c.y;return i.y===w?0:i.y<w?-1:1}},{key:"getIntersection",value:function(i){var s=this.bbox(),a=i.bbox(),c=Nb(s,a);if(c===null)return null;var h=this.leftSE.point,g=this.rightSE.point,y=i.leftSE.point,w=i.rightSE.point,x=mf(s,y)&&this.comparePoint(y)===0,T=mf(a,h)&&i.comparePoint(h)===0,E=mf(s,w)&&this.comparePoint(w)===0,P=mf(a,g)&&i.comparePoint(g)===0;if(T&&x)return P&&!E?g:!P&&E?w:null;if(T)return E&&h.x===w.x&&h.y===w.y?null:h;if(x)return P&&g.x===y.x&&g.y===y.y?null:y;if(P&&E)return null;if(P)return g;if(E)return w;var z=function(N,B,I,Y){if(B.x===0)return pk(I,Y,N.x);if(Y.x===0)return pk(N,B,I.x);if(B.y===0)return dk(I,Y,N.y);if(Y.y===0)return dk(N,B,I.y);var it=yf(B,Y);if(it==0)return null;var D={x:I.x-N.x,y:I.y-N.y},Z=yf(D,B)/it,K=yf(D,Y)/it;return{x:(N.x+K*B.x+(I.x+Z*Y.x))/2,y:(N.y+K*B.y+(I.y+Z*Y.y))/2}}(h,this.vector(),y,i.vector());return z===null?null:mf(c,z)?vf.round(z.x,z.y):null}},{key:"split",value:function(i){var s=[],a=i.events!==void 0,c=new Ua(i,!0),h=new Ua(i,!1),g=this.rightSE;this.replaceRightSE(h),s.push(h),s.push(c);var y=new e(c,g,this.rings.slice(),this.windings.slice());return Ua.comparePoints(y.leftSE.point,y.rightSE.point)>0&&y.swapEvents(),Ua.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),a&&(c.checkForConsuming(),h.checkForConsuming()),s}},{key:"swapEvents",value:function(){var i=this.rightSE;this.rightSE=this.leftSE,this.leftSE=i,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var s=0,a=this.windings.length;s<a;s++)this.windings[s]*=-1}},{key:"consume",value:function(i){for(var s=this,a=i;s.consumedBy;)s=s.consumedBy;for(;a.consumedBy;)a=a.consumedBy;var c=e.compare(s,a);if(c!==0){if(c>0){var h=s;s=a,a=h}if(s.prev===a){var g=s;s=a,a=g}for(var y=0,w=a.rings.length;y<w;y++){var x=a.rings[y],T=a.windings[y],E=s.rings.indexOf(x);E===-1?(s.rings.push(x),s.windings.push(T)):s.windings[E]+=T}a.rings=null,a.windings=null,a.consumedBy=s,a.leftSE.consumedBy=s.leftSE,a.rightSE.consumedBy=s.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var i=this.prev.consumedBy||this.prev;this._beforeState=i.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var i=this.beforeState();this._afterState={rings:i.rings.slice(0),windings:i.windings.slice(0),multiPolys:[]};for(var s=this._afterState.rings,a=this._afterState.windings,c=this._afterState.multiPolys,h=0,g=this.rings.length;h<g;h++){var y=this.rings[h],w=this.windings[h],x=s.indexOf(y);x===-1?(s.push(y),a.push(w)):a[x]+=w}for(var T=[],E=[],P=0,z=s.length;P<z;P++)if(a[P]!==0){var N=s[P],B=N.poly;if(E.indexOf(B)===-1)if(N.isExterior)T.push(B);else{E.indexOf(B)===-1&&E.push(B);var I=T.indexOf(N.poly);I!==-1&&T.splice(I,1)}}for(var Y=0,it=T.length;Y<it;Y++){var D=T[Y].multiPoly;c.indexOf(D)===-1&&c.push(D)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var i=this.beforeState().multiPolys,s=this.afterState().multiPolys;switch(ua.type){case"union":var a=i.length===0,c=s.length===0;this._isInResult=a!==c;break;case"intersection":var h,g;i.length<s.length?(h=i.length,g=s.length):(h=s.length,g=i.length),this._isInResult=g===ua.numMultiPolys&&h<g;break;case"xor":var y=Math.abs(i.length-s.length);this._isInResult=y%2==1;break;case"difference":var w=function(x){return x.length===1&&x[0].isSubject};this._isInResult=w(i)!==w(s);break;default:throw new Error("Unrecognized operation type found ".concat(ua.type))}return this._isInResult}}],[{key:"fromRing",value:function(i,s,a){var c,h,g,y=Ua.comparePoints(i,s);if(y<0)c=i,h=s,g=1;else{if(!(y>0))throw new Error("Tried to create degenerate segment at [".concat(i.x,", ").concat(i.y,"]"));c=s,h=i,g=-1}return new e(new Ua(c,!0),new Ua(h,!1),[a],[g])}}]),e}(),fk=function(){function e(i,s,a){if(Ps(this,e),!Array.isArray(i)||i.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=s,this.isExterior=a,this.segments=[],typeof i[0][0]!="number"||typeof i[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=vf.round(i[0][0],i[0][1]);this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};for(var h=c,g=1,y=i.length;g<y;g++){if(typeof i[g][0]!="number"||typeof i[g][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var w=vf.round(i[g][0],i[g][1]);w.x===h.x&&w.y===h.y||(this.segments.push(i0.fromRing(h,w,this)),w.x<this.bbox.ll.x&&(this.bbox.ll.x=w.x),w.y<this.bbox.ll.y&&(this.bbox.ll.y=w.y),w.x>this.bbox.ur.x&&(this.bbox.ur.x=w.x),w.y>this.bbox.ur.y&&(this.bbox.ur.y=w.y),h=w)}c.x===h.x&&c.y===h.y||this.segments.push(i0.fromRing(h,c,this))}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.segments.length;s<a;s++){var c=this.segments[s];i.push(c.leftSE),i.push(c.rightSE)}return i}}]),e}(),EI=function(){function e(i,s){if(Ps(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new fk(i[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var a=1,c=i.length;a<c;a++){var h=new fk(i[a],this,!1);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.interiorRings.push(h)}this.multiPoly=s}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=this.exteriorRing.getSweepEvents(),s=0,a=this.interiorRings.length;s<a;s++)for(var c=this.interiorRings[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),gk=function(){function e(i,s){if(Ps(this,e),!Array.isArray(i))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof i[0][0][0]=="number"&&(i=[i])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var a=0,c=i.length;a<c;a++){var h=new EI(i[a],this);h.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=h.bbox.ll.x),h.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=h.bbox.ll.y),h.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=h.bbox.ur.x),h.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=h.bbox.ur.y),this.polys.push(h)}this.isSubject=s}return wo(e,[{key:"getSweepEvents",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++)for(var c=this.polys[s].getSweepEvents(),h=0,g=c.length;h<g;h++)i.push(c[h]);return i}}]),e}(),TI=function(){function e(i){Ps(this,e),this.events=i;for(var s=0,a=i.length;s<a;s++)i[s].segment.ringOut=this;this.poly=null}return wo(e,null,[{key:"factory",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(h.isInResult()&&!h.ringOut){for(var g=null,y=h.leftSE,w=h.rightSE,x=[y],T=y.point,E=[];g=y,y=w,x.push(y),y.point!==T;)for(;;){var P=y.getAvailableLinkedEvents();if(P.length===0){var z=x[0].point,N=x[x.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(z.x,",")+" ".concat(z.y,"]. Last matching segment found ends at")+" [".concat(N.x,", ").concat(N.y,"]."))}if(P.length===1){w=P[0].otherSE;break}for(var B=null,I=0,Y=E.length;I<Y;I++)if(E[I].point===y.point){B=I;break}if(B===null){E.push({index:x.length,point:y.point});var it=y.getLeftmostComparator(g);w=P.sort(it)[0].otherSE;break}var D=E.splice(B)[0],Z=x.splice(D.index);Z.unshift(Z[0].otherSE),s.push(new e(Z.reverse()))}s.push(new e(x))}}return s}}]),wo(e,[{key:"getGeom",value:function(){for(var i=this.events[0].point,s=[i],a=1,c=this.events.length-1;a<c;a++){var h=this.events[a].point,g=this.events[a+1].point;hk(h,i,g)!==0&&(s.push(h),i=h)}if(s.length===1)return null;var y=s[0],w=s[1];hk(y,i,w)===0&&s.shift(),s.push(s[0]);for(var x=this.isExteriorRing()?1:-1,T=this.isExteriorRing()?0:s.length-1,E=this.isExteriorRing()?s.length:-1,P=[],z=T;z!=E;z+=x)P.push([s[z].x,s[z].y]);return P}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var i=this.enclosingRing();this._isExteriorRing=!i||!i.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var i=this.events[0],s=1,a=this.events.length;s<a;s++){var c=this.events[s];Ua.compare(i,c)>0&&(i=c)}for(var h=i.segment.prevInResult(),g=h?h.prevInResult():null;;){if(!h)return null;if(!g)return h.ringOut;if(g.ringOut!==h.ringOut)return g.ringOut.enclosingRing()!==h.ringOut?h.ringOut:h.ringOut.enclosingRing();h=g.prevInResult(),g=h?h.prevInResult():null}}}]),e}(),mk=function(){function e(i){Ps(this,e),this.exteriorRing=i,i.poly=this,this.interiorRings=[]}return wo(e,[{key:"addInterior",value:function(i){this.interiorRings.push(i),i.poly=this}},{key:"getGeom",value:function(){var i=[this.exteriorRing.getGeom()];if(i[0]===null)return null;for(var s=0,a=this.interiorRings.length;s<a;s++){var c=this.interiorRings[s].getGeom();c!==null&&i.push(c)}return i}}]),e}(),SI=function(){function e(i){Ps(this,e),this.rings=i,this.polys=this._composePolys(i)}return wo(e,[{key:"getGeom",value:function(){for(var i=[],s=0,a=this.polys.length;s<a;s++){var c=this.polys[s].getGeom();c!==null&&i.push(c)}return i}},{key:"_composePolys",value:function(i){for(var s=[],a=0,c=i.length;a<c;a++){var h=i[a];if(!h.poly)if(h.isExteriorRing())s.push(new mk(h));else{var g=h.enclosingRing();g.poly||s.push(new mk(g)),g.poly.addInterior(h)}}return s}}]),e}(),CI=function(){function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i0.compare;Ps(this,e),this.queue=i,this.tree=new Rb(s),this.segments=[]}return wo(e,[{key:"process",value:function(i){var s=i.segment,a=[];if(i.consumedBy)return i.isLeft?this.queue.remove(i.otherSE):this.tree.remove(s),a;var c=i.isLeft?this.tree.insert(s):this.tree.find(s);if(!c)throw new Error("Unable to find segment #".concat(s.id," ")+"[".concat(s.leftSE.point.x,", ").concat(s.leftSE.point.y,"] -> ")+"[".concat(s.rightSE.point.x,", ").concat(s.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var h=c,g=c,y=void 0,w=void 0;y===void 0;)(h=this.tree.prev(h))===null?y=null:h.key.consumedBy===void 0&&(y=h.key);for(;w===void 0;)(g=this.tree.next(g))===null?w=null:g.key.consumedBy===void 0&&(w=g.key);if(i.isLeft){var x=null;if(y){var T=y.getIntersection(s);if(T!==null&&(s.isAnEndpoint(T)||(x=T),!y.isAnEndpoint(T)))for(var E=this._splitSafely(y,T),P=0,z=E.length;P<z;P++)a.push(E[P])}var N=null;if(w){var B=w.getIntersection(s);if(B!==null&&(s.isAnEndpoint(B)||(N=B),!w.isAnEndpoint(B)))for(var I=this._splitSafely(w,B),Y=0,it=I.length;Y<it;Y++)a.push(I[Y])}if(x!==null||N!==null){var D=null;x===null?D=N:N===null?D=x:D=Ua.comparePoints(x,N)<=0?x:N,this.queue.remove(s.rightSE),a.push(s.rightSE);for(var Z=s.split(D),K=0,tt=Z.length;K<tt;K++)a.push(Z[K])}a.length>0?(this.tree.remove(s),a.push(i)):(this.segments.push(s),s.prev=y)}else{if(y&&w){var Q=y.getIntersection(w);if(Q!==null){if(!y.isAnEndpoint(Q))for(var Rt=this._splitSafely(y,Q),Et=0,Nt=Rt.length;Et<Nt;Et++)a.push(Rt[Et]);if(!w.isAnEndpoint(Q))for(var Tt=this._splitSafely(w,Q),jt=0,Mt=Tt.length;jt<Mt;jt++)a.push(Tt[jt])}}this.tree.remove(s)}return a}},{key:"_splitSafely",value:function(i,s){this.tree.remove(i);var a=i.rightSE;this.queue.remove(a);var c=i.split(s);return c.push(a),i.consumedBy===void 0&&this.tree.insert(i),c}}]),e}(),vk=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,PI=typeof process<"u"&&{version:"0.1.0"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,ua=new(function(){function e(){Ps(this,e)}return wo(e,[{key:"run",value:function(i,s,a){ua.type=i,vf.reset();for(var c=[new gk(s,!0)],h=0,g=a.length;h<g;h++)c.push(new gk(a[h],!1));if(ua.numMultiPolys=c.length,ua.type==="difference")for(var y=c[0],w=1;w<c.length;)Nb(c[w].bbox,y.bbox)!==null?w++:c.splice(w,1);if(ua.type==="intersection"){for(var x=0,T=c.length;x<T;x++)for(var E=c[x],P=x+1,z=c.length;P<z;P++)if(Nb(E.bbox,c[P].bbox)===null)return[]}for(var N=new Rb(Ua.compare),B=0,I=c.length;B<I;B++)for(var Y=c[B].getSweepEvents(),it=0,D=Y.length;it<D;it++)if(N.insert(Y[it]),N.size>vk)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Z=new CI(N),K=N.size,tt=N.pop();tt;){var Q=tt.key;if(N.size===K){var Rt=Q.segment;throw new Error("Unable to pop() ".concat(Q.isLeft?"left":"right"," SweepEvent ")+"[".concat(Q.point.x,", ").concat(Q.point.y,"] from segment #").concat(Rt.id," ")+"[".concat(Rt.leftSE.point.x,", ").concat(Rt.leftSE.point.y,"] -> ")+"[".concat(Rt.rightSE.point.x,", ").concat(Rt.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(N.size>vk)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Z.segments.length>PI)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Et=Z.process(Q),Nt=0,Tt=Et.length;Nt<Tt;Nt++){var jt=Et[Nt];jt.consumedBy===void 0&&N.insert(jt)}K=N.size,tt=N.pop()}vf.reset();var Mt=TI.factory(Z.segments);return new SI(Mt).getGeom()}}]),e}()),Nl={union:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ua.run("union",e,s)},intersection:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ua.run("intersection",e,s)},xor:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ua.run("xor",e,s)},difference:function(e){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return ua.run("difference",e,s)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this==null)throw new TypeError(this+" is not an object");var i=Object(this),s=Math.max(Math.min(i.length,9007199254740991),0)||0,a=1 in arguments&&parseInt(Number(arguments[1]),10)||0;a=a<0?Math.max(s+a,0):Math.min(a,s);var c=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:s;for(c=c<0?Math.max(s+arguments[2],0):Math.min(c,s);a<c;)i[a]=e,++a;return i},writable:!0}),Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var qu=function(){};qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu},qu.prototype.equalsWithTolerance=function(e,i,s){return Math.abs(e-i)<=s};var ki=function(e){function i(s){e.call(this,s),this.name="IllegalArgumentException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),Je=function(){},yk={MAX_VALUE:{configurable:!0}};Je.isNaN=function(e){return Number.isNaN(e)},Je.doubleToLongBits=function(e){return e},Je.longBitsToDouble=function(e){return e},Je.isInfinite=function(e){return!Number.isFinite(e)},yk.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Je,yk);var zo=function(){},n0=function(){},dd=function(){};function No(){}var Ct=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.z=i.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Vu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Ct.prototype.setOrdinate=function(e,i){switch(e){case Ct.X:this.x=i;break;case Ct.Y:this.y=i;break;case Ct.Z:this.z=i;break;default:throw new ki("Invalid ordinate index: "+e)}},Ct.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(arguments.length===2){var i=arguments[0],s=arguments[1];return!!qu.equalsWithTolerance(this.x,i.x,s)&&!!qu.equalsWithTolerance(this.y,i.y,s)}},Ct.prototype.getOrdinate=function(e){switch(e){case Ct.X:return this.x;case Ct.Y:return this.y;case Ct.Z:return this.z}throw new ki("Invalid ordinate index: "+e)},Ct.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Je.isNaN(this.z))&&Je.isNaN(e.z)},Ct.prototype.equals=function(e){return e instanceof Ct&&this.equals2D(e)},Ct.prototype.equalInZ=function(e,i){return qu.equalsWithTolerance(this.z,e.z,i)},Ct.prototype.compareTo=function(e){var i=e;return this.x<i.x?-1:this.x>i.x?1:this.y<i.y?-1:this.y>i.y?1:0},Ct.prototype.clone=function(){},Ct.prototype.copy=function(){return new Ct(this)},Ct.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Ct.prototype.distance3D=function(e){var i=this.x-e.x,s=this.y-e.y,a=this.z-e.z;return Math.sqrt(i*i+s*s+a*a)},Ct.prototype.distance=function(e){var i=this.x-e.x,s=this.y-e.y;return Math.sqrt(i*i+s*s)},Ct.prototype.hashCode=function(){var e=17;return e=37*(e=37*e+Ct.hashCode(this.x))+Ct.hashCode(this.y)},Ct.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Ct.prototype.interfaces_=function(){return[zo,n0,No]},Ct.prototype.getClass=function(){return Ct},Ct.hashCode=function(){if(arguments.length===1){var e=arguments[0],i=Je.doubleToLongBits(e);return Math.trunc((i^i)>>>32)}},Vu.DimensionalComparator.get=function(){return Dl},Vu.serialVersionUID.get=function(){return 6683108902428367e3},Vu.NULL_ORDINATE.get=function(){return Je.NaN},Vu.X.get=function(){return 0},Vu.Y.get=function(){return 1},Vu.Z.get=function(){return 2},Object.defineProperties(Ct,Vu);var Dl=function(e){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var i=arguments[0];if(i!==2&&i!==3)throw new ki("only 2 or 3 dimensions may be specified");this._dimensionsToTest=i}}};Dl.prototype.compare=function(e,i){var s=e,a=i,c=Dl.compare(s.x,a.x);if(c!==0)return c;var h=Dl.compare(s.y,a.y);return h!==0?h:this._dimensionsToTest<=2?0:Dl.compare(s.z,a.z)},Dl.prototype.interfaces_=function(){return[dd]},Dl.prototype.getClass=function(){return Dl},Dl.compare=function(e,i){return e<i?-1:e>i?1:Je.isNaN(e)?Je.isNaN(i)?0:-1:Je.isNaN(i)?1:0};var pd=function(){};pd.prototype.create=function(){},pd.prototype.interfaces_=function(){return[]},pd.prototype.getClass=function(){return pd};var At=function(){},bf={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.toLocationSymbol=function(e){switch(e){case At.EXTERIOR:return"e";case At.BOUNDARY:return"b";case At.INTERIOR:return"i";case At.NONE:return"-"}throw new ki("Unknown location value: "+e)},bf.INTERIOR.get=function(){return 0},bf.BOUNDARY.get=function(){return 1},bf.EXTERIOR.get=function(){return 2},bf.NONE.get=function(){return-1},Object.defineProperties(At,bf);var Ge=function(e,i){return e.interfaces_&&e.interfaces_().indexOf(i)>-1},xo=function(){},bk={LOG_10:{configurable:!0}};xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo},xo.log10=function(e){var i=Math.log(e);return Je.isInfinite(i)||Je.isNaN(i)?i:i/xo.LOG_10},xo.min=function(e,i,s,a){var c=e;return i<c&&(c=i),s<c&&(c=s),a<c&&(c=a),c},xo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1],s=arguments[2];return e<i?i:e>s?s:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],c=arguments[1],h=arguments[2];return a<c?c:a>h?h:a}},xo.wrap=function(e,i){return e<0?i- -e%i:e%i},xo.max=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2],a=e;return i>a&&(a=i),s>a&&(a=s),a}if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=c;return h>w&&(w=h),g>w&&(w=g),y>w&&(w=y),w}},xo.average=function(e,i){return(e+i)/2},bk.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(xo,bk);var Ms=function(e){this.str=e};Ms.prototype.append=function(e){this.str+=e},Ms.prototype.setCharAt=function(e,i){this.str=this.str.substr(0,e)+i+this.str.substr(e+1)},Ms.prototype.toString=function(e){return this.str};var Is=function(e){this.value=e};Is.prototype.intValue=function(){return this.value},Is.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},Is.isNaN=function(e){return Number.isNaN(e)};var wf=function(){};wf.isWhitespace=function(e){return e<=32&&e>=0||e===127},wf.toUpperCase=function(e){return e.toUpperCase()};var Bt=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var i=arguments[0];this.init(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}else if(typeof arguments[0]=="string"){var a=arguments[0];e.call(this,e.parse(a))}}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.init(c,h)}},ns={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Bt.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Bt.prototype.extractSignificantDigits=function(e,i){var s=this.abs(),a=Bt.magnitude(s._hi),c=Bt.TEN.pow(a);(s=s.divide(c)).gt(Bt.TEN)?(s=s.divide(Bt.TEN),a+=1):s.lt(Bt.ONE)&&(s=s.multiply(Bt.TEN),a-=1);for(var h=a+1,g=new Ms,y=Bt.MAX_PRINT_DIGITS-1,w=0;w<=y;w++){e&&w===h&&g.append(".");var x=Math.trunc(s._hi);if(x<0)break;var T=!1,E=0;x>9?(T=!0,E="9"):E="0"+x,g.append(E),s=s.subtract(Bt.valueOf(x)).multiply(Bt.TEN),T&&s.selfAdd(Bt.TEN);var P=!0,z=Bt.magnitude(s._hi);if(z<0&&Math.abs(z)>=y-w&&(P=!1),!P)break}return i[0]=a,g.toString()},Bt.prototype.sqr=function(){return this.multiply(this)},Bt.prototype.doubleValue=function(){return this._hi+this._lo},Bt.prototype.subtract=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.add(e.negate())}if(typeof arguments[0]=="number"){var i=arguments[0];return this.add(-i)}},Bt.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Bt.prototype.isZero=function(){return this._hi===0&&this._lo===0},Bt.prototype.selfSubtract=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.isNaN()?this:this.selfAdd(-i,0)}},Bt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Bt.prototype.min=function(e){return this.le(e)?this:e},Bt.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfDivide(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null,T=null,E=null;return w=this._hi/s,E=(c=(x=Bt.SPLIT*w)-(c=x-w))*(g=(E=Bt.SPLIT*s)-(g=E-s))-(T=w*s)+c*(y=s-g)+(h=w-c)*g+h*y,E=w+(x=(this._hi-T-E+this._lo-w*a)/s),this._hi=E,this._lo=w-E+x,this}},Bt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Bt.prototype.divide=function(){if(arguments[0]instanceof Bt){var e=arguments[0],i=null,s=null,a=null,c=null,h=null,g=null,y=null,w=null;s=(h=this._hi/e._hi)-(i=(g=Bt.SPLIT*h)-(i=g-h)),w=i*(a=(w=Bt.SPLIT*e._hi)-(a=w-e._hi))-(y=h*e._hi)+i*(c=e._hi-a)+s*a+s*c;var x=w=h+(g=(this._hi-y-w+this._lo-h*e._lo)/e._hi),T=h-w+g;return new Bt(x,T)}if(typeof arguments[0]=="number"){var E=arguments[0];return Je.isNaN(E)?Bt.createNaN():Bt.copy(this).selfDivide(E,0)}},Bt.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Bt.prototype.pow=function(e){if(e===0)return Bt.valueOf(1);var i=new Bt(this),s=Bt.valueOf(1),a=Math.abs(e);if(a>1)for(;a>0;)a%2==1&&s.selfMultiply(i),(a/=2)>0&&(i=i.sqr());else s=i;return e<0?s.reciprocal():s},Bt.prototype.ceil=function(){if(this.isNaN())return Bt.NaN;var e=Math.ceil(this._hi),i=0;return e===this._hi&&(i=Math.ceil(this._lo)),new Bt(e,i)},Bt.prototype.compareTo=function(e){var i=e;return this._hi<i._hi?-1:this._hi>i._hi?1:this._lo<i._lo?-1:this._lo>i._lo?1:0},Bt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Bt.prototype.setValue=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this.init(e),this}if(typeof arguments[0]=="number"){var i=arguments[0];return this.init(i),this}},Bt.prototype.max=function(e){return this.ge(e)?this:e},Bt.prototype.sqrt=function(){if(this.isZero())return Bt.valueOf(0);if(this.isNegative())return Bt.NaN;var e=1/Math.sqrt(this._hi),i=this._hi*e,s=Bt.valueOf(i),a=this.subtract(s.sqr())._hi*(.5*e);return s.add(a)},Bt.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0],s=null,a=null,c=null,h=null,g=null,y=null;return h=(c=this._hi+i)-(g=c-this._hi),a=(y=(h=i-g+(this._hi-h))+this._lo)+(c-(s=c+y)),this._hi=s+a,this._lo=a+(s-this._hi),this}}else if(arguments.length===2){var w=arguments[0],x=arguments[1],T=null,E=null,P=null,z=null,N=null,B=null,I=null;z=this._hi+w,E=this._lo+x,N=z-(B=z-this._hi),P=E-(I=E-this._lo);var Y=(T=z+(B=(N=w-B+(this._hi-N))+E))+(B=(P=x-I+(this._lo-P))+(B+(z-T))),it=B+(T-Y);return this._hi=Y,this._lo=it,this}},Bt.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if(typeof arguments[0]=="number"){var i=arguments[0];return this.selfMultiply(i,0)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=null,h=null,g=null,y=null,w=null,x=null;c=(w=Bt.SPLIT*this._hi)-this._hi,x=Bt.SPLIT*s,c=w-c,h=this._hi-c,g=x-s;var T=(w=this._hi*s)+(x=c*(g=x-g)-w+c*(y=s-g)+h*g+h*y+(this._hi*a+this._lo*s)),E=x+(c=w-T);return this._hi=T,this._lo=E,this}},Bt.prototype.selfSqr=function(){return this.selfMultiply(this)},Bt.prototype.floor=function(){if(this.isNaN())return Bt.NaN;var e=Math.floor(this._hi),i=0;return e===this._hi&&(i=Math.floor(this._lo)),new Bt(e,i)},Bt.prototype.negate=function(){return this.isNaN()?this:new Bt(-this._hi,-this._lo)},Bt.prototype.clone=function(){},Bt.prototype.multiply=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return e.isNaN()?Bt.createNaN():Bt.copy(this).selfMultiply(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Je.isNaN(i)?Bt.createNaN():Bt.copy(this).selfMultiply(i,0)}},Bt.prototype.isNaN=function(){return Je.isNaN(this._hi)},Bt.prototype.intValue=function(){return Math.trunc(this._hi)},Bt.prototype.toString=function(){var e=Bt.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Bt.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!0,i),a=i[0]+1,c=s;if(s.charAt(0)===".")c="0"+s;else if(a<0)c="0."+Bt.stringOfChar("0",-a)+s;else if(s.indexOf(".")===-1){var h=a-s.length;c=s+Bt.stringOfChar("0",h)+".0"}return this.isNegative()?"-"+c:c},Bt.prototype.reciprocal=function(){var e,i,s,a,c=null,h=null,g=null,y=null;e=(s=1/this._hi)-(c=(g=Bt.SPLIT*s)-(c=g-s)),h=(y=Bt.SPLIT*this._hi)-this._hi;var w=s+(g=(1-(a=s*this._hi)-(y=c*(h=y-h)-a+c*(i=this._hi-h)+e*h+e*i)-s*this._lo)/this._hi);return new Bt(w,s-w+g)},Bt.prototype.toSciNotation=function(){if(this.isZero())return Bt.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var i=new Array(1).fill(null),s=this.extractSignificantDigits(!1,i),a=Bt.SCI_NOT_EXPONENT_CHAR+i[0];if(s.charAt(0)==="0")throw new Error("Found leading zero: "+s);var c="";s.length>1&&(c=s.substring(1));var h=s.charAt(0)+"."+c;return this.isNegative()?"-"+h+a:h+a},Bt.prototype.abs=function(){return this.isNaN()?Bt.NaN:this.isNegative()?this.negate():new Bt(this)},Bt.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},Bt.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Bt.prototype.add=function(){if(arguments[0]instanceof Bt){var e=arguments[0];return Bt.copy(this).selfAdd(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return Bt.copy(this).selfAdd(i)}},Bt.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Bt){var i=arguments[0];this._hi=i._hi,this._lo=i._lo}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._hi=s,this._lo=a}},Bt.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Bt.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},Bt.prototype.trunc=function(){return this.isNaN()?Bt.NaN:this.isPositive()?this.floor():this.ceil()},Bt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Bt.prototype.interfaces_=function(){return[No,zo,n0]},Bt.prototype.getClass=function(){return Bt},Bt.sqr=function(e){return Bt.valueOf(e).selfMultiply(e)},Bt.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return Bt.parse(e)}if(typeof arguments[0]=="number"){var i=arguments[0];return new Bt(i)}},Bt.sqrt=function(e){return Bt.valueOf(e).sqrt()},Bt.parse=function(e){for(var i=0,s=e.length;wf.isWhitespace(e.charAt(i));)i++;var a=!1;if(i<s){var c=e.charAt(i);c!=="-"&&c!=="+"||(i++,c==="-"&&(a=!0))}for(var h=new Bt,g=0,y=0,w=0;!(i>=s);){var x=e.charAt(i);if(i++,wf.isDigit(x)){var T=x-"0";h.selfMultiply(Bt.TEN),h.selfAdd(T),g++}else{if(x!=="."){if(x==="e"||x==="E"){var E=e.substring(i);try{w=Is.parseInt(E)}catch(I){throw I instanceof Error?new Error("Invalid exponent "+E+" in string "+e):I}break}throw new Error("Unexpected character '"+x+"' at position "+i+" in string "+e)}y=g}}var P=h,z=g-y-w;if(z===0)P=h;else if(z>0){var N=Bt.TEN.pow(z);P=h.divide(N)}else if(z<0){var B=Bt.TEN.pow(-z);P=h.multiply(B)}return a?P.negate():P},Bt.createNaN=function(){return new Bt(Je.NaN,Je.NaN)},Bt.copy=function(e){return new Bt(e)},Bt.magnitude=function(e){var i=Math.abs(e),s=Math.log(i)/Math.log(10),a=Math.trunc(Math.floor(s));return 10*Math.pow(10,a)<=i&&(a+=1),a},Bt.stringOfChar=function(e,i){for(var s=new Ms,a=0;a<i;a++)s.append(e);return s.toString()},ns.PI.get=function(){return new Bt(3.141592653589793,12246467991473532e-32)},ns.TWO_PI.get=function(){return new Bt(6.283185307179586,24492935982947064e-32)},ns.PI_2.get=function(){return new Bt(1.5707963267948966,6123233995736766e-32)},ns.E.get=function(){return new Bt(2.718281828459045,14456468917292502e-32)},ns.NaN.get=function(){return new Bt(Je.NaN,Je.NaN)},ns.EPS.get=function(){return 123259516440783e-46},ns.SPLIT.get=function(){return 134217729},ns.MAX_PRINT_DIGITS.get=function(){return 32},ns.TEN.get=function(){return Bt.valueOf(10)},ns.ONE.get=function(){return Bt.valueOf(1)},ns.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ns.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Bt,ns);var Yn=function(){},wk={DP_SAFE_EPSILON:{configurable:!0}};Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn},Yn.orientationIndex=function(e,i,s){var a=Yn.orientationIndexFilter(e,i,s);if(a<=1)return a;var c=Bt.valueOf(i.x).selfAdd(-e.x),h=Bt.valueOf(i.y).selfAdd(-e.y),g=Bt.valueOf(s.x).selfAdd(-i.x),y=Bt.valueOf(s.y).selfAdd(-i.y);return c.selfMultiply(y).selfSubtract(h.selfMultiply(g)).signum()},Yn.signOfDet2x2=function(e,i,s,a){return e.multiply(a).selfSubtract(i.multiply(s)).signum()},Yn.intersection=function(e,i,s,a){var c=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(i.x).selfSubtract(e.x)),h=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(i.y).selfSubtract(e.y)),g=c.subtract(h),y=Bt.valueOf(a.x).selfSubtract(s.x).selfMultiply(Bt.valueOf(e.y).selfSubtract(s.y)),w=Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(Bt.valueOf(e.x).selfSubtract(s.x)),x=y.subtract(w).selfDivide(g).doubleValue(),T=Bt.valueOf(e.x).selfAdd(Bt.valueOf(i.x).selfSubtract(e.x).selfMultiply(x)).doubleValue(),E=Bt.valueOf(i.x).selfSubtract(e.x).selfMultiply(Bt.valueOf(e.y).selfSubtract(s.y)),P=Bt.valueOf(i.y).selfSubtract(e.y).selfMultiply(Bt.valueOf(e.x).selfSubtract(s.x)),z=E.subtract(P).selfDivide(g).doubleValue(),N=Bt.valueOf(s.y).selfAdd(Bt.valueOf(a.y).selfSubtract(s.y).selfMultiply(z)).doubleValue();return new Ct(T,N)},Yn.orientationIndexFilter=function(e,i,s){var a=null,c=(e.x-s.x)*(i.y-s.y),h=(e.y-s.y)*(i.x-s.x),g=c-h;if(c>0){if(h<=0)return Yn.signum(g);a=c+h}else{if(!(c<0)||h>=0)return Yn.signum(g);a=-c-h}var y=Yn.DP_SAFE_EPSILON*a;return g>=y||-g>=y?Yn.signum(g):2},Yn.signum=function(e){return e>0?1:e<0?-1:0},wk.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Yn,wk);var br=function(){},xf={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};xf.X.get=function(){return 0},xf.Y.get=function(){return 1},xf.Z.get=function(){return 2},xf.M.get=function(){return 3},br.prototype.setOrdinate=function(e,i,s){},br.prototype.size=function(){},br.prototype.getOrdinate=function(e,i){},br.prototype.getCoordinate=function(){},br.prototype.getCoordinateCopy=function(e){},br.prototype.getDimension=function(){},br.prototype.getX=function(e){},br.prototype.clone=function(){},br.prototype.expandEnvelope=function(e){},br.prototype.copy=function(){},br.prototype.getY=function(e){},br.prototype.toCoordinateArray=function(){},br.prototype.interfaces_=function(){return[n0]},br.prototype.getClass=function(){return br},Object.defineProperties(br,xf);var xk=function(){},fd=function(e){function i(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(xk),pn=function(){};pn.arraycopy=function(e,i,s,a,c){for(var h=0,g=i;g<i+c;g++)s[a+h]=e[g],h++},pn.getProperty=function(e){return{"line.separator":`
`}[e]};var os=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var i=arguments[0];this.x=i.x,this.y=i.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var s=arguments[0],a=arguments[1];this.x=s,this.y=a,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var c=arguments[0],h=arguments[1];this.x=c.y*h.w-h.y*c.w,this.y=h.x*c.w-c.x*h.w,this.w=c.x*h.y-h.x*c.y}else if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var g=arguments[0],y=arguments[1];this.x=g.y-y.y,this.y=y.x-g.x,this.w=g.x*y.y-y.x*g.y}}else if(arguments.length===3){var w=arguments[0],x=arguments[1],T=arguments[2];this.x=w,this.y=x,this.w=T}else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3],B=E.y-P.y,I=P.x-E.x,Y=E.x*P.y-P.x*E.y,it=z.y-N.y,D=N.x-z.x,Z=z.x*N.y-N.x*z.y;this.x=I*Z-D*Y,this.y=it*Y-B*Z,this.w=B*D-it*I}};os.prototype.getY=function(){var e=this.y/this.w;if(Je.isNaN(e)||Je.isInfinite(e))throw new fd;return e},os.prototype.getX=function(){var e=this.x/this.w;if(Je.isNaN(e)||Je.isInfinite(e))throw new fd;return e},os.prototype.getCoordinate=function(){var e=new Ct;return e.x=this.getX(),e.y=this.getY(),e},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os},os.intersection=function(e,i,s,a){var c=e.y-i.y,h=i.x-e.x,g=e.x*i.y-i.x*e.y,y=s.y-a.y,w=a.x-s.x,x=s.x*a.y-a.x*s.y,T=c*w-y*h,E=(h*x-w*g)/T,P=(y*g-c*x)/T;if(Je.isNaN(E)||Je.isInfinite(E)||Je.isNaN(P)||Je.isInfinite(P))throw new fd;return new Ct(E,P)};var ze=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Ct){var i=arguments[0];this.init(i.x,i.x,i.y,i.y)}else if(arguments[0]instanceof e){var s=arguments[0];this.init(s)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.init(a.x,c.x,a.y,c.y)}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this.init(h,g,y,w)}},_k={serialVersionUID:{configurable:!0}};ze.prototype.getArea=function(){return this.getWidth()*this.getHeight()},ze.prototype.equals=function(e){if(!(e instanceof ze))return!1;var i=e;return this.isNull()?i.isNull():this._maxx===i.getMaxX()&&this._maxy===i.getMaxY()&&this._minx===i.getMinX()&&this._miny===i.getMinY()},ze.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new ze;var i=this._minx>e._minx?this._minx:e._minx,s=this._miny>e._miny?this._miny:e._miny,a=this._maxx<e._maxx?this._maxx:e._maxx,c=this._maxy<e._maxy?this._maxy:e._maxy;return new ze(i,a,s,c)},ze.prototype.isNull=function(){return this._maxx<this._minx},ze.prototype.getMaxX=function(){return this._maxx},ze.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof ze){var i=arguments[0];return!this.isNull()&&!i.isNull()&&i.getMinX()>=this._minx&&i.getMaxX()<=this._maxx&&i.getMinY()>=this._miny&&i.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&a>=this._miny&&a<=this._maxy}},ze.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.intersects(i.x,i.y)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return!this.isNull()&&!(s>this._maxx||s<this._minx||a>this._maxy||a<this._miny)}},ze.prototype.getMinY=function(){return this._miny},ze.prototype.getMinX=function(){return this._minx},ze.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof ze){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this._minx=i.getMinX(),this._maxx=i.getMaxX(),this._miny=i.getMinY(),this._maxy=i.getMaxY()):(i._minx<this._minx&&(this._minx=i._minx),i._maxx>this._maxx&&(this._maxx=i._maxx),i._miny<this._miny&&(this._miny=i._miny),i._maxy>this._maxy&&(this._maxy=i._maxy))}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=a,this._maxy=a):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),a<this._miny&&(this._miny=a),a>this._maxy&&(this._maxy=a))}},ze.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e<i?e:i},ze.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},ze.prototype.compareTo=function(e){var i=e;return this.isNull()?i.isNull()?0:-1:i.isNull()?1:this._minx<i._minx?-1:this._minx>i._minx?1:this._miny<i._miny?-1:this._miny>i._miny?1:this._maxx<i._maxx?-1:this._maxx>i._maxx?1:this._maxy<i._maxy?-1:this._maxy>i._maxy?1:0},ze.prototype.translate=function(e,i){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+i,this.getMaxY()+i)},ze.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},ze.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},ze.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},ze.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),i=this.getHeight();return e>i?e:i},ze.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=i,this._maxx+=i,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},ze.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this.covers(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.covers(s,a)}},ze.prototype.centre=function(){return this.isNull()?null:new Ct((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},ze.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof ze){var i=arguments[0];this._minx=i._minx,this._maxx=i._maxx,this._miny=i._miny,this._maxy=i._maxy}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.init(s.x,a.x,s.y,a.y)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];c<h?(this._minx=c,this._maxx=h):(this._minx=h,this._maxx=c),g<y?(this._miny=g,this._maxy=y):(this._miny=y,this._maxy=g)}},ze.prototype.getMaxY=function(){return this._maxy},ze.prototype.distance=function(e){if(this.intersects(e))return 0;var i=0;this._maxx<e._minx?i=e._minx-this._maxx:this._minx>e._maxx&&(i=this._minx-e._maxx);var s=0;return this._maxy<e._miny?s=e._miny-this._maxy:this._miny>e._maxy&&(s=this._miny-e._maxy),i===0?s:s===0?i:Math.sqrt(i*i+s*s)},ze.prototype.hashCode=function(){var e=17;return e=37*(e=37*(e=37*(e=37*e+Ct.hashCode(this._minx))+Ct.hashCode(this._maxx))+Ct.hashCode(this._miny))+Ct.hashCode(this._maxy)},ze.prototype.interfaces_=function(){return[zo,No]},ze.prototype.getClass=function(){return ze},ze.intersects=function(){if(arguments.length===3){var e=arguments[0],i=arguments[1],s=arguments[2];return s.x>=(e.x<i.x?e.x:i.x)&&s.x<=(e.x>i.x?e.x:i.x)&&s.y>=(e.y<i.y?e.y:i.y)&&s.y<=(e.y>i.y?e.y:i.y)}if(arguments.length===4){var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=Math.min(h.x,g.x),w=Math.max(h.x,g.x),x=Math.min(a.x,c.x),T=Math.max(a.x,c.x);return!(x>w)&&!(T<y)&&(y=Math.min(h.y,g.y),w=Math.max(h.y,g.y),x=Math.min(a.y,c.y),T=Math.max(a.y,c.y),!(x>w)&&!(T<y))}},_k.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(ze,_k);var Ls={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},o0=function(e){this.geometryFactory=e||new hr};o0.prototype.read=function(e){var i,s,a;e=e.replace(/[\n\r]/g," ");var c=Ls.typeStr.exec(e);if(e.search("EMPTY")!==-1&&((c=Ls.emptyTypeStr.exec(e))[2]=void 0),c&&(s=c[1].toLowerCase(),a=c[2],gd[s]&&(i=gd[s].apply(this,[a]))),i===void 0)throw new Error("Could not parse WKT "+e);return i},o0.prototype.write=function(e){return this.extractGeometry(e)},o0.prototype.extractGeometry=function(e){var i=e.getGeometryType().toLowerCase();if(!Ga[i])return null;var s=i.toUpperCase();return e.isEmpty()?s+" EMPTY":s+"("+Ga[i].apply(this,[e])+")"};var Ga={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Ga.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ga.point.apply(this,[e._geometries[s]])+")");return i.join(",")},linestring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(Ga.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},linearring:function(e){for(var i=[],s=0,a=e._points._coordinates.length;s<a;++s)i.push(Ga.coordinate.apply(this,[e._points._coordinates[s]]));return i.join(",")},multilinestring:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ga.linestring.apply(this,[e._geometries[s]])+")");return i.join(",")},polygon:function(e){var i=[];i.push("("+Ga.linestring.apply(this,[e._shell])+")");for(var s=0,a=e._holes.length;s<a;++s)i.push("("+Ga.linestring.apply(this,[e._holes[s]])+")");return i.join(",")},multipolygon:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push("("+Ga.polygon.apply(this,[e._geometries[s]])+")");return i.join(",")},geometrycollection:function(e){for(var i=[],s=0,a=e._geometries.length;s<a;++s)i.push(this.extractGeometry(e._geometries[s]));return i.join(",")}},gd={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var i=e.trim().split(Ls.spaces);return this.geometryFactory.createPoint(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])))},multipoint:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ls.trimParens,"$1"),a.push(gd.point.apply(this,[i]));return this.geometryFactory.createMultiPoint(a)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Ls.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(a)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var i,s=e.trim().split(","),a=[],c=0,h=s.length;c<h;++c)i=s[c].trim().split(Ls.spaces),a.push(new Ct(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(a)},multilinestring:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var s=e.trim().split(Ls.parenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ls.trimParens,"$1"),a.push(gd.linestring.apply(this,[i]));return this.geometryFactory.createMultiLineString(a)},polygon:function(e){var i,s,a;if(e===void 0)return this.geometryFactory.createPolygon();for(var c,h=e.trim().split(Ls.parenComma),g=[],y=0,w=h.length;y<w;++y)i=h[y].replace(Ls.trimParens,"$1"),s=gd.linestring.apply(this,[i]),a=this.geometryFactory.createLinearRing(s._points),y===0?c=a:g.push(a);return this.geometryFactory.createPolygon(c,g)},multipolygon:function(e){var i;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var s=e.trim().split(Ls.doubleParenComma),a=[],c=0,h=s.length;c<h;++c)i=s[c].replace(Ls.trimParens,"$1"),a.push(gd.polygon.apply(this,[i]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();for(var i=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),s=[],a=0,c=i.length;a<c;++a)s.push(this.read(i[a]));return this.geometryFactory.createGeometryCollection(s)}},ss=function(e){this.parser=new o0(e)};ss.prototype.write=function(e){return this.parser.write(e)},ss.toLineString=function(e,i){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+i.x+" "+i.y+" )"};var qa=function(e){function i(s){e.call(this,s),this.name="RuntimeException",this.message=s,this.stack=new e().stack}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Error),s0=function(e){function i(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var s=arguments[0];e.call(this,s)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(qa),rr=function(){};rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.shouldNeverReachHere=function(){if(arguments.length===0)rr.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new s0("Should never reach here"+(e!==null?": "+e:""))}},rr.isTrue=function(){var e;if(arguments.length===1)rr.isTrue(arguments[0],null);else if(arguments.length===2&&(e=arguments[1],!arguments[0]))throw e===null?new s0:new s0(e)},rr.equals=function(){var e,i,s;if(arguments.length===2)rr.equals(e=arguments[0],i=arguments[1],null);else if(arguments.length===3&&(e=arguments[0],s=arguments[2],!(i=arguments[1]).equals(e)))throw new s0("Expected "+e+" but encountered "+i+(s!==null?": "+s:""))};var Si=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Ct,this._intPt[1]=new Ct,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Wu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Si.prototype.getIndexAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intLineIndex[e][i]},Si.prototype.getTopologySummary=function(){var e=new Ms;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Si.prototype.computeIntersection=function(e,i,s,a){this._inputLines[0][0]=e,this._inputLines[0][1]=i,this._inputLines[1][0]=s,this._inputLines[1][1]=a,this._result=this.computeIntersect(e,i,s,a)},Si.prototype.getIntersectionNum=function(){return this._result},Si.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],i=this.getEdgeDistance(e,0),s=this.getEdgeDistance(e,1);i>s?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Si.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Si.prototype.setPrecisionModel=function(e){this._precisionModel=e},Si.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var i=arguments[0],s=0;s<this._result;s++)if(!e._intPt[s].equals2D(e._inputLines[i][0])&&!e._intPt[s].equals2D(e._inputLines[i][1]))return!0;return!1}},Si.prototype.getIntersection=function(e){return this._intPt[e]},Si.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Si.prototype.hasIntersection=function(){return this._result!==Si.NO_INTERSECTION},Si.prototype.getEdgeDistance=function(e,i){return Si.computeEdgeDistance(this._intPt[i],this._inputLines[e][0],this._inputLines[e][1])},Si.prototype.isCollinear=function(){return this._result===Si.COLLINEAR_INTERSECTION},Si.prototype.toString=function(){return ss.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+ss.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Si.prototype.getEndpoint=function(e,i){return this._inputLines[e][i]},Si.prototype.isIntersection=function(e){for(var i=0;i<this._result;i++)if(this._intPt[i].equals2D(e))return!0;return!1},Si.prototype.getIntersectionAlongSegment=function(e,i){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][i]]},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.computeEdgeDistance=function(e,i,s){var a=Math.abs(s.x-i.x),c=Math.abs(s.y-i.y),h=-1;if(e.equals(i))h=0;else if(e.equals(s))h=a>c?a:c;else{var g=Math.abs(e.x-i.x),y=Math.abs(e.y-i.y);(h=a>c?g:y)!==0||e.equals(i)||(h=Math.max(g,y))}return rr.isTrue(!(h===0&&!e.equals(i)),"Bad distance calculation"),h},Si.nonRobustComputeEdgeDistance=function(e,i,s){var a=e.x-i.x,c=e.y-i.y,h=Math.sqrt(a*a+c*c);return rr.isTrue(!(h===0&&!e.equals(i)),"Invalid distance calculation"),h},Wu.DONT_INTERSECT.get=function(){return 0},Wu.DO_INTERSECT.get=function(){return 1},Wu.COLLINEAR.get=function(){return 2},Wu.NO_INTERSECTION.get=function(){return 0},Wu.POINT_INTERSECTION.get=function(){return 1},Wu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Si,Wu);var Nc=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isInSegmentEnvelopes=function(s){var a=new ze(this._inputLines[0][0],this._inputLines[0][1]),c=new ze(this._inputLines[1][0],this._inputLines[1][1]);return a.contains(s)&&c.contains(s)},i.prototype.computeIntersection=function(){if(arguments.length!==3)return e.prototype.computeIntersection.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2];if(this._isProper=!1,ze.intersects(a,c,s)&&ge.orientationIndex(a,c,s)===0&&ge.orientationIndex(c,a,s)===0)return this._isProper=!0,(s.equals(a)||s.equals(c))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},i.prototype.normalizeToMinimum=function(s,a,c,h,g){g.x=this.smallestInAbsValue(s.x,a.x,c.x,h.x),g.y=this.smallestInAbsValue(s.y,a.y,c.y,h.y),s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.safeHCoordinateIntersection=function(s,a,c,h){var g=null;try{g=os.intersection(s,a,c,h)}catch(y){if(!(y instanceof fd))throw y;g=i.nearestEndpoint(s,a,c,h)}return g},i.prototype.intersection=function(s,a,c,h){var g=this.intersectionWithNormalization(s,a,c,h);return this.isInSegmentEnvelopes(g)||(g=new Ct(i.nearestEndpoint(s,a,c,h))),this._precisionModel!==null&&this._precisionModel.makePrecise(g),g},i.prototype.smallestInAbsValue=function(s,a,c,h){var g=s,y=Math.abs(g);return Math.abs(a)<y&&(g=a,y=Math.abs(a)),Math.abs(c)<y&&(g=c,y=Math.abs(c)),Math.abs(h)<y&&(g=h),g},i.prototype.checkDD=function(s,a,c,h,g){var y=Yn.intersection(s,a,c,h),w=this.isInSegmentEnvelopes(y);pn.out.println("DD in env = "+w+"  --------------------- "+y),g.distance(y)>1e-4&&pn.out.println("Distance = "+g.distance(y))},i.prototype.intersectionWithNormalization=function(s,a,c,h){var g=new Ct(s),y=new Ct(a),w=new Ct(c),x=new Ct(h),T=new Ct;this.normalizeToEnvCentre(g,y,w,x,T);var E=this.safeHCoordinateIntersection(g,y,w,x);return E.x+=T.x,E.y+=T.y,E},i.prototype.computeCollinearIntersection=function(s,a,c,h){var g=ze.intersects(s,a,c),y=ze.intersects(s,a,h),w=ze.intersects(c,h,s),x=ze.intersects(c,h,a);return g&&y?(this._intPt[0]=c,this._intPt[1]=h,e.COLLINEAR_INTERSECTION):w&&x?(this._intPt[0]=s,this._intPt[1]=a,e.COLLINEAR_INTERSECTION):g&&w?(this._intPt[0]=c,this._intPt[1]=s,!c.equals(s)||y||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):g&&x?(this._intPt[0]=c,this._intPt[1]=a,!c.equals(a)||y||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&w?(this._intPt[0]=h,this._intPt[1]=s,!h.equals(s)||g||x?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):y&&x?(this._intPt[0]=h,this._intPt[1]=a,!h.equals(a)||g||w?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},i.prototype.normalizeToEnvCentre=function(s,a,c,h,g){var y=s.x<a.x?s.x:a.x,w=s.y<a.y?s.y:a.y,x=s.x>a.x?s.x:a.x,T=s.y>a.y?s.y:a.y,E=c.x<h.x?c.x:h.x,P=c.y<h.y?c.y:h.y,z=c.x>h.x?c.x:h.x,N=c.y>h.y?c.y:h.y,B=((y>E?y:E)+(x<z?x:z))/2,I=((w>P?w:P)+(T<N?T:N))/2;g.x=B,g.y=I,s.x-=g.x,s.y-=g.y,a.x-=g.x,a.y-=g.y,c.x-=g.x,c.y-=g.y,h.x-=g.x,h.y-=g.y},i.prototype.computeIntersect=function(s,a,c,h){if(this._isProper=!1,!ze.intersects(s,a,c,h))return e.NO_INTERSECTION;var g=ge.orientationIndex(s,a,c),y=ge.orientationIndex(s,a,h);if(g>0&&y>0||g<0&&y<0)return e.NO_INTERSECTION;var w=ge.orientationIndex(c,h,s),x=ge.orientationIndex(c,h,a);return w>0&&x>0||w<0&&x<0?e.NO_INTERSECTION:g===0&&y===0&&w===0&&x===0?this.computeCollinearIntersection(s,a,c,h):(g===0||y===0||w===0||x===0?(this._isProper=!1,s.equals2D(c)||s.equals2D(h)?this._intPt[0]=s:a.equals2D(c)||a.equals2D(h)?this._intPt[0]=a:g===0?this._intPt[0]=new Ct(c):y===0?this._intPt[0]=new Ct(h):w===0?this._intPt[0]=new Ct(s):x===0&&(this._intPt[0]=new Ct(a))):(this._isProper=!0,this._intPt[0]=this.intersection(s,a,c,h)),e.POINT_INTERSECTION)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.nearestEndpoint=function(s,a,c,h){var g=s,y=ge.distancePointLine(s,c,h),w=ge.distancePointLine(a,c,h);return w<y&&(y=w,g=a),(w=ge.distancePointLine(c,s,a))<y&&(y=w,g=c),(w=ge.distancePointLine(h,s,a))<y&&(y=w,g=h),g},i}(Si),Zu=function(){};Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu},Zu.orientationIndex=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=s.x-i.x,g=s.y-i.y;return Zu.signOfDet2x2(a,c,h,g)},Zu.signOfDet2x2=function(e,i,s,a){var c=null,h=null,g=null;if(c=1,e===0||a===0)return i===0||s===0?0:i>0?s>0?-c:c:s>0?c:-c;if(i===0||s===0)return a>0?e>0?c:-c:e>0?-c:c;if(i>0?a>0?i<=a||(c=-c,h=e,e=s,s=h,h=i,i=a,a=h):i<=-a?(c=-c,s=-s,a=-a):(h=e,e=-s,s=h,h=i,i=-a,a=h):a>0?-i<=a?(c=-c,e=-e,i=-i):(h=-e,e=s,s=h,h=-i,i=a,a=h):i>=a?(e=-e,i=-i,s=-s,a=-a):(c=-c,h=-e,e=-s,s=h,h=-i,i=-a,a=h),e>0){if(!(s>0)||!(e<=s))return c}else{if(s>0||!(e>=s))return-c;c=-c,e=-e,s=-s}for(;;){if((a-=(g=Math.floor(s/e))*i)<0)return-c;if(a>i)return c;if(e>(s-=g*e)+s){if(i<a+a)return c}else{if(i>a+a)return-c;s=e-s,a=i-a,c=-c}if(a===0)return s===0?0:-c;if(s===0||(i-=(g=Math.floor(e/s))*a)<0)return c;if(i>a)return-c;if(s>(e-=g*s)+e){if(a<i+i)return-c}else{if(a>i+i)return c;e=s-e,i=a-i,c=-c}if(i===0)return e===0?0:c;if(e===0)return-c}};var Rs=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Rs.prototype.countSegment=function(e,i){if(e.x<this._p.x&&i.x<this._p.x)return null;if(this._p.x===i.x&&this._p.y===i.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&i.y===this._p.y){var s=e.x,a=i.x;return s>a&&(s=i.x,a=e.x),this._p.x>=s&&this._p.x<=a&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&i.y<=this._p.y||i.y>this._p.y&&e.y<=this._p.y){var c=e.x-this._p.x,h=e.y-this._p.y,g=i.x-this._p.x,y=i.y-this._p.y,w=Zu.signOfDet2x2(c,h,g,y);if(w===0)return this._isPointOnSegment=!0,null;y<h&&(w=-w),w>0&&this._crossingCount++}},Rs.prototype.isPointInPolygon=function(){return this.getLocation()!==At.EXTERIOR},Rs.prototype.getLocation=function(){return this._isPointOnSegment?At.BOUNDARY:this._crossingCount%2==1?At.INTERIOR:At.EXTERIOR},Rs.prototype.isOnSegment=function(){return this._isPointOnSegment},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs},Rs.locatePointInRing=function(){if(arguments[0]instanceof Ct&&Ge(arguments[1],br)){for(var e=arguments[0],i=arguments[1],s=new Rs(e),a=new Ct,c=new Ct,h=1;h<i.size();h++)if(i.getCoordinate(h,a),i.getCoordinate(h-1,c),s.countSegment(a,c),s.isOnSegment())return s.getLocation();return s.getLocation()}if(arguments[0]instanceof Ct&&arguments[1]instanceof Array){for(var g=arguments[0],y=arguments[1],w=new Rs(g),x=1;x<y.length;x++){var T=y[x],E=y[x-1];if(w.countSegment(T,E),w.isOnSegment())return w.getLocation()}return w.getLocation()}};var ge=function(){},Yu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ge.prototype.interfaces_=function(){return[]},ge.prototype.getClass=function(){return ge},ge.orientationIndex=function(e,i,s){return Yn.orientationIndex(e,i,s)},ge.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var i=0,s=e[0].x,a=1;a<e.length-1;a++){var c=e[a].x-s,h=e[a+1].y,g=e[a-1].y;i+=c*(g-h)}return i/2}if(Ge(arguments[0],br)){var y=arguments[0],w=y.size();if(w<3)return 0;var x=new Ct,T=new Ct,E=new Ct;y.getCoordinate(0,T),y.getCoordinate(1,E);var P=T.x;E.x-=P;for(var z=0,N=1;N<w-1;N++)x.y=T.y,T.x=E.x,T.y=E.y,y.getCoordinate(N+1,E),E.x-=P,z+=T.x*(x.y-E.y);return z/2}},ge.distanceLineLine=function(e,i,s,a){if(e.equals(i))return ge.distancePointLine(e,s,a);if(s.equals(a))return ge.distancePointLine(a,e,i);var c=!1;if(ze.intersects(e,i,s,a)){var h=(i.x-e.x)*(a.y-s.y)-(i.y-e.y)*(a.x-s.x);if(h===0)c=!0;else{var g=(e.y-s.y)*(a.x-s.x)-(e.x-s.x)*(a.y-s.y),y=((e.y-s.y)*(i.x-e.x)-(e.x-s.x)*(i.y-e.y))/h,w=g/h;(w<0||w>1||y<0||y>1)&&(c=!0)}}else c=!0;return c?xo.min(ge.distancePointLine(e,s,a),ge.distancePointLine(i,s,a),ge.distancePointLine(s,e,i),ge.distancePointLine(a,e,i)):0},ge.isPointInRing=function(e,i){return ge.locatePointInRing(e,i)!==At.EXTERIOR},ge.computeLength=function(e){var i=e.size();if(i<=1)return 0;var s=0,a=new Ct;e.getCoordinate(0,a);for(var c=a.x,h=a.y,g=1;g<i;g++){e.getCoordinate(g,a);var y=a.x,w=a.y,x=y-c,T=w-h;s+=Math.sqrt(x*x+T*T),c=y,h=w}return s},ge.isCCW=function(e){var i=e.length-1;if(i<3)throw new ki("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=e[0],a=0,c=1;c<=i;c++){var h=e[c];h.y>s.y&&(s=h,a=c)}var g=a;do(g-=1)<0&&(g=i);while(e[g].equals2D(s)&&g!==a);var y=a;do y=(y+1)%i;while(e[y].equals2D(s)&&y!==a);var w=e[g],x=e[y];if(w.equals2D(s)||x.equals2D(s)||w.equals2D(x))return!1;var T=ge.computeOrientation(w,s,x),E=!1;return E=T===0?w.x>x.x:T>0,E},ge.locatePointInRing=function(e,i){return Rs.locatePointInRing(e,i)},ge.distancePointLinePerpendicular=function(e,i,s){var a=(s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y),c=((i.y-e.y)*(s.x-i.x)-(i.x-e.x)*(s.y-i.y))/a;return Math.abs(c)*Math.sqrt(a)},ge.computeOrientation=function(e,i,s){return ge.orientationIndex(e,i,s)},ge.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(i.length===0)throw new ki("Line array must contain at least one vertex");for(var s=e.distance(i[0]),a=0;a<i.length-1;a++){var c=ge.distancePointLine(e,i[a],i[a+1]);c<s&&(s=c)}return s}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];if(g.x===y.x&&g.y===y.y)return h.distance(g);var w=(y.x-g.x)*(y.x-g.x)+(y.y-g.y)*(y.y-g.y),x=((h.x-g.x)*(y.x-g.x)+(h.y-g.y)*(y.y-g.y))/w;if(x<=0)return h.distance(g);if(x>=1)return h.distance(y);var T=((g.y-h.y)*(y.x-g.x)-(g.x-h.x)*(y.y-g.y))/w;return Math.abs(T)*Math.sqrt(w)}},ge.isOnLine=function(e,i){for(var s=new Nc,a=1;a<i.length;a++){var c=i[a-1],h=i[a];if(s.computeIntersection(e,c,h),s.hasIntersection())return!0}return!1},Yu.CLOCKWISE.get=function(){return-1},Yu.RIGHT.get=function(){return ge.CLOCKWISE},Yu.COUNTERCLOCKWISE.get=function(){return 1},Yu.LEFT.get=function(){return ge.COUNTERCLOCKWISE},Yu.COLLINEAR.get=function(){return 0},Yu.STRAIGHT.get=function(){return ge.COLLINEAR},Object.defineProperties(ge,Yu);var Va=function(){};Va.prototype.filter=function(e){},Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va};var He=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},ha={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};He.prototype.isGeometryCollection=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION},He.prototype.getFactory=function(){return this._factory},He.prototype.getGeometryN=function(e){return this},He.prototype.getArea=function(){return 0},He.prototype.isRectangle=function(){return!1},He.prototype.equals=function(){if(arguments[0]instanceof He){var e=arguments[0];return e!==null&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var i=arguments[0];if(!(i instanceof He))return!1;var s=i;return this.equalsExact(s)}},He.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},He.prototype.geometryChanged=function(){this.apply(He.geometryChangedFilter)},He.prototype.geometryChangedAction=function(){this._envelope=null},He.prototype.equalsNorm=function(e){return e!==null&&this.norm().equalsExact(e.norm())},He.prototype.getLength=function(){return 0},He.prototype.getNumGeometries=function(){return 1},He.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],i=e;return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.getSortIndex()!==s.getSortIndex()?this.getSortIndex()-s.getSortIndex():this.isEmpty()&&s.isEmpty()?0:this.isEmpty()?-1:s.isEmpty()?1:this.compareToSameClass(s,a)}},He.prototype.getUserData=function(){return this._userData},He.prototype.getSRID=function(){return this._SRID},He.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},He.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION)throw new ki("This method does not support GeometryCollection arguments")},He.prototype.equal=function(e,i,s){return s===0?e.equals(i):e.distance(i)<=s},He.prototype.norm=function(){var e=this.copy();return e.normalize(),e},He.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},He.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new ze(this._envelope)},He.prototype.setSRID=function(e){this._SRID=e},He.prototype.setUserData=function(e){this._userData=e},He.prototype.compare=function(e,i){for(var s=e.iterator(),a=i.iterator();s.hasNext()&&a.hasNext();){var c=s.next(),h=a.next(),g=c.compareTo(h);if(g!==0)return g}return s.hasNext()?1:a.hasNext()?-1:0},He.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},He.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===He.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===He.SORTINDEX_MULTIPOINT||this.getSortIndex()===He.SORTINDEX_MULTILINESTRING||this.getSortIndex()===He.SORTINDEX_MULTIPOLYGON},He.prototype.interfaces_=function(){return[n0,zo,No]},He.prototype.getClass=function(){return He},He.hasNonEmptyElements=function(e){for(var i=0;i<e.length;i++)if(!e[i].isEmpty())return!0;return!1},He.hasNullElements=function(e){for(var i=0;i<e.length;i++)if(e[i]===null)return!0;return!1},ha.serialVersionUID.get=function(){return 8763622679187377e3},ha.SORTINDEX_POINT.get=function(){return 0},ha.SORTINDEX_MULTIPOINT.get=function(){return 1},ha.SORTINDEX_LINESTRING.get=function(){return 2},ha.SORTINDEX_LINEARRING.get=function(){return 3},ha.SORTINDEX_MULTILINESTRING.get=function(){return 4},ha.SORTINDEX_POLYGON.get=function(){return 5},ha.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ha.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ha.geometryChangedFilter.get=function(){return Fb},Object.defineProperties(He,ha);var Fb=function(){};Fb.interfaces_=function(){return[Va]},Fb.filter=function(e){e.geometryChangedAction()};var da=function(){};da.prototype.filter=function(e){},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da};var Do=function(){},Wa={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Do.prototype.isInBoundary=function(e){},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Wa.Mod2BoundaryNodeRule.get=function(){return md},Wa.EndPointBoundaryNodeRule.get=function(){return vd},Wa.MultiValentEndPointBoundaryNodeRule.get=function(){return yd},Wa.MonoValentEndPointBoundaryNodeRule.get=function(){return bd},Wa.MOD2_BOUNDARY_RULE.get=function(){return new md},Wa.ENDPOINT_BOUNDARY_RULE.get=function(){return new vd},Wa.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new yd},Wa.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new bd},Wa.OGC_SFS_BOUNDARY_RULE.get=function(){return Do.MOD2_BOUNDARY_RULE},Object.defineProperties(Do,Wa);var md=function(){};md.prototype.isInBoundary=function(e){return e%2==1},md.prototype.interfaces_=function(){return[Do]},md.prototype.getClass=function(){return md};var vd=function(){};vd.prototype.isInBoundary=function(e){return e>0},vd.prototype.interfaces_=function(){return[Do]},vd.prototype.getClass=function(){return vd};var yd=function(){};yd.prototype.isInBoundary=function(e){return e>1},yd.prototype.interfaces_=function(){return[Do]},yd.prototype.getClass=function(){return yd};var bd=function(){};bd.prototype.isInBoundary=function(e){return e===1},bd.prototype.interfaces_=function(){return[Do]},bd.prototype.getClass=function(){return bd};var Ui=function(){};function Bb(e){this.message=e||""}Ui.prototype.add=function(){},Ui.prototype.addAll=function(){},Ui.prototype.isEmpty=function(){},Ui.prototype.iterator=function(){},Ui.prototype.size=function(){},Ui.prototype.toArray=function(){},Ui.prototype.remove=function(){},Bb.prototype=new Error,Bb.prototype.name="IndexOutOfBoundsException";var wd=function(){};wd.prototype.hasNext=function(){},wd.prototype.next=function(){},wd.prototype.remove=function(){};var as=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(){},i.prototype.set=function(){},i.prototype.isEmpty=function(){},i}(Ui);function xd(e){this.message=e||""}xd.prototype=new Error,xd.prototype.name="NoSuchElementException";var ce=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.ensureCapacity=function(){},i.prototype.interfaces_=function(){return[e,Ui]},i.prototype.add=function(s){return arguments.length===1?this.array_.push(s):this.array_.splice(arguments[0],arguments[1]),!0},i.prototype.clear=function(){this.array_=[]},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.set=function(s,a){var c=this.array_[s];return this.array_[s]=a,c},i.prototype.iterator=function(){return new MI(this)},i.prototype.get=function(s){if(s<0||s>=this.size())throw new Bb;return this.array_[s]},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.size=function(){return this.array_.length},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.remove=function(s){for(var a=!1,c=0,h=this.array_.length;c<h;c++)if(this.array_[c]===s){this.array_.splice(c,1),a=!0;break}return a},i}(as),MI=function(e){function i(s){e.call(this),this.arrayList_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new xd;return this.arrayList_.get(this.position_++)},i.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},i.prototype.set=function(s){return this.arrayList_.set(this.position_-1,s)},i.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},i}(wd),_f=function(e){function i(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(arguments.length===2){var c=arguments[0],h=arguments[1];this.ensureCapacity(c.length),this.add(c,h)}}}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={coordArrayType:{configurable:!0}};return s.coordArrayType.get=function(){return new Array(0).fill(null)},i.prototype.getCoordinate=function(a){return this.get(a)},i.prototype.addAll=function(){var a=this;if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=!1,y=c.iterator();y.hasNext();)a.add(y.next(),h),g=!0;return g}return e.prototype.addAll.apply(this,arguments)},i.prototype.clone=function(){for(var a=e.prototype.clone.call(this),c=0;c<this.size();c++)a.add(c,this.get(c).copy());return a},i.prototype.toCoordinateArray=function(){return this.toArray(i.coordArrayType)},i.prototype.add=function(){var a=this;if(arguments.length===1){var c=arguments[0];e.prototype.add.call(this,c)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1];return this.add(h,g,!0),!0}if(arguments[0]instanceof Ct&&typeof arguments[1]=="boolean"){var y=arguments[0],w=arguments[1];if(!w&&this.size()>=1){var x=this.get(this.size()-1);if(x.equals2D(y))return null}e.prototype.add.call(this,y)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var T=arguments[0],E=arguments[1];return this.add(T,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var P=arguments[0],z=arguments[1],N=arguments[2];if(N)for(var B=0;B<P.length;B++)a.add(P[B],z);else for(var I=P.length-1;I>=0;I--)a.add(P[I],z);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Ct){var Y=arguments[0],it=arguments[1],D=arguments[2];if(!D){var Z=this.size();if(Z>0){if(Y>0){var K=this.get(Y-1);if(K.equals2D(it))return null}if(Y<Z){var tt=this.get(Y);if(tt.equals2D(it))return null}}}e.prototype.add.call(this,Y,it)}}else if(arguments.length===4){var Q=arguments[0],Rt=arguments[1],Et=arguments[2],Nt=arguments[3],Tt=1;Et>Nt&&(Tt=-1);for(var jt=Et;jt!==Nt;jt+=Tt)a.add(Q[jt],Rt);return!0}},i.prototype.closeRing=function(){this.size()>0&&this.add(new Ct(this.get(0)),!1)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},Object.defineProperties(i,s),i}(ce),ur=function(){},a0={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};a0.ForwardComparator.get=function(){return kf},a0.BidirectionalComparator.get=function(){return _d},a0.coordArrayType.get=function(){return new Array(0).fill(null)},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},ur.ptNotInList=function(e,i){for(var s=0;s<e.length;s++){var a=e[s];if(ur.indexOf(a,i)<0)return a}return null},ur.scroll=function(e,i){var s=ur.indexOf(i,e);if(s<0)return null;var a=new Array(e.length).fill(null);pn.arraycopy(e,s,a,0,e.length-s),pn.arraycopy(e,0,a,e.length-s,s),pn.arraycopy(a,0,e,0,e.length)},ur.equals=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];if(e===i)return!0;if(e===null||i===null||e.length!==i.length)return!1;for(var s=0;s<e.length;s++)if(!e[s].equals(i[s]))return!1;return!0}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(a===c)return!0;if(a===null||c===null||a.length!==c.length)return!1;for(var g=0;g<a.length;g++)if(h.compare(a[g],c[g])!==0)return!1;return!0}},ur.intersection=function(e,i){for(var s=new _f,a=0;a<e.length;a++)i.intersects(e[a])&&s.add(e[a],!0);return s.toCoordinateArray()},ur.hasRepeatedPoints=function(e){for(var i=1;i<e.length;i++)if(e[i-1].equals(e[i]))return!0;return!1},ur.removeRepeatedPoints=function(e){return ur.hasRepeatedPoints(e)?new _f(e,!1).toCoordinateArray():e},ur.reverse=function(e){for(var i=e.length-1,s=Math.trunc(i/2),a=0;a<=s;a++){var c=e[a];e[a]=e[i-a],e[i-a]=c}},ur.removeNull=function(e){for(var i=0,s=0;s<e.length;s++)e[s]!==null&&i++;var a=new Array(i).fill(null);if(i===0)return a;for(var c=0,h=0;h<e.length;h++)e[h]!==null&&(a[c++]=e[h]);return a},ur.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],i=new Array(e.length).fill(null),s=0;s<e.length;s++)i[s]=new Ct(e[s]);return i}if(arguments.length===5)for(var a=arguments[0],c=arguments[1],h=arguments[2],g=arguments[3],y=arguments[4],w=0;w<y;w++)h[g+w]=new Ct(a[c+w])},ur.isEqualReversed=function(e,i){for(var s=0;s<e.length;s++){var a=e[s],c=i[e.length-s-1];if(a.compareTo(c)!==0)return!1}return!0},ur.envelope=function(e){for(var i=new ze,s=0;s<e.length;s++)i.expandToInclude(e[s]);return i},ur.toCoordinateArray=function(e){return e.toArray(ur.coordArrayType)},ur.atLeastNCoordinatesOrNothing=function(e,i){return i.length>=e?i:[]},ur.indexOf=function(e,i){for(var s=0;s<i.length;s++)if(e.equals(i[s]))return s;return-1},ur.increasingDirection=function(e){for(var i=0;i<Math.trunc(e.length/2);i++){var s=e.length-1-i,a=e[i].compareTo(e[s]);if(a!==0)return a}return 1},ur.compare=function(e,i){for(var s=0;s<e.length&&s<i.length;){var a=e[s].compareTo(i[s]);if(a!==0)return a;s++}return s<i.length?-1:s<e.length?1:0},ur.minCoordinate=function(e){for(var i=null,s=0;s<e.length;s++)(i===null||i.compareTo(e[s])>0)&&(i=e[s]);return i},ur.extract=function(e,i,s){i=xo.clamp(i,0,e.length);var a=(s=xo.clamp(s,-1,e.length))-i+1;s<0&&(a=0),i>=e.length&&(a=0),s<i&&(a=0);var c=new Array(a).fill(null);if(a===0)return c;for(var h=0,g=i;g<=s;g++)c[h++]=e[g];return c},Object.defineProperties(ur,a0);var kf=function(){};kf.prototype.compare=function(e,i){return ur.compare(e,i)},kf.prototype.interfaces_=function(){return[dd]},kf.prototype.getClass=function(){return kf};var _d=function(){};_d.prototype.compare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;var c=ur.compare(s,a);return ur.isEqualReversed(s,a)?0:c},_d.prototype.OLDcompare=function(e,i){var s=e,a=i;if(s.length<a.length)return-1;if(s.length>a.length)return 1;if(s.length===0)return 0;for(var c=ur.increasingDirection(s),h=ur.increasingDirection(a),g=c>0?0:s.length-1,y=h>0?0:s.length-1,w=0;w<s.length;w++){var x=s[g].compareTo(a[y]);if(x!==0)return x;g+=c,y+=h}return 0},_d.prototype.interfaces_=function(){return[dd]},_d.prototype.getClass=function(){return _d};var Xu=function(){};Xu.prototype.get=function(){},Xu.prototype.put=function(){},Xu.prototype.size=function(){},Xu.prototype.values=function(){},Xu.prototype.entrySet=function(){};var II=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i}(Xu);function Ef(e){this.message=e||""}function l0(){}Ef.prototype=new Error,Ef.prototype.name="OperationNotSupported",l0.prototype=new Ui,l0.prototype.contains=function(){};var jb=function(e){function i(){e.call(this),this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.contains=function(s){for(var a=0,c=this.array_.length;a<c;a++)if(this.array_[a]===s)return!0;return!1},i.prototype.add=function(s){return!this.contains(s)&&(this.array_.push(s),!0)},i.prototype.addAll=function(s){for(var a=s.iterator();a.hasNext();)this.add(a.next());return!0},i.prototype.remove=function(s){throw new Error},i.prototype.size=function(){return this.array_.length},i.prototype.isEmpty=function(){return this.array_.length===0},i.prototype.toArray=function(){for(var s=[],a=0,c=this.array_.length;a<c;a++)s.push(this.array_[a]);return s},i.prototype.iterator=function(){return new LI(this)},i}(l0),LI=function(e){function i(s){e.call(this),this.hashSet_=s,this.position_=0}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new xd;return this.hashSet_.array_[this.position_++]},i.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},i.prototype.remove=function(){throw new Ef},i}(wd);function kk(e){return e===null?0:e.color}function fi(e){return e===null?null:e.parent}function Za(e,i){e!==null&&(e.color=i)}function Hb(e){return e===null?null:e.left}function Ek(e){return e===null?null:e.right}function En(){this.root_=null,this.size_=0}En.prototype=new II,En.prototype.get=function(e){for(var i=this.root_;i!==null;){var s=e.compareTo(i.key);if(s<0)i=i.left;else{if(!(s>0))return i.value;i=i.right}}return null},En.prototype.put=function(e,i){if(this.root_===null)return this.root_={key:e,value:i,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var s,a,c=this.root_;do if(s=c,(a=e.compareTo(c.key))<0)c=c.left;else{if(!(a>0)){var h=c.value;return c.value=i,h}c=c.right}while(c!==null);var g={key:e,left:null,right:null,value:i,parent:s,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return a<0?s.left=g:s.right=g,this.fixAfterInsertion(g),this.size_++,null},En.prototype.fixAfterInsertion=function(e){var i=this;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)if(fi(e)===Hb(fi(fi(e)))){var s=Ek(fi(fi(e)));kk(s)===1?(Za(fi(e),0),Za(s,0),Za(fi(fi(e)),1),e=fi(fi(e))):(e===Ek(fi(e))&&(e=fi(e),i.rotateLeft(e)),Za(fi(e),0),Za(fi(fi(e)),1),i.rotateRight(fi(fi(e))))}else{var a=Hb(fi(fi(e)));kk(a)===1?(Za(fi(e),0),Za(a,0),Za(fi(fi(e)),1),e=fi(fi(e))):(e===Hb(fi(e))&&(e=fi(e),i.rotateRight(e)),Za(fi(e),0),Za(fi(fi(e)),1),i.rotateLeft(fi(fi(e))))}this.root_.color=0},En.prototype.values=function(){var e=new ce,i=this.getFirstEntry();if(i!==null)for(e.add(i.value);(i=En.successor(i))!==null;)e.add(i.value);return e},En.prototype.entrySet=function(){var e=new jb,i=this.getFirstEntry();if(i!==null)for(e.add(i);(i=En.successor(i))!==null;)e.add(i);return e},En.prototype.rotateLeft=function(e){if(e!=null){var i=e.right;e.right=i.left,i.left!=null&&(i.left.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.left===e?e.parent.left=i:e.parent.right=i,i.left=e,e.parent=i}},En.prototype.rotateRight=function(e){if(e!=null){var i=e.left;e.left=i.right,i.right!=null&&(i.right.parent=e),i.parent=e.parent,e.parent===null?this.root_=i:e.parent.right===e?e.parent.right=i:e.parent.left=i,i.right=e,e.parent=i}},En.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e},En.successor=function(e){if(e===null)return null;if(e.right!==null){for(var i=e.right;i.left!==null;)i=i.left;return i}for(var s=e.parent,a=e;s!==null&&a===s.right;)a=s,s=s.parent;return s},En.prototype.size=function(){return this.size_};var Tf=function(){};function Tk(){}function As(){this.array_=[],arguments[0]instanceof Ui&&this.addAll(arguments[0])}Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Tk.prototype=new l0,As.prototype=new Tk,As.prototype.contains=function(e){for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===0)return!0;return!1},As.prototype.add=function(e){if(this.contains(e))return!1;for(var i=0,s=this.array_.length;i<s;i++)if(this.array_[i].compareTo(e)===1)return this.array_.splice(i,0,e),!0;return this.array_.push(e),!0},As.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next());return!0},As.prototype.remove=function(e){throw new Ef},As.prototype.size=function(){return this.array_.length},As.prototype.isEmpty=function(){return this.array_.length===0},As.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e},As.prototype.iterator=function(){return new c0(this)};var c0=function(e){this.treeSet_=e,this.position_=0};c0.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new xd;return this.treeSet_.array_[this.position_++]},c0.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},c0.prototype.remove=function(){throw new Ef};var Dc=function(){};Dc.sort=function(){var e,i,s,a,c=arguments[0];if(arguments.length===1)a=function(g,y){return g.compareTo(y)},c.sort(a);else if(arguments.length===2)s=arguments[1],a=function(g,y){return s.compare(g,y)},c.sort(a);else if(arguments.length===3){(i=c.slice(arguments[1],arguments[2])).sort();var h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length));for(c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])}else if(arguments.length===4)for(i=c.slice(arguments[1],arguments[2]),s=arguments[3],a=function(g,y){return s.compare(g,y)},i.sort(a),h=c.slice(0,arguments[1]).concat(i,c.slice(arguments[2],c.length)),c.splice(0,c.length),e=0;e<h.length;e++)c.push(h[e])},Dc.asList=function(e){for(var i=new ce,s=0,a=e.length;s<a;s++)i.add(e[s]);return i};var Jr=function(){},ls={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ls.P.get=function(){return 0},ls.L.get=function(){return 1},ls.A.get=function(){return 2},ls.FALSE.get=function(){return-1},ls.TRUE.get=function(){return-2},ls.DONTCARE.get=function(){return-3},ls.SYM_FALSE.get=function(){return"F"},ls.SYM_TRUE.get=function(){return"T"},ls.SYM_DONTCARE.get=function(){return"*"},ls.SYM_P.get=function(){return"0"},ls.SYM_L.get=function(){return"1"},ls.SYM_A.get=function(){return"2"},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.toDimensionSymbol=function(e){switch(e){case Jr.FALSE:return Jr.SYM_FALSE;case Jr.TRUE:return Jr.SYM_TRUE;case Jr.DONTCARE:return Jr.SYM_DONTCARE;case Jr.P:return Jr.SYM_P;case Jr.L:return Jr.SYM_L;case Jr.A:return Jr.SYM_A}throw new ki("Unknown dimension value: "+e)},Jr.toDimensionValue=function(e){switch(wf.toUpperCase(e)){case Jr.SYM_FALSE:return Jr.FALSE;case Jr.SYM_TRUE:return Jr.TRUE;case Jr.SYM_DONTCARE:return Jr.DONTCARE;case Jr.SYM_P:return Jr.P;case Jr.SYM_L:return Jr.L;case Jr.SYM_A:return Jr.A}throw new ki("Unknown dimension symbol: "+e)},Object.defineProperties(Jr,ls);var Os=function(){};Os.prototype.filter=function(e){},Os.prototype.interfaces_=function(){return[]},Os.prototype.getClass=function(){return Os};var cs=function(){};cs.prototype.filter=function(e,i){},cs.prototype.isDone=function(){},cs.prototype.isGeometryChanged=function(){},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs};var On=function(e){function i(a,c){if(e.call(this,c),this._geometries=a||[],e.hasNullElements(this._geometries))throw new ki("geometries must not contain null elements")}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){for(var a=new ze,c=0;c<this._geometries.length;c++)a.expandToInclude(this._geometries[c].getEnvelopeInternal());return a},i.prototype.getGeometryN=function(a){return this._geometries[a]},i.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},i.prototype.getCoordinates=function(){for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=0;h<this._geometries.length;h++)for(var g=this._geometries[h].getCoordinates(),y=0;y<g.length;y++)a[++c]=g[y];return a},i.prototype.getArea=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getArea();return a},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._geometries.length!==g._geometries.length)return!1;for(var y=0;y<this._geometries.length;y++)if(!a._geometries[y].equalsExact(g._geometries[y],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=0;a<this._geometries.length;a++)this._geometries[a].normalize();Dc.sort(this._geometries)},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},i.prototype.getBoundaryDimension=function(){for(var a=Jr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getBoundaryDimension());return a},i.prototype.getDimension=function(){for(var a=Jr.FALSE,c=0;c<this._geometries.length;c++)a=Math.max(a,this._geometries[c].getDimension());return a},i.prototype.getLength=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=0,c=0;c<this._geometries.length;c++)a+=this._geometries[c].getNumPoints();return a},i.prototype.getNumGeometries=function(){return this._geometries.length},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createGeometryCollection(c)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=new As(Dc.asList(this._geometries)),g=new As(Dc.asList(c._geometries));return this.compare(h,g)}if(arguments.length===2){for(var y=arguments[0],w=arguments[1],x=y,T=this.getNumGeometries(),E=x.getNumGeometries(),P=0;P<T&&P<E;){var z=a.getGeometryN(P),N=x.getGeometryN(P),B=z.compareToSameClass(N,w);if(B!==0)return B;P++}return P<T?1:P<E?-1:0}},i.prototype.apply=function(){var a=this;if(Ge(arguments[0],da))for(var c=arguments[0],h=0;h<this._geometries.length;h++)a._geometries[h].apply(c);else if(Ge(arguments[0],cs)){var g=arguments[0];if(this._geometries.length===0)return null;for(var y=0;y<this._geometries.length&&(a._geometries[y].apply(g),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Os)){var w=arguments[0];w.filter(this);for(var x=0;x<this._geometries.length;x++)a._geometries[x].apply(w)}else if(Ge(arguments[0],Va)){var T=arguments[0];T.filter(this);for(var E=0;E<this._geometries.length;E++)a._geometries[E].apply(T)}},i.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),rr.shouldNeverReachHere(),null},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var c=0;c<this._geometries.length;c++)a._geometries[c]=this._geometries[c].clone();return a},i.prototype.getGeometryType=function(){return"GeometryCollection"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.isEmpty=function(){for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isEmpty())return!1;return!0},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(i,s),i}(He),Fc=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return He.SORTINDEX_MULTILINESTRING},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Jr.FALSE:0},i.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!this._geometries[a].isClosed())return!1;return!0},i.prototype.getDimension=function(){return 1},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[a-1-h]=this._geometries[h].reverse();return this.getFactory().createMultiLineString(c)},i.prototype.getBoundary=function(){return new Fo(this).getBoundary()},i.prototype.getGeometryType=function(){return"MultiLineString"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Tf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(i,s),i}(On),Fo=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],i=Do.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this._geom=s,this._geomFact=s.getFactory(),this._bnRule=a}};Fo.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var i=this.computeBoundaryCoordinates(e);return i.length===1?this._geomFact.createPoint(i[0]):this._geomFact.createMultiPointFromCoords(i)},Fo.prototype.getBoundary=function(){return this._geom instanceof Mi?this.boundaryLineString(this._geom):this._geom instanceof Fc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Fo.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Fo.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Fo.prototype.computeBoundaryCoordinates=function(e){var i=this,s=new ce;this._endpointMap=new En;for(var a=0;a<e.getNumGeometries();a++){var c=e.getGeometryN(a);c.getNumPoints()!==0&&(i.addEndpoint(c.getCoordinateN(0)),i.addEndpoint(c.getCoordinateN(c.getNumPoints()-1)))}for(var h=this._endpointMap.entrySet().iterator();h.hasNext();){var g=h.next(),y=g.getValue().count;i._bnRule.isInBoundary(y)&&s.add(g.getKey())}return ur.toCoordinateArray(s)},Fo.prototype.addEndpoint=function(e){var i=this._endpointMap.get(e);i===null&&(i=new u0,this._endpointMap.put(e,i)),i.count++},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},Fo.getBoundary=function(){if(arguments.length===1){var e=arguments[0],i=new Fo(e);return i.getBoundary()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Fo(s,a);return c.getBoundary()}};var u0=function(){this.count=null};function RI(){}function AI(){}u0.prototype.interfaces_=function(){return[]},u0.prototype.getClass=function(){return u0};var OI=function(){};function zI(){}function NI(){}function DI(){}var Bo=function(){},Ub={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Bo.prototype.interfaces_=function(){return[]},Bo.prototype.getClass=function(){return Bo},Bo.chars=function(e,i){for(var s=new Array(i).fill(null),a=0;a<i;a++)s[a]=e;return String(s)},Bo.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],i=new zI,s=new RI;return e.printStackTrace(s),i.toString()}if(arguments.length===2){for(var a=arguments[0],c=arguments[1],h="",g=new AI(Bo.getStackTrace(a)),y=new DI,w=0;w<c;w++)try{h+=y.readLine()+Bo.NEWLINE}catch(x){if(!(x instanceof NI))throw x;rr.shouldNeverReachHere()}return h}},Bo.split=function(e,i){for(var s=i.length,a=new ce,c=""+e,h=c.indexOf(i);h>=0;){var g=c.substring(0,h);a.add(g),h=(c=c.substring(h+s)).indexOf(i)}c.length>0&&a.add(c);for(var y=new Array(a.size()).fill(null),w=0;w<y.length;w++)y[w]=a.get(w);return y},Bo.toString=function(){if(arguments.length===1){var e=arguments[0];return Bo.SIMPLE_ORDINATE_FORMAT.format(e)}},Bo.spaces=function(e){return Bo.chars(" ",e)},Ub.NEWLINE.get=function(){return pn.getProperty("line.separator")},Ub.SIMPLE_ORDINATE_FORMAT.get=function(){return new OI},Object.defineProperties(Bo,Ub);var Li=function(){};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.copyCoord=function(e,i,s,a){for(var c=Math.min(e.getDimension(),s.getDimension()),h=0;h<c;h++)s.setOrdinate(a,h,e.getOrdinate(i,h))},Li.isRing=function(e){var i=e.size();return i===0||!(i<=3)&&e.getOrdinate(0,br.X)===e.getOrdinate(i-1,br.X)&&e.getOrdinate(0,br.Y)===e.getOrdinate(i-1,br.Y)},Li.isEqual=function(e,i){var s=e.size();if(s!==i.size())return!1;for(var a=Math.min(e.getDimension(),i.getDimension()),c=0;c<s;c++)for(var h=0;h<a;h++){var g=e.getOrdinate(c,h),y=i.getOrdinate(c,h);if(e.getOrdinate(c,h)!==i.getOrdinate(c,h)&&(!Je.isNaN(g)||!Je.isNaN(y)))return!1}return!0},Li.extend=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();if(Li.copy(i,0,a,0,c),c>0)for(var h=c;h<s;h++)Li.copy(i,c-1,a,h,1);return a},Li.reverse=function(e){for(var i=e.size()-1,s=Math.trunc(i/2),a=0;a<=s;a++)Li.swap(e,a,i-a)},Li.swap=function(e,i,s){if(i===s)return null;for(var a=0;a<e.getDimension();a++){var c=e.getOrdinate(i,a);e.setOrdinate(i,a,e.getOrdinate(s,a)),e.setOrdinate(s,a,c)}},Li.copy=function(e,i,s,a,c){for(var h=0;h<c;h++)Li.copyCoord(e,i+h,s,a+h)},Li.toString=function(){if(arguments.length===1){var e=arguments[0],i=e.size();if(i===0)return"()";var s=e.getDimension(),a=new Ms;a.append("(");for(var c=0;c<i;c++){c>0&&a.append(" ");for(var h=0;h<s;h++)h>0&&a.append(","),a.append(Bo.toString(e.getOrdinate(c,h)))}return a.append(")"),a.toString()}},Li.ensureValidRing=function(e,i){var s=i.size();return s===0?i:s<=3?Li.createClosedRing(e,i,4):i.getOrdinate(0,br.X)===i.getOrdinate(s-1,br.X)&&i.getOrdinate(0,br.Y)===i.getOrdinate(s-1,br.Y)?i:Li.createClosedRing(e,i,s+1)},Li.createClosedRing=function(e,i,s){var a=e.create(s,i.getDimension()),c=i.size();Li.copy(i,0,a,0,c);for(var h=c;h<s;h++)Li.copy(i,0,a,h,1);return a};var Mi=function(e){function i(a,c){e.call(this,c),this._points=null,this.init(a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new ze:this._points.expandEnvelope(new ze)},i.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},i.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},i.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c;if(this._points.size()!==g._points.size())return!1;for(var y=0;y<this._points.size();y++)if(!a.equal(a._points.getCoordinate(y),g._points.getCoordinate(y),h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){for(var a=this,c=0;c<Math.trunc(this._points.size()/2);c++){var h=a._points.size()-1-c;if(!a._points.getCoordinate(c).equals(a._points.getCoordinate(h)))return a._points.getCoordinate(c).compareTo(a._points.getCoordinate(h))>0&&Li.reverse(a._points),null}},i.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},i.prototype.getBoundaryDimension=function(){return this.isClosed()?Jr.FALSE:0},i.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},i.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},i.prototype.getDimension=function(){return 1},i.prototype.getLength=function(){return ge.computeLength(this._points)},i.prototype.getNumPoints=function(){return this._points.size()},i.prototype.reverse=function(){var a=this._points.copy();return Li.reverse(a),this.getFactory().createLineString(a)},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){for(var c=arguments[0],h=c,g=0,y=0;g<this._points.size()&&y<h._points.size();){var w=a._points.getCoordinate(g).compareTo(h._points.getCoordinate(y));if(w!==0)return w;g++,y++}return g<this._points.size()?1:y<h._points.size()?-1:0}if(arguments.length===2){var x=arguments[0],T=arguments[1],E=x;return T.compare(this._points,E._points)}},i.prototype.apply=function(){var a=this;if(Ge(arguments[0],da))for(var c=arguments[0],h=0;h<this._points.size();h++)c.filter(a._points.getCoordinate(h));else if(Ge(arguments[0],cs)){var g=arguments[0];if(this._points.size()===0)return null;for(var y=0;y<this._points.size()&&(g.filter(a._points,y),!g.isDone());y++);g.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Os)){var w=arguments[0];w.filter(this)}else if(Ge(arguments[0],Va)){var x=arguments[0];x.filter(this)}},i.prototype.getBoundary=function(){return new Fo(this).getBoundary()},i.prototype.isEquivalentClass=function(a){return a instanceof i},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._points=this._points.clone(),a},i.prototype.getCoordinateN=function(a){return this._points.getCoordinate(a)},i.prototype.getGeometryType=function(){return"LineString"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._points},i.prototype.isEmpty=function(){return this._points.size()===0},i.prototype.init=function(a){if(a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),a.size()===1)throw new ki("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this._points=a},i.prototype.isCoordinate=function(a){for(var c=0;c<this._points.size();c++)if(this._points.getCoordinate(c).equals(a))return!0;return!1},i.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},i.prototype.getPointN=function(a){return this.getFactory().createPoint(this._points.getCoordinate(a))},i.prototype.interfaces_=function(){return[Tf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(i,s),i}(He),Sf=function(){};Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var no=function(e){function i(a,c){e.call(this,c),this._coordinates=a||null,this.init(this._coordinates)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new ze;var a=new ze;return a.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),a},i.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},i.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&(!(!this.isEmpty()||!a.isEmpty())||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),c))}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){},i.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},i.prototype.getBoundaryDimension=function(){return Jr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getNumPoints=function(){return this.isEmpty()?0:1},i.prototype.reverse=function(){return this.copy()},i.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},i.prototype.compareToSameClass=function(){if(arguments.length===1){var a=arguments[0],c=a;return this.getCoordinate().compareTo(c.getCoordinate())}if(arguments.length===2){var h=arguments[0],g=arguments[1],y=h;return g.compare(this._coordinates,y._coordinates)}},i.prototype.apply=function(){if(Ge(arguments[0],da)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(Ge(arguments[0],cs)){var c=arguments[0];if(this.isEmpty())return null;c.filter(this._coordinates,0),c.isGeometryChanged()&&this.geometryChanged()}else if(Ge(arguments[0],Os)){var h=arguments[0];h.filter(this)}else if(Ge(arguments[0],Va)){var g=arguments[0];g.filter(this)}},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);return a._coordinates=this._coordinates.clone(),a},i.prototype.getGeometryType=function(){return"Point"},i.prototype.copy=function(){return new i(this._coordinates.copy(),this._factory)},i.prototype.getCoordinateSequence=function(){return this._coordinates},i.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},i.prototype.isEmpty=function(){return this._coordinates.size()===0},i.prototype.init=function(a){a===null&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),rr.isTrue(a.size()<=1),this._coordinates=a},i.prototype.isSimple=function(){return!0},i.prototype.interfaces_=function(){return[Sf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(i,s),i}(He),Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl};var Gi=function(e){function i(a,c,h){if(e.call(this,h),this._shell=null,this._holes=null,a===null&&(a=this.getFactory().createLinearRing()),c===null&&(c=[]),e.hasNullElements(c))throw new ki("holes must not contain null elements");if(a.isEmpty()&&e.hasNonEmptyElements(c))throw new ki("shell is empty but holes are not");this._shell=a,this._holes=c}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},i.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},i.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),c=-1,h=this._shell.getCoordinates(),g=0;g<h.length;g++)a[++c]=h[g];for(var y=0;y<this._holes.length;y++)for(var w=this._holes[y].getCoordinates(),x=0;x<w.length;x++)a[++c]=w[x];return a},i.prototype.getArea=function(){var a=0;a+=Math.abs(ge.signedArea(this._shell.getCoordinateSequence()));for(var c=0;c<this._holes.length;c++)a-=Math.abs(ge.signedArea(this._holes[c].getCoordinateSequence()));return a},i.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var a=this._shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),h=0;h<5;h++){var g=a.getX(h);if(g!==c.getMinX()&&g!==c.getMaxX())return!1;var y=a.getY(h);if(y!==c.getMinY()&&y!==c.getMaxY())return!1}for(var w=a.getX(0),x=a.getY(0),T=1;T<=4;T++){var E=a.getX(T),P=a.getY(T);if(E!==w==(P!==x))return!1;w=E,x=P}return!0},i.prototype.equalsExact=function(){var a=this;if(arguments.length===2){var c=arguments[0],h=arguments[1];if(!this.isEquivalentClass(c))return!1;var g=c,y=this._shell,w=g._shell;if(!y.equalsExact(w,h)||this._holes.length!==g._holes.length)return!1;for(var x=0;x<this._holes.length;x++)if(!a._holes[x].equalsExact(g._holes[x],h))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.normalize=function(){var a=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var c=0;c<this._holes.length;c++)a.normalize(a._holes[c],!1);Dc.sort(this._holes)}else if(arguments.length===2){var h=arguments[0],g=arguments[1];if(h.isEmpty())return null;var y=new Array(h.getCoordinates().length-1).fill(null);pn.arraycopy(h.getCoordinates(),0,y,0,y.length);var w=ur.minCoordinate(h.getCoordinates());ur.scroll(y,w),pn.arraycopy(y,0,h.getCoordinates(),0,y.length),h.getCoordinates()[y.length]=y[0],ge.isCCW(h.getCoordinates())===g&&ur.reverse(h.getCoordinates())}},i.prototype.getCoordinate=function(){return this._shell.getCoordinate()},i.prototype.getNumInteriorRing=function(){return this._holes.length},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.getLength=function(){var a=0;a+=this._shell.getLength();for(var c=0;c<this._holes.length;c++)a+=this._holes[c].getLength();return a},i.prototype.getNumPoints=function(){for(var a=this._shell.getNumPoints(),c=0;c<this._holes.length;c++)a+=this._holes[c].getNumPoints();return a},i.prototype.reverse=function(){var a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].copy().reverse();return a},i.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},i.prototype.compareToSameClass=function(){var a=this;if(arguments.length===1){var c=arguments[0],h=this._shell,g=c._shell;return h.compareToSameClass(g)}if(arguments.length===2){var y=arguments[0],w=arguments[1],x=y,T=this._shell,E=x._shell,P=T.compareToSameClass(E,w);if(P!==0)return P;for(var z=this.getNumInteriorRing(),N=x.getNumInteriorRing(),B=0;B<z&&B<N;){var I=a.getInteriorRingN(B),Y=x.getInteriorRingN(B),it=I.compareToSameClass(Y,w);if(it!==0)return it;B++}return B<z?1:B<N?-1:0}},i.prototype.apply=function(a){var c=this;if(Ge(a,da)){this._shell.apply(a);for(var h=0;h<this._holes.length;h++)c._holes[h].apply(a)}else if(Ge(a,cs)){if(this._shell.apply(a),!a.isDone())for(var g=0;g<this._holes.length&&(c._holes[g].apply(a),!a.isDone());g++);a.isGeometryChanged()&&this.geometryChanged()}else if(Ge(a,Os))a.filter(this);else if(Ge(a,Va)){a.filter(this),this._shell.apply(a);for(var y=0;y<this._holes.length;y++)c._holes[y].apply(a)}},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var c=0;c<this._holes.length;c++)a[c+1]=this._holes[c];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},i.prototype.clone=function(){var a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var c=0;c<this._holes.length;c++)a._holes[c]=this._holes[c].clone();return a},i.prototype.getGeometryType=function(){return"Polygon"},i.prototype.copy=function(){for(var a=this._shell.copy(),c=new Array(this._holes.length).fill(null),h=0;h<c.length;h++)c[h]=this._holes[h].copy();return new i(a,c,this._factory)},i.prototype.getExteriorRing=function(){return this._shell},i.prototype.isEmpty=function(){return this._shell.isEmpty()},i.prototype.getInteriorRingN=function(a){return this._holes[a]},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(i,s),i}(He),kd=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOINT},i.prototype.isValid=function(){return!0},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getCoordinate=function(){if(arguments.length===1){var a=arguments[0];return this._geometries[a].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return Jr.FALSE},i.prototype.getDimension=function(){return 0},i.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},i.prototype.getGeometryType=function(){return"MultiPoint"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Sf]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(i,s),i}(On),pa=function(e){function i(a,c){a instanceof Ct&&c instanceof hr&&(a=c.getCoordinateSequenceFactory().create(a)),e.call(this,a,c),this.validateConstruction()}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return He.SORTINDEX_LINEARRING},i.prototype.getBoundaryDimension=function(){return Jr.FALSE},i.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},i.prototype.reverse=function(){var a=this._points.copy();return Li.reverse(a),this.getFactory().createLinearRing(a)},i.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new ki("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<i.MINIMUM_VALID_SIZE)throw new ki("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},i.prototype.getGeometryType=function(){return"LinearRing"},i.prototype.copy=function(){return new i(this._points.copy(),this._factory)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.MINIMUM_VALID_SIZE.get=function(){return 4},s.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(i,s),i}(Mi),fa=function(e){function i(){e.apply(this,arguments)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={serialVersionUID:{configurable:!0}};return i.prototype.getSortIndex=function(){return He.SORTINDEX_MULTIPOLYGON},i.prototype.equalsExact=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return!!this.isEquivalentClass(a)&&e.prototype.equalsExact.call(this,a,c)}return e.prototype.equalsExact.apply(this,arguments)},i.prototype.getBoundaryDimension=function(){return 1},i.prototype.getDimension=function(){return 2},i.prototype.reverse=function(){for(var a=this._geometries.length,c=new Array(a).fill(null),h=0;h<this._geometries.length;h++)c[h]=this._geometries[h].reverse();return this.getFactory().createMultiPolygon(c)},i.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new ce,c=0;c<this._geometries.length;c++)for(var h=this._geometries[c].getBoundary(),g=0;g<h.getNumGeometries();g++)a.add(h.getGeometryN(g));var y=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(y))},i.prototype.getGeometryType=function(){return"MultiPolygon"},i.prototype.copy=function(){for(var a=new Array(this._geometries.length).fill(null),c=0;c<a.length;c++)a[c]=this._geometries[c].copy();return new i(a,this._factory)},i.prototype.interfaces_=function(){return[Fl]},i.prototype.getClass=function(){return i},s.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(i,s),i}(On),jo=function(e){this._factory=e||null,this._isUserDataCopied=!1},h0={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};jo.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},jo.prototype.edit=function(e,i){if(e===null)return null;var s=this.editInternal(e,i);return this._isUserDataCopied&&s.setUserData(e.getUserData()),s},jo.prototype.editInternal=function(e,i){return this._factory===null&&(this._factory=e.getFactory()),e instanceof On?this.editGeometryCollection(e,i):e instanceof Gi?this.editPolygon(e,i):e instanceof no||e instanceof Mi?i.edit(e,this._factory):(rr.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},jo.prototype.editGeometryCollection=function(e,i){for(var s=i.edit(e,this._factory),a=new ce,c=0;c<s.getNumGeometries();c++){var h=this.edit(s.getGeometryN(c),i);h===null||h.isEmpty()||a.add(h)}return s.getClass()===kd?this._factory.createMultiPoint(a.toArray([])):s.getClass()===Fc?this._factory.createMultiLineString(a.toArray([])):s.getClass()===fa?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))},jo.prototype.editPolygon=function(e,i){var s=i.edit(e,this._factory);if(s===null&&(s=this._factory.createPolygon(null)),s.isEmpty())return s;var a=this.edit(s.getExteriorRing(),i);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var c=new ce,h=0;h<s.getNumInteriorRing();h++){var g=this.edit(s.getInteriorRingN(h),i);g===null||g.isEmpty()||c.add(g)}return this._factory.createPolygon(a,c.toArray([]))},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo},jo.GeometryEditorOperation=function(){},h0.NoOpGeometryOperation.get=function(){return Cf},h0.CoordinateOperation.get=function(){return Pf},h0.CoordinateSequenceOperation.get=function(){return Mf},Object.defineProperties(jo,h0);var Cf=function(){};Cf.prototype.edit=function(e,i){return e},Cf.prototype.interfaces_=function(){return[jo.GeometryEditorOperation]},Cf.prototype.getClass=function(){return Cf};var Pf=function(){};Pf.prototype.edit=function(e,i){var s=this.editCoordinates(e.getCoordinates(),e);return s===null?e:e instanceof pa?i.createLinearRing(s):e instanceof Mi?i.createLineString(s):e instanceof no?s.length>0?i.createPoint(s[0]):i.createPoint():e},Pf.prototype.interfaces_=function(){return[jo.GeometryEditorOperation]},Pf.prototype.getClass=function(){return Pf};var Mf=function(){};Mf.prototype.edit=function(e,i){return e instanceof pa?i.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Mi?i.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof no?i.createPoint(this.edit(e.getCoordinateSequence(),e)):e},Mf.prototype.interfaces_=function(){return[jo.GeometryEditorOperation]},Mf.prototype.getClass=function(){return Mf};var Ri=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var i=arguments[0];this._coordinates=new Array(i).fill(null);for(var s=0;s<i;s++)e._coordinates[s]=new Ct}else if(Ge(arguments[0],br)){var a=arguments[0];if(a===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=a.getDimension(),this._coordinates=new Array(a.size()).fill(null);for(var c=0;c<this._coordinates.length;c++)e._coordinates[c]=a.getCoordinateCopy(c)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],g=arguments[1];this._coordinates=h,this._dimension=g,h===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var y=arguments[0],w=arguments[1];this._coordinates=new Array(y).fill(null),this._dimension=w;for(var x=0;x<y;x++)e._coordinates[x]=new Ct}}},Sk={serialVersionUID:{configurable:!0}};Ri.prototype.setOrdinate=function(e,i,s){switch(i){case br.X:this._coordinates[e].x=s;break;case br.Y:this._coordinates[e].y=s;break;case br.Z:this._coordinates[e].z=s;break;default:throw new ki("invalid ordinateIndex")}},Ri.prototype.size=function(){return this._coordinates.length},Ri.prototype.getOrdinate=function(e,i){switch(i){case br.X:return this._coordinates[e].x;case br.Y:return this._coordinates[e].y;case br.Z:return this._coordinates[e].z}return Je.NaN},Ri.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}if(arguments.length===2){var i=arguments[0],s=arguments[1];s.x=this._coordinates[i].x,s.y=this._coordinates[i].y,s.z=this._coordinates[i].z}},Ri.prototype.getCoordinateCopy=function(e){return new Ct(this._coordinates[e])},Ri.prototype.getDimension=function(){return this._dimension},Ri.prototype.getX=function(e){return this._coordinates[e].x},Ri.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].clone();return new Ri(e,this._dimension)},Ri.prototype.expandEnvelope=function(e){for(var i=0;i<this._coordinates.length;i++)e.expandToInclude(this._coordinates[i]);return e},Ri.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),i=0;i<this._coordinates.length;i++)e[i]=this._coordinates[i].copy();return new Ri(e,this._dimension)},Ri.prototype.toString=function(){if(this._coordinates.length>0){var e=new Ms(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var i=1;i<this._coordinates.length;i++)e.append(", "),e.append(this._coordinates[i]);return e.append(")"),e.toString()}return"()"},Ri.prototype.getY=function(e){return this._coordinates[e].y},Ri.prototype.toCoordinateArray=function(){return this._coordinates},Ri.prototype.interfaces_=function(){return[br,No]},Ri.prototype.getClass=function(){return Ri},Sk.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ri,Sk);var ga=function(){},Gb={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ga.prototype.readResolve=function(){return ga.instance()},ga.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new Ri(e)}if(Ge(arguments[0],br)){var i=arguments[0];return new Ri(i)}}else if(arguments.length===2){var s=arguments[0],a=arguments[1];return a>3&&(a=3),a<2?new Ri(s):new Ri(s,a)}},ga.prototype.interfaces_=function(){return[pd,No]},ga.prototype.getClass=function(){return ga},ga.instance=function(){return ga.instanceObject},Gb.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Gb.instanceObject.get=function(){return new ga},Object.defineProperties(ga,Gb);var Ck=function(e){function i(){e.call(this),this.map_=new Map}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.get=function(s){return this.map_.get(s)||null},i.prototype.put=function(s,a){return this.map_.set(s,a),a},i.prototype.values=function(){for(var s=new ce,a=this.map_.values(),c=a.next();!c.done;)s.add(c.value),c=a.next();return s},i.prototype.entrySet=function(){var s=new jb;return this.map_.entries().forEach(function(a){return s.add(a)}),s},i.prototype.size=function(){return this.map_.size()},i}(Xu),Qr=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof zs){var i=arguments[0];this._modelType=i,i===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var s=arguments[0];this._modelType=e.FIXED,this.setScale(s)}else if(arguments[0]instanceof e){var a=arguments[0];this._modelType=a._modelType,this._scale=a._scale}}},qb={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Qr.prototype.equals=function(e){if(!(e instanceof Qr))return!1;var i=e;return this._modelType===i._modelType&&this._scale===i._scale},Qr.prototype.compareTo=function(e){var i=e,s=this.getMaximumSignificantDigits(),a=i.getMaximumSignificantDigits();return new Is(s).compareTo(new Is(a))},Qr.prototype.getScale=function(){return this._scale},Qr.prototype.isFloating=function(){return this._modelType===Qr.FLOATING||this._modelType===Qr.FLOATING_SINGLE},Qr.prototype.getType=function(){return this._modelType},Qr.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Qr.FLOATING?e="Floating":this._modelType===Qr.FLOATING_SINGLE?e="Floating-Single":this._modelType===Qr.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},Qr.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];return Je.isNaN(e)||this._modelType===Qr.FLOATING_SINGLE?e:this._modelType===Qr.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Ct){var i=arguments[0];if(this._modelType===Qr.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},Qr.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Qr.FLOATING?e=16:this._modelType===Qr.FLOATING_SINGLE?e=6:this._modelType===Qr.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},Qr.prototype.setScale=function(e){this._scale=Math.abs(e)},Qr.prototype.interfaces_=function(){return[No,zo]},Qr.prototype.getClass=function(){return Qr},Qr.mostPrecise=function(e,i){return e.compareTo(i)>=0?e:i},qb.serialVersionUID.get=function(){return 7777263578777804e3},qb.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Qr,qb);var zs=function e(i){this._name=i||null,e.nameToTypeMap.put(i,this)},Vb={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};zs.prototype.readResolve=function(){return zs.nameToTypeMap.get(this._name)},zs.prototype.toString=function(){return this._name},zs.prototype.interfaces_=function(){return[No]},zs.prototype.getClass=function(){return zs},Vb.serialVersionUID.get=function(){return-552860263173159e4},Vb.nameToTypeMap.get=function(){return new Ck},Object.defineProperties(zs,Vb),Qr.Type=zs,Qr.FIXED=new zs("FIXED"),Qr.FLOATING=new zs("FLOATING"),Qr.FLOATING_SINGLE=new zs("FLOATING SINGLE");var hr=function e(){this._precisionModel=new Qr,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ge(arguments[0],pd)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Qr&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Pk={serialVersionUID:{configurable:!0}};hr.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Ct(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Ct(e.getMinX(),e.getMinY()),new Ct(e.getMinX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMaxY()),new Ct(e.getMaxX(),e.getMinY()),new Ct(e.getMinX(),e.getMinY())]),null)},hr.prototype.createLineString=function(e){return e?e instanceof Array?new Mi(this.getCoordinateSequenceFactory().create(e),this):Ge(e,br)?new Mi(e,this):void 0:new Mi(this.getCoordinateSequenceFactory().create([]),this)},hr.prototype.createMultiLineString=function(){if(arguments.length===0)return new Fc(null,this);if(arguments.length===1){var e=arguments[0];return new Fc(e,this)}},hr.prototype.buildGeometry=function(e){for(var i=null,s=!1,a=!1,c=e.iterator();c.hasNext();){var h=c.next(),g=h.getClass();i===null&&(i=g),g!==i&&(s=!0),h.isGeometryCollectionOrDerived()&&(a=!0)}if(i===null)return this.createGeometryCollection();if(s||a)return this.createGeometryCollection(hr.toGeometryArray(e));var y=e.iterator().next();if(e.size()>1){if(y instanceof Gi)return this.createMultiPolygon(hr.toPolygonArray(e));if(y instanceof Mi)return this.createMultiLineString(hr.toLineStringArray(e));if(y instanceof no)return this.createMultiPoint(hr.toPointArray(e));rr.shouldNeverReachHere("Unhandled class: "+y.getClass().getName())}return y},hr.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)},hr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Ct){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}if(Ge(arguments[0],br)){var i=arguments[0];return new no(i,this)}}},hr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},hr.prototype.createPolygon=function(){if(arguments.length===0)return new Gi(null,null,this);if(arguments.length===1){if(Ge(arguments[0],br)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var i=arguments[0];return this.createPolygon(this.createLinearRing(i))}if(arguments[0]instanceof pa){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];return new Gi(a,c,this)}},hr.prototype.getSRID=function(){return this._SRID},hr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new On(null,this);if(arguments.length===1){var e=arguments[0];return new On(e,this)}},hr.prototype.createGeometry=function(e){return new jo(this).edit(e,{edit:function(){if(arguments.length===2){var i=arguments[0];return this._coordinateSequenceFactory.create(i)}}})},hr.prototype.getPrecisionModel=function(){return this._precisionModel},hr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}if(Ge(arguments[0],br)){var i=arguments[0];return new pa(i,this)}}},hr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new fa(null,this);if(arguments.length===1){var e=arguments[0];return new fa(e,this)}},hr.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new kd(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var i=arguments[0];return new kd(i,this)}if(arguments[0]instanceof Array){var s=arguments[0];return this.createMultiPoint(s!==null?this.getCoordinateSequenceFactory().create(s):null)}if(Ge(arguments[0],br)){var a=arguments[0];if(a===null)return this.createMultiPoint(new Array(0).fill(null));for(var c=new Array(a.size()).fill(null),h=0;h<a.size();h++){var g=e.getCoordinateSequenceFactory().create(1,a.getDimension());Li.copy(a,h,g,0,1),c[h]=e.createPoint(g)}return this.createMultiPoint(c)}}},hr.prototype.interfaces_=function(){return[No]},hr.prototype.getClass=function(){return hr},hr.toMultiPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toGeometryArray=function(e){if(e===null)return null;var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.getDefaultCoordinateSequenceFactory=function(){return ga.instance()},hr.toMultiLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toLineStringArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toMultiPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toLinearRingArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toPointArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.toPolygonArray=function(e){var i=new Array(e.size()).fill(null);return e.toArray(i)},hr.createPointFromInternalCoord=function(e,i){return i.getPrecisionModel().makePrecise(e),i.getFactory().createPoint(e)},Pk.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(hr,Pk);var FI=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],d0=function(e){this.geometryFactory=e||new hr};d0.prototype.read=function(e){var i,s=(i=typeof e=="string"?JSON.parse(e):e).type;if(!Ns[s])throw new Error("Unknown GeoJSON type: "+i.type);return FI.indexOf(s)!==-1?Ns[s].apply(this,[i.coordinates]):s==="GeometryCollection"?Ns[s].apply(this,[i.geometries]):Ns[s].apply(this,[i])},d0.prototype.write=function(e){var i=e.getGeometryType();if(!Ya[i])throw new Error("Geometry is not supported");return Ya[i].apply(this,[e])};var Ns={Feature:function(e){var i={};for(var s in e)i[s]=e[s];if(e.geometry){var a=e.geometry.type;if(!Ns[a])throw new Error("Unknown GeoJSON type: "+e.type);i.geometry=this.read(e.geometry)}return e.bbox&&(i.bbox=Ns.bbox.apply(this,[e.bbox])),i},FeatureCollection:function(e){var i={};if(e.features){i.features=[];for(var s=0;s<e.features.length;++s)i.features.push(this.read(e.features[s]))}return e.bbox&&(i.bbox=this.parse.bbox.apply(this,[e.bbox])),i},coordinates:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(new Ct(a[0],a[1]))}return i},bbox:function(e){return this.geometryFactory.createLinearRing([new Ct(e[0],e[1]),new Ct(e[2],e[1]),new Ct(e[2],e[3]),new Ct(e[0],e[3]),new Ct(e[0],e[1])])},Point:function(e){var i=new Ct(e[0],e[1]);return this.geometryFactory.createPoint(i)},MultiPoint:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ns.Point.apply(this,[e[s]]));return this.geometryFactory.createMultiPoint(i)},LineString:function(e){var i=Ns.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(i)},MultiLineString:function(e){for(var i=[],s=0;s<e.length;++s)i.push(Ns.LineString.apply(this,[e[s]]));return this.geometryFactory.createMultiLineString(i)},Polygon:function(e){for(var i=Ns.coordinates.apply(this,[e[0]]),s=this.geometryFactory.createLinearRing(i),a=[],c=1;c<e.length;++c){var h=e[c],g=Ns.coordinates.apply(this,[h]),y=this.geometryFactory.createLinearRing(g);a.push(y)}return this.geometryFactory.createPolygon(s,a)},MultiPolygon:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(Ns.Polygon.apply(this,[a]))}return this.geometryFactory.createMultiPolygon(i)},GeometryCollection:function(e){for(var i=[],s=0;s<e.length;++s){var a=e[s];i.push(this.read(a))}return this.geometryFactory.createGeometryCollection(i)}},Ya={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:Ya.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ya.Point.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPoint",coordinates:i}},LineString:function(e){for(var i=[],s=e.getCoordinates(),a=0;a<s.length;++a){var c=s[a];i.push(Ya.coordinate.apply(this,[c]))}return{type:"LineString",coordinates:i}},MultiLineString:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ya.LineString.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiLineString",coordinates:i}},Polygon:function(e){var i=[],s=Ya.LineString.apply(this,[e._shell]);i.push(s.coordinates);for(var a=0;a<e._holes.length;++a){var c=e._holes[a],h=Ya.LineString.apply(this,[c]);i.push(h.coordinates)}return{type:"Polygon",coordinates:i}},MultiPolygon:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=Ya.Polygon.apply(this,[a]);i.push(c.coordinates)}return{type:"MultiPolygon",coordinates:i}},GeometryCollection:function(e){for(var i=[],s=0;s<e._geometries.length;++s){var a=e._geometries[s],c=a.getGeometryType();i.push(Ya[c].apply(this,[a]))}return{type:"GeometryCollection",geometries:i}}},Wb=function(e){this.geometryFactory=e||new hr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new d0(this.geometryFactory)};Wb.prototype.read=function(e){var i=this.parser.read(e);return this.precisionModel.getType()===Qr.FIXED&&this.reducePrecision(i),i},Wb.prototype.reducePrecision=function(e){var i,s;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(i=0,s=e.points.length;i<s;i++)this.precisionModel.makePrecise(e.points[i]);else if(e.geometries)for(i=0,s=e.geometries.length;i<s;i++)this.reducePrecision(e.geometries[i])};var Mk=function(){this.parser=new d0(this.geometryFactory)};Mk.prototype.write=function(e){return this.parser.write(e)};var ne=function(){},p0={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function f0(e){this.message=e||""}function Ds(){this.array_=[]}ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.opposite=function(e){return e===ne.LEFT?ne.RIGHT:e===ne.RIGHT?ne.LEFT:e},p0.ON.get=function(){return 0},p0.LEFT.get=function(){return 1},p0.RIGHT.get=function(){return 2},Object.defineProperties(ne,p0),f0.prototype=new Error,f0.prototype.name="EmptyStackException",Ds.prototype=new as,Ds.prototype.add=function(e){return this.array_.push(e),!0},Ds.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Ds.prototype.push=function(e){return this.array_.push(e),e},Ds.prototype.pop=function(e){if(this.array_.length===0)throw new f0;return this.array_.pop()},Ds.prototype.peek=function(){if(this.array_.length===0)throw new f0;return this.array_[this.array_.length-1]},Ds.prototype.empty=function(){return this.array_.length===0},Ds.prototype.isEmpty=function(){return this.empty()},Ds.prototype.search=function(e){return this.array_.indexOf(e)},Ds.prototype.size=function(){return this.array_.length},Ds.prototype.toArray=function(){for(var e=[],i=0,s=this.array_.length;i<s;i++)e.push(this.array_[i]);return e};var Fs=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Fs.prototype.getCoordinate=function(){return this._minCoord},Fs.prototype.getRightmostSide=function(e,i){var s=this.getRightmostSideOfSegment(e,i);return s<0&&(s=this.getRightmostSideOfSegment(e,i-1)),s<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),s},Fs.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();rr.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var i=e[this._minIndex-1],s=e[this._minIndex+1],a=ge.computeOrientation(this._minCoord,s,i),c=!1;(i.y<this._minCoord.y&&s.y<this._minCoord.y&&a===ge.COUNTERCLOCKWISE||i.y>this._minCoord.y&&s.y>this._minCoord.y&&a===ge.CLOCKWISE)&&(c=!0),c&&(this._minIndex=this._minIndex-1)},Fs.prototype.getRightmostSideOfSegment=function(e,i){var s=e.getEdge().getCoordinates();if(i<0||i+1>=s.length||s[i].y===s[i+1].y)return-1;var a=ne.LEFT;return s[i].y<s[i+1].y&&(a=ne.RIGHT),a},Fs.prototype.getEdge=function(){return this._orientedDe},Fs.prototype.checkForRightmostCoordinate=function(e){for(var i=this,s=e.getEdge().getCoordinates(),a=0;a<s.length-1;a++)(i._minCoord===null||s[a].x>i._minCoord.x)&&(i._minDe=e,i._minIndex=a,i._minCoord=s[a])},Fs.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Fs.prototype.findEdge=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next();s.isForward()&&this.checkForRightmostCoordinate(s)}rr.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ne.LEFT&&(this._orientedDe=this._minDe.getSym())},Fs.prototype.interfaces_=function(){return[]},Fs.prototype.getClass=function(){return Fs};var Xa=function(e){function i(s,a){e.call(this,i.msgWithCoord(s,a)),this.pt=a?new Ct(a):null,this.name="TopologyException"}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getCoordinate=function(){return this.pt},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.msgWithCoord=function(s,a){return a?s:s+" [ "+a+" ]"},i}(qa),g0=function(){this.array_=[]};g0.prototype.addLast=function(e){this.array_.push(e)},g0.prototype.removeFirst=function(){return this.array_.shift()},g0.prototype.isEmpty=function(){return this.array_.length===0};var zn=function(){this._finder=null,this._dirEdgeList=new ce,this._nodes=new ce,this._rightMostCoord=null,this._env=null,this._finder=new Fs};zn.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},zn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},zn.prototype.computeNodeDepth=function(e){for(var i=null,s=e.getEdges().iterator();s.hasNext();){var a=s.next();if(a.isVisited()||a.getSym().isVisited()){i=a;break}}if(i===null)throw new Xa("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(i);for(var c=e.getEdges().iterator();c.hasNext();){var h=c.next();h.setVisited(!0),this.copySymDepths(h)}},zn.prototype.computeDepth=function(e){this.clearVisitedEdges();var i=this._finder.getEdge();i.setEdgeDepths(ne.RIGHT,e),this.copySymDepths(i),this.computeDepths(i)},zn.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},zn.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var i=e.next();i.getDepth(ne.RIGHT)>=1&&i.getDepth(ne.LEFT)<=0&&!i.isInteriorAreaEdge()&&i.setInResult(!0)}},zn.prototype.computeDepths=function(e){var i=new jb,s=new g0,a=e.getNode();for(s.addLast(a),i.add(a),e.setVisited(!0);!s.isEmpty();){var c=s.removeFirst();i.add(c),this.computeNodeDepth(c);for(var h=c.getEdges().iterator();h.hasNext();){var g=h.next().getSym();if(!g.isVisited()){var y=g.getNode();i.contains(y)||(s.addLast(y),i.add(y))}}}},zn.prototype.compareTo=function(e){var i=e;return this._rightMostCoord.x<i._rightMostCoord.x?-1:this._rightMostCoord.x>i._rightMostCoord.x?1:0},zn.prototype.getEnvelope=function(){if(this._env===null){for(var e=new ze,i=this._dirEdgeList.iterator();i.hasNext();)for(var s=i.next().getEdge().getCoordinates(),a=0;a<s.length-1;a++)e.expandToInclude(s[a]);this._env=e}return this._env},zn.prototype.addReachable=function(e){var i=new Ds;for(i.add(e);!i.empty();){var s=i.pop();this.add(s,i)}},zn.prototype.copySymDepths=function(e){var i=e.getSym();i.setDepth(ne.LEFT,e.getDepth(ne.RIGHT)),i.setDepth(ne.RIGHT,e.getDepth(ne.LEFT))},zn.prototype.add=function(e,i){e.setVisited(!0),this._nodes.add(e);for(var s=e.getEdges().iterator();s.hasNext();){var a=s.next();this._dirEdgeList.add(a);var c=a.getSym().getNode();c.isVisited()||i.push(c)}},zn.prototype.getNodes=function(){return this._nodes},zn.prototype.getDirectedEdges=function(){return this._dirEdgeList},zn.prototype.interfaces_=function(){return[zo]},zn.prototype.getClass=function(){return zn};var gi=function e(){var i=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var s=arguments[0];this.init(s.length)}else if(Number.isInteger(arguments[0])){var a=arguments[0];this.init(1),this.location[ne.ON]=a}else if(arguments[0]instanceof e){var c=arguments[0];if(this.init(c.location.length),c!==null)for(var h=0;h<this.location.length;h++)i.location[h]=c.location[h]}}else if(arguments.length===3){var g=arguments[0],y=arguments[1],w=arguments[2];this.init(3),this.location[ne.ON]=g,this.location[ne.LEFT]=y,this.location[ne.RIGHT]=w}};gi.prototype.setAllLocations=function(e){for(var i=0;i<this.location.length;i++)this.location[i]=e},gi.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==At.NONE)return!1;return!0},gi.prototype.setAllLocationsIfNull=function(e){for(var i=0;i<this.location.length;i++)this.location[i]===At.NONE&&(this.location[i]=e)},gi.prototype.isLine=function(){return this.location.length===1},gi.prototype.merge=function(e){if(e.location.length>this.location.length){var i=new Array(3).fill(null);i[ne.ON]=this.location[ne.ON],i[ne.LEFT]=At.NONE,i[ne.RIGHT]=At.NONE,this.location=i}for(var s=0;s<this.location.length;s++)this.location[s]===At.NONE&&s<e.location.length&&(this.location[s]=e.location[s])},gi.prototype.getLocations=function(){return this.location},gi.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[ne.LEFT];this.location[ne.LEFT]=this.location[ne.RIGHT],this.location[ne.RIGHT]=e},gi.prototype.toString=function(){var e=new Ms;return this.location.length>1&&e.append(At.toLocationSymbol(this.location[ne.LEFT])),e.append(At.toLocationSymbol(this.location[ne.ON])),this.location.length>1&&e.append(At.toLocationSymbol(this.location[ne.RIGHT])),e.toString()},gi.prototype.setLocations=function(e,i,s){this.location[ne.ON]=e,this.location[ne.LEFT]=i,this.location[ne.RIGHT]=s},gi.prototype.get=function(e){return e<this.location.length?this.location[e]:At.NONE},gi.prototype.isArea=function(){return this.location.length>1},gi.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===At.NONE)return!0;return!1},gi.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(ne.ON,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.location[i]=s}},gi.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(At.NONE)},gi.prototype.isEqualOnSide=function(e,i){return this.location[i]===e.location[i]},gi.prototype.allPositionsEqual=function(e){for(var i=0;i<this.location.length;i++)if(this.location[i]!==e)return!1;return!0},gi.prototype.interfaces_=function(){return[]},gi.prototype.getClass=function(){return gi};var ni=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var i=arguments[0];this.elt[0]=new gi(i),this.elt[1]=new gi(i)}else if(arguments[0]instanceof e){var s=arguments[0];this.elt[0]=new gi(s.elt[0]),this.elt[1]=new gi(s.elt[1])}}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.elt[0]=new gi(At.NONE),this.elt[1]=new gi(At.NONE),this.elt[a].setLocation(c)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this.elt[0]=new gi(h,g,y),this.elt[1]=new gi(h,g,y)}else if(arguments.length===4){var w=arguments[0],x=arguments[1],T=arguments[2],E=arguments[3];this.elt[0]=new gi(At.NONE,At.NONE,At.NONE),this.elt[1]=new gi(At.NONE,At.NONE,At.NONE),this.elt[w].setLocations(x,T,E)}};ni.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},ni.prototype.setAllLocations=function(e,i){this.elt[e].setAllLocations(i)},ni.prototype.isNull=function(e){return this.elt[e].isNull()},ni.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.elt[i].setAllLocationsIfNull(s)}},ni.prototype.isLine=function(e){return this.elt[e].isLine()},ni.prototype.merge=function(e){for(var i=this,s=0;s<2;s++)i.elt[s]===null&&e.elt[s]!==null?i.elt[s]=new gi(e.elt[s]):i.elt[s].merge(e.elt[s])},ni.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ni.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(ne.ON)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.elt[i].get(s)}},ni.prototype.toString=function(){var e=new Ms;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},ni.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}},ni.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},ni.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.elt[e].setLocation(ne.ON,i)}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this.elt[s].setLocation(a,c)}},ni.prototype.isEqualOnSide=function(e,i){return this.elt[0].isEqualOnSide(e.elt[0],i)&&this.elt[1].isEqualOnSide(e.elt[1],i)},ni.prototype.allPositionsEqual=function(e,i){return this.elt[e].allPositionsEqual(i)},ni.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new gi(this.elt[e].location[0]))},ni.prototype.interfaces_=function(){return[]},ni.prototype.getClass=function(){return ni},ni.toLineLabel=function(e){for(var i=new ni(At.NONE),s=0;s<2;s++)i.setLocation(s,e.getLocation(s));return i};var zi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ce,this._pts=new ce,this._label=new ni(At.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ce,this._geometryFactory=null;var e=arguments[0],i=arguments[1];this._geometryFactory=i,this.computePoints(e),this.computeRing()};zi.prototype.computeRing=function(){if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),i=0;i<this._pts.size();i++)e[i]=this._pts.get(i);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=ge.isCCW(this._ring.getCoordinates())},zi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},zi.prototype.computePoints=function(e){var i=this;this._startDe=e;var s=e,a=!0;do{if(s===null)throw new Xa("Found null DirectedEdge");if(s.getEdgeRing()===i)throw new Xa("Directed Edge visited twice during ring-building at "+s.getCoordinate());i._edges.add(s);var c=s.getLabel();rr.isTrue(c.isArea()),i.mergeLabel(c),i.addPoints(s.getEdge(),s.isForward(),a),a=!1,i.setEdgeRing(s,i),s=i.getNext(s)}while(s!==this._startDe)},zi.prototype.getLinearRing=function(){return this._ring},zi.prototype.getCoordinate=function(e){return this._pts.get(e)},zi.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var i=this._startDe;do{var s=i.getNode().getEdges().getOutgoingDegree(e);s>e._maxNodeDegree&&(e._maxNodeDegree=s),i=e.getNext(i)}while(i!==this._startDe);this._maxNodeDegree*=2},zi.prototype.addPoints=function(e,i,s){var a=e.getCoordinates();if(i){var c=1;s&&(c=0);for(var h=c;h<a.length;h++)this._pts.add(a[h])}else{var g=a.length-2;s&&(g=a.length-1);for(var y=g;y>=0;y--)this._pts.add(a[y])}},zi.prototype.isHole=function(){return this._isHole},zi.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)},zi.prototype.containsPoint=function(e){var i=this.getLinearRing();if(!i.getEnvelopeInternal().contains(e)||!ge.isPointInRing(e,i.getCoordinates()))return!1;for(var s=this._holes.iterator();s.hasNext();)if(s.next().containsPoint(e))return!1;return!0},zi.prototype.addHole=function(e){this._holes.add(e)},zi.prototype.isShell=function(){return this._shell===null},zi.prototype.getLabel=function(){return this._label},zi.prototype.getEdges=function(){return this._edges},zi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},zi.prototype.getShell=function(){return this._shell},zi.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=i.getLocation(s,ne.RIGHT);if(a===At.NONE)return null;if(this._label.getLocation(s)===At.NONE)return this._label.setLocation(s,a),null}},zi.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)},zi.prototype.toPolygon=function(e){for(var i=new Array(this._holes.size()).fill(null),s=0;s<this._holes.size();s++)i[s]=this._holes.get(s).getLinearRing();return e.createPolygon(this.getLinearRing(),i)},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var BI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.setEdgeRing=function(s,a){s.setMinEdgeRing(a)},i.prototype.getNext=function(s){return s.getNextMin()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(zi),jI=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildMinimalRings=function(){var s=new ce,a=this._startDe;do{if(a.getMinEdgeRing()===null){var c=new BI(a,this._geometryFactory);s.add(c)}a=a.getNext()}while(a!==this._startDe);return s},i.prototype.setEdgeRing=function(s,a){s.setEdgeRing(a)},i.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var s=this._startDe;do s.getNode().getEdges().linkMinimalDirectedEdges(this),s=s.getNext();while(s!==this._startDe)},i.prototype.getNext=function(s){return s.getNext()},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(zi),_o=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._label=e}}};_o.prototype.setVisited=function(e){this._isVisited=e},_o.prototype.setInResult=function(e){this._isInResult=e},_o.prototype.isCovered=function(){return this._isCovered},_o.prototype.isCoveredSet=function(){return this._isCoveredSet},_o.prototype.setLabel=function(e){this._label=e},_o.prototype.getLabel=function(){return this._label},_o.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},_o.prototype.updateIM=function(e){rr.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},_o.prototype.isInResult=function(){return this._isInResult},_o.prototype.isVisited=function(){return this._isVisited},_o.prototype.interfaces_=function(){return[]},_o.prototype.getClass=function(){return _o};var m0=function(e){function i(){e.call(this),this._coord=null,this._edges=null;var s=arguments[0],a=arguments[1];this._coord=s,this._edges=a,this._label=new ni(0,At.NONE)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isIncidentEdgeInResult=function(){for(var s=this.getEdges().getEdges().iterator();s.hasNext();)if(s.next().getEdge().isInResult())return!0;return!1},i.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},i.prototype.getCoordinate=function(){return this._coord},i.prototype.print=function(s){s.println("node "+this._coord+" lbl: "+this._label)},i.prototype.computeIM=function(s){},i.prototype.computeMergedLocation=function(s,a){var c=At.NONE;if(c=this._label.getLocation(a),!s.isNull(a)){var h=s.getLocation(a);c!==At.BOUNDARY&&(c=h)}return c},i.prototype.setLabel=function(){if(arguments.length!==2)return e.prototype.setLabel.apply(this,arguments);var s=arguments[0],a=arguments[1];this._label===null?this._label=new ni(s,a):this._label.setLocation(s,a)},i.prototype.getEdges=function(){return this._edges},i.prototype.mergeLabel=function(){var s=this;if(arguments[0]instanceof i){var a=arguments[0];this.mergeLabel(a._label)}else if(arguments[0]instanceof ni)for(var c=arguments[0],h=0;h<2;h++){var g=s.computeMergedLocation(c,h),y=s._label.getLocation(h);y===At.NONE&&s._label.setLocation(h,g)}},i.prototype.add=function(s){this._edges.insert(s),s.setNode(this)},i.prototype.setLabelBoundary=function(s){if(this._label===null)return null;var a=At.NONE;this._label!==null&&(a=this._label.getLocation(s));var c=null;switch(a){case At.BOUNDARY:c=At.INTERIOR;break;case At.INTERIOR:default:c=At.BOUNDARY}this._label.setLocation(s,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_o),Bs=function(){this.nodeMap=new En,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Bs.prototype.find=function(e){return this.nodeMap.get(e)},Bs.prototype.addNode=function(){if(arguments[0]instanceof Ct){var e=arguments[0],i=this.nodeMap.get(e);return i===null&&(i=this.nodeFact.createNode(e),this.nodeMap.put(e,i)),i}if(arguments[0]instanceof m0){var s=arguments[0],a=this.nodeMap.get(s.getCoordinate());return a===null?(this.nodeMap.put(s.getCoordinate(),s),s):(a.mergeLabel(s),a)}},Bs.prototype.print=function(e){for(var i=this.iterator();i.hasNext();)i.next().print(e)},Bs.prototype.iterator=function(){return this.nodeMap.values().iterator()},Bs.prototype.values=function(){return this.nodeMap.values()},Bs.prototype.getBoundaryNodes=function(e){for(var i=new ce,s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().getLocation(e)===At.BOUNDARY&&i.add(a)}return i},Bs.prototype.add=function(e){var i=e.getCoordinate();this.addNode(i).add(e)},Bs.prototype.interfaces_=function(){return[]},Bs.prototype.getClass=function(){return Bs};var si=function(){},If={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si},si.isNorthern=function(e){return e===si.NE||e===si.NW},si.isOpposite=function(e,i){return e!==i&&(e-i+4)%4===2},si.commonHalfPlane=function(e,i){if(e===i)return e;if((e-i+4)%4===2)return-1;var s=e<i?e:i;return s===0&&(e>i?e:i)===3?3:s},si.isInHalfPlane=function(e,i){return i===si.SE?e===si.SE||e===si.SW:e===i||e===i+1},si.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new ki("Cannot compute the quadrant for point ( "+e+", "+i+" )");return e>=0?i>=0?si.NE:si.SE:i>=0?si.NW:si.SW}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var s=arguments[0],a=arguments[1];if(a.x===s.x&&a.y===s.y)throw new ki("Cannot compute the quadrant for two identical points "+s);return a.x>=s.x?a.y>=s.y?si.NE:si.SE:a.y>=s.y?si.NW:si.SW}},If.NE.get=function(){return 0},If.NW.get=function(){return 1},If.SW.get=function(){return 2},If.SE.get=function(){return 3},Object.defineProperties(si,If);var Tn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=null;this._edge=i,this.init(s,a),this._label=c}else if(arguments.length===4){var h=arguments[0],g=arguments[1],y=arguments[2],w=arguments[3];this._edge=h,this.init(g,y),this._label=w}};Tn.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ge.computeOrientation(e._p0,e._p1,this._p1)},Tn.prototype.getDy=function(){return this._dy},Tn.prototype.getCoordinate=function(){return this._p0},Tn.prototype.setNode=function(e){this._node=e},Tn.prototype.print=function(e){var i=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),a=s.lastIndexOf("."),c=s.substring(a+1);e.print("  "+c+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+i+"   "+this._label)},Tn.prototype.compareTo=function(e){var i=e;return this.compareDirection(i)},Tn.prototype.getDirectedCoordinate=function(){return this._p1},Tn.prototype.getDx=function(){return this._dx},Tn.prototype.getLabel=function(){return this._label},Tn.prototype.getEdge=function(){return this._edge},Tn.prototype.getQuadrant=function(){return this._quadrant},Tn.prototype.getNode=function(){return this._node},Tn.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),s=i.lastIndexOf(".");return"  "+i.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Tn.prototype.computeLabel=function(e){},Tn.prototype.init=function(e,i){this._p0=e,this._p1=i,this._dx=i.x-e.x,this._dy=i.y-e.y,this._quadrant=si.quadrant(this._dx,this._dy),rr.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Tn.prototype.interfaces_=function(){return[zo]},Tn.prototype.getClass=function(){return Tn};var Zb=function(e){function i(){var s=arguments[0],a=arguments[1];if(e.call(this,s),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=a,a)this.init(s.getCoordinate(0),s.getCoordinate(1));else{var c=s.getNumPoints()-1;this.init(s.getCoordinate(c),s.getCoordinate(c-1))}this.computeDirectedLabel()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getNextMin=function(){return this._nextMin},i.prototype.getDepth=function(s){return this._depth[s]},i.prototype.setVisited=function(s){this._isVisited=s},i.prototype.computeDirectedLabel=function(){this._label=new ni(this._edge.getLabel()),this._isForward||this._label.flip()},i.prototype.getNext=function(){return this._next},i.prototype.setDepth=function(s,a){if(this._depth[s]!==-999&&this._depth[s]!==a)throw new Xa("assigned depths do not match",this.getCoordinate());this._depth[s]=a},i.prototype.isInteriorAreaEdge=function(){for(var s=this,a=!0,c=0;c<2;c++)s._label.isArea(c)&&s._label.getLocation(c,ne.LEFT)===At.INTERIOR&&s._label.getLocation(c,ne.RIGHT)===At.INTERIOR||(a=!1);return a},i.prototype.setNextMin=function(s){this._nextMin=s},i.prototype.print=function(s){e.prototype.print.call(this,s),s.print(" "+this._depth[ne.LEFT]+"/"+this._depth[ne.RIGHT]),s.print(" ("+this.getDepthDelta()+")"),this._isInResult&&s.print(" inResult")},i.prototype.setMinEdgeRing=function(s){this._minEdgeRing=s},i.prototype.isLineEdge=function(){var s=this._label.isLine(0)||this._label.isLine(1),a=!this._label.isArea(0)||this._label.allPositionsEqual(0,At.EXTERIOR),c=!this._label.isArea(1)||this._label.allPositionsEqual(1,At.EXTERIOR);return s&&a&&c},i.prototype.setEdgeRing=function(s){this._edgeRing=s},i.prototype.getMinEdgeRing=function(){return this._minEdgeRing},i.prototype.getDepthDelta=function(){var s=this._edge.getDepthDelta();return this._isForward||(s=-s),s},i.prototype.setInResult=function(s){this._isInResult=s},i.prototype.getSym=function(){return this._sym},i.prototype.isForward=function(){return this._isForward},i.prototype.getEdge=function(){return this._edge},i.prototype.printEdge=function(s){this.print(s),s.print(" "),this._isForward?this._edge.print(s):this._edge.printReverse(s)},i.prototype.setSym=function(s){this._sym=s},i.prototype.setVisitedEdge=function(s){this.setVisited(s),this._sym.setVisited(s)},i.prototype.setEdgeDepths=function(s,a){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var h=1;s===ne.LEFT&&(h=-1);var g=ne.opposite(s),y=a+c*h;this.setDepth(s,a),this.setDepth(g,y)},i.prototype.getEdgeRing=function(){return this._edgeRing},i.prototype.isInResult=function(){return this._isInResult},i.prototype.setNext=function(s){this._next=s},i.prototype.isVisited=function(){return this._isVisited},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.depthFactor=function(s,a){return s===At.EXTERIOR&&a===At.INTERIOR?1:s===At.INTERIOR&&a===At.EXTERIOR?-1:0},i}(Tn),Ed=function(){};Ed.prototype.createNode=function(e){return new m0(e,null)},Ed.prototype.interfaces_=function(){return[]},Ed.prototype.getClass=function(){return Ed};var Ci=function(){if(this._edges=new ce,this._nodes=null,this._edgeEndList=new ce,arguments.length===0)this._nodes=new Bs(new Ed);else if(arguments.length===1){var e=arguments[0];this._nodes=new Bs(e)}};Ci.prototype.printEdges=function(e){e.println("Edges:");for(var i=0;i<this._edges.size();i++){e.println("edge "+i+":");var s=this._edges.get(i);s.print(e),s.eiList.print(e)}},Ci.prototype.find=function(e){return this._nodes.find(e)},Ci.prototype.addNode=function(){if(arguments[0]instanceof m0){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Ct){var i=arguments[0];return this._nodes.addNode(i)}},Ci.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ci.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Ci.prototype.debugPrintln=function(e){pn.out.println(e)},Ci.prototype.isBoundaryNode=function(e,i){var s=this._nodes.find(i);if(s===null)return!1;var a=s.getLabel();return a!==null&&a.getLocation(e)===At.BOUNDARY},Ci.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Ci.prototype.matchInSameDirection=function(e,i,s,a){return!!e.equals(s)&&ge.computeOrientation(e,i,a)===ge.COLLINEAR&&si.quadrant(e,i)===si.quadrant(s,a)},Ci.prototype.getEdgeEnds=function(){return this._edgeEndList},Ci.prototype.debugPrint=function(e){pn.out.print(e)},Ci.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ci.prototype.findEdgeInSameDirection=function(e,i){for(var s=this,a=0;a<this._edges.size();a++){var c=s._edges.get(a),h=c.getCoordinates();if(s.matchInSameDirection(e,i,h[0],h[1])||s.matchInSameDirection(e,i,h[h.length-1],h[h.length-2]))return c}return null},Ci.prototype.insertEdge=function(e){this._edges.add(e)},Ci.prototype.findEdgeEnd=function(e){for(var i=this.getEdgeEnds().iterator();i.hasNext();){var s=i.next();if(s.getEdge()===e)return s}return null},Ci.prototype.addEdges=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next();i._edges.add(a);var c=new Zb(a,!0),h=new Zb(a,!1);c.setSym(h),h.setSym(c),i.add(c),i.add(h)}},Ci.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Ci.prototype.getNodes=function(){return this._nodes.values()},Ci.prototype.findEdge=function(e,i){for(var s=0;s<this._edges.size();s++){var a=this._edges.get(s),c=a.getCoordinates();if(e.equals(c[0])&&i.equals(c[1]))return a}return null},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ci.linkResultDirectedEdges=function(e){for(var i=e.iterator();i.hasNext();)i.next().getEdges().linkResultDirectedEdges()};var oo=function(){this._geometryFactory=null,this._shellList=new ce;var e=arguments[0];this._geometryFactory=e};oo.prototype.sortShellsAndHoles=function(e,i,s){for(var a=e.iterator();a.hasNext();){var c=a.next();c.isHole()?s.add(c):i.add(c)}},oo.prototype.computePolygons=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next().toPolygon(this._geometryFactory);i.add(a)}return i},oo.prototype.placeFreeHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();if(a.getShell()===null){var c=this.findEdgeRingContaining(a,e);if(c===null)throw new Xa("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(c)}}},oo.prototype.buildMinimalEdgeRings=function(e,i,s){for(var a=new ce,c=e.iterator();c.hasNext();){var h=c.next();if(h.getMaxNodeDegree()>2){h.linkDirectedEdgesForMinimalEdgeRings();var g=h.buildMinimalRings(),y=this.findShell(g);y!==null?(this.placePolygonHoles(y,g),i.add(y)):s.addAll(g)}else a.add(h)}return a},oo.prototype.containsPoint=function(e){for(var i=this._shellList.iterator();i.hasNext();)if(i.next().containsPoint(e))return!0;return!1},oo.prototype.buildMaximalEdgeRings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var c=new jI(a,this._geometryFactory);i.add(c),c.setInResult()}}return i},oo.prototype.placePolygonHoles=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next();a.isHole()&&a.setShell(e)}},oo.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},oo.prototype.findEdgeRingContaining=function(e,i){for(var s=e.getLinearRing(),a=s.getEnvelopeInternal(),c=s.getCoordinateN(0),h=null,g=null,y=i.iterator();y.hasNext();){var w=y.next(),x=w.getLinearRing(),T=x.getEnvelopeInternal();h!==null&&(g=h.getLinearRing().getEnvelopeInternal());var E=!1;T.contains(a)&&ge.isPointInRing(c,x.getCoordinates())&&(E=!0),E&&(h===null||g.contains(T))&&(h=w)}return h},oo.prototype.findShell=function(e){for(var i=0,s=null,a=e.iterator();a.hasNext();){var c=a.next();c.isHole()||(s=c,i++)}return rr.isTrue(i<=1,"found two shells in MinimalEdgeRing list"),s},oo.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var i=arguments[0],s=arguments[1];Ci.linkResultDirectedEdges(s);var a=this.buildMaximalEdgeRings(i),c=new ce,h=this.buildMinimalEdgeRings(a,this._shellList,c);this.sortShellsAndHoles(h,this._shellList,c),this.placeFreeHoles(this._shellList,c)}},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Td=function(){};Td.prototype.getBounds=function(){},Td.prototype.interfaces_=function(){return[]},Td.prototype.getClass=function(){return Td};var us=function(){this._bounds=null,this._item=null;var e=arguments[0],i=arguments[1];this._bounds=e,this._item=i};us.prototype.getItem=function(){return this._item},us.prototype.getBounds=function(){return this._bounds},us.prototype.interfaces_=function(){return[Td,No]},us.prototype.getClass=function(){return us};var Ka=function(){this._size=null,this._items=null,this._size=0,this._items=new ce,this._items.add(null)};Ka.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Ka.prototype.size=function(){return this._size},Ka.prototype.reorder=function(e){for(var i=this,s=null,a=this._items.get(e);2*e<=this._size&&((s=2*e)!==i._size&&i._items.get(s+1).compareTo(i._items.get(s))<0&&s++,i._items.get(s).compareTo(a)<0);e=s)i._items.set(e,i._items.get(s));this._items.set(e,a)},Ka.prototype.clear=function(){this._size=0,this._items.clear()},Ka.prototype.isEmpty=function(){return this._size===0},Ka.prototype.add=function(e){this._items.add(null),this._size+=1;var i=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(i/2)))<0;i/=2)this._items.set(i,this._items.get(Math.trunc(i/2)));this._items.set(i,e)},Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka};var Bl=function(){};Bl.prototype.visitItem=function(e){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var Ku=function(){};Ku.prototype.insert=function(e,i){},Ku.prototype.remove=function(e,i){},Ku.prototype.query=function(){},Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku};var qi=function(){if(this._childBoundables=new ce,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this._level=e}}},Ik={serialVersionUID:{configurable:!0}};qi.prototype.getLevel=function(){return this._level},qi.prototype.size=function(){return this._childBoundables.size()},qi.prototype.getChildBoundables=function(){return this._childBoundables},qi.prototype.addChildBoundable=function(e){rr.isTrue(this._bounds===null),this._childBoundables.add(e)},qi.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qi.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},qi.prototype.interfaces_=function(){return[Td,No]},qi.prototype.getClass=function(){return qi},Ik.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(qi,Ik);var hs=function(){};hs.reverseOrder=function(){return{compare:function(e,i){return i.compareTo(e)}}},hs.min=function(e){return hs.sort(e),e.get(0)},hs.sort=function(e,i){var s=e.toArray();i?Dc.sort(s,i):Dc.sort(s);for(var a=e.iterator(),c=0,h=s.length;c<h;c++)a.next(),a.set(s[c])},hs.singletonList=function(e){var i=new ce;return i.add(e),i};var Ni=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],i=arguments[1],s=arguments[2];this._boundable1=e,this._boundable2=i,this._itemDistance=s,this._distance=this.distance()};Ni.prototype.expandToQueue=function(e,i){var s=Ni.isComposite(this._boundable1),a=Ni.isComposite(this._boundable2);if(s&&a)return Ni.area(this._boundable1)>Ni.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,i),null):(this.expand(this._boundable2,this._boundable1,e,i),null);if(s)return this.expand(this._boundable1,this._boundable2,e,i),null;if(a)return this.expand(this._boundable2,this._boundable1,e,i),null;throw new ki("neither boundable is composite")},Ni.prototype.isLeaves=function(){return!(Ni.isComposite(this._boundable1)||Ni.isComposite(this._boundable2))},Ni.prototype.compareTo=function(e){var i=e;return this._distance<i._distance?-1:this._distance>i._distance?1:0},Ni.prototype.expand=function(e,i,s,a){for(var c=e.getChildBoundables().iterator();c.hasNext();){var h=c.next(),g=new Ni(h,i,this._itemDistance);g.getDistance()<a&&s.add(g)}},Ni.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2},Ni.prototype.getDistance=function(){return this._distance},Ni.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Ni.prototype.interfaces_=function(){return[zo]},Ni.prototype.getClass=function(){return Ni},Ni.area=function(e){return e.getBounds().getArea()},Ni.isComposite=function(e){return e instanceof qi};var en=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new ce,this._nodeCapacity=null,arguments.length===0){var i=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=i}else if(arguments.length===1){var s=arguments[0];rr.isTrue(s>1,"Node capacity must be greater than 1"),this._nodeCapacity=s}},v0={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(e){return e.get(e.size()-1)},en.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof qi?s+=e.size(c):c instanceof us&&(s+=1)}return s}},en.prototype.removeItem=function(e,i){for(var s=null,a=e.getChildBoundables().iterator();a.hasNext();){var c=a.next();c instanceof us&&c.getItem()===i&&(s=c)}return s!==null&&(e.getChildBoundables().remove(s),!0)},en.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var i=this.itemsTree(this._root);return i===null?new ce:i}if(arguments.length===1){for(var s=arguments[0],a=new ce,c=s.getChildBoundables().iterator();c.hasNext();){var h=c.next();if(h instanceof qi){var g=e.itemsTree(h);g!==null&&a.add(g)}else h instanceof us?a.add(h.getItem()):rr.shouldNeverReachHere()}return a.size()<=0?null:a}},en.prototype.insert=function(e,i){rr.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new us(e,i))},en.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var i=arguments[0],s=new ce;return this.boundablesAtLevel(i,this._root,s),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];if(rr.isTrue(a>-2),c.getLevel()===a)return h.add(c),null;for(var g=c.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof qi?e.boundablesAtLevel(a,y,h):(rr.isTrue(y instanceof us),a===-1&&h.add(y))}return null}},en.prototype.query=function(){var e=this;if(arguments.length===1){var i=arguments[0];this.build();var s=new ce;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,s),s}if(arguments.length===2){var a=arguments[0],c=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,c)}else if(arguments.length===3){if(Ge(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var h=arguments[0],g=arguments[1],y=arguments[2],w=g.getChildBoundables(),x=0;x<w.size();x++){var T=w.get(x);e.getIntersectsOp().intersects(T.getBounds(),h)&&(T instanceof qi?e.query(h,T,y):T instanceof us?y.visitItem(T.getItem()):rr.shouldNeverReachHere())}else if(Ge(arguments[2],as)&&arguments[0]instanceof Object&&arguments[1]instanceof qi)for(var E=arguments[0],P=arguments[1],z=arguments[2],N=P.getChildBoundables(),B=0;B<N.size();B++){var I=N.get(B);e.getIntersectsOp().intersects(I.getBounds(),E)&&(I instanceof qi?e.query(E,I,z):I instanceof us?z.add(I.getItem()):rr.shouldNeverReachHere())}}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){var e=this;if(arguments.length===2){var i=arguments[0],s=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.remove(i,this._root,s)}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=this.removeItem(c,h);if(g)return!0;for(var y=null,w=c.getChildBoundables().iterator();w.hasNext();){var x=w.next();if(e.getIntersectsOp().intersects(x.getBounds(),a)&&x instanceof qi&&(g=e.remove(a,x,h))){y=x;break}}return y!==null&&y.getChildBoundables().isEmpty()&&c.getChildBoundables().remove(y),g}},en.prototype.createHigherLevels=function(e,i){rr.isTrue(!e.isEmpty());var s=this.createParentBoundables(e,i+1);return s.size()===1?s.get(0):this.createHigherLevels(s,i+1)},en.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var i=arguments[0],s=0,a=i.getChildBoundables().iterator();a.hasNext();){var c=a.next();if(c instanceof qi){var h=e.depth(c);h>s&&(s=h)}}return s+1}},en.prototype.createParentBoundables=function(e,i){var s=this;rr.isTrue(!e.isEmpty());var a=new ce;a.add(this.createNode(i));var c=new ce(e);hs.sort(c,this.getComparator());for(var h=c.iterator();h.hasNext();){var g=h.next();s.lastNode(a).getChildBoundables().size()===s.getNodeCapacity()&&a.add(s.createNode(i)),s.lastNode(a).addChildBoundable(g)}return a},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[No]},en.prototype.getClass=function(){return en},en.compareDoubles=function(e,i){return e>i?1:e<i?-1:0},v0.IntersectsOp.get=function(){return HI},v0.serialVersionUID.get=function(){return-3886435814360241e3},v0.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,v0);var HI=function(){},Sd=function(){};Sd.prototype.distance=function(e,i){},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var Lk=function(e){function i(a){a=a||i.DEFAULT_NODE_CAPACITY,e.call(this,a)}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return i.prototype.createParentBoundablesFromVerticalSlices=function(a,c){rr.isTrue(a.length>0);for(var h=new ce,g=0;g<a.length;g++)h.addAll(this.createParentBoundablesFromVerticalSlice(a[g],c));return h},i.prototype.createNode=function(a){return new Rk(a)},i.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},i.prototype.insert=function(){if(arguments.length!==2)return e.prototype.insert.apply(this,arguments);var a=arguments[0],c=arguments[1];if(a.isNull())return null;e.prototype.insert.call(this,a,c)},i.prototype.getIntersectsOp=function(){return i.intersectsOp},i.prototype.verticalSlices=function(a,c){for(var h=Math.trunc(Math.ceil(a.size()/c)),g=new Array(c).fill(null),y=a.iterator(),w=0;w<c;w++){g[w]=new ce;for(var x=0;y.hasNext()&&x<h;){var T=y.next();g[w].add(T),x++}}return g},i.prototype.query=function(){if(arguments.length===1){var a=arguments[0];return e.prototype.query.call(this,a)}if(arguments.length===2){var c=arguments[0],h=arguments[1];e.prototype.query.call(this,c,h)}else if(arguments.length===3){if(Ge(arguments[2],Bl)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var g=arguments[0],y=arguments[1],w=arguments[2];e.prototype.query.call(this,g,y,w)}else if(Ge(arguments[2],as)&&arguments[0]instanceof Object&&arguments[1]instanceof qi){var x=arguments[0],T=arguments[1],E=arguments[2];e.prototype.query.call(this,x,T,E)}}},i.prototype.getComparator=function(){return i.yComparator},i.prototype.createParentBoundablesFromVerticalSlice=function(a,c){return e.prototype.createParentBoundables.call(this,a,c)},i.prototype.remove=function(){if(arguments.length===2){var a=arguments[0],c=arguments[1];return e.prototype.remove.call(this,a,c)}return e.prototype.remove.apply(this,arguments)},i.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},i.prototype.createParentBoundables=function(a,c){rr.isTrue(!a.isEmpty());var h=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),g=new ce(a);hs.sort(g,i.xComparator);var y=this.verticalSlices(g,Math.trunc(Math.ceil(Math.sqrt(h))));return this.createParentBoundablesFromVerticalSlices(y,c)},i.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ge(arguments[0],Sd)){var a=arguments[0],c=new Ni(this.getRoot(),this.getRoot(),a);return this.nearestNeighbour(c)}if(arguments[0]instanceof Ni){var h=arguments[0];return this.nearestNeighbour(h,Je.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof i&&Ge(arguments[1],Sd)){var g=arguments[0],y=arguments[1],w=new Ni(this.getRoot(),g.getRoot(),y);return this.nearestNeighbour(w)}if(arguments[0]instanceof Ni&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=T,P=null,z=new Ka;for(z.add(x);!z.isEmpty()&&E>0;){var N=z.poll(),B=N.getDistance();if(B>=E)break;N.isLeaves()?(E=B,P=N):N.expandToQueue(z,E)}return[P.getBoundable(0).getItem(),P.getBoundable(1).getItem()]}}else if(arguments.length===3){var I=arguments[0],Y=arguments[1],it=arguments[2],D=new us(I,Y),Z=new Ni(this.getRoot(),D,it);return this.nearestNeighbour(Z)[0]}},i.prototype.interfaces_=function(){return[Ku,No]},i.prototype.getClass=function(){return i},i.centreX=function(a){return i.avg(a.getMinX(),a.getMaxX())},i.avg=function(a,c){return(a+c)/2},i.centreY=function(a){return i.avg(a.getMinY(),a.getMaxY())},s.STRtreeNode.get=function(){return Rk},s.serialVersionUID.get=function(){return 0x39920f7d5f261e0},s.xComparator.get=function(){return{interfaces_:function(){return[dd]},compare:function(a,c){return e.compareDoubles(i.centreX(a.getBounds()),i.centreX(c.getBounds()))}}},s.yComparator.get=function(){return{interfaces_:function(){return[dd]},compare:function(a,c){return e.compareDoubles(i.centreY(a.getBounds()),i.centreY(c.getBounds()))}}},s.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(a,c){return a.intersects(c)}}},s.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(i,s),i}(en),Rk=function(e){function i(){var s=arguments[0];e.call(this,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.computeBounds=function(){for(var s=null,a=this.getChildBoundables().iterator();a.hasNext();){var c=a.next();s===null?s=new ze(c.getBounds()):s.expandToInclude(c.getBounds())}return s},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(qi),Xn=function(){};Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn.relativeSign=function(e,i){return e<i?-1:e>i?1:0},Xn.compare=function(e,i,s){if(i.equals2D(s))return 0;var a=Xn.relativeSign(i.x,s.x),c=Xn.relativeSign(i.y,s.y);switch(e){case 0:return Xn.compareValue(a,c);case 1:return Xn.compareValue(c,a);case 2:return Xn.compareValue(c,-a);case 3:return Xn.compareValue(-a,c);case 4:return Xn.compareValue(-a,-c);case 5:return Xn.compareValue(-c,-a);case 6:return Xn.compareValue(-c,a);case 7:return Xn.compareValue(a,-c)}return rr.shouldNeverReachHere("invalid octant value"),0},Xn.compareValue=function(e,i){return e<0?-1:e>0?1:i<0?-1:i>0?1:0};var jl=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._segString=e,this.coord=new Ct(i),this.segmentIndex=s,this._segmentOctant=a,this._isInterior=!i.equals2D(e.getCoordinate(s))};jl.prototype.getCoordinate=function(){return this.coord},jl.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},jl.prototype.compareTo=function(e){var i=e;return this.segmentIndex<i.segmentIndex?-1:this.segmentIndex>i.segmentIndex?1:this.coord.equals2D(i.coord)?0:Xn.compare(this._segmentOctant,this.coord,i.coord)},jl.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e},jl.prototype.isInterior=function(){return this._isInterior},jl.prototype.interfaces_=function(){return[zo]},jl.prototype.getClass=function(){return jl};var Nn=function(){this._nodeMap=new En,this._edge=null;var e=arguments[0];this._edge=e};Nn.prototype.getSplitCoordinates=function(){var e=new _f;this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next();this.addEdgeCoordinates(s,a,e),s=a}return e.toCoordinateArray()},Nn.prototype.addCollapsedNodes=function(){var e=new ce;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var i=e.iterator();i.hasNext();){var s=i.next().intValue();this.add(this._edge.getCoordinate(s),s)}},Nn.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},Nn.prototype.findCollapsesFromExistingVertices=function(e){for(var i=0;i<this._edge.size()-2;i++){var s=this._edge.getCoordinate(i),a=this._edge.getCoordinate(i+2);s.equals2D(a)&&e.add(new Is(i+1))}},Nn.prototype.addEdgeCoordinates=function(e,i,s){var a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);s.add(new Ct(e.coord),!1);for(var h=e.segmentIndex+1;h<=i.segmentIndex;h++)s.add(this._edge.getCoordinate(h));c&&s.add(new Ct(i.coord))},Nn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Nn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},Nn.prototype.findCollapseIndex=function(e,i,s){if(!e.coord.equals2D(i.coord))return!1;var a=i.segmentIndex-e.segmentIndex;return i.isInterior()||a--,a===1&&(s[0]=e.segmentIndex+1,!0)},Nn.prototype.findCollapsesFromInsertedNodes=function(e){for(var i=new Array(1).fill(null),s=this.iterator(),a=s.next();s.hasNext();){var c=s.next();this.findCollapseIndex(a,c,i)&&e.add(new Is(i[0])),a=c}},Nn.prototype.getEdge=function(){return this._edge},Nn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Nn.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this._edge.getCoordinate(i.segmentIndex),c=i.isInterior()||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this._edge.getCoordinate(y);return c&&(h[g]=new Ct(i.coord)),new Ai(h,this._edge.getData())},Nn.prototype.add=function(e,i){var s=new jl(this._edge,e,i,this._edge.getSegmentOctant(i)),a=this._nodeMap.get(s);return a!==null?(rr.isTrue(a.coord.equals2D(e),"Found equal nodes with different coordinates"),a):(this._nodeMap.put(s,s),s)},Nn.prototype.checkSplitEdgesCorrectness=function(e){var i=this._edge.getCoordinates(),s=e.get(0).getCoordinate(0);if(!s.equals2D(i[0]))throw new qa("bad split edge start point at "+s);var a=e.get(e.size()-1).getCoordinates(),c=a[a.length-1];if(!c.equals2D(i[i.length-1]))throw new qa("bad split edge end point at "+c)},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var Ju=function(){};Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju},Ju.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],i=arguments[1];if(e===0&&i===0)throw new ki("Cannot compute the octant for point ( "+e+", "+i+" )");var s=Math.abs(e),a=Math.abs(i);return e>=0?i>=0?s>=a?0:1:s>=a?7:6:i>=0?s>=a?3:2:s>=a?4:5}if(arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var c=arguments[0],h=arguments[1],g=h.x-c.x,y=h.y-c.y;if(g===0&&y===0)throw new ki("Cannot compute the octant for two identical points "+c);return Ju.octant(g,y)}};var ma=function(){};ma.prototype.getCoordinates=function(){},ma.prototype.size=function(){},ma.prototype.getCoordinate=function(e){},ma.prototype.isClosed=function(){},ma.prototype.setData=function(e){},ma.prototype.getData=function(){},ma.prototype.interfaces_=function(){return[]},ma.prototype.getClass=function(){return ma};var Lf=function(){};Lf.prototype.addIntersection=function(e,i){},Lf.prototype.interfaces_=function(){return[ma]},Lf.prototype.getClass=function(){return Lf};var Ai=function(){this._nodeList=new Nn(this),this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};Ai.prototype.getCoordinates=function(){return this._pts},Ai.prototype.size=function(){return this._pts.length},Ai.prototype.getCoordinate=function(e){return this._pts[e]},Ai.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ai.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},Ai.prototype.setData=function(e){this._data=e},Ai.prototype.safeOctant=function(e,i){return e.equals2D(i)?0:Ju.octant(e,i)},Ai.prototype.getData=function(){return this._data},Ai.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1];this.addIntersectionNode(e,i)}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[3],h=new Ct(s.getIntersection(c));this.addIntersection(h,a)}},Ai.prototype.toString=function(){return ss.toLineString(new Ri(this._pts))},Ai.prototype.getNodeList=function(){return this._nodeList},Ai.prototype.addIntersectionNode=function(e,i){var s=i,a=s+1;if(a<this._pts.length){var c=this._pts[a];e.equals2D(c)&&(s=a)}return this._nodeList.add(e,s)},Ai.prototype.addIntersections=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++)this.addIntersection(e,i,s,a)},Ai.prototype.interfaces_=function(){return[Lf]},Ai.prototype.getClass=function(){return Ai},Ai.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],i=new ce;return Ai.getNodedSubstrings(e,i),i}if(arguments.length===2)for(var s=arguments[0],a=arguments[1],c=s.iterator();c.hasNext();){var h=c.next();h.getNodeList().addSplitEdges(a)}};var Ne=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Ct,this.p1=new Ct;else if(arguments.length===1){var e=arguments[0];this.p0=new Ct(e.p0),this.p1=new Ct(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var i=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3];this.p0=new Ct(i,s),this.p1=new Ct(a,c)}},Ak={serialVersionUID:{configurable:!0}};Ne.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ne.prototype.orientationIndex=function(){if(arguments[0]instanceof Ne){var e=arguments[0],i=ge.orientationIndex(this.p0,this.p1,e.p0),s=ge.orientationIndex(this.p0,this.p1,e.p1);return i>=0&&s>=0||i<=0&&s<=0?Math.max(i,s):0}if(arguments[0]instanceof Ct){var a=arguments[0];return ge.orientationIndex(this.p0,this.p1,a)}},Ne.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},Ne.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ne.prototype.equals=function(e){if(!(e instanceof Ne))return!1;var i=e;return this.p0.equals(i.p0)&&this.p1.equals(i.p1)},Ne.prototype.intersection=function(e){var i=new Nc;return i.computeIntersection(this.p0,this.p1,e.p0,e.p1),i.hasIntersection()?i.getIntersection(0):null},Ne.prototype.project=function(){if(arguments[0]instanceof Ct){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Ct(e);var i=this.projectionFactor(e),s=new Ct;return s.x=this.p0.x+i*(this.p1.x-this.p0.x),s.y=this.p0.y+i*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof Ne){var a=arguments[0],c=this.projectionFactor(a.p0),h=this.projectionFactor(a.p1);if(c>=1&&h>=1||c<=0&&h<=0)return null;var g=this.project(a.p0);c<0&&(g=this.p0),c>1&&(g=this.p1);var y=this.project(a.p1);return h<0&&(y=this.p0),h>1&&(y=this.p1),new Ne(g,y)}},Ne.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ne.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ne.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1},Ne.prototype.distancePerpendicular=function(e){return ge.distancePointLinePerpendicular(e,this.p0,this.p1)},Ne.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ne.prototype.midPoint=function(){return Ne.midPoint(this.p0,this.p1)},Ne.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var i=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,a=i*i+s*s;return a<=0?Je.NaN:((e.x-this.p0.x)*i+(e.y-this.p0.y)*s)/a},Ne.prototype.closestPoints=function(e){var i=this.intersection(e);if(i!==null)return[i,i];var s=new Array(2).fill(null),a=Je.MAX_VALUE,c=null,h=this.closestPoint(e.p0);a=h.distance(e.p0),s[0]=h,s[1]=e.p0;var g=this.closestPoint(e.p1);(c=g.distance(e.p1))<a&&(a=c,s[0]=g,s[1]=e.p1);var y=e.closestPoint(this.p0);(c=y.distance(this.p0))<a&&(a=c,s[0]=this.p0,s[1]=y);var w=e.closestPoint(this.p1);return(c=w.distance(this.p1))<a&&(a=c,s[0]=this.p1,s[1]=w),s},Ne.prototype.closestPoint=function(e){var i=this.projectionFactor(e);return i>0&&i<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},Ne.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ne.prototype.getLength=function(){return this.p0.distance(this.p1)},Ne.prototype.compareTo=function(e){var i=e,s=this.p0.compareTo(i.p0);return s!==0?s:this.p1.compareTo(i.p1)},Ne.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},Ne.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},Ne.prototype.lineIntersection=function(e){try{return os.intersection(this.p0,this.p1,e.p0,e.p1)}catch(i){if(!(i instanceof fd))throw i}return null},Ne.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ne.prototype.pointAlongOffset=function(e,i){var s=this.p0.x+e*(this.p1.x-this.p0.x),a=this.p0.y+e*(this.p1.y-this.p0.y),c=this.p1.x-this.p0.x,h=this.p1.y-this.p0.y,g=Math.sqrt(c*c+h*h),y=0,w=0;if(i!==0){if(g<=0)throw new Error("Cannot compute offset from zero-length line segment");y=i*c/g,w=i*h/g}return new Ct(s-w,a+y)},Ne.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this.p0.x=i.x,this.p0.y=i.y,this.p1.x=s.x,this.p1.y=s.y}},Ne.prototype.segmentFraction=function(e){var i=this.projectionFactor(e);return i<0?i=0:(i>1||Je.isNaN(i))&&(i=1),i},Ne.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ne.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ne.prototype.distance=function(){if(arguments[0]instanceof Ne){var e=arguments[0];return ge.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Ct){var i=arguments[0];return ge.distancePointLine(i,this.p0,this.p1)}},Ne.prototype.pointAlong=function(e){var i=new Ct;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i},Ne.prototype.hashCode=function(){var e=Je.doubleToLongBits(this.p0.x);e^=31*Je.doubleToLongBits(this.p0.y);var i=Math.trunc(e)^Math.trunc(e>>32),s=Je.doubleToLongBits(this.p1.x);return s^=31*Je.doubleToLongBits(this.p1.y),i^(Math.trunc(s)^Math.trunc(s>>32))},Ne.prototype.interfaces_=function(){return[zo,No]},Ne.prototype.getClass=function(){return Ne},Ne.midPoint=function(e,i){return new Ct((e.x+i.x)/2,(e.y+i.y)/2)},Ak.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ne,Ak);var Rf=function(){this.tempEnv1=new ze,this.tempEnv2=new ze,this._overlapSeg1=new Ne,this._overlapSeg2=new Ne};Rf.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];e.getLineSegment(i,this._overlapSeg1),s.getLineSegment(a,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf};var so=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this._pts=e,this._start=i,this._end=s,this._context=a};so.prototype.getLineSegment=function(e,i){i.p0=this._pts[e],i.p1=this._pts[e+1]},so.prototype.computeSelect=function(e,i,s,a){var c=this._pts[i],h=this._pts[s];if(a.tempEnv1.init(c,h),s-i==1)return a.select(this,i),null;if(!e.intersects(a.tempEnv1))return null;var g=Math.trunc((i+s)/2);i<g&&this.computeSelect(e,i,g,a),g<s&&this.computeSelect(e,g,s,a)},so.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),i=0,s=this._start;s<=this._end;s++)e[i++]=this._pts[s];return e},so.prototype.computeOverlaps=function(e,i){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,i)},so.prototype.setId=function(e){this._id=e},so.prototype.select=function(e,i){this.computeSelect(e,this._start,this._end,i)},so.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],i=this._pts[this._end];this._env=new ze(e,i)}return this._env},so.prototype.getEndIndex=function(){return this._end},so.prototype.getStartIndex=function(){return this._start},so.prototype.getContext=function(){return this._context},so.prototype.getId=function(){return this._id},so.prototype.computeOverlapsInternal=function(e,i,s,a,c,h){var g=this._pts[e],y=this._pts[i],w=s._pts[a],x=s._pts[c];if(i-e==1&&c-a==1)return h.overlap(this,e,s,a),null;if(h.tempEnv1.init(g,y),h.tempEnv2.init(w,x),!h.tempEnv1.intersects(h.tempEnv2))return null;var T=Math.trunc((e+i)/2),E=Math.trunc((a+c)/2);e<T&&(a<E&&this.computeOverlapsInternal(e,T,s,a,E,h),E<c&&this.computeOverlapsInternal(e,T,s,E,c,h)),T<i&&(a<E&&this.computeOverlapsInternal(T,i,s,a,E,h),E<c&&this.computeOverlapsInternal(T,i,s,E,c,h))},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so};var js=function(){};js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js},js.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Is(i));do{var a=js.findChainEnd(e,i);s.add(new Is(a)),i=a}while(i<e.length-1);return js.toIntArray(s)},js.findChainEnd=function(e,i){for(var s=i;s<e.length-1&&e[s].equals2D(e[s+1]);)s++;if(s>=e.length-1)return e.length-1;for(var a=si.quadrant(e[s],e[s+1]),c=i+1;c<e.length&&!(!e[c-1].equals2D(e[c])&&si.quadrant(e[c-1],e[c])!==a);)c++;return c-1},js.getChains=function(){if(arguments.length===1){var e=arguments[0];return js.getChains(e,null)}if(arguments.length===2){for(var i=arguments[0],s=arguments[1],a=new ce,c=js.getChainStartIndices(i),h=0;h<c.length-1;h++){var g=new so(i,c[h],c[h+1],s);a.add(g)}return a}},js.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Bc=function(){};Bc.prototype.computeNodes=function(e){},Bc.prototype.getNodedSubstrings=function(){},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var Af=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}}};Af.prototype.setSegmentIntersector=function(e){this._segInt=e},Af.prototype.interfaces_=function(){return[Bc]},Af.prototype.getClass=function(){return Af};var Yb=function(e){function i(a){a?e.call(this,a):e.call(this),this._monoChains=new ce,this._index=new Lk,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i;var s={SegmentOverlapAction:{configurable:!0}};return i.prototype.getMonotoneChains=function(){return this._monoChains},i.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},i.prototype.getIndex=function(){return this._index},i.prototype.add=function(a){for(var c=this,h=js.getChains(a.getCoordinates(),a).iterator();h.hasNext();){var g=h.next();g.setId(c._idCounter++),c._index.insert(g.getEnvelope(),g),c._monoChains.add(g)}},i.prototype.computeNodes=function(a){this._nodedSegStrings=a;for(var c=a.iterator();c.hasNext();)this.add(c.next());this.intersectChains()},i.prototype.intersectChains=function(){for(var a=this,c=new Ok(this._segInt),h=this._monoChains.iterator();h.hasNext();)for(var g=h.next(),y=a._index.query(g.getEnvelope()).iterator();y.hasNext();){var w=y.next();if(w.getId()>g.getId()&&(g.computeOverlaps(w,c),a._nOverlaps++),a._segInt.isDone())return null}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},s.SegmentOverlapAction.get=function(){return Ok},Object.defineProperties(i,s),i}(Af),Ok=function(e){function i(){e.call(this),this._si=null;var s=arguments[0];this._si=s}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.overlap=function(){if(arguments.length!==4)return e.prototype.overlap.apply(this,arguments);var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3],g=s.getContext(),y=c.getContext();this._si.processIntersections(g,a,y,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Rf),$r=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var i=arguments[0];this.setQuadrantSegments(i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1];this.setQuadrantSegments(s),this.setEndCapStyle(a)}else if(arguments.length===4){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3];this.setQuadrantSegments(c),this.setEndCapStyle(h),this.setJoinStyle(g),this.setMitreLimit(y)}}},Ja={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};$r.prototype.getEndCapStyle=function(){return this._endCapStyle},$r.prototype.isSingleSided=function(){return this._isSingleSided},$r.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=$r.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=$r.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==$r.JOIN_ROUND&&(this._quadrantSegments=$r.DEFAULT_QUADRANT_SEGMENTS)},$r.prototype.getJoinStyle=function(){return this._joinStyle},$r.prototype.setJoinStyle=function(e){this._joinStyle=e},$r.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},$r.prototype.getSimplifyFactor=function(){return this._simplifyFactor},$r.prototype.getQuadrantSegments=function(){return this._quadrantSegments},$r.prototype.setEndCapStyle=function(e){this._endCapStyle=e},$r.prototype.getMitreLimit=function(){return this._mitreLimit},$r.prototype.setMitreLimit=function(e){this._mitreLimit=e},$r.prototype.setSingleSided=function(e){this._isSingleSided=e},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.bufferDistanceError=function(e){var i=Math.PI/2/e;return 1-Math.cos(i/2)},Ja.CAP_ROUND.get=function(){return 1},Ja.CAP_FLAT.get=function(){return 2},Ja.CAP_SQUARE.get=function(){return 3},Ja.JOIN_ROUND.get=function(){return 1},Ja.JOIN_MITRE.get=function(){return 2},Ja.JOIN_BEVEL.get=function(){return 3},Ja.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ja.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ja.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties($r,Ja);var Ii=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ge.COUNTERCLOCKWISE,this._inputLine=e||null},Of={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ii.prototype.isDeletable=function(e,i,s,a){var c=this._inputLine[e],h=this._inputLine[i],g=this._inputLine[s];return!!this.isConcave(c,h,g)&&!!this.isShallow(c,h,g,a)&&this.isShallowSampled(c,h,e,s,a)},Ii.prototype.deleteShallowConcavities=function(){for(var e=this,i=1,s=this.findNextNonDeletedIndex(i),a=this.findNextNonDeletedIndex(s),c=!1;a<this._inputLine.length;){var h=!1;e.isDeletable(i,s,a,e._distanceTol)&&(e._isDeleted[s]=Ii.DELETE,h=!0,c=!0),i=h?a:s,s=e.findNextNonDeletedIndex(i),a=e.findNextNonDeletedIndex(s)}return c},Ii.prototype.isShallowConcavity=function(e,i,s,a){return ge.computeOrientation(e,i,s)===this._angleOrientation&&ge.distancePointLine(i,e,s)<a},Ii.prototype.isShallowSampled=function(e,i,s,a,c){var h=Math.trunc((a-s)/Ii.NUM_PTS_TO_CHECK);h<=0&&(h=1);for(var g=s;g<a;g+=h)if(!this.isShallow(e,i,this._inputLine[g],c))return!1;return!0},Ii.prototype.isConcave=function(e,i,s){var a=ge.computeOrientation(e,i,s)===this._angleOrientation;return a},Ii.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ge.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var i=!1;do i=this.deleteShallowConcavities();while(i);return this.collapseLine()},Ii.prototype.findNextNonDeletedIndex=function(e){for(var i=e+1;i<this._inputLine.length&&this._isDeleted[i]===Ii.DELETE;)i++;return i},Ii.prototype.isShallow=function(e,i,s,a){return ge.distancePointLine(i,e,s)<a},Ii.prototype.collapseLine=function(){for(var e=new _f,i=0;i<this._inputLine.length;i++)this._isDeleted[i]!==Ii.DELETE&&e.add(this._inputLine[i]);return e.toCoordinateArray()},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.simplify=function(e,i){return new Ii(e).simplify(i)},Of.INIT.get=function(){return 0},Of.DELETE.get=function(){return 1},Of.KEEP.get=function(){return 1},Of.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ii,Of);var ko=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ce},zk={COORDINATE_ARRAY_TYPE:{configurable:!0}};ko.prototype.getCoordinates=function(){return this._ptList.toArray(ko.COORDINATE_ARRAY_TYPE)},ko.prototype.setPrecisionModel=function(e){this._precisionModel=e},ko.prototype.addPt=function(e){var i=new Ct(e);if(this._precisionModel.makePrecise(i),this.isRedundant(i))return null;this._ptList.add(i)},ko.prototype.revere=function(){},ko.prototype.addPts=function(e,i){if(i)for(var s=0;s<e.length;s++)this.addPt(e[s]);else for(var a=e.length-1;a>=0;a--)this.addPt(e[a])},ko.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var i=this._ptList.get(this._ptList.size()-1);return e.distance(i)<this._minimimVertexDistance},ko.prototype.toString=function(){return new hr().createLineString(this.getCoordinates()).toString()},ko.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Ct(this._ptList.get(0)),i=this._ptList.get(this._ptList.size()-1);if(e.equals(i))return null;this._ptList.add(e)},ko.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},zk.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ko,zk);var yr=function(){},Qu={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.toDegrees=function(e){return 180*e/Math.PI},yr.normalize=function(e){for(;e>Math.PI;)e-=yr.PI_TIMES_2;for(;e<=-Math.PI;)e+=yr.PI_TIMES_2;return e},yr.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}if(arguments.length===2){var i=arguments[0],s=arguments[1],a=s.x-i.x,c=s.y-i.y;return Math.atan2(c,a)}},yr.isAcute=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)>0},yr.isObtuse=function(e,i,s){var a=e.x-i.x,c=e.y-i.y;return a*(s.x-i.x)+c*(s.y-i.y)<0},yr.interiorAngle=function(e,i,s){var a=yr.angle(i,e),c=yr.angle(i,s);return Math.abs(c-a)},yr.normalizePositive=function(e){if(e<0){for(;e<0;)e+=yr.PI_TIMES_2;e>=yr.PI_TIMES_2&&(e=0)}else{for(;e>=yr.PI_TIMES_2;)e-=yr.PI_TIMES_2;e<0&&(e=0)}return e},yr.angleBetween=function(e,i,s){var a=yr.angle(i,e),c=yr.angle(i,s);return yr.diff(a,c)},yr.diff=function(e,i){var s=null;return(s=e<i?i-e:e-i)>Math.PI&&(s=2*Math.PI-s),s},yr.toRadians=function(e){return e*Math.PI/180},yr.getTurn=function(e,i){var s=Math.sin(i-e);return s>0?yr.COUNTERCLOCKWISE:s<0?yr.CLOCKWISE:yr.NONE},yr.angleBetweenOriented=function(e,i,s){var a=yr.angle(i,e),c=yr.angle(i,s)-a;return c<=-Math.PI?c+yr.PI_TIMES_2:c>Math.PI?c-yr.PI_TIMES_2:c},Qu.PI_TIMES_2.get=function(){return 2*Math.PI},Qu.PI_OVER_2.get=function(){return Math.PI/2},Qu.PI_OVER_4.get=function(){return Math.PI/4},Qu.COUNTERCLOCKWISE.get=function(){return ge.COUNTERCLOCKWISE},Qu.CLOCKWISE.get=function(){return ge.CLOCKWISE},Qu.NONE.get=function(){return ge.COLLINEAR},Object.defineProperties(yr,Qu);var wi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ne,this._seg1=new Ne,this._offset0=new Ne,this._offset1=new Ne,this._side=0,this._hasNarrowConcaveAngle=!1;var i=arguments[0],s=arguments[1],a=arguments[2];this._precisionModel=i,this._bufParams=s,this._li=new Nc,this._filletAngleQuantum=Math.PI/2/s.getQuadrantSegments(),s.getQuadrantSegments()>=8&&s.getJoinStyle()===$r.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(a)},zf={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};wi.prototype.addNextSegment=function(e,i){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=ge.computeOrientation(this._s0,this._s1,this._s2),a=s===ge.CLOCKWISE&&this._side===ne.LEFT||s===ge.COUNTERCLOCKWISE&&this._side===ne.RIGHT;s===0?this.addCollinear(i):a?this.addOutsideTurn(s,i):this.addInsideTurn(s,i)},wi.prototype.addLineEndCap=function(e,i){var s=new Ne(e,i),a=new Ne;this.computeOffsetSegment(s,ne.LEFT,this._distance,a);var c=new Ne;this.computeOffsetSegment(s,ne.RIGHT,this._distance,c);var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h);switch(this._bufParams.getEndCapStyle()){case $r.CAP_ROUND:this._segList.addPt(a.p1),this.addFilletArc(i,y+Math.PI/2,y-Math.PI/2,ge.CLOCKWISE,this._distance),this._segList.addPt(c.p1);break;case $r.CAP_FLAT:this._segList.addPt(a.p1),this._segList.addPt(c.p1);break;case $r.CAP_SQUARE:var w=new Ct;w.x=Math.abs(this._distance)*Math.cos(y),w.y=Math.abs(this._distance)*Math.sin(y);var x=new Ct(a.p1.x+w.x,a.p1.y+w.y),T=new Ct(c.p1.x+w.x,c.p1.y+w.y);this._segList.addPt(x),this._segList.addPt(T)}},wi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},wi.prototype.addMitreJoin=function(e,i,s,a){var c=!0,h=null;try{h=os.intersection(i.p0,i.p1,s.p0,s.p1),(a<=0?1:h.distance(e)/Math.abs(a))>this._bufParams.getMitreLimit()&&(c=!1)}catch(g){if(!(g instanceof fd))throw g;h=new Ct(0,0),c=!1}c?this._segList.addPt(h):this.addLimitedMitreJoin(i,s,a,this._bufParams.getMitreLimit())},wi.prototype.addFilletCorner=function(e,i,s,a,c){var h=i.x-e.x,g=i.y-e.y,y=Math.atan2(g,h),w=s.x-e.x,x=s.y-e.y,T=Math.atan2(x,w);a===ge.CLOCKWISE?y<=T&&(y+=2*Math.PI):y>=T&&(y-=2*Math.PI),this._segList.addPt(i),this.addFilletArc(e,y,T,a,c),this._segList.addPt(s)},wi.prototype.addOutsideTurn=function(e,i){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*wi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===$r.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===$r.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(i&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},wi.prototype.createSquare=function(e){this._segList.addPt(new Ct(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Ct(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Ct(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},wi.prototype.addSegments=function(e,i){this._segList.addPts(e,i)},wi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},wi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},wi.prototype.initSideSegments=function(e,i,s){this._s1=e,this._s2=i,this._side=s,this._seg1.setCoordinates(e,i),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)},wi.prototype.addLimitedMitreJoin=function(e,i,s,a){var c=this._seg0.p1,h=yr.angle(c,this._seg0.p0),g=yr.angleBetweenOriented(this._seg0.p0,c,this._seg1.p1)/2,y=yr.normalize(h+g),w=yr.normalize(y+Math.PI),x=a*s,T=s-x*Math.abs(Math.sin(g)),E=c.x+x*Math.cos(w),P=c.y+x*Math.sin(w),z=new Ct(E,P),N=new Ne(c,z),B=N.pointAlongOffset(1,T),I=N.pointAlongOffset(1,-T);this._side===ne.LEFT?(this._segList.addPt(B),this._segList.addPt(I)):(this._segList.addPt(I),this._segList.addPt(B))},wi.prototype.computeOffsetSegment=function(e,i,s,a){var c=i===ne.LEFT?1:-1,h=e.p1.x-e.p0.x,g=e.p1.y-e.p0.y,y=Math.sqrt(h*h+g*g),w=c*s*h/y,x=c*s*g/y;a.p0.x=e.p0.x-x,a.p0.y=e.p0.y+w,a.p1.x=e.p1.x-x,a.p1.y=e.p1.y+w},wi.prototype.addFilletArc=function(e,i,s,a,c){var h=a===ge.CLOCKWISE?-1:1,g=Math.abs(i-s),y=Math.trunc(g/this._filletAngleQuantum+.5);if(y<1)return null;for(var w=g/y,x=0,T=new Ct;x<g;){var E=i+h*x;T.x=e.x+c*Math.cos(E),T.y=e.y+c*Math.sin(E),this._segList.addPt(T),x+=w}},wi.prototype.addInsideTurn=function(e,i){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*wi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Ct((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var a=new Ct((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(a)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},wi.prototype.createCircle=function(e){var i=new Ct(e.x+this._distance,e.y);this._segList.addPt(i),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},wi.prototype.addBevelJoin=function(e,i){this._segList.addPt(e.p1),this._segList.addPt(i.p0)},wi.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ko,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*wi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},wi.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===$r.JOIN_BEVEL||this._bufParams.getJoinStyle()===$r.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ge.CLOCKWISE,this._distance))},wi.prototype.closeRing=function(){this._segList.closeRing()},wi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi},zf.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},zf.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},zf.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},zf.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(wi,zf);var Kn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],i=arguments[1];this._precisionModel=e,this._bufParams=i};Kn.prototype.getOffsetCurve=function(e,i){if(this._distance=i,i===0)return null;var s=i<0,a=Math.abs(i),c=this.getSegGen(a);e.length<=1?this.computePointCurve(e[0],c):this.computeOffsetCurve(e,s,c);var h=c.getCoordinates();return s&&ur.reverse(h),h},Kn.prototype.computeSingleSidedBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){s.addSegments(e,!0);var c=Ii.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ne.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{s.addSegments(e,!1);var y=Ii.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ne.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment(),s.closeRing()},Kn.prototype.computeRingBufferCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);i===ne.RIGHT&&(a=-a);var c=Ii.simplify(e,a),h=c.length-1;s.initSideSegments(c[h-1],c[0],i);for(var g=1;g<=h;g++){var y=g!==1;s.addNextSegment(c[g],y)}s.closeRing()},Kn.prototype.computeLineBufferCurve=function(e,i){var s=this.simplifyTolerance(this._distance),a=Ii.simplify(e,s),c=a.length-1;i.initSideSegments(a[0],a[1],ne.LEFT);for(var h=2;h<=c;h++)i.addNextSegment(a[h],!0);i.addLastSegment(),i.addLineEndCap(a[c-1],a[c]);var g=Ii.simplify(e,-s),y=g.length-1;i.initSideSegments(g[y],g[y-1],ne.LEFT);for(var w=y-2;w>=0;w--)i.addNextSegment(g[w],!0);i.addLastSegment(),i.addLineEndCap(g[1],g[0]),i.closeRing()},Kn.prototype.computePointCurve=function(e,i){switch(this._bufParams.getEndCapStyle()){case $r.CAP_ROUND:i.createCircle(e);break;case $r.CAP_SQUARE:i.createSquare(e)}},Kn.prototype.getLineCurve=function(e,i){if(this._distance=i,i<0&&!this._bufParams.isSingleSided()||i===0)return null;var s=Math.abs(i),a=this.getSegGen(s);if(e.length<=1)this.computePointCurve(e[0],a);else if(this._bufParams.isSingleSided()){var c=i<0;this.computeSingleSidedBufferCurve(e,c,a)}else this.computeLineBufferCurve(e,a);return a.getCoordinates()},Kn.prototype.getBufferParameters=function(){return this._bufParams},Kn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Kn.prototype.getRingCurve=function(e,i,s){if(this._distance=s,e.length<=2)return this.getLineCurve(e,s);if(s===0)return Kn.copyCoordinates(e);var a=this.getSegGen(s);return this.computeRingBufferCurve(e,i,a),a.getCoordinates()},Kn.prototype.computeOffsetCurve=function(e,i,s){var a=this.simplifyTolerance(this._distance);if(i){var c=Ii.simplify(e,-a),h=c.length-1;s.initSideSegments(c[h],c[h-1],ne.LEFT),s.addFirstSegment();for(var g=h-2;g>=0;g--)s.addNextSegment(c[g],!0)}else{var y=Ii.simplify(e,a),w=y.length-1;s.initSideSegments(y[0],y[1],ne.LEFT),s.addFirstSegment();for(var x=2;x<=w;x++)s.addNextSegment(y[x],!0)}s.addLastSegment()},Kn.prototype.getSegGen=function(e){return new wi(this._precisionModel,this._bufParams,e)},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.copyCoordinates=function(e){for(var i=new Array(e.length).fill(null),s=0;s<i.length;s++)i[s]=new Ct(e[s]);return i};var $u=function(){this._subgraphs=null,this._seg=new Ne,this._cga=new ge;var e=arguments[0];this._subgraphs=e},Nk={DepthSegment:{configurable:!0}};$u.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=new ce,a=this._subgraphs.iterator();a.hasNext();){var c=a.next(),h=c.getEnvelope();i.y<h.getMinY()||i.y>h.getMaxY()||e.findStabbedSegments(i,c.getDirectedEdges(),s)}return s}if(arguments.length===3){if(Ge(arguments[2],as)&&arguments[0]instanceof Ct&&arguments[1]instanceof Zb)for(var g=arguments[0],y=arguments[1],w=arguments[2],x=y.getEdge().getCoordinates(),T=0;T<x.length-1;T++){e._seg.p0=x[T],e._seg.p1=x[T+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var E=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(E<g.x)&&!(e._seg.isHorizontal()||g.y<e._seg.p0.y||g.y>e._seg.p1.y||ge.computeOrientation(e._seg.p0,e._seg.p1,g)===ge.RIGHT)){var P=y.getDepth(ne.LEFT);e._seg.p0.equals(x[T])||(P=y.getDepth(ne.RIGHT));var z=new jc(e._seg,P);w.add(z)}}else if(Ge(arguments[2],as)&&arguments[0]instanceof Ct&&Ge(arguments[1],as))for(var N=arguments[0],B=arguments[1],I=arguments[2],Y=B.iterator();Y.hasNext();){var it=Y.next();it.isForward()&&e.findStabbedSegments(N,it,I)}}},$u.prototype.getDepth=function(e){var i=this.findStabbedSegments(e);return i.size()===0?0:hs.min(i)._leftDepth},$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},Nk.DepthSegment.get=function(){return jc},Object.defineProperties($u,Nk);var jc=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],i=arguments[1];this._upwardSeg=new Ne(e),this._leftDepth=i};jc.prototype.compareTo=function(e){var i=e;if(this._upwardSeg.minX()>=i._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=i._upwardSeg.minX())return-1;var s=this._upwardSeg.orientationIndex(i._upwardSeg);return s!==0||(s=-1*i._upwardSeg.orientationIndex(this._upwardSeg))!==0?s:this._upwardSeg.compareTo(i._upwardSeg)},jc.prototype.compareX=function(e,i){var s=e.p0.compareTo(i.p0);return s!==0?s:e.p1.compareTo(i.p1)},jc.prototype.toString=function(){return this._upwardSeg.toString()},jc.prototype.interfaces_=function(){return[zo]},jc.prototype.getClass=function(){return jc};var ti=function(e,i,s){this.p0=e||null,this.p1=i||null,this.p2=s||null};ti.prototype.area=function(){return ti.area(this.p0,this.p1,this.p2)},ti.prototype.signedArea=function(){return ti.signedArea(this.p0,this.p1,this.p2)},ti.prototype.interpolateZ=function(e){if(e===null)throw new ki("Supplied point is null.");return ti.interpolateZ(e,this.p0,this.p1,this.p2)},ti.prototype.longestSideLength=function(){return ti.longestSideLength(this.p0,this.p1,this.p2)},ti.prototype.isAcute=function(){return ti.isAcute(this.p0,this.p1,this.p2)},ti.prototype.circumcentre=function(){return ti.circumcentre(this.p0,this.p1,this.p2)},ti.prototype.area3D=function(){return ti.area3D(this.p0,this.p1,this.p2)},ti.prototype.centroid=function(){return ti.centroid(this.p0,this.p1,this.p2)},ti.prototype.inCentre=function(){return ti.inCentre(this.p0,this.p1,this.p2)},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.area=function(e,i,s){return Math.abs(((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2)},ti.signedArea=function(e,i,s){return((s.x-e.x)*(i.y-e.y)-(i.x-e.x)*(s.y-e.y))/2},ti.det=function(e,i,s,a){return e*a-i*s},ti.interpolateZ=function(e,i,s,a){var c=i.x,h=i.y,g=s.x-c,y=a.x-c,w=s.y-h,x=a.y-h,T=g*x-y*w,E=e.x-c,P=e.y-h,z=(x*E-y*P)/T,N=(-w*E+g*P)/T;return i.z+z*(s.z-i.z)+N*(a.z-i.z)},ti.longestSideLength=function(e,i,s){var a=e.distance(i),c=i.distance(s),h=s.distance(e),g=a;return c>g&&(g=c),h>g&&(g=h),g},ti.isAcute=function(e,i,s){return!!yr.isAcute(e,i,s)&&!!yr.isAcute(i,s,e)&&!!yr.isAcute(s,e,i)},ti.circumcentre=function(e,i,s){var a=s.x,c=s.y,h=e.x-a,g=e.y-c,y=i.x-a,w=i.y-c,x=2*ti.det(h,g,y,w),T=ti.det(g,h*h+g*g,w,y*y+w*w),E=ti.det(h,h*h+g*g,y,y*y+w*w);return new Ct(a-T/x,c+E/x)},ti.perpendicularBisector=function(e,i){var s=i.x-e.x,a=i.y-e.y,c=new os(e.x+s/2,e.y+a/2,1),h=new os(e.x-a+s/2,e.y+s+a/2,1);return new os(c,h)},ti.angleBisector=function(e,i,s){var a=i.distance(e),c=a/(a+i.distance(s)),h=s.x-e.x,g=s.y-e.y;return new Ct(e.x+c*h,e.y+c*g)},ti.area3D=function(e,i,s){var a=i.x-e.x,c=i.y-e.y,h=i.z-e.z,g=s.x-e.x,y=s.y-e.y,w=s.z-e.z,x=c*w-h*y,T=h*g-a*w,E=a*y-c*g,P=x*x+T*T+E*E,z=Math.sqrt(P)/2;return z},ti.centroid=function(e,i,s){var a=(e.x+i.x+s.x)/3,c=(e.y+i.y+s.y)/3;return new Ct(a,c)},ti.inCentre=function(e,i,s){var a=i.distance(s),c=e.distance(s),h=e.distance(i),g=a+c+h,y=(a*e.x+c*i.x+h*s.x)/g,w=(a*e.y+c*i.y+h*s.y)/g;return new Ct(y,w)};var Ho=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._inputGeom=e,this._distance=i,this._curveBuilder=s};Ho.prototype.addPoint=function(e){if(this._distance<=0)return null;var i=e.getCoordinates(),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},Ho.prototype.addPolygon=function(e){var i=this,s=this._distance,a=ne.LEFT;this._distance<0&&(s=-this._distance,a=ne.RIGHT);var c=e.getExteriorRing(),h=ur.removeRepeatedPoints(c.getCoordinates());if(this._distance<0&&this.isErodedCompletely(c,this._distance)||this._distance<=0&&h.length<3)return null;this.addPolygonRing(h,s,a,At.EXTERIOR,At.INTERIOR);for(var g=0;g<e.getNumInteriorRing();g++){var y=e.getInteriorRingN(g),w=ur.removeRepeatedPoints(y.getCoordinates());i._distance>0&&i.isErodedCompletely(y,-i._distance)||i.addPolygonRing(w,s,ne.opposite(a),At.INTERIOR,At.EXTERIOR)}},Ho.prototype.isTriangleErodedCompletely=function(e,i){var s=new ti(e[0],e[1],e[2]),a=s.inCentre();return ge.distancePointLine(a,s.p0,s.p1)<Math.abs(i)},Ho.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var i=ur.removeRepeatedPoints(e.getCoordinates()),s=this._curveBuilder.getLineCurve(i,this._distance);this.addCurve(s,At.EXTERIOR,At.INTERIOR)},Ho.prototype.addCurve=function(e,i,s){if(e===null||e.length<2)return null;var a=new Ai(e,new ni(0,At.BOUNDARY,i,s));this._curveList.add(a)},Ho.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Ho.prototype.addPolygonRing=function(e,i,s,a,c){if(i===0&&e.length<pa.MINIMUM_VALID_SIZE)return null;var h=a,g=c;e.length>=pa.MINIMUM_VALID_SIZE&&ge.isCCW(e)&&(h=c,g=a,s=ne.opposite(s));var y=this._curveBuilder.getRingCurve(e,s,i);this.addCurve(y,h,g)},Ho.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Gi?this.addPolygon(e):e instanceof Mi?this.addLineString(e):e instanceof no?this.addPoint(e):(e instanceof kd||e instanceof Fc||e instanceof fa||e instanceof On)&&this.addCollection(e)},Ho.prototype.isErodedCompletely=function(e,i){var s=e.getCoordinates();if(s.length<4)return i<0;if(s.length===4)return this.isTriangleErodedCompletely(s,i);var a=e.getEnvelopeInternal(),c=Math.min(a.getHeight(),a.getWidth());return i<0&&2*Math.abs(i)>c},Ho.prototype.addCollection=function(e){for(var i=0;i<e.getNumGeometries();i++){var s=e.getGeometryN(i);this.add(s)}},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var Cd=function(){};Cd.prototype.locate=function(e){},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd};var va=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};va.prototype.next=function(){if(this._atStart)return this._atStart=!1,va.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new xd;var e=this._parent.getGeometryN(this._index++);return e instanceof On?(this._subcollectionIterator=new va(e),this._subcollectionIterator.next()):e},va.prototype.remove=function(){throw new Error(this.getClass().getName())},va.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},va.prototype.interfaces_=function(){return[wd]},va.prototype.getClass=function(){return va},va.isAtomic=function(e){return!(e instanceof On)};var Eo=function(){this._geom=null;var e=arguments[0];this._geom=e};Eo.prototype.locate=function(e){return Eo.locate(e,this._geom)},Eo.prototype.interfaces_=function(){return[Cd]},Eo.prototype.getClass=function(){return Eo},Eo.isPointInRing=function(e,i){return!!i.getEnvelopeInternal().intersects(e)&&ge.isPointInRing(e,i.getCoordinates())},Eo.containsPointInPolygon=function(e,i){if(i.isEmpty())return!1;var s=i.getExteriorRing();if(!Eo.isPointInRing(e,s))return!1;for(var a=0;a<i.getNumInteriorRing();a++){var c=i.getInteriorRingN(a);if(Eo.isPointInRing(e,c))return!1}return!0},Eo.containsPoint=function(e,i){if(i instanceof Gi)return Eo.containsPointInPolygon(e,i);if(i instanceof On)for(var s=new va(i);s.hasNext();){var a=s.next();if(a!==i&&Eo.containsPoint(e,a))return!0}return!1},Eo.locate=function(e,i){return i.isEmpty()?At.EXTERIOR:Eo.containsPoint(e,i)?At.INTERIOR:At.EXTERIOR};var Sn=function(){this._edgeMap=new En,this._edgeList=null,this._ptInAreaLocation=[At.NONE,At.NONE]};Sn.prototype.getNextCW=function(e){this.getEdges();var i=this._edgeList.indexOf(e),s=i-1;return i===0&&(s=this._edgeList.size()-1),this._edgeList.get(s)},Sn.prototype.propagateSideLabels=function(e){for(var i=At.NONE,s=this.iterator();s.hasNext();){var a=s.next().getLabel();a.isArea(e)&&a.getLocation(e,ne.LEFT)!==At.NONE&&(i=a.getLocation(e,ne.LEFT))}if(i===At.NONE)return null;for(var c=i,h=this.iterator();h.hasNext();){var g=h.next(),y=g.getLabel();if(y.getLocation(e,ne.ON)===At.NONE&&y.setLocation(e,ne.ON,c),y.isArea(e)){var w=y.getLocation(e,ne.LEFT),x=y.getLocation(e,ne.RIGHT);if(x!==At.NONE){if(x!==c)throw new Xa("side location conflict",g.getCoordinate());w===At.NONE&&rr.shouldNeverReachHere("found single null side (at "+g.getCoordinate()+")"),c=w}else rr.isTrue(y.getLocation(e,ne.LEFT)===At.NONE,"found single null side"),y.setLocation(e,ne.RIGHT,c),y.setLocation(e,ne.LEFT,c)}}},Sn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Sn.prototype.print=function(e){pn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var i=this.iterator();i.hasNext();)i.next().print(e)},Sn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Sn.prototype.checkAreaLabelsConsistent=function(e){var i=this.getEdges();if(i.size()<=0)return!0;var s=i.size()-1,a=i.get(s).getLabel().getLocation(e,ne.LEFT);rr.isTrue(a!==At.NONE,"Found unlabelled area edge");for(var c=a,h=this.iterator();h.hasNext();){var g=h.next().getLabel();rr.isTrue(g.isArea(e),"Found non-area edge");var y=g.getLocation(e,ne.LEFT),w=g.getLocation(e,ne.RIGHT);if(y===w||w!==c)return!1;c=y}return!0},Sn.prototype.findIndex=function(e){this.iterator();for(var i=0;i<this._edgeList.size();i++)if(this._edgeList.get(i)===e)return i;return-1},Sn.prototype.iterator=function(){return this.getEdges().iterator()},Sn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new ce(this._edgeMap.values())),this._edgeList},Sn.prototype.getLocation=function(e,i,s){return this._ptInAreaLocation[e]===At.NONE&&(this._ptInAreaLocation[e]=Eo.locate(i,s[e].getGeometry())),this._ptInAreaLocation[e]},Sn.prototype.toString=function(){var e=new Ms;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var i=this.iterator();i.hasNext();){var s=i.next();e.append(s),e.append(`
`)}return e.toString()},Sn.prototype.computeEdgeEndLabels=function(e){for(var i=this.iterator();i.hasNext();)i.next().computeLabel(e)},Sn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var i=[!1,!1],s=this.iterator();s.hasNext();)for(var a=s.next().getLabel(),c=0;c<2;c++)a.isLine(c)&&a.getLocation(c)===At.BOUNDARY&&(i[c]=!0);for(var h=this.iterator();h.hasNext();)for(var g=h.next(),y=g.getLabel(),w=0;w<2;w++)if(y.isAnyNull(w)){var x=At.NONE;if(i[w])x=At.EXTERIOR;else{var T=g.getCoordinate();x=this.getLocation(w,T,e)}y.setAllLocationsIfNull(w,x)}},Sn.prototype.getDegree=function(){return this._edgeMap.size()},Sn.prototype.insertEdgeEnd=function(e,i){this._edgeMap.put(e,i),this._edgeList=null},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn};var UI=function(e){function i(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.linkResultDirectedEdges=function(){var s=this;this.getResultAreaEdges();for(var a=null,c=null,h=this._SCANNING_FOR_INCOMING,g=0;g<this._resultAreaEdgeList.size();g++){var y=s._resultAreaEdgeList.get(g),w=y.getSym();if(y.getLabel().isArea())switch(a===null&&y.isInResult()&&(a=y),h){case s._SCANNING_FOR_INCOMING:if(!w.isInResult())continue;c=w,h=s._LINKING_TO_OUTGOING;break;case s._LINKING_TO_OUTGOING:if(!y.isInResult())continue;c.setNext(y),h=s._SCANNING_FOR_INCOMING}}if(h===this._LINKING_TO_OUTGOING){if(a===null)throw new Xa("no outgoing dirEdge found",this.getCoordinate());rr.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),c.setNext(a)}},i.prototype.insert=function(s){var a=s;this.insertEdgeEnd(a,a)},i.prototype.getRightmostEdge=function(){var s=this.getEdges(),a=s.size();if(a<1)return null;var c=s.get(0);if(a===1)return c;var h=s.get(a-1),g=c.getQuadrant(),y=h.getQuadrant();return si.isNorthern(g)&&si.isNorthern(y)?c:si.isNorthern(g)||si.isNorthern(y)?c.getDy()!==0?c:h.getDy()!==0?h:(rr.shouldNeverReachHere("found two horizontal edges incident on node"),null):h},i.prototype.print=function(s){pn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var a=this.iterator();a.hasNext();){var c=a.next();s.print("out "),c.print(s),s.println(),s.print("in "),c.getSym().print(s),s.println()}},i.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ce;for(var s=this.iterator();s.hasNext();){var a=s.next();(a.isInResult()||a.getSym().isInResult())&&this._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},i.prototype.updateLabelling=function(s){for(var a=this.iterator();a.hasNext();){var c=a.next().getLabel();c.setAllLocationsIfNull(0,s.getLocation(0)),c.setAllLocationsIfNull(1,s.getLocation(1))}},i.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var s=null,a=null,c=this._edgeList.size()-1;c>=0;c--){var h=this._edgeList.get(c),g=h.getSym();a===null&&(a=g),s!==null&&g.setNext(s),s=h}a.setNext(s)},i.prototype.computeDepths=function(){var s=this;if(arguments.length===1){var a=arguments[0],c=this.findIndex(a),h=a.getDepth(ne.LEFT),g=a.getDepth(ne.RIGHT),y=this.computeDepths(c+1,this._edgeList.size(),h),w=this.computeDepths(0,c,y);if(w!==g)throw new Xa("depth mismatch at "+a.getCoordinate())}else if(arguments.length===3){for(var x=arguments[0],T=arguments[1],E=arguments[2],P=E,z=x;z<T;z++){var N=s._edgeList.get(z);N.setEdgeDepths(ne.RIGHT,P),P=N.getDepth(ne.LEFT)}return P}},i.prototype.mergeSymLabels=function(){for(var s=this.iterator();s.hasNext();){var a=s.next();a.getLabel().merge(a.getSym().getLabel())}},i.prototype.linkMinimalDirectedEdges=function(s){for(var a=this,c=null,h=null,g=this._SCANNING_FOR_INCOMING,y=this._resultAreaEdgeList.size()-1;y>=0;y--){var w=a._resultAreaEdgeList.get(y),x=w.getSym();switch(c===null&&w.getEdgeRing()===s&&(c=w),g){case a._SCANNING_FOR_INCOMING:if(x.getEdgeRing()!==s)continue;h=x,g=a._LINKING_TO_OUTGOING;break;case a._LINKING_TO_OUTGOING:if(w.getEdgeRing()!==s)continue;h.setNextMin(w),g=a._SCANNING_FOR_INCOMING}}g===this._LINKING_TO_OUTGOING&&(rr.isTrue(c!==null,"found null for first outgoing dirEdge"),rr.isTrue(c.getEdgeRing()===s,"unable to link last incoming dirEdge"),h.setNextMin(c))},i.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var s=0,a=this.iterator();a.hasNext();){var c=a.next();c.isInResult()&&s++}return s}if(arguments.length===1){for(var h=arguments[0],g=0,y=this.iterator();y.hasNext();){var w=y.next();w.getEdgeRing()===h&&g++}return g}},i.prototype.getLabel=function(){return this._label},i.prototype.findCoveredLineEdges=function(){for(var s=At.NONE,a=this.iterator();a.hasNext();){var c=a.next(),h=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){s=At.INTERIOR;break}if(h.isInResult()){s=At.EXTERIOR;break}}}if(s===At.NONE)return null;for(var g=s,y=this.iterator();y.hasNext();){var w=y.next(),x=w.getSym();w.isLineEdge()?w.getEdge().setCovered(g===At.INTERIOR):(w.isInResult()&&(g=At.EXTERIOR),x.isInResult()&&(g=At.INTERIOR))}},i.prototype.computeLabelling=function(s){e.prototype.computeLabelling.call(this,s),this._label=new ni(At.NONE);for(var a=this.iterator();a.hasNext();)for(var c=a.next().getEdge().getLabel(),h=0;h<2;h++){var g=c.getLocation(h);g!==At.INTERIOR&&g!==At.BOUNDARY||this._label.setLocation(h,At.INTERIOR)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Sn),Dk=function(e){function i(){e.apply(this,arguments)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createNode=function(s){return new m0(s,new UI)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ed),Hl=function e(){this._pts=null,this._orientation=null;var i=arguments[0];this._pts=i,this._orientation=e.orientation(i)};Hl.prototype.compareTo=function(e){var i=e;return Hl.compareOriented(this._pts,this._orientation,i._pts,i._orientation)},Hl.prototype.interfaces_=function(){return[zo]},Hl.prototype.getClass=function(){return Hl},Hl.orientation=function(e){return ur.increasingDirection(e)===1},Hl.compareOriented=function(e,i,s,a){for(var c=i?1:-1,h=a?1:-1,g=i?e.length:-1,y=a?s.length:-1,w=i?0:e.length-1,x=a?0:s.length-1;;){var T=e[w].compareTo(s[x]);if(T!==0)return T;var E=(w+=c)===g,P=(x+=h)===y;if(E&&!P)return-1;if(!E&&P)return 1;if(E&&P)return 0}};var ds=function(){this._edges=new ce,this._ocaMap=new En};ds.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var i=0;i<this._edges.size();i++){var s=this._edges.get(i);i>0&&e.print(","),e.print("(");for(var a=s.getCoordinates(),c=0;c<a.length;c++)c>0&&e.print(","),e.print(a[c].x+" "+a[c].y);e.println(")")}e.print(")  ")},ds.prototype.addAll=function(e){for(var i=e.iterator();i.hasNext();)this.add(i.next())},ds.prototype.findEdgeIndex=function(e){for(var i=0;i<this._edges.size();i++)if(this._edges.get(i).equals(e))return i;return-1},ds.prototype.iterator=function(){return this._edges.iterator()},ds.prototype.getEdges=function(){return this._edges},ds.prototype.get=function(e){return this._edges.get(e)},ds.prototype.findEqualEdge=function(e){var i=new Hl(e.getCoordinates());return this._ocaMap.get(i)},ds.prototype.add=function(e){this._edges.add(e);var i=new Hl(e.getCoordinates());this._ocaMap.put(i,e)},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var Hc=function(){};Hc.prototype.processIntersections=function(e,i,s,a){},Hc.prototype.isDone=function(){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var To=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};To.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(To.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.size()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},To.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},To.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},To.prototype.getLineIntersector=function(){return this._li},To.prototype.hasProperIntersection=function(){return this._hasProper},To.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},To.prototype.hasIntersection=function(){return this._hasIntersection},To.prototype.isDone=function(){return!1},To.prototype.hasInteriorIntersection=function(){return this._hasInterior},To.prototype.interfaces_=function(){return[Hc]},To.prototype.getClass=function(){return To},To.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var Hs=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],i=arguments[1],s=arguments[2];this.coord=new Ct(e),this.segmentIndex=i,this.dist=s};Hs.prototype.getSegmentIndex=function(){return this.segmentIndex},Hs.prototype.getCoordinate=function(){return this.coord},Hs.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Hs.prototype.compareTo=function(e){var i=e;return this.compare(i.segmentIndex,i.dist)},Hs.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e},Hs.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Hs.prototype.getDistance=function(){return this.dist},Hs.prototype.compare=function(e,i){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<i?-1:this.dist>i?1:0},Hs.prototype.interfaces_=function(){return[zo]},Hs.prototype.getClass=function(){return Hs};var ya=function(){this._nodeMap=new En,this.edge=null;var e=arguments[0];this.edge=e};ya.prototype.print=function(e){e.println("Intersections:");for(var i=this.iterator();i.hasNext();)i.next().print(e)},ya.prototype.iterator=function(){return this._nodeMap.values().iterator()},ya.prototype.addSplitEdges=function(e){this.addEndpoints();for(var i=this.iterator(),s=i.next();i.hasNext();){var a=i.next(),c=this.createSplitEdge(s,a);e.add(c),s=a}},ya.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},ya.prototype.createSplitEdge=function(e,i){var s=i.segmentIndex-e.segmentIndex+2,a=this.edge.pts[i.segmentIndex],c=i.dist>0||!i.coord.equals2D(a);c||s--;var h=new Array(s).fill(null),g=0;h[g++]=new Ct(e.coord);for(var y=e.segmentIndex+1;y<=i.segmentIndex;y++)h[g++]=this.edge.pts[y];return c&&(h[g]=i.coord),new y0(h,new ni(this.edge._label))},ya.prototype.add=function(e,i,s){var a=new Hs(e,i,s),c=this._nodeMap.get(a);return c!==null?c:(this._nodeMap.put(a,a),a)},ya.prototype.isIntersection=function(e){for(var i=this.iterator();i.hasNext();)if(i.next().coord.equals(e))return!0;return!1},ya.prototype.interfaces_=function(){return[]},ya.prototype.getClass=function(){return ya};var Uc=function(){};Uc.prototype.getChainStartIndices=function(e){var i=0,s=new ce;s.add(new Is(i));do{var a=this.findChainEnd(e,i);s.add(new Is(a)),i=a}while(i<e.length-1);return Uc.toIntArray(s)},Uc.prototype.findChainEnd=function(e,i){for(var s=si.quadrant(e[i],e[i+1]),a=i+1;a<e.length&&si.quadrant(e[a-1],e[a])===s;)a++;return a-1},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.toIntArray=function(e){for(var i=new Array(e.size()).fill(null),s=0;s<i.length;s++)i[s]=e.get(s).intValue();return i};var Qa=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new ze,this.env2=new ze;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var i=new Uc;this.startIndex=i.getChainStartIndices(this.pts)};Qa.prototype.getCoordinates=function(){return this.pts},Qa.prototype.getMaxX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i>s?i:s},Qa.prototype.getMinX=function(e){var i=this.pts[this.startIndex[e]].x,s=this.pts[this.startIndex[e+1]].x;return i<s?i:s},Qa.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],i=arguments[1],s=arguments[2],a=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],i,i.startIndex[s],i.startIndex[s+1],a)}else if(arguments.length===6){var c=arguments[0],h=arguments[1],g=arguments[2],y=arguments[3],w=arguments[4],x=arguments[5],T=this.pts[c],E=this.pts[h],P=g.pts[y],z=g.pts[w];if(h-c==1&&w-y==1)return x.addIntersections(this.e,c,g.e,y),null;if(this.env1.init(T,E),this.env2.init(P,z),!this.env1.intersects(this.env2))return null;var N=Math.trunc((c+h)/2),B=Math.trunc((y+w)/2);c<N&&(y<B&&this.computeIntersectsForChain(c,N,g,y,B,x),B<w&&this.computeIntersectsForChain(c,N,g,B,w,x)),N<h&&(y<B&&this.computeIntersectsForChain(N,h,g,y,B,x),B<w&&this.computeIntersectsForChain(N,h,g,B,w,x))}},Qa.prototype.getStartIndexes=function(){return this.startIndex},Qa.prototype.computeIntersects=function(e,i){for(var s=0;s<this.startIndex.length-1;s++)for(var a=0;a<e.startIndex.length-1;a++)this.computeIntersectsForChain(s,e,a,i)},Qa.prototype.interfaces_=function(){return[]},Qa.prototype.getClass=function(){return Qa};var fn=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var i=0;i<2;i++)for(var s=0;s<3;s++)this._depth[i][s]=e.NULL_VALUE},Fk={NULL_VALUE:{configurable:!0}};fn.prototype.getDepth=function(e,i){return this._depth[e][i]},fn.prototype.setDepth=function(e,i,s){this._depth[e][i]=s},fn.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var i=0;i<2;i++)for(var s=0;s<3;s++)if(e._depth[i][s]!==fn.NULL_VALUE)return!1;return!0}if(arguments.length===1){var a=arguments[0];return this._depth[a][1]===fn.NULL_VALUE}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._depth[c][h]===fn.NULL_VALUE}},fn.prototype.normalize=function(){for(var e=this,i=0;i<2;i++)if(!e.isNull(i)){var s=e._depth[i][1];e._depth[i][2]<s&&(s=e._depth[i][2]),s<0&&(s=0);for(var a=1;a<3;a++){var c=0;e._depth[i][a]>s&&(c=1),e._depth[i][a]=c}}},fn.prototype.getDelta=function(e){return this._depth[e][ne.RIGHT]-this._depth[e][ne.LEFT]},fn.prototype.getLocation=function(e,i){return this._depth[e][i]<=0?At.EXTERIOR:At.INTERIOR},fn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},fn.prototype.add=function(){var e=this;if(arguments.length===1)for(var i=arguments[0],s=0;s<2;s++)for(var a=1;a<3;a++){var c=i.getLocation(s,a);c!==At.EXTERIOR&&c!==At.INTERIOR||(e.isNull(s,a)?e._depth[s][a]=fn.depthAtLocation(c):e._depth[s][a]+=fn.depthAtLocation(c))}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];y===At.INTERIOR&&this._depth[h][g]++}},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.depthAtLocation=function(e){return e===At.EXTERIOR?0:e===At.INTERIOR?1:fn.NULL_VALUE},Fk.NULL_VALUE.get=function(){return-1},Object.defineProperties(fn,Fk);var y0=function(e){function i(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new ya(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new fn,this._depthDelta=0,arguments.length===1){var s=arguments[0];i.call(this,s,null)}else if(arguments.length===2){var a=arguments[0],c=arguments[1];this.pts=a,this._label=c}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getDepth=function(){return this._depth},i.prototype.getCollapsedEdge=function(){var s=new Array(2).fill(null);return s[0]=this.pts[0],s[1]=this.pts[1],new i(s,ni.toLineLabel(this._label))},i.prototype.isIsolated=function(){return this._isIsolated},i.prototype.getCoordinates=function(){return this.pts},i.prototype.setIsolated=function(s){this._isIsolated=s},i.prototype.setName=function(s){this._name=s},i.prototype.equals=function(s){if(!(s instanceof i))return!1;var a=s;if(this.pts.length!==a.pts.length)return!1;for(var c=!0,h=!0,g=this.pts.length,y=0;y<this.pts.length;y++)if(this.pts[y].equals2D(a.pts[y])||(c=!1),this.pts[y].equals2D(a.pts[--g])||(h=!1),!c&&!h)return!1;return!0},i.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var s=arguments[0];return this.pts[s]}},i.prototype.print=function(s){s.print("edge "+this._name+": "),s.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.print(","),s.print(this.pts[a].x+" "+this.pts[a].y);s.print(")  "+this._label+" "+this._depthDelta)},i.prototype.computeIM=function(s){i.updateIM(this._label,s)},i.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},i.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},i.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},i.prototype.getDepthDelta=function(){return this._depthDelta},i.prototype.getNumPoints=function(){return this.pts.length},i.prototype.printReverse=function(s){s.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)s.print(this.pts[a]+" ");s.println("")},i.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new Qa(this)),this._mce},i.prototype.getEnvelope=function(){if(this._env===null){this._env=new ze;for(var s=0;s<this.pts.length;s++)this._env.expandToInclude(this.pts[s])}return this._env},i.prototype.addIntersection=function(s,a,c,h){var g=new Ct(s.getIntersection(h)),y=a,w=s.getEdgeDistance(c,h),x=y+1;if(x<this.pts.length){var T=this.pts[x];g.equals2D(T)&&(y=x,w=0)}this.eiList.add(g,y,w)},i.prototype.toString=function(){var s=new Ms;s.append("edge "+this._name+": "),s.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&s.append(","),s.append(this.pts[a].x+" "+this.pts[a].y);return s.append(")  "+this._label+" "+this._depthDelta),s.toString()},i.prototype.isPointwiseEqual=function(s){if(this.pts.length!==s.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!this.pts[a].equals2D(s.pts[a]))return!1;return!0},i.prototype.setDepthDelta=function(s){this._depthDelta=s},i.prototype.getEdgeIntersectionList=function(){return this.eiList},i.prototype.addIntersections=function(s,a,c){for(var h=0;h<s.getIntersectionNum();h++)this.addIntersection(s,a,c,h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.updateIM=function(){if(arguments.length!==2)return e.prototype.updateIM.apply(this,arguments);var s=arguments[0],a=arguments[1];a.setAtLeastIfValid(s.getLocation(0,ne.ON),s.getLocation(1,ne.ON),1),s.isArea()&&(a.setAtLeastIfValid(s.getLocation(0,ne.LEFT),s.getLocation(1,ne.LEFT),2),a.setAtLeastIfValid(s.getLocation(0,ne.RIGHT),s.getLocation(1,ne.RIGHT),2))},i}(_o),Dn=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new ds,this._bufParams=e||null};Dn.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Dn.prototype.insertUniqueEdge=function(e){var i=this._edgeList.findEqualEdge(e);if(i!==null){var s=i.getLabel(),a=e.getLabel();i.isPointwiseEqual(e)||(a=new ni(e.getLabel())).flip(),s.merge(a);var c=Dn.depthDelta(a),h=i.getDepthDelta()+c;i.setDepthDelta(h)}else this._edgeList.add(e),e.setDepthDelta(Dn.depthDelta(e.getLabel()))},Dn.prototype.buildSubgraphs=function(e,i){for(var s=new ce,a=e.iterator();a.hasNext();){var c=a.next(),h=c.getRightmostCoordinate(),g=new $u(s).getDepth(h);c.computeDepth(g),c.findResultEdges(),s.add(c),i.add(c.getDirectedEdges(),c.getNodes())}},Dn.prototype.createSubgraphs=function(e){for(var i=new ce,s=e.getNodes().iterator();s.hasNext();){var a=s.next();if(!a.isVisited()){var c=new zn;c.create(a),i.add(c)}}return hs.sort(i,hs.reverseOrder()),i},Dn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Dn.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var i=new Yb,s=new Nc;return s.setPrecisionModel(e),i.setSegmentIntersector(new To(s)),i},Dn.prototype.buffer=function(e,i){var s=this._workingPrecisionModel;s===null&&(s=e.getPrecisionModel()),this._geomFact=e.getFactory();var a=new Kn(s,this._bufParams),c=new Ho(e,i,a).getCurves();if(c.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(c,s),this._graph=new Ci(new Dk),this._graph.addEdges(this._edgeList.getEdges());var h=this.createSubgraphs(this._graph),g=new oo(this._geomFact);this.buildSubgraphs(h,g);var y=g.getPolygons();return y.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(y)},Dn.prototype.computeNodedEdges=function(e,i){var s=this.getNoder(i);s.computeNodes(e);for(var a=s.getNodedSubstrings().iterator();a.hasNext();){var c=a.next(),h=c.getCoordinates();if(h.length!==2||!h[0].equals2D(h[1])){var g=c.getData(),y=new y0(c.getCoordinates(),new ni(g));this.insertUniqueEdge(y)}}},Dn.prototype.setNoder=function(e){this._workingNoder=e},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.depthDelta=function(e){var i=e.getLocation(0,ne.LEFT),s=e.getLocation(0,ne.RIGHT);return i===At.INTERIOR&&s===At.EXTERIOR?1:i===At.EXTERIOR&&s===At.INTERIOR?-1:0},Dn.convertSegStrings=function(e){for(var i=new hr,s=new ce;e.hasNext();){var a=e.next(),c=i.createLineString(a.getCoordinates());s.add(c)}return i.buildGeometry(s)};var Ul=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],i=arguments[1];this._noder=e,this._scaleFactor=i,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var s=arguments[0],a=arguments[1],c=arguments[2],h=arguments[3];this._noder=s,this._scaleFactor=a,this._offsetX=c,this._offsetY=h,this._isScaled=!this.isIntegerPrecision()}};Ul.prototype.rescale=function(){var e=this;if(Ge(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var c=arguments[0],h=0;h<c.length;h++)c[h].x=c[h].x/e._scaleFactor+e._offsetX,c[h].y=c[h].y/e._scaleFactor+e._offsetY;c.length===2&&c[0].equals2D(c[1])&&pn.out.println(c)}},Ul.prototype.scale=function(){var e=this;if(Ge(arguments[0],Ui)){for(var i=arguments[0],s=new ce,a=i.iterator();a.hasNext();){var c=a.next();s.add(new Ai(e.scale(c.getCoordinates()),c.getData()))}return s}if(arguments[0]instanceof Array){for(var h=arguments[0],g=new Array(h.length).fill(null),y=0;y<h.length;y++)g[y]=new Ct(Math.round((h[y].x-e._offsetX)*e._scaleFactor),Math.round((h[y].y-e._offsetY)*e._scaleFactor),h[y].z);var w=ur.removeRepeatedPoints(g);return w}},Ul.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},Ul.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Ul.prototype.computeNodes=function(e){var i=e;this._isScaled&&(i=this.scale(e)),this._noder.computeNodes(i)},Ul.prototype.interfaces_=function(){return[Bc]},Ul.prototype.getClass=function(){return Ul};var Us=function(){this._li=new Nc,this._segStrings=null;var e=arguments[0];this._segStrings=e},Bk={fact:{configurable:!0}};Us.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next(),a=s.getCoordinates();e.checkEndPtVertexIntersections(a[0],e._segStrings),e.checkEndPtVertexIntersections(a[a.length-1],e._segStrings)}else if(arguments.length===2){for(var c=arguments[0],h=arguments[1],g=h.iterator();g.hasNext();)for(var y=g.next(),w=y.getCoordinates(),x=1;x<w.length-1;x++)if(w[x].equals(c))throw new qa("found endpt/interior pt intersection at index "+x+" :pt "+c)}},Us.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();)for(var s=i.next(),a=this._segStrings.iterator();a.hasNext();){var c=a.next();e.checkInteriorIntersections(s,c)}else if(arguments.length===2)for(var h=arguments[0],g=arguments[1],y=h.getCoordinates(),w=g.getCoordinates(),x=0;x<y.length-1;x++)for(var T=0;T<w.length-1;T++)e.checkInteriorIntersections(h,x,g,T);else if(arguments.length===4){var E=arguments[0],P=arguments[1],z=arguments[2],N=arguments[3];if(E===z&&P===N)return null;var B=E.getCoordinates()[P],I=E.getCoordinates()[P+1],Y=z.getCoordinates()[N],it=z.getCoordinates()[N+1];if(this._li.computeIntersection(B,I,Y,it),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,B,I)||this.hasInteriorIntersection(this._li,Y,it)))throw new qa("found non-noded intersection at "+B+"-"+I+" and "+Y+"-"+it)}},Us.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Us.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var i=this._segStrings.iterator();i.hasNext();){var s=i.next();e.checkCollapses(s)}else if(arguments.length===1)for(var a=arguments[0],c=a.getCoordinates(),h=0;h<c.length-2;h++)e.checkCollapse(c[h],c[h+1],c[h+2])},Us.prototype.hasInteriorIntersection=function(e,i,s){for(var a=0;a<e.getIntersectionNum();a++){var c=e.getIntersection(a);if(!c.equals(i)&&!c.equals(s))return!0}return!1},Us.prototype.checkCollapse=function(e,i,s){if(e.equals(s))throw new qa("found non-noded collapse at "+Us.fact.createLineString([e,i,s]))},Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us},Bk.fact.get=function(){return new hr},Object.defineProperties(Us,Bk);var Jn=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],i=arguments[1],s=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=i,this._li=s,i<=0)throw new ki("Scale factor must be non-zero");i!==1&&(this._pt=new Ct(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Ct,this._p1Scaled=new Ct),this.initCorners(this._pt)},jk={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Jn.prototype.intersectsScaled=function(e,i){var s=Math.min(e.x,i.x),a=Math.max(e.x,i.x),c=Math.min(e.y,i.y),h=Math.max(e.y,i.y),g=this._maxx<s||this._minx>a||this._maxy<c||this._miny>h;if(g)return!1;var y=this.intersectsToleranceSquare(e,i);return rr.isTrue(!(g&&y),"Found bad envelope test"),y},Jn.prototype.initCorners=function(e){var i=.5;this._minx=e.x-i,this._maxx=e.x+i,this._miny=e.y-i,this._maxy=e.y+i,this._corner[0]=new Ct(this._maxx,this._maxy),this._corner[1]=new Ct(this._minx,this._maxy),this._corner[2]=new Ct(this._minx,this._miny),this._corner[3]=new Ct(this._maxx,this._miny)},Jn.prototype.intersects=function(e,i){return this._scaleFactor===1?this.intersectsScaled(e,i):(this.copyScaled(e,this._p0Scaled),this.copyScaled(i,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Jn.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},Jn.prototype.getCoordinate=function(){return this._originalPt},Jn.prototype.copyScaled=function(e,i){i.x=this.scale(e.x),i.y=this.scale(e.y)},Jn.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=Jn.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ze(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Jn.prototype.intersectsPixelClosure=function(e,i){return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Jn.prototype.intersectsToleranceSquare=function(e,i){var s=!1,a=!1;return this._li.computeIntersection(e,i,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,i,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(e,i,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(a=!0),this._li.computeIntersection(e,i,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!a)||!!e.equals(this._pt)||!!i.equals(this._pt))))},Jn.prototype.addSnappedNode=function(e,i){var s=e.getCoordinate(i),a=e.getCoordinate(i+1);return!!this.intersects(s,a)&&(e.addIntersection(this.getCoordinate(),i),!0)},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},jk.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(Jn,jk);var Nf=function(){this.tempEnv1=new ze,this.selectedSegment=new Ne};Nf.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var e=arguments[0],i=arguments[1];e.getLineSegment(i,this.selectedSegment),this.select(this.selectedSegment)}}},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf};var Pd=function(){this._index=null;var e=arguments[0];this._index=e},Hk={HotPixelSnapAction:{configurable:!0}};Pd.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2],c=i.getSafeEnvelope(),h=new Uk(i,s,a);return this._index.query(c,{interfaces_:function(){return[Bl]},visitItem:function(g){g.select(c,h)}}),h.isNodeAdded()}},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd},Hk.HotPixelSnapAction.get=function(){return Uk},Object.defineProperties(Pd,Hk);var Uk=function(e){function i(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var s=arguments[0],a=arguments[1],c=arguments[2];this._hotPixel=s,this._parentEdge=a,this._hotPixelVertexIndex=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.isNodeAdded=function(){return this._isNodeAdded},i.prototype.select=function(){if(arguments.length!==2)return e.prototype.select.apply(this,arguments);var s=arguments[0],a=arguments[1],c=s.getContext();if(this._parentEdge!==null&&c===this._parentEdge&&a===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(c,a)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Nf),th=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ce};th.prototype.processIntersections=function(e,i,s,a){if(e===s&&i===a)return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];if(this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var w=0;w<this._li.getIntersectionNum();w++)this._interiorIntersections.add(this._li.getIntersection(w));e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)}},th.prototype.isDone=function(){return!1},th.prototype.getInteriorIntersections=function(){return this._interiorIntersections},th.prototype.interfaces_=function(){return[Hc]},th.prototype.getClass=function(){return th};var ba=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Nc,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};ba.prototype.checkCorrectness=function(e){var i=Ai.getNodedSubstrings(e),s=new Us(i);try{s.checkValid()}catch(a){if(!(a instanceof xk))throw a;a.printStackTrace()}},ba.prototype.getNodedSubstrings=function(){return Ai.getNodedSubstrings(this._nodedSegStrings)},ba.prototype.snapRound=function(e,i){var s=this.findInteriorIntersections(e,i);this.computeIntersectionSnaps(s),this.computeVertexSnaps(e)},ba.prototype.findInteriorIntersections=function(e,i){var s=new th(i);return this._noder.setSegmentIntersector(s),this._noder.computeNodes(e),s.getInteriorIntersections()},ba.prototype.computeVertexSnaps=function(){var e=this;if(Ge(arguments[0],Ui))for(var i=arguments[0],s=i.iterator();s.hasNext();){var a=s.next();e.computeVertexSnaps(a)}else if(arguments[0]instanceof Ai)for(var c=arguments[0],h=c.getCoordinates(),g=0;g<h.length;g++){var y=new Jn(h[g],e._scaleFactor,e._li),w=e._pointSnapper.snap(y,c,g);w&&c.addIntersection(h[g],g)}},ba.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Yb,this._pointSnapper=new Pd(this._noder.getIndex()),this.snapRound(e,this._li)},ba.prototype.computeIntersectionSnaps=function(e){for(var i=this,s=e.iterator();s.hasNext();){var a=s.next(),c=new Jn(a,i._scaleFactor,i._li);i._pointSnapper.snap(c)}},ba.prototype.interfaces_=function(){return[Bc]},ba.prototype.getClass=function(){return ba};var gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new $r,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._argGeom=i,this._bufParams=s}},Md={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gn.prototype.bufferFixedPrecision=function(e){var i=new Ul(new ba(new Qr(1)),e.getScale()),s=new Dn(this._bufParams);s.setWorkingPrecisionModel(e),s.setNoder(i),this._resultGeometry=s.buffer(this._argGeom,this._distance)},gn.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var i=gn.MAX_PRECISION_DIGITS;i>=0;i--){try{e.bufferReducedPrecision(i)}catch(h){if(!(h instanceof Xa))throw h;e._saveException=h}if(e._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var s=arguments[0],a=gn.precisionScaleFactor(this._argGeom,this._distance,s),c=new Qr(a);this.bufferFixedPrecision(c)}},gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Qr.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},gn.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},gn.prototype.bufferOriginalPrecision=function(){try{var e=new Dn(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(i){if(!(i instanceof qa))throw i;this._saveException=i}},gn.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},gn.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.bufferOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new gn(e),a=s.getResultGeometry(i);return a}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var c=arguments[0],h=arguments[1],g=arguments[2],y=new gn(c);y.setQuadrantSegments(g);var w=y.getResultGeometry(h);return w}if(arguments[2]instanceof $r&&arguments[0]instanceof He&&typeof arguments[1]=="number"){var x=arguments[0],T=arguments[1],E=arguments[2],P=new gn(x,E),z=P.getResultGeometry(T);return z}}else if(arguments.length===4){var N=arguments[0],B=arguments[1],I=arguments[2],Y=arguments[3],it=new gn(N);it.setQuadrantSegments(I),it.setEndCapStyle(Y);var D=it.getResultGeometry(B);return D}},gn.precisionScaleFactor=function(e,i,s){var a=e.getEnvelopeInternal(),c=xo.max(Math.abs(a.getMaxX()),Math.abs(a.getMaxY()),Math.abs(a.getMinX()),Math.abs(a.getMinY()))+2*(i>0?i:0),h=s-Math.trunc(Math.log(c)/Math.log(10)+1);return Math.pow(10,h)},Md.CAP_ROUND.get=function(){return $r.CAP_ROUND},Md.CAP_BUTT.get=function(){return $r.CAP_FLAT},Md.CAP_FLAT.get=function(){return $r.CAP_FLAT},Md.CAP_SQUARE.get=function(){return $r.CAP_SQUARE},Md.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gn,Md);var Fn=function(){this._pt=[new Ct,new Ct],this._distance=Je.NaN,this._isNull=!0};Fn.prototype.getCoordinates=function(){return this._pt},Fn.prototype.getCoordinate=function(e){return this._pt[e]},Fn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Fn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Fn.prototype.getDistance=function(){return this._distance},Fn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn};var wa=function(){};wa.prototype.interfaces_=function(){return[]},wa.prototype.getClass=function(){return wa},wa.computeDistance=function(){if(arguments[2]instanceof Fn&&arguments[0]instanceof Mi&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=e.getCoordinates(),c=new Ne,h=0;h<a.length-1;h++){c.setCoordinates(a[h],a[h+1]);var g=c.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];wa.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)wa.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof He&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Mi)wa.computeDistance(E,P,z);else if(E instanceof Gi)wa.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var I=N.getGeometryN(B);wa.computeDistance(I,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Fn&&arguments[0]instanceof Ne&&arguments[1]instanceof Ct){var Y=arguments[0],it=arguments[1],D=arguments[2],Z=Y.closestPoint(it);D.setMinimum(Z,it)}};var Gc=function(e){this._maxPtDist=new Fn,this._inputGeom=e||null},Xb={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Gc.prototype.computeMaxMidpointDistance=function(e){var i=new Gl(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.computeMaxVertexDistance=function(e){var i=new eh(this._inputGeom);e.apply(i),this._maxPtDist.setMaximum(i.getMaxPointDistance())},Gc.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Gc.prototype.getDistancePoints=function(){return this._maxPtDist},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Xb.MaxPointDistanceFilter.get=function(){return eh},Xb.MaxMidpointDistanceFilter.get=function(){return Gl},Object.defineProperties(Gc,Xb);var eh=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};eh.prototype.filter=function(e){this._minPtDist.initialize(),wa.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},eh.prototype.getMaxPointDistance=function(){return this._maxPtDist},eh.prototype.interfaces_=function(){return[da]},eh.prototype.getClass=function(){return eh};var Gl=function(e){this._maxPtDist=new Fn,this._minPtDist=new Fn,this._geom=e||null};Gl.prototype.filter=function(e,i){if(i===0)return null;var s=e.getCoordinate(i-1),a=e.getCoordinate(i),c=new Ct((s.x+a.x)/2,(s.y+a.y)/2);this._minPtDist.initialize(),wa.computeDistance(this._geom,c,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Gl.prototype.isDone=function(){return!1},Gl.prototype.isGeometryChanged=function(){return!1},Gl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gl.prototype.interfaces_=function(){return[cs]},Gl.prototype.getClass=function(){return Gl};var $a=function(e){this._comps=e||null};$a.prototype.filter=function(e){e instanceof Gi&&this._comps.add(e)},$a.prototype.interfaces_=function(){return[Os]},$a.prototype.getClass=function(){return $a},$a.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return $a.getPolygons(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof Gi?s.add(i):i instanceof On&&i.apply(new $a(s)),s}};var mn=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var i=arguments[0],s=arguments[1];this._lines=i,this._isForcedToLineString=s}};mn.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof pa){var i=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(i),null}e instanceof Mi&&this._lines.add(e)},mn.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},mn.prototype.interfaces_=function(){return[Va]},mn.prototype.getClass=function(){return mn},mn.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(mn.getLines(e))}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i.getFactory().buildGeometry(mn.getLines(i,s))}},mn.getLines=function(){if(arguments.length===1){var e=arguments[0];return mn.getLines(e,!1)}if(arguments.length===2){if(Ge(arguments[0],Ui)&&Ge(arguments[1],Ui)){for(var i=arguments[0],s=arguments[1],a=i.iterator();a.hasNext();){var c=a.next();mn.getLines(c,s)}return s}if(arguments[0]instanceof He&&typeof arguments[1]=="boolean"){var h=arguments[0],g=arguments[1],y=new ce;return h.apply(new mn(y,g)),y}if(arguments[0]instanceof He&&Ge(arguments[1],Ui)){var w=arguments[0],x=arguments[1];return w instanceof Mi?x.add(w):w.apply(new mn(x)),x}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ge(arguments[0],Ui)&&Ge(arguments[1],Ui)){for(var T=arguments[0],E=arguments[1],P=arguments[2],z=T.iterator();z.hasNext();){var N=z.next();mn.getLines(N,E,P)}return E}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof He&&Ge(arguments[1],Ui)){var B=arguments[0],I=arguments[1],Y=arguments[2];return B.apply(new mn(I,Y)),I}}};var ps=function(){if(this._boundaryRule=Do.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e===null)throw new ki("Rule must be non-null");this._boundaryRule=e}}};ps.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof Ct&&arguments[1]instanceof Gi){var i=arguments[0],s=arguments[1];if(s.isEmpty())return At.EXTERIOR;var a=s.getExteriorRing(),c=this.locateInPolygonRing(i,a);if(c===At.EXTERIOR)return At.EXTERIOR;if(c===At.BOUNDARY)return At.BOUNDARY;for(var h=0;h<s.getNumInteriorRing();h++){var g=s.getInteriorRingN(h),y=e.locateInPolygonRing(i,g);if(y===At.INTERIOR)return At.EXTERIOR;if(y===At.BOUNDARY)return At.BOUNDARY}return At.INTERIOR}if(arguments[0]instanceof Ct&&arguments[1]instanceof Mi){var w=arguments[0],x=arguments[1];if(!x.getEnvelopeInternal().intersects(w))return At.EXTERIOR;var T=x.getCoordinates();return x.isClosed()||!w.equals(T[0])&&!w.equals(T[T.length-1])?ge.isOnLine(w,T)?At.INTERIOR:At.EXTERIOR:At.BOUNDARY}if(arguments[0]instanceof Ct&&arguments[1]instanceof no){var E=arguments[0],P=arguments[1],z=P.getCoordinate();return z.equals2D(E)?At.INTERIOR:At.EXTERIOR}},ps.prototype.locateInPolygonRing=function(e,i){return i.getEnvelopeInternal().intersects(e)?ge.locatePointInRing(e,i.getCoordinates()):At.EXTERIOR},ps.prototype.intersects=function(e,i){return this.locate(e,i)!==At.EXTERIOR},ps.prototype.updateLocationInfo=function(e){e===At.INTERIOR&&(this._isIn=!0),e===At.BOUNDARY&&this._numBoundaries++},ps.prototype.computeLocation=function(e,i){var s=this;if(i instanceof no&&this.updateLocationInfo(this.locateInternal(e,i)),i instanceof Mi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Gi)this.updateLocationInfo(this.locateInternal(e,i));else if(i instanceof Fc)for(var a=i,c=0;c<a.getNumGeometries();c++){var h=a.getGeometryN(c);s.updateLocationInfo(s.locateInternal(e,h))}else if(i instanceof fa)for(var g=i,y=0;y<g.getNumGeometries();y++){var w=g.getGeometryN(y);s.updateLocationInfo(s.locateInternal(e,w))}else if(i instanceof On)for(var x=new va(i);x.hasNext();){var T=x.next();T!==i&&s.computeLocation(e,T)}},ps.prototype.locate=function(e,i){return i.isEmpty()?At.EXTERIOR:i instanceof Mi||i instanceof Gi?this.locateInternal(e,i):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,i),this._boundaryRule.isInBoundary(this._numBoundaries)?At.BOUNDARY:this._numBoundaries>0||this._isIn?At.INTERIOR:At.EXTERIOR)},ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps};var Bn=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var i=arguments[0],s=arguments[1];e.call(this,i,e.INSIDE_AREA,s)}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._component=a,this._segIndex=c,this._pt=h}},Gk={INSIDE_AREA:{configurable:!0}};Bn.prototype.isInsideArea=function(){return this._segIndex===Bn.INSIDE_AREA},Bn.prototype.getCoordinate=function(){return this._pt},Bn.prototype.getGeometryComponent=function(){return this._component},Bn.prototype.getSegmentIndex=function(){return this._segIndex},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Gk.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Bn,Gk);var ql=function(e){this._pts=e||null};ql.prototype.filter=function(e){e instanceof no&&this._pts.add(e)},ql.prototype.interfaces_=function(){return[Os]},ql.prototype.getClass=function(){return ql},ql.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof no?hs.singletonList(e):ql.getPoints(e,new ce)}if(arguments.length===2){var i=arguments[0],s=arguments[1];return i instanceof no?s.add(i):i instanceof On&&i.apply(new ql(s)),s}};var rh=function(){this._locations=null;var e=arguments[0];this._locations=e};rh.prototype.filter=function(e){(e instanceof no||e instanceof Mi||e instanceof Gi)&&this._locations.add(new Bn(e,0,e.getCoordinate()))},rh.prototype.interfaces_=function(){return[Os]},rh.prototype.getClass=function(){return rh},rh.getLocations=function(e){var i=new ce;return e.apply(new rh(i)),i};var vn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ps,this._minDistanceLocation=null,this._minDistance=Je.MAX_VALUE,arguments.length===2){var e=arguments[0],i=arguments[1];this._geom=[e,i],this._terminateDistance=0}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=s,this._geom[1]=a,this._terminateDistance=c}};vn.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var i=new Array(2).fill(null);if(this.computeContainmentDistance(0,i),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,i)}else if(arguments.length===2){var s=arguments[0],a=arguments[1],c=1-s,h=$a.getPolygons(this._geom[s]);if(h.size()>0){var g=rh.getLocations(this._geom[c]);if(this.computeContainmentDistance(g,h,a),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[c]=a[0],this._minDistanceLocation[s]=a[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ge(arguments[0],as)&&Ge(arguments[1],as)){for(var y=arguments[0],w=arguments[1],x=arguments[2],T=0;T<y.size();T++)for(var E=y.get(T),P=0;P<w.size();P++)if(e.computeContainmentDistance(E,w.get(P),x),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Bn&&arguments[1]instanceof Gi){var z=arguments[0],N=arguments[1],B=arguments[2],I=z.getCoordinate();if(At.EXTERIOR!==this._ptLocator.locate(I,N))return this._minDistance=0,B[0]=z,B[1]=new Bn(N,I),null}}},vn.prototype.computeMinDistanceLinesPoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),i=mn.getLines(this._geom[0]),s=mn.getLines(this._geom[1]),a=ql.getPoints(this._geom[0]),c=ql.getPoints(this._geom[1]);return this.computeMinDistanceLines(i,s,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(i,c,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(s,a,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(a,c,e),void this.updateMinDistance(e,!1))))},vn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},vn.prototype.updateMinDistance=function(e,i){if(e[0]===null)return null;i?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},vn.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},vn.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Mi&&arguments[1]instanceof no){var i=arguments[0],s=arguments[1],a=arguments[2];if(i.getEnvelopeInternal().distance(s.getEnvelopeInternal())>this._minDistance)return null;for(var c=i.getCoordinates(),h=s.getCoordinate(),g=0;g<c.length-1;g++){var y=ge.distancePointLine(h,c[g],c[g+1]);if(y<e._minDistance){e._minDistance=y;var w=new Ne(c[g],c[g+1]),x=w.closestPoint(h);a[0]=new Bn(i,g,x),a[1]=new Bn(s,0,h)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Mi&&arguments[1]instanceof Mi){var T=arguments[0],E=arguments[1],P=arguments[2];if(T.getEnvelopeInternal().distance(E.getEnvelopeInternal())>this._minDistance)return null;for(var z=T.getCoordinates(),N=E.getCoordinates(),B=0;B<z.length-1;B++)for(var I=0;I<N.length-1;I++){var Y=ge.distanceLineLine(z[B],z[B+1],N[I],N[I+1]);if(Y<e._minDistance){e._minDistance=Y;var it=new Ne(z[B],z[B+1]),D=new Ne(N[I],N[I+1]),Z=it.closestPoints(D);P[0]=new Bn(T,B,Z[0]),P[1]=new Bn(E,I,Z[1])}if(e._minDistance<=e._terminateDistance)return null}}}},vn.prototype.computeMinDistancePoints=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g),w=h.getCoordinate().distance(y.getCoordinate());if(w<a._minDistance&&(a._minDistance=w,s[0]=new Bn(h,0,h.getCoordinate()),s[1]=new Bn(y,0,y.getCoordinate())),a._minDistance<=a._terminateDistance)return null}},vn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new ki("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},vn.prototype.computeMinDistanceLines=function(e,i,s){for(var a=this,c=0;c<e.size();c++)for(var h=e.get(c),g=0;g<i.size();g++){var y=i.get(g);if(a.computeMinDistance(h,y,s),a._minDistance<=a._terminateDistance)return null}},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},vn.distance=function(e,i){return new vn(e,i).distance()},vn.isWithinDistance=function(e,i,s){return new vn(e,i,s).distance()<=s},vn.nearestPoints=function(e,i){return new vn(e,i).nearestPoints()};var Cn=function(){this._pt=[new Ct,new Ct],this._distance=Je.NaN,this._isNull=!0};Cn.prototype.getCoordinates=function(){return this._pt},Cn.prototype.getCoordinate=function(e){return this._pt[e]},Cn.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a<this._distance&&this.initialize(i,s,a)}},Cn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],i=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=e.distance(i),this._isNull=!1}else if(arguments.length===3){var s=arguments[0],a=arguments[1],c=arguments[2];this._pt[0].setCoordinate(s),this._pt[1].setCoordinate(a),this._distance=c,this._isNull=!1}},Cn.prototype.toString=function(){return ss.toLineString(this._pt[0],this._pt[1])},Cn.prototype.getDistance=function(){return this._distance},Cn.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var i=arguments[0],s=arguments[1];if(this._isNull)return this.initialize(i,s),null;var a=i.distance(s);a>this._distance&&this.initialize(i,s,a)}},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn};var Gs=function(){};Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs},Gs.computeDistance=function(){if(arguments[2]instanceof Cn&&arguments[0]instanceof Mi&&arguments[1]instanceof Ct)for(var e=arguments[0],i=arguments[1],s=arguments[2],a=new Ne,c=e.getCoordinates(),h=0;h<c.length-1;h++){a.setCoordinates(c[h],c[h+1]);var g=a.closestPoint(i);s.setMinimum(g,i)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Gi&&arguments[1]instanceof Ct){var y=arguments[0],w=arguments[1],x=arguments[2];Gs.computeDistance(y.getExteriorRing(),w,x);for(var T=0;T<y.getNumInteriorRing();T++)Gs.computeDistance(y.getInteriorRingN(T),w,x)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof He&&arguments[1]instanceof Ct){var E=arguments[0],P=arguments[1],z=arguments[2];if(E instanceof Mi)Gs.computeDistance(E,P,z);else if(E instanceof Gi)Gs.computeDistance(E,P,z);else if(E instanceof On)for(var N=E,B=0;B<N.getNumGeometries();B++){var I=N.getGeometryN(B);Gs.computeDistance(I,P,z)}else z.setMinimum(E.getCoordinate(),P)}else if(arguments[2]instanceof Cn&&arguments[0]instanceof Ne&&arguments[1]instanceof Ct){var Y=arguments[0],it=arguments[1],D=arguments[2],Z=Y.closestPoint(it);D.setMinimum(Z,it)}};var Uo=function(){this._g0=null,this._g1=null,this._ptDist=new Cn,this._densifyFrac=0;var e=arguments[0],i=arguments[1];this._g0=e,this._g1=i},Kb={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Uo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Uo.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new ki("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Uo.prototype.compute=function(e,i){this.computeOrientedDistance(e,i,this._ptDist),this.computeOrientedDistance(i,e,this._ptDist)},Uo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Uo.prototype.computeOrientedDistance=function(e,i,s){var a=new ih(i);if(e.apply(a),s.setMaximum(a.getMaxPointDistance()),this._densifyFrac>0){var c=new Vl(i,this._densifyFrac);e.apply(c),s.setMaximum(c.getMaxPointDistance())}},Uo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Uo.prototype.interfaces_=function(){return[]},Uo.prototype.getClass=function(){return Uo},Uo.distance=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Uo(e,i);return s.distance()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new Uo(a,c);return g.setDensifyFraction(h),g.distance()}},Kb.MaxPointDistanceFilter.get=function(){return ih},Kb.MaxDensifiedByFractionDistanceFilter.get=function(){return Vl},Object.defineProperties(Uo,Kb);var ih=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._euclideanDist=new Gs,this._geom=null;var e=arguments[0];this._geom=e};ih.prototype.filter=function(e){this._minPtDist.initialize(),Gs.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ih.prototype.getMaxPointDistance=function(){return this._maxPtDist},ih.prototype.interfaces_=function(){return[da]},ih.prototype.getClass=function(){return ih};var Vl=function(){this._maxPtDist=new Cn,this._minPtDist=new Cn,this._geom=null,this._numSubSegs=0;var e=arguments[0],i=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/i))};Vl.prototype.filter=function(e,i){var s=this;if(i===0)return null;for(var a=e.getCoordinate(i-1),c=e.getCoordinate(i),h=(c.x-a.x)/this._numSubSegs,g=(c.y-a.y)/this._numSubSegs,y=0;y<this._numSubSegs;y++){var w=a.x+y*h,x=a.y+y*g,T=new Ct(w,x);s._minPtDist.initialize(),Gs.computeDistance(s._geom,T,s._minPtDist),s._maxPtDist.setMaximum(s._minPtDist)}},Vl.prototype.isDone=function(){return!1},Vl.prototype.isGeometryChanged=function(){return!1},Vl.prototype.getMaxPointDistance=function(){return this._maxPtDist},Vl.prototype.interfaces_=function(){return[cs]},Vl.prototype.getClass=function(){return Vl};var ao=function(e,i,s){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=i||null,this._result=s||null},Jb={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};ao.prototype.checkMaximumDistance=function(e,i,s){var a=new Uo(i,e);if(a.setDensifyFraction(.25),this._maxDistanceFound=a.orientedDistance(),this._maxDistanceFound>s){this._isValid=!1;var c=a.getCoordinates();this._errorLocation=c[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+ss.toLineString(c[0],c[1])+")"}},ao.prototype.isValid=function(){var e=Math.abs(this._bufDistance),i=ao.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-i,this._maxValidDistance=e+i,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),ao.VERBOSE&&pn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},ao.prototype.checkNegativeValid=function(){if(!(this._input instanceof Gi||this._input instanceof fa||this._input instanceof On))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},ao.prototype.getErrorIndicator=function(){return this._errorIndicator},ao.prototype.checkMinimumDistance=function(e,i,s){var a=new vn(e,i,s);if(this._minDistanceFound=a.distance(),this._minDistanceFound<s){this._isValid=!1;var c=a.nearestPoints();this._errorLocation=a.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(c),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+ss.toLineString(c[0],c[1])+" )"}},ao.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},ao.prototype.getErrorLocation=function(){return this._errorLocation},ao.prototype.getPolygonLines=function(e){for(var i=new ce,s=new mn(i),a=$a.getPolygons(e).iterator();a.hasNext();)a.next().apply(s);return e.getFactory().buildGeometry(i)},ao.prototype.getErrorMessage=function(){return this._errMsg},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao},Jb.VERBOSE.get=function(){return!1},Jb.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(ao,Jb);var yn=function(e,i,s){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=i||null,this._result=s||null},Qb={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*yn.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var i=new ze(this._input.getEnvelopeInternal());i.expandBy(this._distance);var s=new ze(this._result.getEnvelopeInternal());s.expandBy(e),s.contains(i)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(s)),this.report("Envelope")},yn.prototype.checkDistance=function(){var e=new ao(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},yn.prototype.checkArea=function(){var e=this._input.getArea(),i=this._result.getArea();this._distance>0&&e>i&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<i&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yn.prototype.checkPolygonal=function(){this._result instanceof Gi||this._result instanceof fa||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yn.prototype.getErrorIndicator=function(){return this._errorIndicator},yn.prototype.getErrorLocation=function(){return this._errorLocation},yn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yn.prototype.report=function(e){if(!yn.VERBOSE)return null;pn.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},yn.prototype.getErrorMessage=function(){return this._errorMsg},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn},yn.isValidMsg=function(e,i,s){var a=new yn(e,i,s);return a.isValid()?null:a.getErrorMessage()},yn.isValid=function(e,i,s){return!!new yn(e,i,s).isValid()},Qb.VERBOSE.get=function(){return!1},Qb.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(yn,Qb);var qs=function(){this._pts=null,this._data=null;var e=arguments[0],i=arguments[1];this._pts=e,this._data=i};qs.prototype.getCoordinates=function(){return this._pts},qs.prototype.size=function(){return this._pts.length},qs.prototype.getCoordinate=function(e){return this._pts[e]},qs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},qs.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Ju.octant(this.getCoordinate(e),this.getCoordinate(e+1))},qs.prototype.setData=function(e){this._data=e},qs.prototype.getData=function(){return this._data},qs.prototype.toString=function(){return ss.toLineString(new Ri(this._pts))},qs.prototype.interfaces_=function(){return[ma]},qs.prototype.getClass=function(){return qs};var rn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ce,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};rn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rn.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},rn.prototype.getIntersectionSegments=function(){return this._intSegments},rn.prototype.count=function(){return this._intersectionCount},rn.prototype.getIntersections=function(){return this._intersections},rn.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},rn.prototype.setKeepIntersections=function(e){this._keepIntersections=e},rn.prototype.processIntersections=function(e,i,s,a){if(!this._findAllIntersections&&this.hasIntersection()||e===s&&i===a||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(e,i)||this.isEndSegment(s,a)))return null;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=c,this._intSegments[1]=h,this._intSegments[2]=g,this._intSegments[3]=y,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rn.prototype.isEndSegment=function(e,i){return i===0||i>=e.size()-2},rn.prototype.hasIntersection=function(){return this._interiorIntersection!==null},rn.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},rn.prototype.interfaces_=function(){return[Hc]},rn.prototype.getClass=function(){return rn},rn.createAllIntersectionsFinder=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i},rn.createAnyIntersectionFinder=function(e){return new rn(e)},rn.createIntersectionCounter=function(e){var i=new rn(e);return i.setFindAllIntersections(!0),i.setKeepIntersections(!1),i};var fs=function(){this._li=new Nc,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};fs.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},fs.prototype.getIntersections=function(){return this._segInt.getIntersections()},fs.prototype.isValid=function(){return this.execute(),this._isValid},fs.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},fs.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Yb;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},fs.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Xa(this.getErrorMessage(),this._segInt.getInteriorIntersection())},fs.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+ss.toLineString(e[0],e[1])+" and "+ss.toLineString(e[2],e[3])},fs.prototype.interfaces_=function(){return[]},fs.prototype.getClass=function(){return fs},fs.computeIntersections=function(e){var i=new fs(e);return i.setFindAllIntersections(!0),i.isValid(),i.getIntersections()};var qc=function e(){this._nv=null;var i=arguments[0];this._nv=new fs(e.toSegmentStrings(i))};qc.prototype.checkValid=function(){this._nv.checkValid()},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.toSegmentStrings=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next();i.add(new qs(a.getCoordinates(),a))}return i},qc.checkValid=function(e){new qc(e).checkValid()};var nh=function(e){this._mapOp=e};nh.prototype.map=function(e){for(var i=new ce,s=0;s<e.getNumGeometries();s++){var a=this._mapOp.map(e.getGeometryN(s));a.isEmpty()||i.add(a)}return e.getFactory().createGeometryCollection(hr.toGeometryArray(i))},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},nh.map=function(e,i){return new nh(i).map(e)};var Vs=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ce,this._resultLineList=new ce;var e=arguments[0],i=arguments[1],s=arguments[2];this._op=e,this._geometryFactory=i,this._ptLocator=s};Vs.prototype.collectLines=function(e){for(var i=this,s=this._op.getGraph().getEdgeEnds().iterator();s.hasNext();){var a=s.next();i.collectLineEdge(a,e,i._lineEdgesList),i.collectBoundaryTouchEdge(a,e,i._lineEdgesList)}},Vs.prototype.labelIsolatedLine=function(e,i){var s=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(i));e.getLabel().setLocation(i,s)},Vs.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Vs.prototype.collectLineEdge=function(e,i,s){var a=e.getLabel(),c=e.getEdge();e.isLineEdge()&&(e.isVisited()||!tr.isResultOfOp(a,i)||c.isCovered()||(s.add(c),e.setVisitedEdge(!0)))},Vs.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var s=i.next(),a=s.getEdge();if(s.isLineEdge()&&!a.isCoveredSet()){var c=this._op.isCoveredByA(s.getCoordinate());a.setCovered(c)}}},Vs.prototype.labelIsolatedLines=function(e){for(var i=e.iterator();i.hasNext();){var s=i.next(),a=s.getLabel();s.isIsolated()&&(a.isNull(0)?this.labelIsolatedLine(s,0):this.labelIsolatedLine(s,1))}},Vs.prototype.buildLines=function(e){for(var i=this._lineEdgesList.iterator();i.hasNext();){var s=i.next(),a=this._geometryFactory.createLineString(s.getCoordinates());this._resultLineList.add(a),s.setInResult(!0)}},Vs.prototype.collectBoundaryTouchEdge=function(e,i,s){var a=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(rr.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(tr.isResultOfOp(a,i)&&i===tr.INTERSECTION&&(s.add(e.getEdge()),e.setVisitedEdge(!0))))},Vs.prototype.interfaces_=function(){return[]},Vs.prototype.getClass=function(){return Vs};var oh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ce;var e=arguments[0],i=arguments[1];this._op=e,this._geometryFactory=i};oh.prototype.filterCoveredNodeToPoint=function(e){var i=e.getCoordinate();if(!this._op.isCoveredByLA(i)){var s=this._geometryFactory.createPoint(i);this._resultPointList.add(s)}},oh.prototype.extractNonCoveredResultNodes=function(e){for(var i=this._op.getGraph().getNodes().iterator();i.hasNext();){var s=i.next();if(!s.isInResult()&&!s.isIncidentEdgeInResult()&&(s.getEdges().getDegree()===0||e===tr.INTERSECTION)){var a=s.getLabel();tr.isResultOfOp(a,e)&&this.filterCoveredNodeToPoint(s)}}},oh.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh};var Qn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Qn.prototype.transformPoint=function(e,i){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformPolygon=function(e,i){var s=!0,a=this.transformLinearRing(e.getExteriorRing(),e);a!==null&&a instanceof pa&&!a.isEmpty()||(s=!1);for(var c=new ce,h=0;h<e.getNumInteriorRing();h++){var g=this.transformLinearRing(e.getInteriorRingN(h),e);g===null||g.isEmpty()||(g instanceof pa||(s=!1),c.add(g))}if(s)return this._factory.createPolygon(a,c.toArray([]));var y=new ce;return a!==null&&y.add(a),y.addAll(c),this._factory.buildGeometry(y)},Qn.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Qn.prototype.getInputGeometry=function(){return this._inputGeom},Qn.prototype.transformMultiLineString=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformLineString(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformCoordinates=function(e,i){return this.copy(e)},Qn.prototype.transformLineString=function(e,i){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Qn.prototype.transformMultiPoint=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPoint(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.transformMultiPolygon=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transformPolygon(e.getGeometryN(a),e);c!==null&&(c.isEmpty()||s.add(c))}return this._factory.buildGeometry(s)},Qn.prototype.copy=function(e){return e.copy()},Qn.prototype.transformGeometryCollection=function(e,i){for(var s=new ce,a=0;a<e.getNumGeometries();a++){var c=this.transform(e.getGeometryN(a));c!==null&&(this._pruneEmptyGeometry&&c.isEmpty()||s.add(c))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(hr.toGeometryArray(s)):this._factory.buildGeometry(s)},Qn.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof no)return this.transformPoint(e,null);if(e instanceof kd)return this.transformMultiPoint(e,null);if(e instanceof pa)return this.transformLinearRing(e,null);if(e instanceof Mi)return this.transformLineString(e,null);if(e instanceof Fc)return this.transformMultiLineString(e,null);if(e instanceof Gi)return this.transformPolygon(e,null);if(e instanceof fa)return this.transformMultiPolygon(e,null);if(e instanceof On)return this.transformGeometryCollection(e,null);throw new ki("Unknown Geometry subtype: "+e.getClass().getName())},Qn.prototype.transformLinearRing=function(e,i){var s=this.transformCoordinates(e.getCoordinateSequence(),e);if(s===null)return this._factory.createLinearRing(null);var a=s.size();return a>0&&a<4&&!this._preserveType?this._factory.createLineString(s):this._factory.createLinearRing(s)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var xa=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ne,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Mi&&typeof arguments[1]=="number"){var i=arguments[0],s=arguments[1];e.call(this,i.getCoordinates(),s)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var a=arguments[0],c=arguments[1];this._srcPts=a,this._isClosed=e.isClosed(a),this._snapTolerance=c}};xa.prototype.snapVertices=function(e,i){for(var s=this._isClosed?e.size()-1:e.size(),a=0;a<s;a++){var c=e.get(a),h=this.findSnapForVertex(c,i);h!==null&&(e.set(a,new Ct(h)),a===0&&this._isClosed&&e.set(e.size()-1,new Ct(h)))}},xa.prototype.findSnapForVertex=function(e,i){for(var s=0;s<i.length;s++){if(e.equals2D(i[s]))return null;if(e.distance(i[s])<this._snapTolerance)return i[s]}return null},xa.prototype.snapTo=function(e){var i=new _f(this._srcPts);return this.snapVertices(i,e),this.snapSegments(i,e),i.toCoordinateArray()},xa.prototype.snapSegments=function(e,i){if(i.length===0)return null;var s=i.length;i[0].equals2D(i[i.length-1])&&(s=i.length-1);for(var a=0;a<s;a++){var c=i[a],h=this.findSegmentIndexToSnap(c,e);h>=0&&e.add(h+1,new Ct(c),!1)}},xa.prototype.findSegmentIndexToSnap=function(e,i){for(var s=this,a=Je.MAX_VALUE,c=-1,h=0;h<i.size()-1;h++){if(s._seg.p0=i.get(h),s._seg.p1=i.get(h+1),s._seg.p0.equals2D(e)||s._seg.p1.equals2D(e)){if(s._allowSnappingToSourceVertices)continue;return-1}var g=s._seg.distance(e);g<s._snapTolerance&&g<a&&(a=g,c=h)}return c},xa.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa},xa.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Oi=function(e){this._srcGeom=e||null},qk={SNAP_PRECISION_FACTOR:{configurable:!0}};Oi.prototype.snapTo=function(e,i){var s=this.extractTargetCoordinates(e);return new Vk(i,s).transform(this._srcGeom)},Oi.prototype.snapToSelf=function(e,i){var s=this.extractTargetCoordinates(this._srcGeom),a=new Vk(e,s,!0).transform(this._srcGeom),c=a;return i&&Ge(c,Fl)&&(c=a.buffer(0)),c},Oi.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Oi.prototype.extractTargetCoordinates=function(e){for(var i=new As,s=e.getCoordinates(),a=0;a<s.length;a++)i.add(s[a]);return i.toArray(new Array(0).fill(null))},Oi.prototype.computeMinimumSegmentLength=function(e){for(var i=Je.MAX_VALUE,s=0;s<e.length-1;s++){var a=e[s].distance(e[s+1]);a<i&&(i=a)}return i},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.snap=function(e,i,s){var a=new Array(2).fill(null),c=new Oi(e);a[0]=c.snapTo(i,s);var h=new Oi(i);return a[1]=h.snapTo(a[0],s),a},Oi.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],i=Oi.computeSizeBasedSnapTolerance(e),s=e.getPrecisionModel();if(s.getType()===Qr.FIXED){var a=1/s.getScale()*2/1.415;a>i&&(i=a)}return i}if(arguments.length===2){var c=arguments[0],h=arguments[1];return Math.min(Oi.computeOverlaySnapTolerance(c),Oi.computeOverlaySnapTolerance(h))}},Oi.computeSizeBasedSnapTolerance=function(e){var i=e.getEnvelopeInternal();return Math.min(i.getHeight(),i.getWidth())*Oi.SNAP_PRECISION_FACTOR},Oi.snapToSelf=function(e,i,s){return new Oi(e).snapToSelf(i,s)},qk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Oi,qk);var Vk=function(e){function i(s,a,c){e.call(this),this._snapTolerance=s||null,this._snapPts=a||null,this._isSelfSnap=c!==void 0&&c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.snapLine=function(s,a){var c=new xa(s,this._snapTolerance);return c.setAllowSnappingToSourceVertices(this._isSelfSnap),c.snapTo(a)},i.prototype.transformCoordinates=function(s,a){var c=s.toCoordinateArray(),h=this.snapLine(c,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(h)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Qn),jn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};jn.prototype.getCommon=function(){return Je.longBitsToDouble(this._commonBits)},jn.prototype.add=function(e){var i=Je.doubleToLongBits(e);return this._isFirst?(this._commonBits=i,this._commonSignExp=jn.signExpBits(this._commonBits),this._isFirst=!1,null):jn.signExpBits(i)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=jn.numCommonMostSigMantissaBits(this._commonBits,i),void(this._commonBits=jn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},jn.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],i=Je.longBitsToDouble(e),s=Je.toBinaryString(e),a="0000000000000000000000000000000000000000000000000000000000000000"+s,c=a.substring(a.length-64),h=c.substring(0,1)+"  "+c.substring(1,12)+"(exp) "+c.substring(12)+" [ "+i+" ]";return h}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn},jn.getBit=function(e,i){return e&1<<i?1:0},jn.signExpBits=function(e){return e>>52},jn.zeroLowerBits=function(e,i){return e&~((1<<i)-1)},jn.numCommonMostSigMantissaBits=function(e,i){for(var s=0,a=52;a>=0;a--){if(jn.getBit(e,a)!==jn.getBit(i,a))return s;s++}return 52};var Wl=function(){this._commonCoord=null,this._ccFilter=new sh},$b={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Wl.prototype.addCommonBits=function(e){var i=new Zl(this._commonCoord);e.apply(i),e.geometryChanged()},Wl.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var i=new Ct(this._commonCoord);i.x=-i.x,i.y=-i.y;var s=new Zl(i);return e.apply(s),e.geometryChanged(),e},Wl.prototype.getCommonCoordinate=function(){return this._commonCoord},Wl.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},$b.CommonCoordinateFilter.get=function(){return sh},$b.Translater.get=function(){return Zl},Object.defineProperties(Wl,$b);var sh=function(){this._commonBitsX=new jn,this._commonBitsY=new jn};sh.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},sh.prototype.getCommonCoordinate=function(){return new Ct(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},sh.prototype.interfaces_=function(){return[da]},sh.prototype.getClass=function(){return sh};var Zl=function(){this.trans=null;var e=arguments[0];this.trans=e};Zl.prototype.filter=function(e,i){var s=e.getOrdinate(i,0)+this.trans.x,a=e.getOrdinate(i,1)+this.trans.y;e.setOrdinate(i,0,s),e.setOrdinate(i,1,a)},Zl.prototype.isDone=function(){return!1},Zl.prototype.isGeometryChanged=function(){return!0},Zl.prototype.interfaces_=function(){return[cs]},Zl.prototype.getClass=function(){return Zl};var nn=function(e,i){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=i,this.computeSnapTolerance()};nn.prototype.selfSnap=function(e){return new Oi(e).snapTo(e,this._snapTolerance)},nn.prototype.removeCommonBits=function(e){this._cbr=new Wl,this._cbr.add(e[0]),this._cbr.add(e[1]);var i=new Array(2).fill(null);return i[0]=this._cbr.removeCommonBits(e[0].copy()),i[1]=this._cbr.removeCommonBits(e[1].copy()),i},nn.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},nn.prototype.getResultGeometry=function(e){var i=this.snap(this._geom),s=tr.overlayOp(i[0],i[1],e);return this.prepareResult(s)},nn.prototype.checkValid=function(e){e.isValid()||pn.out.println("Snapped geometry is invalid")},nn.prototype.computeSnapTolerance=function(){this._snapTolerance=Oi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},nn.prototype.snap=function(e){var i=this.removeCommonBits(e);return Oi.snap(i[0],i[1],this._snapTolerance)},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.overlayOp=function(e,i,s){return new nn(e,i).getResultGeometry(s)},nn.union=function(e,i){return nn.overlayOp(e,i,tr.UNION)},nn.intersection=function(e,i){return nn.overlayOp(e,i,tr.INTERSECTION)},nn.symDifference=function(e,i){return nn.overlayOp(e,i,tr.SYMDIFFERENCE)},nn.difference=function(e,i){return nn.overlayOp(e,i,tr.DIFFERENCE)};var Hn=function(e,i){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=i};Hn.prototype.getResultGeometry=function(e){var i=null,s=!1,a=null;try{i=tr.overlayOp(this._geom[0],this._geom[1],e),s=!0}catch(c){if(!(c instanceof qa))throw c;a=c}if(!s)try{i=nn.overlayOp(this._geom[0],this._geom[1],e)}catch(c){throw c instanceof qa?a:c}return i},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn},Hn.overlayOp=function(e,i,s){return new Hn(e,i).getResultGeometry(s)},Hn.union=function(e,i){return Hn.overlayOp(e,i,tr.UNION)},Hn.intersection=function(e,i){return Hn.overlayOp(e,i,tr.INTERSECTION)},Hn.symDifference=function(e,i){return Hn.overlayOp(e,i,tr.SYMDIFFERENCE)},Hn.difference=function(e,i){return Hn.overlayOp(e,i,tr.DIFFERENCE)};var Df=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],i=arguments[1];this.mce=e,this.chainIndex=i};Df.prototype.computeIntersections=function(e,i){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,i)},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df};var lo=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var i=arguments[0],s=arguments[1];this._eventType=e.DELETE,this._xValue=i,this._insertEvent=s}else if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._eventType=e.INSERT,this._label=a,this._xValue=c,this._obj=h}},tw={INSERT:{configurable:!0},DELETE:{configurable:!0}};lo.prototype.isDelete=function(){return this._eventType===lo.DELETE},lo.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},lo.prototype.getObject=function(){return this._obj},lo.prototype.compareTo=function(e){var i=e;return this._xValue<i._xValue?-1:this._xValue>i._xValue?1:this._eventType<i._eventType?-1:this._eventType>i._eventType?1:0},lo.prototype.getInsertEvent=function(){return this._insertEvent},lo.prototype.isInsert=function(){return this._eventType===lo.INSERT},lo.prototype.isSameLabel=function(e){return this._label!==null&&this._label===e._label},lo.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},lo.prototype.interfaces_=function(){return[zo]},lo.prototype.getClass=function(){return lo},tw.INSERT.get=function(){return 1},tw.DELETE.get=function(){return 2},Object.defineProperties(lo,tw);var b0=function(){};b0.prototype.interfaces_=function(){return[]},b0.prototype.getClass=function(){return b0};var bn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],i=arguments[1],s=arguments[2];this._li=e,this._includeProper=i,this._recordIsolated=s};bn.prototype.isTrivialIntersection=function(e,i,s,a){if(e===s&&this._li.getIntersectionNum()===1){if(bn.isAdjacentSegments(i,a))return!0;if(e.isClosed()){var c=e.getNumPoints()-1;if(i===0&&a===c||a===0&&i===c)return!0}}return!1},bn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},bn.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},bn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},bn.prototype.isBoundaryPointInternal=function(e,i){for(var s=i.iterator();s.hasNext();){var a=s.next().getCoordinate();if(e.isIntersection(a))return!0}return!1},bn.prototype.hasProperIntersection=function(){return this._hasProper},bn.prototype.hasIntersection=function(){return this._hasIntersection},bn.prototype.isDone=function(){return this._isDone},bn.prototype.isBoundaryPoint=function(e,i){return i!==null&&(!!this.isBoundaryPointInternal(e,i[0])||!!this.isBoundaryPointInternal(e,i[1]))},bn.prototype.setBoundaryNodes=function(e,i){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=i},bn.prototype.addIntersections=function(e,i,s,a){if(e===s&&i===a)return null;this.numTests++;var c=e.getCoordinates()[i],h=e.getCoordinates()[i+1],g=s.getCoordinates()[a],y=s.getCoordinates()[a+1];this._li.computeIntersection(c,h,g,y),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),s.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,i,s,a)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,i,0),s.addIntersections(this._li,a,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.isAdjacentSegments=function(e,i){return Math.abs(e-i)===1};var GI=function(e){function i(){e.call(this),this.events=new ce,this.nOverlaps=null}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.prepareEvents=function(){hs.sort(this.events);for(var s=0;s<this.events.size();s++){var a=this.events.get(s);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(s)}},i.prototype.computeIntersections=function(){var s=this;if(arguments.length===1){var a=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c=0;c<this.events.size();c++){var h=s.events.get(c);if(h.isInsert()&&s.processOverlaps(c,h.getDeleteEventIndex(),h,a),a.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof bn&&Ge(arguments[0],as)&&Ge(arguments[1],as)){var g=arguments[0],y=arguments[1],w=arguments[2];this.addEdges(g,g),this.addEdges(y,y),this.computeIntersections(w)}else if(typeof arguments[2]=="boolean"&&Ge(arguments[0],as)&&arguments[1]instanceof bn){var x=arguments[0],T=arguments[1],E=arguments[2];E?this.addEdges(x,null):this.addEdges(x),this.computeIntersections(T)}}},i.prototype.addEdge=function(s,a){for(var c=s.getMonotoneChainEdge(),h=c.getStartIndexes(),g=0;g<h.length-1;g++){var y=new Df(c,g),w=new lo(a,c.getMinX(g),y);this.events.add(w),this.events.add(new lo(c.getMaxX(g),w))}},i.prototype.processOverlaps=function(s,a,c,h){for(var g=c.getObject(),y=s;y<a;y++){var w=this.events.get(y);if(w.isInsert()){var x=w.getObject();c.isSameLabel(w)||(g.computeIntersections(x,h),this.nOverlaps++)}}},i.prototype.addEdges=function(){var s=this;if(arguments.length===1)for(var a=arguments[0],c=a.iterator();c.hasNext();){var h=c.next();s.addEdge(h,h)}else if(arguments.length===2)for(var g=arguments[0],y=arguments[1],w=g.iterator();w.hasNext();){var x=w.next();s.addEdge(x,y)}},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(b0),_a=function(){this._min=Je.POSITIVE_INFINITY,this._max=Je.NEGATIVE_INFINITY},Wk={NodeComparator:{configurable:!0}};_a.prototype.getMin=function(){return this._min},_a.prototype.intersects=function(e,i){return!(this._min>i||this._max<e)},_a.prototype.getMax=function(){return this._max},_a.prototype.toString=function(){return ss.toLineString(new Ct(this._min,0),new Ct(this._max,0))},_a.prototype.interfaces_=function(){return[]},_a.prototype.getClass=function(){return _a},Wk.NodeComparator.get=function(){return Ff},Object.defineProperties(_a,Wk);var Ff=function(){};Ff.prototype.compare=function(e,i){var s=e,a=i,c=(s._min+s._max)/2,h=(a._min+a._max)/2;return c<h?-1:c>h?1:0},Ff.prototype.interfaces_=function(){return[dd]},Ff.prototype.getClass=function(){return Ff};var qI=function(e){function i(){e.call(this),this._item=null;var s=arguments[0],a=arguments[1],c=arguments[2];this._min=s,this._max=a,this._item=c}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;c.visitItem(this._item)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_a),VI=function(e){function i(){e.call(this),this._node1=null,this._node2=null;var s=arguments[0],a=arguments[1];this._node1=s,this._node2=a,this.buildExtent(this._node1,this._node2)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.buildExtent=function(s,a){this._min=Math.min(s._min,a._min),this._max=Math.max(s._max,a._max)},i.prototype.query=function(s,a,c){if(!this.intersects(s,a))return null;this._node1!==null&&this._node1.query(s,a,c),this._node2!==null&&this._node2.query(s,a,c)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(_a),ka=function(){this._leaves=new ce,this._root=null,this._level=0};ka.prototype.buildTree=function(){hs.sort(this._leaves,new _a.NodeComparator);for(var e=this._leaves,i=null,s=new ce;;){if(this.buildLevel(e,s),s.size()===1)return s.get(0);i=e,e=s,s=i}},ka.prototype.insert=function(e,i,s){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new qI(e,i,s))},ka.prototype.query=function(e,i,s){this.init(),this._root.query(e,i,s)},ka.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},ka.prototype.printNode=function(e){pn.out.println(ss.toLineString(new Ct(e._min,this._level),new Ct(e._max,this._level)))},ka.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},ka.prototype.buildLevel=function(e,i){this._level++,i.clear();for(var s=0;s<e.size();s+=2){var a=e.get(s);if((s+1<e.size()?e.get(s):null)===null)i.add(a);else{var c=new VI(e.get(s),e.get(s+1));i.add(c)}}},ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka};var Id=function(){this._items=new ce};Id.prototype.visitItem=function(e){this._items.add(e)},Id.prototype.getItems=function(){return this._items},Id.prototype.interfaces_=function(){return[Bl]},Id.prototype.getClass=function(){return Id};var Ld=function(){this._index=null;var e=arguments[0];if(!Ge(e,Fl))throw new ki("Argument must be Polygonal");this._index=new Vc(e)},ew={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ld.prototype.locate=function(e){var i=new Rs(e),s=new Rd(i);return this._index.query(e.y,e.y,s),i.getLocation()},Ld.prototype.interfaces_=function(){return[Cd]},Ld.prototype.getClass=function(){return Ld},ew.SegmentVisitor.get=function(){return Rd},ew.IntervalIndexedGeometry.get=function(){return Vc},Object.defineProperties(Ld,ew);var Rd=function(){this._counter=null;var e=arguments[0];this._counter=e};Rd.prototype.visitItem=function(e){var i=e;this._counter.countSegment(i.getCoordinate(0),i.getCoordinate(1))},Rd.prototype.interfaces_=function(){return[Bl]},Rd.prototype.getClass=function(){return Rd};var Vc=function(){this._index=new ka;var e=arguments[0];this.init(e)};Vc.prototype.init=function(e){for(var i=mn.getLines(e).iterator();i.hasNext();){var s=i.next().getCoordinates();this.addLine(s)}},Vc.prototype.addLine=function(e){for(var i=1;i<e.length;i++){var s=new Ne(e[i-1],e[i]),a=Math.min(s.p0.y,s.p1.y),c=Math.max(s.p0.y,s.p1.y);this._index.insert(a,c,s)}},Vc.prototype.query=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new Id;return this._index.query(e,i,s),s.getItems()}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2];this._index.query(a,c,h)}},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Bf=function(e){function i(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new Ck,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ps,arguments.length===2){var s=arguments[0],a=arguments[1],c=Do.OGC_SFS_BOUNDARY_RULE;this._argIndex=s,this._parentGeom=a,this._boundaryNodeRule=c,a!==null&&this.add(a)}else if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2];this._argIndex=h,this._parentGeom=g,this._boundaryNodeRule=y,g!==null&&this.add(g)}}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertBoundaryPoint=function(s,a){var c=this._nodes.addNode(a).getLabel(),h=1;c.getLocation(s,ne.ON)===At.BOUNDARY&&h++;var g=i.determineBoundary(this._boundaryNodeRule,h);c.setLocation(s,g)},i.prototype.computeSelfNodes=function(){if(arguments.length===2){var s=arguments[0],a=arguments[1];return this.computeSelfNodes(s,a,!1)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2],y=new bn(c,!0,!1);y.setIsDoneIfProperInt(g);var w=this.createEdgeSetIntersector(),x=this._parentGeom instanceof pa||this._parentGeom instanceof Gi||this._parentGeom instanceof fa,T=h||!x;return w.computeIntersections(this._edges,y,T),this.addSelfIntersectionNodes(this._argIndex),y}},i.prototype.computeSplitEdges=function(s){for(var a=this._edges.iterator();a.hasNext();)a.next().eiList.addSplitEdges(s)},i.prototype.computeEdgeIntersections=function(s,a,c){var h=new bn(a,c,!0);return h.setBoundaryNodes(this.getBoundaryNodes(),s.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,s._edges,h),h},i.prototype.getGeometry=function(){return this._parentGeom},i.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},i.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},i.prototype.addPoint=function(){if(arguments[0]instanceof no){var s=arguments[0],a=s.getCoordinate();this.insertPoint(this._argIndex,a,At.INTERIOR)}else if(arguments[0]instanceof Ct){var c=arguments[0];this.insertPoint(this._argIndex,c,At.INTERIOR)}},i.prototype.addPolygon=function(s){this.addPolygonRing(s.getExteriorRing(),At.EXTERIOR,At.INTERIOR);for(var a=0;a<s.getNumInteriorRing();a++){var c=s.getInteriorRingN(a);this.addPolygonRing(c,At.INTERIOR,At.EXTERIOR)}},i.prototype.addEdge=function(s){this.insertEdge(s);var a=s.getCoordinates();this.insertPoint(this._argIndex,a[0],At.BOUNDARY),this.insertPoint(this._argIndex,a[a.length-1],At.BOUNDARY)},i.prototype.addLineString=function(s){var a=ur.removeRepeatedPoints(s.getCoordinates());if(a.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=a[0],null;var c=new y0(a,new ni(this._argIndex,At.INTERIOR));this._lineEdgeMap.put(s,c),this.insertEdge(c),rr.isTrue(a.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,a[0]),this.insertBoundaryPoint(this._argIndex,a[a.length-1])},i.prototype.getInvalidPoint=function(){return this._invalidPoint},i.prototype.getBoundaryPoints=function(){for(var s=this.getBoundaryNodes(),a=new Array(s.size()).fill(null),c=0,h=s.iterator();h.hasNext();){var g=h.next();a[c++]=g.getCoordinate().copy()}return a},i.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},i.prototype.addSelfIntersectionNode=function(s,a,c){if(this.isBoundaryNode(s,a))return null;c===At.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(s,a):this.insertPoint(s,a,c)},i.prototype.addPolygonRing=function(s,a,c){if(s.isEmpty())return null;var h=ur.removeRepeatedPoints(s.getCoordinates());if(h.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=h[0],null;var g=a,y=c;ge.isCCW(h)&&(g=c,y=a);var w=new y0(h,new ni(this._argIndex,At.BOUNDARY,g,y));this._lineEdgeMap.put(s,w),this.insertEdge(w),this.insertPoint(this._argIndex,h[0],At.BOUNDARY)},i.prototype.insertPoint=function(s,a,c){var h=this._nodes.addNode(a),g=h.getLabel();g===null?h._label=new ni(s,c):g.setLocation(s,c)},i.prototype.createEdgeSetIntersector=function(){return new GI},i.prototype.addSelfIntersectionNodes=function(s){for(var a=this._edges.iterator();a.hasNext();)for(var c=a.next(),h=c.getLabel().getLocation(s),g=c.eiList.iterator();g.hasNext();){var y=g.next();this.addSelfIntersectionNode(s,y.coord,h)}},i.prototype.add=function(){if(arguments.length!==1)return e.prototype.add.apply(this,arguments);var s=arguments[0];if(s.isEmpty())return null;if(s instanceof fa&&(this._useBoundaryDeterminationRule=!1),s instanceof Gi)this.addPolygon(s);else if(s instanceof Mi)this.addLineString(s);else if(s instanceof no)this.addPoint(s);else if(s instanceof kd)this.addCollection(s);else if(s instanceof Fc)this.addCollection(s);else if(s instanceof fa)this.addCollection(s);else{if(!(s instanceof On))throw new Error(s.getClass().getName());this.addCollection(s)}},i.prototype.addCollection=function(s){for(var a=0;a<s.getNumGeometries();a++){var c=s.getGeometryN(a);this.add(c)}},i.prototype.locate=function(s){return Ge(this._parentGeom,Fl)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Ld(this._parentGeom)),this._areaPtLocator.locate(s)):this._ptLocator.locate(s,this._parentGeom)},i.prototype.findEdge=function(){if(arguments.length===1){var s=arguments[0];return this._lineEdgeMap.get(s)}return e.prototype.findEdge.apply(this,arguments)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i.determineBoundary=function(s,a){return s.isInBoundary(a)?At.BOUNDARY:At.INTERIOR},i}(Ci),Ad=function(){if(this._li=new Nc,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Bf(0,e)}else if(arguments.length===2){var i=arguments[0],s=arguments[1],a=Do.OGC_SFS_BOUNDARY_RULE;i.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,i,a),this._arg[1]=new Bf(1,s,a)}else if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];c.getPrecisionModel().compareTo(h.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(h.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,c,g),this._arg[1]=new Bf(1,h,g)}};Ad.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Ad.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Ad.prototype.interfaces_=function(){return[]},Ad.prototype.getClass=function(){return Ad};var Wc=function(){};Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc},Wc.map=function(){if(arguments[0]instanceof He&&Ge(arguments[1],Wc.MapOp)){for(var e=arguments[0],i=arguments[1],s=new ce,a=0;a<e.getNumGeometries();a++){var c=i.map(e.getGeometryN(a));c!==null&&s.add(c)}return e.getFactory().buildGeometry(s)}if(Ge(arguments[0],Ui)&&Ge(arguments[1],Wc.MapOp)){for(var h=arguments[0],g=arguments[1],y=new ce,w=h.iterator();w.hasNext();){var x=w.next(),T=g.map(x);T!==null&&y.add(T)}return y}},Wc.MapOp=function(){};var tr=function(e){function i(){var s=arguments[0],a=arguments[1];e.call(this,s,a),this._ptLocator=new ps,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new ds,this._resultPolyList=new ce,this._resultLineList=new ce,this._resultPointList=new ce,this._graph=new Ci(new Dk),this._geomFact=s.getFactory()}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.insertUniqueEdge=function(s){var a=this._edgeList.findEqualEdge(s);if(a!==null){var c=a.getLabel(),h=s.getLabel();a.isPointwiseEqual(s)||(h=new ni(s.getLabel())).flip();var g=a.getDepth();g.isNull()&&g.add(c),g.add(h),c.merge(h)}else this._edgeList.add(s)},i.prototype.getGraph=function(){return this._graph},i.prototype.cancelDuplicateResultEdges=function(){for(var s=this._graph.getEdgeEnds().iterator();s.hasNext();){var a=s.next(),c=a.getSym();a.isInResult()&&c.isInResult()&&(a.setInResult(!1),c.setInResult(!1))}},i.prototype.isCoveredByLA=function(s){return!!this.isCovered(s,this._resultLineList)||!!this.isCovered(s,this._resultPolyList)},i.prototype.computeGeometry=function(s,a,c,h){var g=new ce;return g.addAll(s),g.addAll(a),g.addAll(c),g.isEmpty()?i.createEmptyResult(h,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(g)},i.prototype.mergeSymLabels=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().mergeSymLabels()},i.prototype.isCovered=function(s,a){for(var c=a.iterator();c.hasNext();){var h=c.next();if(this._ptLocator.locate(s,h)!==At.EXTERIOR)return!0}return!1},i.prototype.replaceCollapsedEdges=function(){for(var s=new ce,a=this._edgeList.iterator();a.hasNext();){var c=a.next();c.isCollapsed()&&(a.remove(),s.add(c.getCollapsedEdge()))}this._edgeList.addAll(s)},i.prototype.updateNodeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getEdges().getLabel();a.getLabel().merge(c)}},i.prototype.getResultGeometry=function(s){return this.computeOverlay(s),this._resultGeom},i.prototype.insertUniqueEdges=function(s){for(var a=s.iterator();a.hasNext();){var c=a.next();this.insertUniqueEdge(c)}},i.prototype.computeOverlay=function(s){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var a=new ce;this._arg[0].computeSplitEdges(a),this._arg[1].computeSplitEdges(a),this.insertUniqueEdges(a),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),qc.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(s),this.cancelDuplicateResultEdges();var c=new oo(this._geomFact);c.add(this._graph),this._resultPolyList=c.getPolygons();var h=new Vs(this,this._geomFact,this._ptLocator);this._resultLineList=h.build(s);var g=new oh(this,this._geomFact,this._ptLocator);this._resultPointList=g.build(s),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,s)},i.prototype.labelIncompleteNode=function(s,a){var c=this._ptLocator.locate(s.getCoordinate(),this._arg[a].getGeometry());s.getLabel().setLocation(a,c)},i.prototype.copyPoints=function(s){for(var a=this._arg[s].getNodeIterator();a.hasNext();){var c=a.next();this._graph.addNode(c.getCoordinate()).setLabel(s,c.getLabel().getLocation(s))}},i.prototype.findResultAreaEdges=function(s){for(var a=this._graph.getEdgeEnds().iterator();a.hasNext();){var c=a.next(),h=c.getLabel();h.isArea()&&!c.isInteriorAreaEdge()&&i.isResultOfOp(h.getLocation(0,ne.RIGHT),h.getLocation(1,ne.RIGHT),s)&&c.setInResult(!0)}},i.prototype.computeLabelsFromDepths=function(){for(var s=this._edgeList.iterator();s.hasNext();){var a=s.next(),c=a.getLabel(),h=a.getDepth();if(!h.isNull()){h.normalize();for(var g=0;g<2;g++)c.isNull(g)||!c.isArea()||h.isNull(g)||(h.getDelta(g)===0?c.toLine(g):(rr.isTrue(!h.isNull(g,ne.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(g,ne.LEFT,h.getLocation(g,ne.LEFT)),rr.isTrue(!h.isNull(g,ne.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(g,ne.RIGHT,h.getLocation(g,ne.RIGHT))))}}},i.prototype.computeLabelling=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();)s.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},i.prototype.labelIncompleteNodes=function(){for(var s=this._graph.getNodes().iterator();s.hasNext();){var a=s.next(),c=a.getLabel();a.isIsolated()&&(c.isNull(0)?this.labelIncompleteNode(a,0):this.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(c)}},i.prototype.isCoveredByA=function(s){return!!this.isCovered(s,this._resultPolyList)},i.prototype.interfaces_=function(){return[]},i.prototype.getClass=function(){return i},i}(Ad);tr.overlayOp=function(e,i,s){return new tr(e,i).getResultGeometry(s)},tr.intersection=function(e,i){if(e.isEmpty()||i.isEmpty())return tr.createEmptyResult(tr.INTERSECTION,e,i,e.getFactory());if(e.isGeometryCollection()){var s=i;return nh.map(e,{interfaces_:function(){return[Wc.MapOp]},map:function(a){return a.intersection(s)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,tr.INTERSECTION)},tr.symDifference=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return tr.createEmptyResult(tr.SYMDIFFERENCE,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,tr.SYMDIFFERENCE)},tr.resultDimension=function(e,i,s){var a=i.getDimension(),c=s.getDimension(),h=-1;switch(e){case tr.INTERSECTION:h=Math.min(a,c);break;case tr.UNION:h=Math.max(a,c);break;case tr.DIFFERENCE:h=a;break;case tr.SYMDIFFERENCE:h=Math.max(a,c)}return h},tr.createEmptyResult=function(e,i,s,a){var c=null;switch(tr.resultDimension(e,i,s)){case-1:c=a.createGeometryCollection(new Array(0).fill(null));break;case 0:c=a.createPoint();break;case 1:c=a.createLineString();break;case 2:c=a.createPolygon()}return c},tr.difference=function(e,i){return e.isEmpty()?tr.createEmptyResult(tr.DIFFERENCE,e,i,e.getFactory()):i.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,tr.DIFFERENCE))},tr.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=e.getLocation(0),a=e.getLocation(1);return tr.isResultOfOp(s,a,i)}if(arguments.length===3){var c=arguments[0],h=arguments[1],g=arguments[2];switch(c===At.BOUNDARY&&(c=At.INTERIOR),h===At.BOUNDARY&&(h=At.INTERIOR),g){case tr.INTERSECTION:return c===At.INTERIOR&&h===At.INTERIOR;case tr.UNION:return c===At.INTERIOR||h===At.INTERIOR;case tr.DIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR;case tr.SYMDIFFERENCE:return c===At.INTERIOR&&h!==At.INTERIOR||c!==At.INTERIOR&&h===At.INTERIOR}return!1}},tr.INTERSECTION=1,tr.UNION=2,tr.DIFFERENCE=3,tr.SYMDIFFERENCE=4;var Yl=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ps,this._seg=new Ne;var e=arguments[0],i=arguments[1];this._g=e,this._boundaryDistanceTolerance=i,this._linework=this.extractLinework(e)};Yl.prototype.isWithinToleranceOfBoundary=function(e){for(var i=this,s=0;s<this._linework.getNumGeometries();s++)for(var a=i._linework.getGeometryN(s).getCoordinateSequence(),c=0;c<a.size()-1;c++)if(a.getCoordinate(c,i._seg.p0),a.getCoordinate(c+1,i._seg.p1),i._seg.distance(e)<=i._boundaryDistanceTolerance)return!0;return!1},Yl.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?At.BOUNDARY:this._ptLocator.locate(e,this._g)},Yl.prototype.extractLinework=function(e){var i=new Od;e.apply(i);var s=i.getLinework(),a=hr.toLineStringArray(s);return e.getFactory().createMultiLineString(a)},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl};var Od=function(){this._linework=null,this._linework=new ce};Od.prototype.getLinework=function(){return this._linework},Od.prototype.filter=function(e){if(e instanceof Gi){var i=e;this._linework.add(i.getExteriorRing());for(var s=0;s<i.getNumInteriorRing();s++)this._linework.add(i.getInteriorRingN(s))}},Od.prototype.interfaces_=function(){return[Os]},Od.prototype.getClass=function(){return Od};var Zc=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Zc.prototype.extractPoints=function(e,i,s){for(var a=e.getCoordinates(),c=0;c<a.length-1;c++)this.computeOffsetPoints(a[c],a[c+1],i,s)},Zc.prototype.setSidesToGenerate=function(e,i){this._doLeft=e,this._doRight=i},Zc.prototype.getPoints=function(e){for(var i=new ce,s=mn.getLines(this._g).iterator();s.hasNext();){var a=s.next();this.extractPoints(a,e,i)}return i},Zc.prototype.computeOffsetPoints=function(e,i,s,a){var c=i.x-e.x,h=i.y-e.y,g=Math.sqrt(c*c+h*h),y=s*c/g,w=s*h/g,x=(i.x+e.x)/2,T=(i.y+e.y)/2;if(this._doLeft){var E=new Ct(x-w,T+y);a.add(E)}if(this._doRight){var P=new Ct(x+w,T-y);a.add(P)}},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var So=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new ce;var i=arguments[0],s=arguments[1],a=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(i,s),this._geom=[i,s,a],this._locFinder=[new Yl(this._geom[0],this._boundaryDistanceTolerance),new Yl(this._geom[1],this._boundaryDistanceTolerance),new Yl(this._geom[2],this._boundaryDistanceTolerance)]},Zk={TOLERANCE:{configurable:!0}};So.prototype.reportResult=function(e,i,s){pn.out.println("Overlay result invalid - A:"+At.toLocationSymbol(i[0])+" B:"+At.toLocationSymbol(i[1])+" expected:"+(s?"i":"e")+" actual:"+At.toLocationSymbol(i[2]))},So.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var i=this.checkValid(e);return i},So.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var i=arguments[0],s=0;s<this._testCoords.size();s++){var a=e._testCoords.get(s);if(!e.checkValid(i,a))return e._invalidLocation=a,!1}return!0}if(arguments.length===2){var c=arguments[0],h=arguments[1];return this._location[0]=this._locFinder[0].getLocation(h),this._location[1]=this._locFinder[1].getLocation(h),this._location[2]=this._locFinder[2].getLocation(h),!!So.hasLocation(this._location,At.BOUNDARY)||this.isValidResult(c,this._location)}},So.prototype.addTestPts=function(e){var i=new Zc(e);this._testCoords.addAll(i.getPoints(5*this._boundaryDistanceTolerance))},So.prototype.isValidResult=function(e,i){var s=tr.isResultOfOp(i[0],i[1],e),a=!(s^i[2]===At.INTERIOR);return a||this.reportResult(e,i,s),a},So.prototype.getInvalidLocation=function(){return this._invalidLocation},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.hasLocation=function(e,i){for(var s=0;s<3;s++)if(e[s]===i)return!0;return!1},So.computeBoundaryDistanceTolerance=function(e,i){return Math.min(Oi.computeSizeBasedSnapTolerance(e),Oi.computeSizeBasedSnapTolerance(i))},So.isValid=function(e,i,s,a){return new So(e,i,a).isValid(s)},Zk.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(So,Zk);var Co=function e(i){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(i),this._inputGeoms=i};Co.prototype.extractElements=function(e,i){if(e===null)return null;for(var s=0;s<e.getNumGeometries();s++){var a=e.getGeometryN(s);this._skipEmpty&&a.isEmpty()||i.add(a)}},Co.prototype.combine=function(){for(var e=new ce,i=this._inputGeoms.iterator();i.hasNext();){var s=i.next();this.extractElements(s,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.combine=function(){if(arguments.length===1){var e=arguments[0],i=new Co(e);return i.combine()}if(arguments.length===2){var s=arguments[0],a=arguments[1],c=new Co(Co.createList(s,a));return c.combine()}if(arguments.length===3){var h=arguments[0],g=arguments[1],y=arguments[2],w=new Co(Co.createList(h,g,y));return w.combine()}},Co.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Co.createList=function(){if(arguments.length===2){var e=arguments[0],i=arguments[1],s=new ce;return s.add(e),s.add(i),s}if(arguments.length===3){var a=arguments[0],c=arguments[1],h=arguments[2],g=new ce;return g.add(a),g.add(c),g.add(h),g}};var Di=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new ce)},Yk={STRTREE_NODE_CAPACITY:{configurable:!0}};Di.prototype.reduceToGeometries=function(e){for(var i=new ce,s=e.iterator();s.hasNext();){var a=s.next(),c=null;Ge(a,as)?c=this.unionTree(a):a instanceof He&&(c=a),i.add(c)}return i},Di.prototype.extractByEnvelope=function(e,i,s){for(var a=new ce,c=0;c<i.getNumGeometries();c++){var h=i.getGeometryN(c);h.getEnvelopeInternal().intersects(e)?a.add(h):s.add(h)}return this._geomFactory.buildGeometry(a)},Di.prototype.unionOptimized=function(e,i){var s=e.getEnvelopeInternal(),a=i.getEnvelopeInternal();if(!s.intersects(a))return Co.combine(e,i);if(e.getNumGeometries()<=1&&i.getNumGeometries()<=1)return this.unionActual(e,i);var c=s.intersection(a);return this.unionUsingEnvelopeIntersection(e,i,c)},Di.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new Lk(Di.STRTREE_NODE_CAPACITY),i=this._inputPolys.iterator();i.hasNext();){var s=i.next();e.insert(s.getEnvelopeInternal(),s)}this._inputPolys=null;var a=e.itemsTree();return this.unionTree(a)},Di.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(arguments.length===3){var i=arguments[0],s=arguments[1],a=arguments[2];if(a-s<=1){var c=Di.getGeometry(i,s);return this.unionSafe(c,null)}if(a-s==2)return this.unionSafe(Di.getGeometry(i,s),Di.getGeometry(i,s+1));var h=Math.trunc((a+s)/2),g=this.binaryUnion(i,s,h),y=this.binaryUnion(i,h,a);return this.unionSafe(g,y)}},Di.prototype.repeatedUnion=function(e){for(var i=null,s=e.iterator();s.hasNext();){var a=s.next();i=i===null?a.copy():i.union(a)}return i},Di.prototype.unionSafe=function(e,i){return e===null&&i===null?null:e===null?i.copy():i===null?e.copy():this.unionOptimized(e,i)},Di.prototype.unionActual=function(e,i){return Di.restrictToPolygons(e.union(i))},Di.prototype.unionTree=function(e){var i=this.reduceToGeometries(e);return this.binaryUnion(i)},Di.prototype.unionUsingEnvelopeIntersection=function(e,i,s){var a=new ce,c=this.extractByEnvelope(s,e,a),h=this.extractByEnvelope(s,i,a),g=this.unionActual(c,h);return a.add(g),Co.combine(a)},Di.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],i=e.get(0).getFactory(),s=i.buildGeometry(e),a=s.buffer(0);return a}if(arguments.length===2){var c=arguments[0],h=arguments[1],g=c.getFactory(),y=g.createGeometryCollection([c,h]),w=y.buffer(0);return w}},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.restrictToPolygons=function(e){if(Ge(e,Fl))return e;var i=$a.getPolygons(e);return i.size()===1?i.get(0):e.getFactory().createMultiPolygon(hr.toPolygonArray(i))},Di.getGeometry=function(e,i){return i>=e.size()?null:e.get(i)},Di.union=function(e){return new Di(e).union()},Yk.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Di,Yk);var w0=function(){};function Yc(){return new x0}function x0(){this.reset()}w0.prototype.interfaces_=function(){return[]},w0.prototype.getClass=function(){return w0},w0.union=function(e,i){if(e.isEmpty()||i.isEmpty()){if(e.isEmpty()&&i.isEmpty())return tr.createEmptyResult(tr.UNION,e,i,e.getFactory());if(e.isEmpty())return i.copy();if(i.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(i),Hn.overlayOp(e,i,tr.UNION)},x0.prototype={constructor:x0,reset:function(){this.s=this.t=0},add:function(e){Xk(_0,e,this.t),Xk(this,_0.s,this.s),this.s?this.t+=_0.t:this.s=_0.t},valueOf:function(){return this.s}};var _0=new x0;function Xk(e,i,s){var a=e.s=i+s,c=a-i,h=a-c;e.t=i-h+(s-c)}var Fi=1e-6,ui=Math.PI,tl=ui/2,Kk=ui/4,el=2*ui,Xc=180/ui,Ws=ui/180,Un=Math.abs,WI=Math.atan,zd=Math.atan2,Vi=Math.cos,Wi=Math.sin,jf=Math.sqrt;function Jk(e){return e>1?0:e<-1?ui:Math.acos(e)}function Nd(e){return e>1?tl:e<-1?-tl:Math.asin(e)}function Hf(){}function k0(e,i){e&&$k.hasOwnProperty(e.type)&&$k[e.type](e,i)}var Qk={Feature:function(e,i){k0(e.geometry,i)},FeatureCollection:function(e,i){for(var s=e.features,a=-1,c=s.length;++a<c;)k0(s[a].geometry,i)}},$k={Sphere:function(e,i){i.sphere()},Point:function(e,i){e=e.coordinates,i.point(e[0],e[1],e[2])},MultiPoint:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)e=s[a],i.point(e[0],e[1],e[2])},LineString:function(e,i){rw(e.coordinates,i,0)},MultiLineString:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)rw(s[a],i,0)},Polygon:function(e,i){t2(e.coordinates,i)},MultiPolygon:function(e,i){for(var s=e.coordinates,a=-1,c=s.length;++a<c;)t2(s[a],i)},GeometryCollection:function(e,i){for(var s=e.geometries,a=-1,c=s.length;++a<c;)k0(s[a],i)}};function rw(e,i,s){var a,c=-1,h=e.length-s;for(i.lineStart();++c<h;)a=e[c],i.point(a[0],a[1],a[2]);i.lineEnd()}function t2(e,i){var s=-1,a=e.length;for(i.polygonStart();++s<a;)rw(e[s],i,1);i.polygonEnd()}Yc(),Yc();function iw(e){return[zd(e[1],e[0]),Nd(e[2])]}function Dd(e){var i=e[0],s=e[1],a=Vi(s);return[a*Vi(i),a*Wi(i),Wi(s)]}function E0(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function T0(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function nw(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function S0(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function ow(e){var i=jf(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}Yc();function e2(e,i){function s(a,c){return a=e(a,c),i(a[0],a[1])}return e.invert&&i.invert&&(s.invert=function(a,c){return(a=i.invert(a,c))&&e.invert(a[0],a[1])}),s}function sw(e,i){return[e>ui?e-el:e<-ui?e+el:e,i]}function r2(e){return function(i,s){return[(i+=e)>ui?i-el:i<-ui?i+el:i,s]}}function i2(e){var i=r2(e);return i.invert=r2(-e),i}function n2(e,i){var s=Vi(e),a=Wi(e),c=Vi(i),h=Wi(i);function g(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*s+T*a;return[zd(E*c-z*h,T*s-P*a),Nd(z*c+E*h)]}return g.invert=function(y,w){var x=Vi(w),T=Vi(y)*x,E=Wi(y)*x,P=Wi(w),z=P*c-E*h;return[zd(E*c+P*h,T*s+z*a),Nd(z*s-T*a)]},g}function o2(e,i){(i=Dd(i))[0]-=e,ow(i);var s=Jk(-i[1]);return((-i[2]<0?-s:s)+el-Fi)%el}function s2(){var e,i=[];return{point:function(s,a){e.push([s,a])},lineStart:function(){i.push(e=[])},lineEnd:Hf,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var s=i;return i=[],e=null,s}}}function C0(e,i){return Un(e[0]-i[0])<Fi&&Un(e[1]-i[1])<Fi}function P0(e,i,s,a){this.x=e,this.z=i,this.o=s,this.e=a,this.v=!1,this.n=this.p=null}function a2(e,i,s,a,c){var h,g,y=[],w=[];if(e.forEach(function(N){if(!((B=N.length-1)<=0)){var B,I,Y=N[0],it=N[B];if(C0(Y,it)){for(c.lineStart(),h=0;h<B;++h)c.point((Y=N[h])[0],Y[1]);c.lineEnd()}else y.push(I=new P0(Y,N,null,!0)),w.push(I.o=new P0(Y,null,I,!1)),y.push(I=new P0(it,N,null,!1)),w.push(I.o=new P0(it,null,I,!0))}}),y.length){for(w.sort(i),l2(y),l2(w),h=0,g=w.length;h<g;++h)w[h].e=s=!s;for(var x,T,E=y[0];;){for(var P=E,z=!0;P.v;)if((P=P.n)===E)return;x=P.z,c.lineStart();do{if(P.v=P.o.v=!0,P.e){if(z)for(h=0,g=x.length;h<g;++h)c.point((T=x[h])[0],T[1]);else a(P.x,P.n.x,1,c);P=P.n}else{if(z)for(x=P.p.z,h=x.length-1;h>=0;--h)c.point((T=x[h])[0],T[1]);else a(P.x,P.p.x,-1,c);P=P.p}x=(P=P.o).z,z=!z}while(!P.v);c.lineEnd()}}}function l2(e){if(i=e.length){for(var i,s,a=0,c=e[0];++a<i;)c.n=s=e[a],s.p=c,c=s;c.n=s=e[0],s.p=c}}function c2(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}sw.invert=sw;var aw,u2;(aw=c2).length===1&&(u2=aw,aw=function(e,i){return c2(u2(e),i)});function h2(e){for(var i,s,a,c=e.length,h=-1,g=0;++h<c;)g+=e[h].length;for(s=new Array(g);--c>=0;)for(i=(a=e[c]).length;--i>=0;)s[--g]=a[i];return s}var Uf=1e9,M0=-Uf;function ZI(e,i,s,a){function c(x,T){return e<=x&&x<=s&&i<=T&&T<=a}function h(x,T,E,P){var z=0,N=0;if(x==null||(z=g(x,E))!==(N=g(T,E))||w(x,T)<0^E>0)do P.point(z===0||z===3?e:s,z>1?a:i);while((z=(z+E+4)%4)!==N);else P.point(T[0],T[1])}function g(x,T){return Un(x[0]-e)<Fi?T>0?0:3:Un(x[0]-s)<Fi?T>0?2:1:Un(x[1]-i)<Fi?T>0?1:0:T>0?3:2}function y(x,T){return w(x.x,T.x)}function w(x,T){var E=g(x,1),P=g(T,1);return E!==P?E-P:E===0?T[1]-x[1]:E===1?x[0]-T[0]:E===2?x[1]-T[1]:T[0]-x[0]}return function(x){var T,E,P,z,N,B,I,Y,it,D,Z,K=x,tt=s2(),Q={point:Rt,lineStart:function(){Q.point=Et,E&&E.push(P=[]),D=!0,it=!1,I=Y=NaN},lineEnd:function(){T&&(Et(z,N),B&&it&&tt.rejoin(),T.push(tt.result())),Q.point=Rt,it&&K.lineEnd()},polygonStart:function(){K=tt,T=[],E=[],Z=!0},polygonEnd:function(){var Nt=function(){for(var Mt=0,Pt=0,St=E.length;Pt<St;++Pt)for(var Dt,It,Ut=E[Pt],gt=1,Re=Ut.length,oe=Ut[0],ir=oe[0],we=oe[1];gt<Re;++gt)Dt=ir,It=we,ir=(oe=Ut[gt])[0],we=oe[1],It<=a?we>a&&(ir-Dt)*(a-It)>(we-It)*(e-Dt)&&++Mt:we<=a&&(ir-Dt)*(a-It)<(we-It)*(e-Dt)&&--Mt;return Mt}(),Tt=Z&&Nt,jt=(T=h2(T)).length;(Tt||jt)&&(x.polygonStart(),Tt&&(x.lineStart(),h(null,null,1,x),x.lineEnd()),jt&&a2(T,y,Nt,h,x),x.polygonEnd()),K=x,T=E=P=null}};function Rt(Nt,Tt){c(Nt,Tt)&&K.point(Nt,Tt)}function Et(Nt,Tt){var jt=c(Nt,Tt);if(E&&P.push([Nt,Tt]),D)z=Nt,N=Tt,B=jt,D=!1,jt&&(K.lineStart(),K.point(Nt,Tt));else if(jt&&it)K.point(Nt,Tt);else{var Mt=[I=Math.max(M0,Math.min(Uf,I)),Y=Math.max(M0,Math.min(Uf,Y))],Pt=[Nt=Math.max(M0,Math.min(Uf,Nt)),Tt=Math.max(M0,Math.min(Uf,Tt))];(function(St,Dt,It,Ut,gt,Re){var oe,ir=St[0],we=St[1],Ue=0,gr=1,ai=Dt[0]-ir,wn=Dt[1]-we;if(oe=It-ir,ai||!(oe>0)){if(oe/=ai,ai<0){if(oe<Ue)return;oe<gr&&(gr=oe)}else if(ai>0){if(oe>gr)return;oe>Ue&&(Ue=oe)}if(oe=gt-ir,ai||!(oe<0)){if(oe/=ai,ai<0){if(oe>gr)return;oe>Ue&&(Ue=oe)}else if(ai>0){if(oe<Ue)return;oe<gr&&(gr=oe)}if(oe=Ut-we,wn||!(oe>0)){if(oe/=wn,wn<0){if(oe<Ue)return;oe<gr&&(gr=oe)}else if(wn>0){if(oe>gr)return;oe>Ue&&(Ue=oe)}if(oe=Re-we,wn||!(oe<0)){if(oe/=wn,wn<0){if(oe>gr)return;oe>Ue&&(Ue=oe)}else if(wn>0){if(oe<Ue)return;oe<gr&&(gr=oe)}return Ue>0&&(St[0]=ir+Ue*ai,St[1]=we+Ue*wn),gr<1&&(Dt[0]=ir+gr*ai,Dt[1]=we+gr*wn),!0}}}}})(Mt,Pt,e,i,s,a)?(it||(K.lineStart(),K.point(Mt[0],Mt[1])),K.point(Pt[0],Pt[1]),jt||K.lineEnd(),Z=!1):jt&&(K.lineStart(),K.point(Nt,Tt),Z=!1)}I=Nt,Y=Tt,it=jt}return Q}}var lw=Yc();Yc();function d2(e){return e}Yc(),Yc();var Fd=1/0,I0=Fd,Gf=-Fd,L0=Gf,p2={point:function(e,i){e<Fd&&(Fd=e),e>Gf&&(Gf=e),i<I0&&(I0=i),i>L0&&(L0=i)},lineStart:Hf,lineEnd:Hf,polygonStart:Hf,polygonEnd:Hf,result:function(){var e=[[Fd,I0],[Gf,L0]];return Gf=L0=-(I0=Fd=1/0),e}};Yc();function f2(e,i,s,a){return function(c,h){var g,y,w,x=i(h),T=c.invert(a[0],a[1]),E=s2(),P=i(E),z=!1,N={point:B,lineStart:Y,lineEnd:it,polygonStart:function(){N.point=D,N.lineStart=Z,N.lineEnd=K,y=[],g=[]},polygonEnd:function(){N.point=B,N.lineStart=Y,N.lineEnd=it,y=h2(y);var tt=function(Q,Rt){var Et=Rt[0],Nt=Rt[1],Tt=[Wi(Et),-Vi(Et),0],jt=0,Mt=0;lw.reset();for(var Pt=0,St=Q.length;Pt<St;++Pt)if(It=(Dt=Q[Pt]).length)for(var Dt,It,Ut=Dt[It-1],gt=Ut[0],Re=Ut[1]/2+Kk,oe=Wi(Re),ir=Vi(Re),we=0;we<It;++we,gt=gr,oe=wn,ir=A0,Ut=Ue){var Ue=Dt[we],gr=Ue[0],ai=Ue[1]/2+Kk,wn=Wi(ai),A0=Vi(ai),Kc=gr-gt,Vf=Kc>=0?1:-1,Wf=Vf*Kc,Bd=Wf>ui,O0=oe*wn;if(lw.add(zd(O0*Vf*Wi(Wf),ir*A0+O0*Vi(Wf))),jt+=Bd?Kc+Vf*el:Kc,Bd^gt>=Et^gr>=Et){var jd=T0(Dd(Ut),Dd(Ue));ow(jd);var C2=T0(Tt,jd);ow(C2);var P2=(Bd^Kc>=0?-1:1)*Nd(C2[2]);(Nt>P2||Nt===P2&&(jd[0]||jd[1]))&&(Mt+=Bd^Kc>=0?1:-1)}}return(jt<-1e-6||jt<Fi&&lw<-1e-6)^1&Mt}(g,T);y.length?(z||(h.polygonStart(),z=!0),a2(y,XI,tt,s,h)):tt&&(z||(h.polygonStart(),z=!0),h.lineStart(),s(null,null,1,h),h.lineEnd()),z&&(h.polygonEnd(),z=!1),y=g=null},sphere:function(){h.polygonStart(),h.lineStart(),s(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function B(tt,Q){var Rt=c(tt,Q);e(tt=Rt[0],Q=Rt[1])&&h.point(tt,Q)}function I(tt,Q){var Rt=c(tt,Q);x.point(Rt[0],Rt[1])}function Y(){N.point=I,x.lineStart()}function it(){N.point=B,x.lineEnd()}function D(tt,Q){w.push([tt,Q]);var Rt=c(tt,Q);P.point(Rt[0],Rt[1])}function Z(){P.lineStart(),w=[]}function K(){D(w[0][0],w[0][1]),P.lineEnd();var tt,Q,Rt,Et,Nt=P.clean(),Tt=E.result(),jt=Tt.length;if(w.pop(),g.push(w),w=null,jt)if(1&Nt){if((Q=(Rt=Tt[0]).length-1)>0){for(z||(h.polygonStart(),z=!0),h.lineStart(),tt=0;tt<Q;++tt)h.point((Et=Rt[tt])[0],Et[1]);h.lineEnd()}}else jt>1&&2&Nt&&Tt.push(Tt.pop().concat(Tt.shift())),y.push(Tt.filter(YI))}return N}}function YI(e){return e.length>1}function XI(e,i){return((e=e.x)[0]<0?e[1]-tl-Fi:tl-e[1])-((i=i.x)[0]<0?i[1]-tl-Fi:tl-i[1])}var g2=f2(function(){return!0},function(e){var i,s=NaN,a=NaN,c=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(h,g){var y=h>0?ui:-ui,w=Un(h-s);Un(w-ui)<Fi?(e.point(s,a=(a+g)/2>0?tl:-tl),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),e.point(h,a),i=0):c!==y&&w>=ui&&(Un(s-c)<Fi&&(s-=c*Fi),Un(h-y)<Fi&&(h-=y*Fi),a=function(x,T,E,P){var z,N,B=Wi(x-E);return Un(B)>Fi?WI((Wi(T)*(N=Vi(P))*Wi(E)-Wi(P)*(z=Vi(T))*Wi(x))/(z*N*B)):(T+P)/2}(s,a,h,g),e.point(c,a),e.lineEnd(),e.lineStart(),e.point(y,a),i=0),e.point(s=h,a=g),c=y},lineEnd:function(){e.lineEnd(),s=a=NaN},clean:function(){return 2-i}}},function(e,i,s,a){var c;if(e==null)c=s*tl,a.point(-ui,c),a.point(0,c),a.point(ui,c),a.point(ui,0),a.point(ui,-c),a.point(0,-c),a.point(-ui,-c),a.point(-ui,0),a.point(-ui,c);else if(Un(e[0]-i[0])>Fi){var h=e[0]<i[0]?ui:-ui;c=s*h/2,a.point(-h,c),a.point(0,c),a.point(h,c)}else a.point(i[0],i[1])},[-ui,-tl]);function KI(e,i){var s=Vi(e),a=s>0,c=Un(s)>Fi;function h(w,x){return Vi(w)*Vi(x)>s}function g(w,x,T){var E=[1,0,0],P=T0(Dd(w),Dd(x)),z=E0(P,P),N=P[0],B=z-N*N;if(!B)return!T&&w;var I=s*z/B,Y=-s*N/B,it=T0(E,P),D=S0(E,I);nw(D,S0(P,Y));var Z=it,K=E0(D,Z),tt=E0(Z,Z),Q=K*K-tt*(E0(D,D)-1);if(!(Q<0)){var Rt=jf(Q),Et=S0(Z,(-K-Rt)/tt);if(nw(Et,D),Et=iw(Et),!T)return Et;var Nt,Tt=w[0],jt=x[0],Mt=w[1],Pt=x[1];jt<Tt&&(Nt=Tt,Tt=jt,jt=Nt);var St=jt-Tt,Dt=Un(St-ui)<Fi;if(!Dt&&Pt<Mt&&(Nt=Mt,Mt=Pt,Pt=Nt),Dt||St<Fi?Dt?Mt+Pt>0^Et[1]<(Un(Et[0]-Tt)<Fi?Mt:Pt):Mt<=Et[1]&&Et[1]<=Pt:St>ui^(Tt<=Et[0]&&Et[0]<=jt)){var It=S0(Z,(-K+Rt)/tt);return nw(It,D),[Et,iw(It)]}}}function y(w,x){var T=a?e:ui-e,E=0;return w<-T?E|=1:w>T&&(E|=2),x<-T?E|=4:x>T&&(E|=8),E}return f2(h,function(w){var x,T,E,P,z;return{lineStart:function(){P=E=!1,z=1},point:function(N,B){var I,Y=[N,B],it=h(N,B),D=a?it?0:y(N,B):it?y(N+(N<0?ui:-ui),B):0;if(!x&&(P=E=it)&&w.lineStart(),it!==E&&(!(I=g(x,Y))||C0(x,I)||C0(Y,I))&&(Y[0]+=Fi,Y[1]+=Fi,it=h(Y[0],Y[1])),it!==E)z=0,it?(w.lineStart(),I=g(Y,x),w.point(I[0],I[1])):(I=g(x,Y),w.point(I[0],I[1]),w.lineEnd()),x=I;else if(c&&x&&a^it){var Z;D&T||!(Z=g(Y,x,!0))||(z=0,a?(w.lineStart(),w.point(Z[0][0],Z[0][1]),w.point(Z[1][0],Z[1][1]),w.lineEnd()):(w.point(Z[1][0],Z[1][1]),w.lineEnd(),w.lineStart(),w.point(Z[0][0],Z[0][1])))}!it||x&&C0(x,Y)||w.point(Y[0],Y[1]),x=Y,E=it,T=D},lineEnd:function(){E&&w.lineEnd(),x=null},clean:function(){return z|(P&&E)<<1}}},function(w,x,T,E){(function(P,z,N,B,I,Y){if(N){var it=Vi(z),D=Wi(z),Z=B*N;I==null?(I=z+B*el,Y=z-Z/2):(I=o2(it,I),Y=o2(it,Y),(B>0?I<Y:I>Y)&&(I+=B*el));for(var K,tt=I;B>0?tt>Y:tt<Y;tt-=Z)K=iw([it,-D*Vi(tt),-D*Wi(tt)]),P.point(K[0],K[1])}})(E,e,i,T,w,x)},a?[0,-e]:[-ui,e-ui])}function m2(e){return function(i){var s=new cw;for(var a in e)s[a]=e[a];return s.stream=i,s}}function cw(){}function v2(e,i,s){var a=i[1][0]-i[0][0],c=i[1][1]-i[0][1],h=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),h!=null&&e.clipExtent(null),function(T,E){T&&Qk.hasOwnProperty(T.type)?Qk[T.type](T,E):k0(T,E)}(s,e.stream(p2));var g=p2.result(),y=Math.min(a/(g[1][0]-g[0][0]),c/(g[1][1]-g[0][1])),w=+i[0][0]+(a-y*(g[1][0]+g[0][0]))/2,x=+i[0][1]+(c-y*(g[1][1]+g[0][1]))/2;return h!=null&&e.clipExtent(h),e.scale(150*y).translate([w,x])}cw.prototype={constructor:cw,point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var JI=Vi(30*Ws);function y2(e,i){return+i?function(s,a){function c(h,g,y,w,x,T,E,P,z,N,B,I,Y,it){var D=E-h,Z=P-g,K=D*D+Z*Z;if(K>4*a&&Y--){var tt=w+N,Q=x+B,Rt=T+I,Et=jf(tt*tt+Q*Q+Rt*Rt),Nt=Nd(Rt/=Et),Tt=Un(Un(Rt)-1)<Fi||Un(y-z)<Fi?(y+z)/2:zd(Q,tt),jt=s(Tt,Nt),Mt=jt[0],Pt=jt[1],St=Mt-h,Dt=Pt-g,It=Z*St-D*Dt;(It*It/K>a||Un((D*St+Z*Dt)/K-.5)>.3||w*N+x*B+T*I<JI)&&(c(h,g,y,w,x,T,Mt,Pt,Tt,tt/=Et,Q/=Et,Rt,Y,it),it.point(Mt,Pt),c(Mt,Pt,Tt,tt,Q,Rt,E,P,z,N,B,I,Y,it))}}return function(h){var g,y,w,x,T,E,P,z,N,B,I,Y,it={point:D,lineStart:Z,lineEnd:tt,polygonStart:function(){h.polygonStart(),it.lineStart=Q},polygonEnd:function(){h.polygonEnd(),it.lineStart=Z}};function D(Nt,Tt){Nt=s(Nt,Tt),h.point(Nt[0],Nt[1])}function Z(){z=NaN,it.point=K,h.lineStart()}function K(Nt,Tt){var jt=Dd([Nt,Tt]),Mt=s(Nt,Tt);c(z,N,P,B,I,Y,z=Mt[0],N=Mt[1],P=Nt,B=jt[0],I=jt[1],Y=jt[2],16,h),h.point(z,N)}function tt(){it.point=D,h.lineEnd()}function Q(){Z(),it.point=Rt,it.lineEnd=Et}function Rt(Nt,Tt){K(g=Nt,Tt),y=z,w=N,x=B,T=I,E=Y,it.point=K}function Et(){c(z,N,P,B,I,Y,y,w,g,x,T,E,16,h),it.lineEnd=tt,tt()}return it}}(e,i):function(s){return m2({point:function(a,c){a=s(a,c),this.stream.point(a[0],a[1])}})}(e)}var QI=m2({point:function(e,i){this.stream.point(e*Ws,i*Ws)}});function $I(e){return function(i){var s,a,c,h,g,y,w,x,T,E,P=150,z=480,N=250,B=0,I=0,Y=0,it=0,D=0,Z=null,K=g2,tt=null,Q=d2,Rt=.5,Et=y2(jt,Rt);function Nt(St){return[(St=g(St[0]*Ws,St[1]*Ws))[0]*P+a,c-St[1]*P]}function Tt(St){return(St=g.invert((St[0]-a)/P,(c-St[1])/P))&&[St[0]*Xc,St[1]*Xc]}function jt(St,Dt){return[(St=s(St,Dt))[0]*P+a,c-St[1]*P]}function Mt(){g=e2(h=function(Dt,It,Ut){return(Dt%=el)?It||Ut?e2(i2(Dt),n2(It,Ut)):i2(Dt):It||Ut?n2(It,Ut):sw}(Y,it,D),s);var St=s(B,I);return a=z-St[0]*P,c=N+St[1]*P,Pt()}function Pt(){return T=E=null,Nt}return Nt.stream=function(St){return T&&E===St?T:T=QI(K(h,Et(Q(E=St))))},Nt.clipAngle=function(St){return arguments.length?(K=+St?KI(Z=St*Ws,6*Ws):(Z=null,g2),Pt()):Z*Xc},Nt.clipExtent=function(St){return arguments.length?(Q=St==null?(tt=y=w=x=null,d2):ZI(tt=+St[0][0],y=+St[0][1],w=+St[1][0],x=+St[1][1]),Pt()):tt==null?null:[[tt,y],[w,x]]},Nt.scale=function(St){return arguments.length?(P=+St,Mt()):P},Nt.translate=function(St){return arguments.length?(z=+St[0],N=+St[1],Mt()):[z,N]},Nt.center=function(St){return arguments.length?(B=St[0]%360*Ws,I=St[1]%360*Ws,Mt()):[B*Xc,I*Xc]},Nt.rotate=function(St){return arguments.length?(Y=St[0]%360*Ws,it=St[1]%360*Ws,D=St.length>2?St[2]%360*Ws:0,Mt()):[Y*Xc,it*Xc,D*Xc]},Nt.precision=function(St){return arguments.length?(Et=y2(jt,Rt=St*St),Pt()):jf(Rt)},Nt.fitExtent=function(St,Dt){return v2(Nt,St,Dt)},Nt.fitSize=function(St,Dt){return function(It,Ut,gt){return v2(It,[[0,0],Ut],gt)}(Nt,St,Dt)},function(){return s=i.apply(this,arguments),Nt.invert=s.invert&&Tt,Mt()}}(function(){return e})()}var b2=function(e){return function(i,s){var a=Vi(i),c=Vi(s),h=e(a*c);return[h*c*Wi(i),h*Wi(s)]}}(function(e){return(e=Jk(e))&&e/Wi(e)});function tL(){return $I(b2).scale(79.4188).clipAngle(179.999)}function R0(e,i,s,a){var c=e.properties||{},h=e.type==="Feature"?e.geometry:e;if(h.type==="GeometryCollection"){var g=[];return ee(e,function(P){var z=R0(P,i,s,a);z&&g.push(z)}),M(g)}var y=function(P){var z=rs(P).geometry.coordinates,N=[-z[0],-z[1]];return tL().rotate(N).scale(r)}(h),w={type:h.type,coordinates:x2(h.coordinates,y)},x=new Wb().read(w),T=j(q(i,s),"meters"),E=gn.bufferOp(x,T,a);if(!w2((E=new Mk().write(E)).coordinates))return u({type:E.type,coordinates:_2(E.coordinates,y)},c)}function w2(e){return Array.isArray(e[0])?w2(e[0]):isNaN(e[0])}function x2(e,i){return typeof e[0]!="object"?i(e):e.map(function(s){return x2(s,i)})}function _2(e,i){return typeof e[0]!="object"?i.invert(e):e.map(function(s){return _2(s,i)})}function qf(e,i,s){s===void 0&&(s={});var a=_t(e),c=_t(i),h=Nl.intersection(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):U(h,s.properties)}function k2(e,i,s){s===void 0&&(s={});var a=JSON.stringify(s.properties||{}),c=e[0],h=e[1],g=e[2],y=e[3],w=(h+y)/2,x=(c+g)/2,T=2*i/or([c,w],[g,w],s)*(g-c),E=2*i/or([x,h],[x,y],s)*(y-h),P=T/2,z=2*P,N=Math.sqrt(3)/2*E,B=g-c,I=y-h,Y=3/4*z,it=N,D=(B-z)/(z-P/2),Z=Math.floor(D),K=(Z*Y-P/2-B)/2-P/2+Y/2,tt=Math.floor((I-N)/N),Q=(I-tt*N)/2,Rt=tt*N-I>N/2;Rt&&(Q-=N/4);for(var Et=[],Nt=[],Tt=0;Tt<6;Tt++){var jt=2*Math.PI/6*Tt;Et.push(Math.cos(jt)),Nt.push(Math.sin(jt))}for(var Mt=[],Pt=0;Pt<=Z;Pt++)for(var St=0;St<=tt;St++){var Dt=Pt%2==1;if((St!==0||!Dt)&&(St!==0||!Rt)){var It=Pt*Y+c-K,Ut=St*it+h+Q;if(Dt&&(Ut-=N/2),s.triangles===!0)rL([It,Ut],T/2,E/2,JSON.parse(a),Et,Nt).forEach(function(Re){s.mask?qf(s.mask,Re)&&Mt.push(Re):Mt.push(Re)});else{var gt=eL([It,Ut],T/2,E/2,JSON.parse(a),Et,Nt);s.mask?qf(s.mask,gt)&&Mt.push(gt):Mt.push(gt)}}}return M(Mt)}function eL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=e[0]+i*c[y],x=e[1]+s*h[y];g.push([w,x])}return g.push(g[0].slice()),v([g],a)}function rL(e,i,s,a,c,h){for(var g=[],y=0;y<6;y++){var w=[];w.push(e),w.push([e[0]+i*c[y],e[1]+s*h[y]]),w.push([e[0]+i*c[(y+1)%6],e[1]+s*h[(y+1)%6]]),w.push(e),g.push(v([w],a))}return g}function E2(e){return U(e)}function iL(e){return v(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function T2(e,i,s){return s===void 0&&(s={}),function(a,c,h,g){g===void 0&&(g={});for(var y=[],w=a[0],x=a[1],T=a[2],E=a[3],P=c/or([w,x],[T,x],g)*(T-w),z=h/or([w,x],[w,E],g)*(E-x),N=T-w,B=E-x,I=Math.floor(N/P),Y=Math.floor(B/z),it=(B-Y*z)/2,D=w+(N-I*P)/2,Z=0;Z<I;Z++){for(var K=x+it,tt=0;tt<Y;tt++){var Q=v([[[D,K],[D,K+z],[D+P,K+z],[D+P,K],[D,K]]],g.properties);g.mask?P_(g.mask,Q)&&y.push(Q):y.push(Q),K+=z}D+=P}return M(y)}(e,i,i,s)}function S2(e,i,s){s===void 0&&(s={});for(var a=[],c=i/or([e[0],e[1]],[e[2],e[1]],s)*(e[2]-e[0]),h=i/or([e[0],e[1]],[e[0],e[3]],s)*(e[3]-e[1]),g=0,y=e[0];y<=e[2];){for(var w=0,x=e[1];x<=e[3];){var T=null,E=null;g%2==0&&w%2==0?(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)):g%2==0&&w%2==1?(T=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties)):w%2==0&&g%2==1?(T=v([[[y,x],[y,x+h],[y+c,x+h],[y,x]]],s.properties),E=v([[[y,x],[y+c,x+h],[y+c,x],[y,x]]],s.properties)):w%2==1&&g%2==1&&(T=v([[[y,x],[y,x+h],[y+c,x],[y,x]]],s.properties),E=v([[[y,x+h],[y+c,x+h],[y+c,x],[y,x+h]]],s.properties)),s.mask?(qf(s.mask,T)&&a.push(T),qf(s.mask,E)&&a.push(E)):(a.push(T),a.push(E)),x+=h,w++}g++,y+=c}return M(a)}b2.invert=function(e){return function(i,s){var a=jf(i*i+s*s),c=e(a),h=Wi(c),g=Vi(c);return[zd(i*h,a*g),Nd(a&&s*h/a)]}}(function(e){return e}),n.along=function(e,i,s){s===void 0&&(s={});for(var a=_t(e).coordinates,c=0,h=0;h<a.length&&!(i>=c&&h===a.length-1);h++){if(c>=i){var g=i-c;if(g){var y=Ts(a[h],a[h-1])-180;return $i(a[h],g,y,s)}return p(a[h])}c+=or(a[h],a[h+1],s)}return p(a[a.length-1])},n.angle=function(e,i,s,a){if(a===void 0&&(a={}),!mt(a))throw new Error("options is invalid");if(!e)throw new Error("startPoint is required");if(!i)throw new Error("midPoint is required");if(!s)throw new Error("endPoint is required");var c=e,h=i,g=s,y=pt(a.mercator!==!0?Ts(c,h):zl(c,h)),w=pt(a.mercator!==!0?Ts(g,h):zl(g,h)),x=Math.abs(y-w);return a.explementary===!0?360-x:x},n.applyFilter=e0,n.area=td,n.areaFactors=l,n.bbox=vt,n.bboxClip=function(e,i){var s=_t(e),a=s.type,c=e.type==="Feature"?e.properties:{},h=s.coordinates;switch(a){case"LineString":case"MultiLineString":var g=[];return a==="LineString"&&(h=[h]),h.forEach(function(y){(function(w,x,T){var E,P,z,N,B,I=w.length,Y=Ol(w[0],x),it=[];for(T||(T=[]),E=1;E<I;E++){for(N=w[E-1],P=z=Ol(B=w[E],x);;){if(!(Y|P)){it.push(N),P!==z?(it.push(B),E<I-1&&(T.push(it),it=[])):E===I-1&&it.push(B);break}if(Y&P)break;Y?Y=Ol(N=af(N,B,Y,x),x):P=Ol(B=af(N,B,P,x),x)}Y=z}it.length&&T.push(it)})(y,i,g)}),g.length===1?k(g[0],c):A(g,c);case"Polygon":return v(Hi(h,i),c);case"MultiPolygon":return U(h.map(function(y){return Hi(y,i)}),c);default:throw new Error("geometry "+a+" not supported")}},n.bboxPolygon=Hp,n.bearing=Ts,n.bearingToAngle=pt,n.bearingToAzimuth=pt,n.bezier=Sm,n.bezierSpline=Sm,n.booleanClockwise=Zm,n.booleanContains=function(e,i){var s=_t(e),a=_t(i),c=s.type,h=a.type,g=s.coordinates,y=a.coordinates;switch(c){case"Point":switch(h){case"Point":return _b(g,y);default:throw new Error("feature2 "+h+" geometry not supported")}case"MultiPoint":switch(h){case"Point":return function(w,x){var T,E=!1;for(T=0;T<w.coordinates.length;T++)if(_b(w.coordinates[T],x.coordinates)){E=!0;break}return E}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++){for(var P=E[T],z=!1,N=0,B=w.coordinates;N<B.length;N++)if(_b(P,B[N])){z=!0;break}if(!z)return!1}return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"Point":return ro(a,s,{ignoreEndVertices:!0});case"LineString":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(ro({type:"Point",coordinates:z},w,{ignoreEndVertices:!0})&&(T=!0),!ro({type:"Point",coordinates:z},w,{ignoreEndVertices:!1}))return!1}return T}(s,a);case"MultiPoint":return function(w,x){for(var T=!1,E=0,P=x.coordinates;E<P.length;E++){var z=P[E];if(ro(z,w,{ignoreEndVertices:!0})&&(T=!0),!ro(z,w))return!1}return!!T}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"Point":return $e(a,s,{ignoreBoundary:!0});case"LineString":return function(w,x){var T=!1,E=0,P=vt(w),z=vt(x);if(!w_(P,z))return!1;for(;E<x.coordinates.length-1;E++)if($e({type:"Point",coordinates:FM(x.coordinates[E],x.coordinates[E+1])},w,{ignoreBoundary:!0})){T=!0;break}return T}(s,a);case"Polygon":return function(w,x){if(w.type==="Feature"&&w.geometry===null||x.type==="Feature"&&x.geometry===null)return!1;var T=vt(w),E=vt(x);if(!w_(T,E))return!1;for(var P=_t(x).coordinates,z=0,N=P;z<N.length;z++)for(var B=0,I=N[z];B<I.length;B++)if(!$e(I[B],w))return!1;return!0}(s,a);case"MultiPoint":return function(w,x){for(var T=0,E=x.coordinates;T<E.length;T++)if(!$e(E[T],w,{ignoreBoundary:!0}))return!1;return!0}(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanCrosses=function(e,i){var s=_t(e),a=_t(i),c=s.type,h=a.type;switch(c){case"MultiPoint":switch(h){case"LineString":return x_(s,a);case"Polygon":return k_(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"LineString":switch(h){case"MultiPoint":return x_(a,s);case"LineString":return function(g,y){if(dn(g,y).features.length>0)for(var w=0;w<g.coordinates.length-1;w++)for(var x=0;x<y.coordinates.length-1;x++){var T=!0;if(x!==0&&x!==y.coordinates.length-2||(T=!1),E_(g.coordinates[w],g.coordinates[w+1],y.coordinates[x],T))return!0}return!1}(s,a);case"Polygon":return __(s,a);default:throw new Error("feature2 "+h+" geometry not supported")}case"Polygon":switch(h){case"MultiPoint":return k_(a,s);case"LineString":return __(a,s);default:throw new Error("feature2 "+h+" geometry not supported")}default:throw new Error("feature1 "+c+" geometry not supported")}},n.booleanDisjoint=v_,n.booleanEqual=function(e,i){return _t(e).type===_t(i).type&&new C_({precision:6}).compare(ra(e),ra(i))},n.booleanIntersects=P_,n.booleanOverlap=function(e,i){var s=_t(e),a=_t(i),c=s.type,h=a.type;if(c==="MultiPoint"&&h!=="MultiPoint"||(c==="LineString"||c==="MultiLineString")&&h!=="LineString"&&h!=="MultiLineString"||(c==="Polygon"||c==="MultiPolygon")&&h!=="Polygon"&&h!=="MultiPolygon")throw new Error("features must be of the same type");if(c==="Point")throw new Error("Point geometry not supported");if(new C_({precision:6}).compare(e,i))return!1;var g=0;switch(c){case"MultiPoint":for(var y=0;y<s.coordinates.length;y++)for(var w=0;w<a.coordinates.length;w++){var x=s.coordinates[y],T=a.coordinates[w];if(x[0]===T[0]&&x[1]===T[1])return!0}return!1;case"LineString":case"MultiLineString":er(e,function(E){er(i,function(P){Wm(E,P).features.length&&g++})});break;case"Polygon":case"MultiPolygon":er(e,function(E){er(i,function(P){dn(E,P).features.length&&g++})})}return g>0},n.booleanParallel=function(e,i){if(!e)throw new Error("line1 is required");if(!i)throw new Error("line2 is required");if(R_(e,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(R_(i,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var s=Vn(ra(e)).features,a=Vn(ra(i)).features,c=0;c<s.length;c++){var h=s[c].geometry.coordinates;if(!a[c])break;if(!KM(h,a[c].geometry.coordinates))return!1}return!0},n.booleanPointInPolygon=$e,n.booleanPointOnLine=ro,n.booleanWithin=Ic,n.buffer=function(e,i,s){var a=(s=s||{}).units||"kilometers",c=s.steps||8;if(!e)throw new Error("geojson is required");if(typeof s!="object")throw new Error("options must be an object");if(typeof c!="number")throw new Error("steps must be an number");if(i===void 0)throw new Error("radius is required");if(c<=0)throw new Error("steps must be greater than 0");var h=[];switch(e.type){case"GeometryCollection":return ee(e,function(g){var y=R0(g,i,a,c);y&&h.push(y)}),M(h);case"FeatureCollection":return wt(e,function(g){var y=R0(g,i,a,c);y&&wt(y,function(w){w&&h.push(w)})}),M(h)}return R0(e,i,a,c)},n.center=rs,n.centerMean=Sb,n.centerMedian=function(e,i){if(i===void 0&&(i={}),!mt(i=i||{}))throw new Error("options is invalid");var s=i.counter||10;if(!ht(s))throw new Error("counter must be a number");var a=i.weight,c=Sb(e,{weight:i.weight}),h=M([]);wt(e,function(y){var w;h.features.push(ia(y,{properties:{weight:(w=y.properties)===null||w===void 0?void 0:w[a]}}))});var g={tolerance:i.tolerance,medianCandidates:[]};return q_(c.geometry.coordinates,[0,0],h,g,s)},n.centerOfMass=function e(i,s){switch(s===void 0&&(s={}),te(i)){case"Point":return p(O(i),s.properties);case"Polygon":var a=[];Gt(i,function(Z){a.push(Z)});var c,h,g,y,w,x,T,E,P=ia(i,{properties:s.properties}),z=P.geometry.coordinates,N=0,B=0,I=0,Y=a.map(function(Z){return[Z[0]-z[0],Z[1]-z[1]]});for(c=0;c<a.length-1;c++)y=(h=Y[c])[0],x=h[1],w=(g=Y[c+1])[0],I+=E=y*(T=g[1])-w*x,N+=(y+w)*E,B+=(x+T)*E;if(I===0)return P;var it=1/(6*(.5*I));return p([z[0]+it*N,z[1]+it*B],s.properties);default:var D=dr(i);return D?e(D,{properties:s.properties}):ia(i,{properties:s.properties})}},n.centroid=ia,n.circle=Up,n.cleanCoords=ra,n.clone=Pi,n.clusterEach=Cb,n.clusterReduce=ok,n.clusters=yI,n.clustersDbscan=function(e,i,s){s===void 0&&(s={}),s.mutate!==!0&&(e=Pi(e)),s.minPoints=s.minPoints||3;var a=new GM.DBSCAN,c=a.run(Wt(e),V(i,s.units),s.minPoints,or),h=-1;return c.forEach(function(g){h++,g.forEach(function(y){var w=e.features[y];w.properties||(w.properties={}),w.properties.cluster=h,w.properties.dbscan="core"})}),a.noise.forEach(function(g){var y=e.features[g];y.properties||(y.properties={}),y.properties.cluster?y.properties.dbscan="edge":y.properties.dbscan="noise"}),e},n.clustersKmeans=function(e,i){i===void 0&&(i={});var s=e.features.length;i.numberOfClusters=i.numberOfClusters||Math.round(Math.sqrt(s/2)),i.numberOfClusters>s&&(i.numberOfClusters=s),i.mutate!==!0&&(e=Pi(e));var a=Wt(e),c=a.slice(0,i.numberOfClusters),h=XM(a,i.numberOfClusters,c),g={};return h.centroids.forEach(function(y,w){g[w]=y}),wt(e,function(y,w){var x=h.idxs[w];y.properties.cluster=x,y.properties.centroid=g[x]}),e},n.collect=function(e,i,s,a){var c=Ji(6),h=i.features.map(function(g){var y;return{minX:g.geometry.coordinates[0],minY:g.geometry.coordinates[1],maxX:g.geometry.coordinates[0],maxY:g.geometry.coordinates[1],property:(y=g.properties)===null||y===void 0?void 0:y[s]}});return c.load(h),e.features.forEach(function(g){g.properties||(g.properties={});var y=vt(g),w=c.search({minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]}),x=[];w.forEach(function(T){$e([T.minX,T.minY],g)&&x.push(T.property)}),g.properties[a]=x}),e},n.collectionOf=zt,n.combine=function(e){var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return wt(e,function(s){var a,c,h,g;switch((g=s.geometry)===null||g===void 0?void 0:g.type){case"Point":i.MultiPoint.coordinates.push(s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"MultiPoint":(a=i.MultiPoint.coordinates).push.apply(a,s.geometry.coordinates),i.MultiPoint.properties.push(s.properties);break;case"LineString":i.MultiLineString.coordinates.push(s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"MultiLineString":(c=i.MultiLineString.coordinates).push.apply(c,s.geometry.coordinates),i.MultiLineString.properties.push(s.properties);break;case"Polygon":i.MultiPolygon.coordinates.push(s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties);break;case"MultiPolygon":(h=i.MultiPolygon.coordinates).push.apply(h,s.geometry.coordinates),i.MultiPolygon.properties.push(s.properties)}}),M(Object.keys(i).filter(function(s){return i[s].coordinates.length}).sort().map(function(s){return u({type:s,coordinates:i[s].coordinates},{collectedProperties:i[s].properties})}))},n.concave=function(e,i){i===void 0&&(i={});var s=i.maxEdge||1/0,a=wm(function(h){var g=[],y={};return wt(h,function(w){if(w.geometry){var x=w.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(y,x)||(g.push(w),y[x]=!0)}}),M(g)}(e));if(a.features=a.features.filter(function(h){var g=h.geometry.coordinates[0][0],y=h.geometry.coordinates[0][1],w=h.geometry.coordinates[0][2],x=or(g,y,i),T=or(y,w,i),E=or(g,w,i);return x<=s&&T<=s&&E<=s}),a.features.length<1)return null;var c=km(a);return c.coordinates.length===1&&(c.coordinates=c.coordinates[0],c.type="Polygon"),u(c)},n.containsNumber=dt,n.convertArea=at,n.convertDistance=V,n.convertLength=V,n.convex=dr,n.coordAll=Wt,n.coordEach=Gt,n.coordReduce=de,n.createBins=Pb,n.degrees2radians=ct,n.degreesToRadians=ct,n.destination=$i,n.difference=function(e,i){var s=_t(e),a=_t(i),c=e.properties||{},h=Nl.difference(s.coordinates,a.coordinates);return h.length===0?null:h.length===1?v(h[0],c):U(h,c)},n.dissolve=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.propertyName;zt(e,"Polygon","dissolve");var a=[];if(!i.propertyName)return nd(U(Nl.union.apply(null,e.features.map(function(w){return w.geometry.coordinates}))));var c={};wt(e,function(w){Object.prototype.hasOwnProperty.call(c,w.properties[s])||(c[w.properties[s]]=[]),c[w.properties[s]].push(w)});for(var h=Object.keys(c),g=0;g<h.length;g++){var y=U(Nl.union.apply(null,c[h[g]].map(function(w){return w.geometry.coordinates})));y.properties[s]=h[g],a.push(y)}return nd(M(a))},n.distance=or,n.distanceToDegrees=nt,n.distanceToRadians=q,n.distanceWeight=W_,n.earthRadius=r,n.ellipse=U_,n.envelope=Uh,n.explode=Ou,n.factors=t,n.feature=u,n.featureCollection=M,n.featureEach=wt,n.featureOf=xt,n.featureReduce=Ot,n.filterProperties=sk,n.findPoint=ot,n.findSegment=Xt,n.flatten=nd,n.flattenEach=se,n.flattenReduce=he,n.flip=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.mutate;if(!e)throw new Error("geojson is required");return s!==!1&&s!==void 0||(e=Pi(e)),Gt(e,function(a){var c=a[0],h=a[1];a[0]=h,a[1]=c}),e},n.geojsonType=kt,n.geomEach=ee,n.geomReduce=me,n.geometry=d,n.geometryCollection=H,n.getCluster=nk,n.getCoord=O,n.getCoords=X,n.getGeom=_t,n.getType=te,n.greatCircle=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.properties,c=s.npoints,h=s.offset;return e=O(e),i=O(i),a=a||{},c=c||100,h=h||10,new Ht({x:e[0],y:e[1]},{x:i[0],y:i[1]},a).Arc(c,{offset:h}).json()},n.helpers=ye,n.hexGrid=k2,n.inside=$e,n.interpolate=function(e,i,s){if(typeof(s=s||{})!="object")throw new Error("options is invalid");var a=s.gridType,c=s.property,h=s.weight;if(!e)throw new Error("points is required");if(zt(e,"Point","input must contain Points"),!i)throw new Error("cellSize is required");if(h!==void 0&&typeof h!="number")throw new Error("weight must be a number");c=c||"elevation",a=a||"square",h=h||1;var g,y=vt(e);switch(a){case"point":case"points":g=rf(y,i,s);break;case"square":case"squares":g=T2(y,i,s);break;case"hex":case"hexes":g=k2(y,i,s);break;case"triangle":case"triangles":g=S2(y,i,s);break;default:throw new Error("invalid gridType")}var w=[];return wt(g,function(x){var T=0,E=0;wt(e,function(z){var N,B=or(a==="point"?x:ia(x),z,s);if(c!==void 0&&(N=z.properties[c]),N===void 0&&(N=z.geometry.coordinates[2]),N===void 0)throw new Error("zValue is missing");B===0&&(T=N);var I=1/Math.pow(B,h);E+=I,T+=I*N});var P=Pi(x);P.properties[c]=T/E,w.push(P)}),M(w)},n.intersect=qf,n.invariant=le,n.isNumber=ht,n.isObject=mt,n.isobands=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(zt(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks is not an Array");if(!mt(c))throw new Error("commonProperties is not an Object");if(!Array.isArray(h))throw new Error("breaksProperties is not an Array");var g=TM(e,{zProperty:a,flip:!0}),y=function(w,x,T){for(var E=[],P=1;P<x.length;P++){var z=+x[P-1],N=+x[P],B=LM(IM(SM(w,z,N-z))),I={};I.groupedRings=B,I[T]=z+"-"+N,E.push(I)}return E}(g,i,a);return M((y=function(w,x,T){var E=vt(T),P=E[2]-E[0],z=E[3]-E[1],N=E[0],B=E[1],I=x[0].length-1,Y=x.length-1,it=P/I,D=z/Y,Z=function(K){K[0]=K[0]*it+N,K[1]=K[1]*D+B};return w.forEach(function(K){K.groupedRings.forEach(function(tt){tt.forEach(function(Q){Q.forEach(Z)})})}),w}(y,g,e)).map(function(w,x){if(h[x]&&!mt(h[x]))throw new Error("Each mappedProperty is required to be an Object");var T=Ve({},c,h[x]);return T[a]=w[a],U(w.groupedRings,T)}))},n.isolines=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.zProperty||"elevation",c=s.commonProperties||{},h=s.breaksProperties||[];if(zt(e,"Point","Input must contain Points"),!i)throw new Error("breaks is required");if(!Array.isArray(i))throw new Error("breaks must be an Array");if(!mt(c))throw new Error("commonProperties must be an Object");if(!Array.isArray(h))throw new Error("breaksProperties must be an Array");var g=cr(e,{zProperty:a,flip:!0});return M(function(y,w,x){var T=vt(x),E=T[2]-T[0],P=T[3]-T[1],z=T[0],N=T[1],B=w[0].length-1,I=w.length-1,Y=E/B,it=P/I,D=function(Z){Z[0]=Z[0]*Y+z,Z[1]=Z[1]*it+N};return y.forEach(function(Z){Gt(Z,D)}),y}(function(y,w,x,T,E){for(var P=[],z=1;z<w.length;z++){var N=+w[z],B=Ve({},T,E[z]);B[x]=N;var I=A(lt(y,N),B);P.push(I)}return P}(g,i,a,c,h),g,e))},n.kinks=function(e){var i,s,a={type:"FeatureCollection",features:[]};if((s=e.type==="Feature"?e.geometry:e).type==="LineString")i=[s.coordinates];else if(s.type==="MultiLineString")i=s.coordinates;else if(s.type==="MultiPolygon")i=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");i=s.coordinates}return i.forEach(function(c){i.forEach(function(h){for(var g=0;g<c.length-1;g++)for(var y=g;y<h.length-1;y++)if(!(c===h&&(Math.abs(g-y)===1||g===0&&y===c.length-2&&c[g][0]===c[c.length-1][0]&&c[g][1]===c[c.length-1][1]))){var w=Hu(c[g][0],c[g][1],c[g+1][0],c[g+1][1],h[y][0],h[y][1],h[y+1][0],h[y+1][1]);w&&a.features.push(p([w[0],w[1]]))}})}),a},n.length=rd,n.lengthToDegrees=nt,n.lengthToRadians=q,n.lineArc=Rn,n.lineChunk=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units,c=s.reverse;if(!e)throw new Error("geojson is required");if(i<=0)throw new Error("segmentLength must be greater than 0");var h=[];return se(e,function(g){c&&(g.geometry.coordinates=g.geometry.coordinates.reverse()),function(y,w,x,T){var E=rd(y,{units:x});if(E<=w)return T(y);var P=E/w;Number.isInteger(P)||(P=Math.floor(P)+1);for(var z=0;z<P;z++)T(Mc(y,w*z,w*(z+1),{units:x}),z)}(g,i,a,function(y){h.push(y)})}),M(h)},n.lineDistance=rd,n.lineEach=qt,n.lineIntersect=dn,n.lineOffset=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.units;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");var c=te(e),h=e.properties;switch(c){case"LineString":return p_(e,i,a);case"MultiLineString":var g=[];return se(e,function(y){g.push(p_(y,i,a).geometry.coordinates)}),A(g,h);default:throw new Error("geometry "+c+" is not supported")}},n.lineOverlap=Wm,n.lineReduce=Yt,n.lineSegment=Vn,n.lineSlice=function(e,i,s){var a=X(s);if(te(s)!=="LineString")throw new Error("line must be a LineString");for(var c,h=la(s,e),g=la(s,i),y=[(c=h.properties.index<=g.properties.index?[h,g]:[g,h])[0].geometry.coordinates],w=c[0].properties.index+1;w<c[1].properties.index+1;w++)y.push(a[w]);return y.push(c[1].geometry.coordinates),k(y,s.properties)},n.lineSliceAlong=Mc,n.lineSplit=function(e,i){if(!e)throw new Error("line is required");if(!i)throw new Error("splitter is required");var s=te(e),a=te(i);if(s!=="LineString")throw new Error("line must be LineString");if(a==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(a==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var c=nf(i,{precision:7});switch(a){case"Point":return xe(e,c);case"MultiPoint":return $t(e,c);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return $t(e,dn(e,c))}},n.lineString=k,n.lineStringToPolygon=Hm,n.lineStrings=C,n.lineToPolygon=Hm,n.mask=function(e,i){var s,a=iL(i),c=null;return e.type==="FeatureCollection"?c=E2((s=e).features.length===2?Nl.union(s.features[0].geometry.coordinates,s.features[1].geometry.coordinates):Nl.union.apply(Nl,s.features.map(function(h){return h.geometry.coordinates}))):c=E2(Nl.union(e.geometry.coordinates)),c.geometry.coordinates.forEach(function(h){a.geometry.coordinates.push(h[0])}),a},n.meta=ft,n.midpoint=function(e,i){return $i(e,or(e,i)/2,Ts(e,i))},n.moranIndex=function(e,i){var s=i.inputField,a=i.threshold||1e5,c=i.p||2,h=i.binary||!1,g=W_(e,{alpha:i.alpha||-1,binary:h,p:c,standardization:i.standardization||!0,threshold:a}),y=[];wt(e,function(tt){var Q=tt.properties||{};y.push(Q[s])});for(var w=Z_(y),x=function(tt){for(var Q=Z_(tt),Rt=0,Et=0,Nt=tt;Et<Nt.length;Et++){var Tt=Nt[Et];Rt+=Math.pow(Tt-Q,2)}return Rt/tt.length}(y),T=0,E=0,P=0,z=0,N=g.length,B=0;B<N;B++){for(var I=0,Y=0;Y<N;Y++)T+=g[B][Y]*(y[B]-w)*(y[Y]-w),E+=g[B][Y],P+=Math.pow(g[B][Y]+g[Y][B],2),I+=g[B][Y]+g[Y][B];z+=Math.pow(I,2)}var it=T/E/x,D=-1/(N-1),Z=(N*N*(P*=.5)-N*z+E*E*3)/((N-1)*(N+1)*(E*E))-D*D,K=Math.sqrt(Z);return{expectedMoranIndex:D,moranIndex:it,stdNorm:K,zNorm:(it-D)/K}},n.multiLineString=A,n.multiPoint=F,n.multiPolygon=U,n.nearest=Wh,n.nearestPoint=Wh,n.nearestPointOnLine=la,n.nearestPointToLine=function(e,i,s){s===void 0&&(s={});var a=s.units,c=s.properties||{},h=function(w){var x=[];switch(w.geometry?w.geometry.type:w.type){case"GeometryCollection":return ee(w,function(T){T.type==="Point"&&x.push({type:"Feature",properties:{},geometry:T})}),{type:"FeatureCollection",features:x};case"FeatureCollection":return w.features=w.features.filter(function(T){return T.geometry.type==="Point"}),w;default:throw new Error("points must be a Point Collection")}}(e);if(!h.features.length)throw new Error("points must contain features");if(!i)throw new Error("line is required");if(te(i)!=="LineString")throw new Error("line must be a LineString");var g=1/0,y=null;return wt(h,function(w){var x=Dm(w,i,{units:a});x<g&&(g=x,y=w)}),y&&(y.properties=Ve({dist:g},y.properties,c)),y},n.planepoint=function(e,i){var s=O(e),a=_t(i).coordinates[0];if(a.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var c=i.properties||{},h=c.a,g=c.b,y=c.c,w=s[0],x=s[1],T=a[0][0],E=a[0][1],P=h!==void 0?h:a[0][2],z=a[1][0],N=a[1][1],B=g!==void 0?g:a[1][2],I=a[2][0],Y=a[2][1],it=y!==void 0?y:a[2][2];return(it*(w-T)*(x-N)+P*(w-z)*(x-Y)+B*(w-I)*(x-E)-B*(w-T)*(x-Y)-it*(w-z)*(x-E)-P*(w-I)*(x-N))/((w-T)*(x-N)+(w-z)*(x-Y)+(w-I)*(x-E)-(w-T)*(x-Y)-(w-z)*(x-E)-(w-I)*(x-N))},n.point=p,n.pointGrid=rf,n.pointOnFeature=Fm,n.pointOnLine=la,n.pointOnSurface=Fm,n.pointToLineDistance=Dm,n.points=m,n.pointsWithinPolygon=yc,n.polygon=v,n.polygonSmooth=function(e,i){var s=[],a=i.iterations||1;if(!e)throw new Error("inputPolys is required");return ee(e,function(c,h,g){var y,w,x;switch(c.type){case"Polygon":y=[[]];for(var T=0;T<a;T++)x=[[]],w=c,T>0&&(w=v(y).geometry),dI(w,x),y=x.slice(0);s.push(v(y,g));break;case"MultiPolygon":y=[[[]]];for(var E=0;E<a;E++)x=[[[]]],w=c,E>0&&(w=U(y).geometry),pI(w,x),y=x.slice(0);s.push(U(y,g));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),M(s)},n.polygonTangents=function(e,i){var s,a,c,h,g=X(e),y=X(i),w=vt(i),x=0,T=null;switch(g[0]>w[0]&&g[0]<w[2]&&g[1]>w[1]&&g[1]<w[3]&&(x=(T=Wh(e,Ou(i))).properties.featureIndex),te(i)){case"Polygon":s=y[0][x],a=y[0][0],T!==null&&T.geometry.coordinates[1]<g[1]&&(a=y[0][x]),h=cf(y[0][0],y[0][y[0].length-1],g);var E=s_(y[0],g,h,c,s,a);s=E[0],a=E[1];break;case"MultiPolygon":for(var P=0,z=0,N=0,B=0;B<y[0].length;B++){P=B;for(var I=!1,Y=0;Y<y[0][B].length;Y++){if(z=Y,N===x){I=!0;break}N++}if(I)break}s=y[0][P][z],a=y[0][P][z],h=cf(y[0][0][0],y[0][0][y[0][0].length-1],g),y.forEach(function(it){var D=s_(it[0],g,h,c,s,a);s=D[0],a=D[1]})}return M([p(s),p(a)])},n.polygonToLine=An,n.polygonToLineString=An,n.polygonize=function(e){var i=NM.fromGeoJson(e);i.deleteDangles(),i.deleteCutEdges();var s=[],a=[];return i.getEdgeRings().filter(function(c){return c.isValid()}).forEach(function(c){c.isHole()?s.push(c):a.push(c)}),s.forEach(function(c){m_.findEdgeRingContaining(c,a)&&a.push(c)}),M(a.map(function(c){return c.toPolygon()}))},n.polygons=_,n.projection=gI,n.propEach=Jt,n.propReduce=Qe,n.propertiesContainsFilter=Mb,n.radians2degrees=ut,n.radiansToDegrees=ut,n.radiansToDistance=j,n.radiansToLength=j,n.random=vI,n.randomLineString=ek,n.randomPoint=$_,n.randomPolygon=tk,n.randomPosition=gf,n.rewind=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.reverse||!1,a=i.mutate||!1;if(!e)throw new Error("<geojson> is required");if(typeof s!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");a===!1&&(e=Pi(e));var c=[];switch(e.type){case"GeometryCollection":return ee(e,function(h){Ym(h,s)}),e;case"FeatureCollection":return wt(e,function(h){wt(Ym(h,s),function(g){c.push(g)})}),M(c)}return Ym(e,s)},n.rhumbBearing=zl,n.rhumbDestination=ad,n.rhumbDistance=Ll,n.round=W,n.sample=function(e,i){if(!e)throw new Error("featurecollection is required");if(i==null)throw new Error("num is required");if(typeof i!="number")throw new Error("num must be a number");return M(function(s,a){for(var c,h,g=s.slice(0),y=s.length,w=y-a;y-- >w;)c=g[h=Math.floor((y+1)*Math.random())],g[h]=g[y],g[y]=c;return g.slice(w)}(e.features,i))},n.sector=function(e,i,s,a,c){if(!mt(c=c||{}))throw new Error("options is invalid");var h=c.properties;if(!e)throw new Error("center is required");if(s==null)throw new Error("bearing1 is required");if(a==null)throw new Error("bearing2 is required");if(!i)throw new Error("radius is required");if(typeof c!="object")throw new Error("options must be an object");if(lf(s)===lf(a))return Up(e,i,c);var g=X(e),y=Rn(e,i,s,a,c),w=[[g]];return Gt(y,function(x){w[0].push(x)}),w[0].push(g),v(w,h)},n.segmentEach=er,n.segmentReduce=Ft,n.shortestPath=function(e,i,s){if(!mt(s=s||{}))throw new Error("options is invalid");var a=s.resolution,c=s.minDistance,h=s.obstacles||M([]);if(!e)throw new Error("start is required");if(!i)throw new Error("end is required");if(a&&!ht(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(c)throw new Error("options.minDistance is not yet implemented");var g=O(e),y=O(i);switch(e=p(g),i=p(y),te(h)){case"FeatureCollection":if(h.features.length===0)return k([g,y]);break;case"Polygon":h=M([u(_t(h))]);break;default:throw new Error("invalid obstacles")}var w=h;w.features.push(e),w.features.push(i);var x=vt(h_(Hp(vt(w)),1.15));a||(a=or([x[0],x[1]],[x[2],x[1]],s)/100),w.features.pop(),w.features.pop();for(var T=x[0],E=x[1],P=x[2],z=x[3],N=a/or([T,E],[P,E],s)*(P-T),B=a/or([T,E],[T,z],s)*(z-E),I=P-T,Y=z-E,it=Math.floor(I/N),D=Math.floor(Y/B),Z=(I-it*N)/2,K=[],tt=[],Q=[],Rt=[],Et=1/0,Nt=1/0,Tt=z-(Y-D*B)/2,jt=0;Tt>=E;){for(var Mt=[],Pt=[],St=T+Z,Dt=0;St<=P;){var It=p([St,Tt]),Ut=JM(It,h);Mt.push(Ut?0:1),Pt.push(St+"|"+Tt);var gt=or(It,e);!Ut&&gt<Et&&(Et=gt,Q={x:Dt,y:jt});var Re=or(It,i);!Ut&&Re<Nt&&(Nt=Re,Rt={x:Dt,y:jt}),St+=N,Dt++}tt.push(Mt),K.push(Pt),Tt-=B,jt++}var oe=new ld(tt,{diagonal:!0}),ir=oe.grid[Q.y][Q.x],we=oe.grid[Rt.y][Rt.x],Ue=Km.search(oe,ir,we),gr=[g];return Ue.forEach(function(ai){var wn=K[ai.x][ai.y].split("|");gr.push([+wn[0],+wn[1]])}),gr.push(y),ra(k(gr))},n.simplify=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.tolerance!==void 0?i.tolerance:1,a=i.highQuality||!1,c=i.mutate||!1;if(!e)throw new Error("geojson is required");if(s&&s<0)throw new Error("invalid tolerance");return c!==!0&&(e=Pi(e)),ee(e,function(h){(function(g,y,w){var x=g.type;if(x==="Point"||x==="MultiPoint")return g;ra(g,!0);var T=g.coordinates;switch(x){case"LineString":g.coordinates=Em(T,y,w);break;case"MultiLineString":g.coordinates=T.map(function(E){return Em(E,y,w)});break;case"Polygon":g.coordinates=Hh(T,y,w);break;case"MultiPolygon":g.coordinates=T.map(function(E){return Hh(E,y,w)})}})(h,s,a)}),e},n.square=Cm,n.squareGrid=T2,n.standardDeviationalEllipse=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.steps||64,a=i.weight,c=i.properties||{};if(!ht(s))throw new Error("steps must be a number");if(!mt(c))throw new Error("properties must be a number");var h=Wt(e).length,g=Sb(e,{weight:a}),y=0,w=0,x=0;wt(e,function(Q){var Rt=Q.properties[a]||1,Et=V_(X(Q),X(g));y+=Math.pow(Et.x,2)*Rt,w+=Math.pow(Et.y,2)*Rt,x+=Et.x*Et.y*Rt});var T=y-w,E=Math.sqrt(Math.pow(T,2)+4*Math.pow(x,2)),P=2*x,z=Math.atan((T+E)/P),N=180*z/Math.PI,B=0,I=0,Y=0;wt(e,function(Q){var Rt=Q.properties[a]||1,Et=V_(X(Q),X(g));B+=Math.pow(Et.x*Math.cos(z)-Et.y*Math.sin(z),2)*Rt,I+=Math.pow(Et.x*Math.sin(z)+Et.y*Math.cos(z),2)*Rt,Y+=Rt});var it=Math.sqrt(2*B/Y),D=Math.sqrt(2*I/Y),Z=U_(g,it,D,{units:"degrees",angle:N,steps:s,properties:c}),K=yc(e,M([Z])),tt={meanCenterCoordinates:X(g),semiMajorAxis:it,semiMinorAxis:D,numberOfFeatures:h,angle:N,percentageWithinEllipse:100*Wt(K).length/h};return Z.properties.standardDeviationalEllipse=tt,Z},n.tag=function(e,i,s,a){return e=Pi(e),i=Pi(i),wt(e,function(c){c.properties||(c.properties={}),wt(i,function(h){c.properties[a]===void 0&&$e(c,h)&&(c.properties[a]=h.properties[s])})}),e},n.tesselate=function(e){if(!e.geometry||e.geometry.type!=="Polygon"&&e.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var i={type:"FeatureCollection",features:[]};return e.geometry.type==="Polygon"?i.features=Ml(e.geometry.coordinates):e.geometry.coordinates.forEach(function(s){i.features=i.features.concat(Ml(s))}),i},n.tin=wm,n.toMercator=Y_,n.toWgs84=X_,n.transformRotate=u_,n.transformScale=h_,n.transformTranslate=function(e,i,s,a){if(!mt(a=a||{}))throw new Error("options is invalid");var c=a.units,h=a.zTranslation,g=a.mutate;if(!e)throw new Error("geojson is required");if(i==null||isNaN(i))throw new Error("distance is required");if(h&&typeof h!="number"&&isNaN(h))throw new Error("zTranslation is not a number");if(h=h!==void 0?h:0,i===0&&h===0)return e;if(s==null||isNaN(s))throw new Error("direction is required");return i<0&&(i=-i,s+=180),g!==!1&&g!==void 0||(e=Pi(e)),Gt(e,function(y){var w=X(ad(y,i,s,{units:c}));y[0]=w[0],y[1]=w[1],h&&y.length===3&&(y[2]+=h)}),e},n.triangleGrid=S2,n.truncate=nf,n.union=function(e,i,s){s===void 0&&(s={});var a=_t(e),c=_t(i),h=Nl.union(a.coordinates,c.coordinates);return h.length===0?null:h.length===1?v(h[0],s.properties):U(h,s.properties)},n.unitsFactors=o,n.unkinkPolygon=function(e){var i=[];return se(e,function(s){s.geometry.type==="Polygon"&&wt(ub(s),function(a){i.push(v(a.geometry.coordinates,s.properties))})}),M(i)},n.validateBBox=Qt,n.validateId=ie,n.voronoi=function(e,i){if(!mt(i=i||{}))throw new Error("options is invalid");var s=i.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(s))throw new Error("bbox is invalid");return zt(e,"Point","points"),M(function(){var a=QM,c=$M,h=null;function g(y){return new Tb(y.map(function(w,x){var T=[Math.round(a(w,x,y)/_i)*_i,Math.round(c(w,x,y)/_i)*_i];return T.index=x,T.data=w,T}),h)}return g.polygons=function(y){return g(y).polygons()},g.links=function(y){return g(y).links()},g.triangles=function(y){return g(y).triangles()},g.x=function(y){return arguments.length?(a=typeof y=="function"?y:z_(+y),g):a},g.y=function(y){return arguments.length?(c=typeof y=="function"?y:z_(+y),g):c},g.extent=function(y){return arguments.length?(h=y==null?null:[[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]],g):h&&[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},g.size=function(y){return arguments.length?(h=y==null?null:[[0,0],[+y[0],+y[1]]],g):h&&[h[1][0]-h[0][0],h[1][1]-h[0][1]]},g}().x(function(a){return a.geometry.coordinates[0]}).y(function(a){return a.geometry.coordinates[1]}).extent([[s[0],s[1]],[s[2],s[3]]]).polygons(e.features).map(hI))},n.within=yc,Object.defineProperty(n,"__esModule",{value:!0})});var _6={exports:{}};(function(n){(function(r){n.exports=r($n)})(function(r){r.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),r.Map.SmoothWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){this._isWheeling||this._onWheelStart(t),this._onWheeling(t)},_onWheelStart:function(t){var o=this._map;this._isWheeling=!0,this._wheelMousePosition=o.mouseEventToContainerPoint(t),this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=o.containerPointToLatLng(this._wheelMousePosition),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),o._panAnim&&o._panAnim.stop(),this._goalZoom=o.getZoom(),this._prevCenter=o.getCenter(),this._prevZoom=o.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(t){var o=this._map;this._goalZoom=this._goalZoom-t.deltaY*.003*o.options.smoothSensitivity,(this._goalZoom<o.getMinZoom()||this._goalZoom>o.getMaxZoom())&&(this._goalZoom=o._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(t),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_onWheelEnd:function(t){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var t=this._map;if(!(!t.getCenter().equals(this._prevCenter)||t.getZoom()!=this._prevZoom)){this._zoom=t.getZoom()+(this._goalZoom-t.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var o=this._wheelMousePosition.subtract(this._centerPoint);o.x===0&&o.y===0||(t.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=t.unproject(t.project(this._wheelStartLatLng,this._zoom).subtract(o),this._zoom),this._moved||(t._moveStart(!0,!1),this._moved=!0),t._move(this._center,this._zoom),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),t.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),r.Map.addInitHook("addHandler","smoothWheelZoom",r.Map.SmoothWheelZoom)})})(_6);function w1(n){return Array.isArray(n)?`[${n.map(r=>w1(r)).join(",")}]`:typeof n=="number"?`${n}`:typeof n=="string"?`"${n}"`:typeof n=="object"&&n!==null?Object.keys(n).sort().map(r=>`${r}:${w1(n[r])}`).join("|"):String(n)}async function k6(n){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(n));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}async function XC(n,r=16){return(await k6(String(n))).slice(0,r)}async function E6(n,r){return await XC(w1(n),r)}var di;(function(n){n.assertEqual=l=>l;function r(l){}n.assertIs=r;function t(l){throw new Error}n.assertNever=t,n.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},n.getValidEnumValues=l=>{const u=n.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),d={};for(const p of u)d[p]=l[p];return n.objectValues(d)},n.objectValues=l=>n.objectKeys(l).map(function(u){return l[u]}),n.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},n.find=(l,u)=>{for(const d of l)if(u(d))return d},n.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function o(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(di||(di={}));var x1;(function(n){n.mergeShapes=(r,t)=>({...r,...t})})(x1||(x1={}));const Ie=di.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tu=n=>{switch(typeof n){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(n)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(n)?Ie.array:n===null?Ie.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ie.promise:typeof Map<"u"&&n instanceof Map?Ie.map:typeof Set<"u"&&n instanceof Set?Ie.set:typeof Date<"u"&&n instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},fe=di.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),T6=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Aa extends Error{constructor(r){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const t=r||function(u){return u.message},o={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)o._errors.push(t(d));else{let p=o,m=0;for(;m<d.path.length;){const v=d.path[m];m===d.path.length-1?(p[v]=p[v]||{_errors:[]},p[v]._errors.push(t(d))):p[v]=p[v]||{_errors:[]},p=p[v],m++}}};return l(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,di.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t=>t.message){const t={},o=[];for(const l of this.issues)l.path.length>0?(t[l.path[0]]=t[l.path[0]]||[],t[l.path[0]].push(r(l))):o.push(r(l));return{formErrors:o,fieldErrors:t}}get formErrors(){return this.flatten()}}Aa.create=n=>new Aa(n);const Ng=(n,r)=>{let t;switch(n.code){case fe.invalid_type:n.received===Ie.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case fe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,di.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:t=`Unrecognized key(s) in object: ${di.joinValues(n.keys,", ")}`;break;case fe.invalid_union:t="Invalid input";break;case fe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${di.joinValues(n.options)}`;break;case fe.invalid_enum_value:t=`Invalid enum value. Expected ${di.joinValues(n.options)}, received '${n.received}'`;break;case fe.invalid_arguments:t="Invalid function arguments";break;case fe.invalid_return_type:t="Invalid function return type";break;case fe.invalid_date:t="Invalid date";break;case fe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:di.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case fe.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case fe.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case fe.custom:t="Invalid input";break;case fe.invalid_intersection_types:t="Intersection results could not be merged";break;case fe.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case fe.not_finite:t="Number must be finite";break;default:t=r.defaultError,di.assertNever(n)}return{message:t}};let KC=Ng;function S6(n){KC=n}function Wv(){return KC}const Zv=n=>{const{data:r,path:t,errorMaps:o,issueData:l}=n,u=[...t,...l.path||[]],d={...l,path:u};let p="";const m=o.filter(v=>!!v).slice().reverse();for(const v of m)p=v(d,{data:r,defaultError:p}).message;return{...l,path:u,message:l.message||p}},C6=[];function Oe(n,r){const t=Zv({issueData:r,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wv(),Ng].filter(o=>!!o)});n.common.issues.push(t)}class mo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t){const o=[];for(const l of t){if(l.status==="aborted")return pr;l.status==="dirty"&&r.dirty(),o.push(l.value)}return{status:r.value,value:o}}static async mergeObjectAsync(r,t){const o=[];for(const l of t)o.push({key:await l.key,value:await l.value});return mo.mergeObjectSync(r,o)}static mergeObjectSync(r,t){const o={};for(const l of t){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return pr;u.status==="dirty"&&r.dirty(),d.status==="dirty"&&r.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(o[u.value]=d.value)}return{status:r.value,value:o}}}const pr=Object.freeze({status:"aborted"}),JC=n=>({status:"dirty",value:n}),Lo=n=>({status:"valid",value:n}),_1=n=>n.status==="aborted",k1=n=>n.status==="dirty",Dg=n=>n.status==="valid",Yv=n=>typeof Promise<"u"&&n instanceof Promise;var Xe;(function(n){n.errToObj=r=>typeof r=="string"?{message:r}:r||{},n.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Xe||(Xe={}));class fl{constructor(r,t,o,l){this._cachedPath=[],this.parent=r,this.data=t,this._path=o,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nT=(n,r)=>{if(Dg(r))return{success:!0,data:r.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Aa(n.common.issues);return this._error=t,this._error}}};function vr(n){if(!n)return{};const{errorMap:r,invalid_type_error:t,required_error:o,description:l}=n;if(r&&(t||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:l}:{errorMap:(u,d)=>u.code!=="invalid_type"?{message:d.defaultError}:typeof d.data>"u"?{message:o??d.defaultError}:{message:t??d.defaultError},description:l}}class xr{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return tu(r.data)}_getOrReturnCtx(r,t){return t||{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new mo,ctx:{common:r.parent.common,data:r.data,parsedType:tu(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t=this._parse(r);if(Yv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(r){const t=this._parse(r);return Promise.resolve(t)}parse(r,t){const o=this.safeParse(r,t);if(o.success)return o.data;throw o.error}safeParse(r,t){var o;const l={common:{issues:[],async:(o=t==null?void 0:t.async)!==null&&o!==void 0?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},u=this._parseSync({data:r,path:l.path,parent:l});return nT(l,u)}async parseAsync(r,t){const o=await this.safeParseAsync(r,t);if(o.success)return o.data;throw o.error}async safeParseAsync(r,t){const o={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:tu(r)},l=this._parse({data:r,path:o.path,parent:o}),u=await(Yv(l)?l:Promise.resolve(l));return nT(o,u)}refine(r,t){const o=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,u)=>{const d=r(l),p=()=>u.addIssue({code:fe.custom,...o(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(p(),!1)):d?!0:(p(),!1)})}refinement(r,t){return this._refinement((o,l)=>r(o)?!0:(l.addIssue(typeof t=="function"?t(o,l):t),!1))}_refinement(r){return new Na({schema:this,typeName:nr.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return nc.create(this,this._def)}nullable(){return Ch.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oa.create(this,this._def)}promise(){return xp.create(this,this._def)}or(r){return Hg.create([this,r],this._def)}and(r){return Ug.create(this,r,this._def)}transform(r){return new Na({...vr(this._def),schema:this,typeName:nr.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t=typeof r=="function"?r:()=>r;return new Zg({...vr(this._def),innerType:this,defaultValue:t,typeName:nr.ZodDefault})}brand(){return new $C({typeName:nr.ZodBranded,type:this,...vr(this._def)})}catch(r){const t=typeof r=="function"?r:()=>r;return new Qv({...vr(this._def),innerType:this,catchValue:t,typeName:nr.ZodCatch})}describe(r){const t=this.constructor;return new t({...this._def,description:r})}pipe(r){return am.create(this,r)}readonly(){return ty.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const P6=/^c[^\s-]{8,}$/i,M6=/^[a-z][a-z0-9]*$/,I6=/^[0-9A-HJKMNP-TV-Z]{26}$/,L6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,R6=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ow;const O6=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,z6=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,N6=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function D6(n,r){return!!((r==="v4"||!r)&&O6.test(n)||(r==="v6"||!r)&&z6.test(n))}class Pa extends xr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Ie.string){const l=this._getOrReturnCtx(r);return Oe(l,{code:fe.invalid_type,expected:Ie.string,received:l.parsedType}),pr}const t=new mo;let o;for(const l of this._def.checks)if(l.kind==="min")r.data.length<l.value&&(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="max")r.data.length>l.value&&(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),t.dirty());else if(l.kind==="length"){const u=r.data.length>l.value,d=r.data.length<l.value;(u||d)&&(o=this._getOrReturnCtx(r,o),u?Oe(o,{code:fe.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&Oe(o,{code:fe.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),t.dirty())}else if(l.kind==="email")R6.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"email",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="emoji")Ow||(Ow=new RegExp(A6,"u")),Ow.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"emoji",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="uuid")L6.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"uuid",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid")P6.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"cuid",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="cuid2")M6.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"cuid2",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="ulid")I6.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"ulid",code:fe.invalid_string,message:l.message}),t.dirty());else if(l.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),Oe(o,{validation:"url",code:fe.invalid_string,message:l.message}),t.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"regex",code:fe.invalid_string,message:l.message}),t.dirty())):l.kind==="trim"?r.data=r.data.trim():l.kind==="includes"?r.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),t.dirty()):l.kind==="toLowerCase"?r.data=r.data.toLowerCase():l.kind==="toUpperCase"?r.data=r.data.toUpperCase():l.kind==="startsWith"?r.data.startsWith(l.value)||(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.invalid_string,validation:{startsWith:l.value},message:l.message}),t.dirty()):l.kind==="endsWith"?r.data.endsWith(l.value)||(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.invalid_string,validation:{endsWith:l.value},message:l.message}),t.dirty()):l.kind==="datetime"?N6(l).test(r.data)||(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.invalid_string,validation:"datetime",message:l.message}),t.dirty()):l.kind==="ip"?D6(r.data,l.version)||(o=this._getOrReturnCtx(r,o),Oe(o,{validation:"ip",code:fe.invalid_string,message:l.message}),t.dirty()):di.assertNever(l);return{status:t.value,value:r.data}}_regex(r,t,o){return this.refinement(l=>r.test(l),{validation:t,code:fe.invalid_string,...Xe.errToObj(o)})}_addCheck(r){return new Pa({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Xe.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Xe.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Xe.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Xe.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Xe.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Xe.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Xe.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Xe.errToObj(r)})}datetime(r){var t;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(t=r==null?void 0:r.offset)!==null&&t!==void 0?t:!1,...Xe.errToObj(r==null?void 0:r.message)})}regex(r,t){return this._addCheck({kind:"regex",regex:r,...Xe.errToObj(t)})}includes(r,t){return this._addCheck({kind:"includes",value:r,position:t==null?void 0:t.position,...Xe.errToObj(t==null?void 0:t.message)})}startsWith(r,t){return this._addCheck({kind:"startsWith",value:r,...Xe.errToObj(t)})}endsWith(r,t){return this._addCheck({kind:"endsWith",value:r,...Xe.errToObj(t)})}min(r,t){return this._addCheck({kind:"min",value:r,...Xe.errToObj(t)})}max(r,t){return this._addCheck({kind:"max",value:r,...Xe.errToObj(t)})}length(r,t){return this._addCheck({kind:"length",value:r,...Xe.errToObj(t)})}nonempty(r){return this.min(1,Xe.errToObj(r))}trim(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxLength(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}Pa.create=n=>{var r;return new Pa({checks:[],typeName:nr.ZodString,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...vr(n)})};function F6(n,r){const t=(n.toString().split(".")[1]||"").length,o=(r.toString().split(".")[1]||"").length,l=t>o?t:o,u=parseInt(n.toFixed(l).replace(".","")),d=parseInt(r.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class fu extends xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Ie.number){const l=this._getOrReturnCtx(r);return Oe(l,{code:fe.invalid_type,expected:Ie.number,received:l.parsedType}),pr}let t;const o=new mo;for(const l of this._def.checks)l.kind==="int"?di.isInteger(r.data)||(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?F6(r.data,l.value)!==0&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(r.data)||(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.not_finite,message:l.message}),o.dirty()):di.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Xe.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Xe.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Xe.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Xe.toString(t))}setLimit(r,t,o,l){return new fu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Xe.toString(l)}]})}_addCheck(r){return new fu({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Xe.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xe.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Xe.toString(t)})}finite(r){return this._addCheck({kind:"finite",message:Xe.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xe.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xe.toString(r)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&di.isInteger(r.value))}get isFinite(){let r=null,t=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(t===null||o.value>t)&&(t=o.value):o.kind==="max"&&(r===null||o.value<r)&&(r=o.value)}return Number.isFinite(t)&&Number.isFinite(r)}}fu.create=n=>new fu({checks:[],typeName:nr.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...vr(n)});class gu extends xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==Ie.bigint){const l=this._getOrReturnCtx(r);return Oe(l,{code:fe.invalid_type,expected:Ie.bigint,received:l.parsedType}),pr}let t;const o=new mo;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?r.data<l.value:r.data<=l.value)&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?r.data>l.value:r.data>=l.value)&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?r.data%l.value!==BigInt(0)&&(t=this._getOrReturnCtx(r,t),Oe(t,{code:fe.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):di.assertNever(l);return{status:o.value,value:r.data}}gte(r,t){return this.setLimit("min",r,!0,Xe.toString(t))}gt(r,t){return this.setLimit("min",r,!1,Xe.toString(t))}lte(r,t){return this.setLimit("max",r,!0,Xe.toString(t))}lt(r,t){return this.setLimit("max",r,!1,Xe.toString(t))}setLimit(r,t,o,l){return new gu({...this._def,checks:[...this._def.checks,{kind:r,value:t,inclusive:o,message:Xe.toString(l)}]})}_addCheck(r){return new gu({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xe.toString(r)})}multipleOf(r,t){return this._addCheck({kind:"multipleOf",value:r,message:Xe.toString(t)})}get minValue(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r}get maxValue(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r}}gu.create=n=>{var r;return new gu({checks:[],typeName:nr.ZodBigInt,coerce:(r=n==null?void 0:n.coerce)!==null&&r!==void 0?r:!1,...vr(n)})};class Fg extends xr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Ie.boolean){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.boolean,received:t.parsedType}),pr}return Lo(r.data)}}Fg.create=n=>new Fg({typeName:nr.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...vr(n)});class Th extends xr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Ie.date){const l=this._getOrReturnCtx(r);return Oe(l,{code:fe.invalid_type,expected:Ie.date,received:l.parsedType}),pr}if(isNaN(r.data.getTime())){const l=this._getOrReturnCtx(r);return Oe(l,{code:fe.invalid_date}),pr}const t=new mo;let o;for(const l of this._def.checks)l.kind==="min"?r.data.getTime()<l.value&&(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),t.dirty()):l.kind==="max"?r.data.getTime()>l.value&&(o=this._getOrReturnCtx(r,o),Oe(o,{code:fe.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),t.dirty()):di.assertNever(l);return{status:t.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Th({...this._def,checks:[...this._def.checks,r]})}min(r,t){return this._addCheck({kind:"min",value:r.getTime(),message:Xe.toString(t)})}max(r,t){return this._addCheck({kind:"max",value:r.getTime(),message:Xe.toString(t)})}get minDate(){let r=null;for(const t of this._def.checks)t.kind==="min"&&(r===null||t.value>r)&&(r=t.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t of this._def.checks)t.kind==="max"&&(r===null||t.value<r)&&(r=t.value);return r!=null?new Date(r):null}}Th.create=n=>new Th({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:nr.ZodDate,...vr(n)});class Xv extends xr{_parse(r){if(this._getType(r)!==Ie.symbol){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.symbol,received:t.parsedType}),pr}return Lo(r.data)}}Xv.create=n=>new Xv({typeName:nr.ZodSymbol,...vr(n)});class Bg extends xr{_parse(r){if(this._getType(r)!==Ie.undefined){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.undefined,received:t.parsedType}),pr}return Lo(r.data)}}Bg.create=n=>new Bg({typeName:nr.ZodUndefined,...vr(n)});class jg extends xr{_parse(r){if(this._getType(r)!==Ie.null){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.null,received:t.parsedType}),pr}return Lo(r.data)}}jg.create=n=>new jg({typeName:nr.ZodNull,...vr(n)});class wp extends xr{constructor(){super(...arguments),this._any=!0}_parse(r){return Lo(r.data)}}wp.create=n=>new wp({typeName:nr.ZodAny,...vr(n)});class bh extends xr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Lo(r.data)}}bh.create=n=>new bh({typeName:nr.ZodUnknown,...vr(n)});class cc extends xr{_parse(r){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.never,received:t.parsedType}),pr}}cc.create=n=>new cc({typeName:nr.ZodNever,...vr(n)});class Kv extends xr{_parse(r){if(this._getType(r)!==Ie.undefined){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.void,received:t.parsedType}),pr}return Lo(r.data)}}Kv.create=n=>new Kv({typeName:nr.ZodVoid,...vr(n)});class Oa extends xr{_parse(r){const{ctx:t,status:o}=this._processInputParams(r),l=this._def;if(t.parsedType!==Ie.array)return Oe(t,{code:fe.invalid_type,expected:Ie.array,received:t.parsedType}),pr;if(l.exactLength!==null){const d=t.data.length>l.exactLength.value,p=t.data.length<l.exactLength.value;(d||p)&&(Oe(t,{code:d?fe.too_big:fe.too_small,minimum:p?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),o.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(Oe(t,{code:fe.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),o.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(Oe(t,{code:fe.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),o.dirty()),t.common.async)return Promise.all([...t.data].map((d,p)=>l.type._parseAsync(new fl(t,d,t.path,p)))).then(d=>mo.mergeArray(o,d));const u=[...t.data].map((d,p)=>l.type._parseSync(new fl(t,d,t.path,p)));return mo.mergeArray(o,u)}get element(){return this._def.type}min(r,t){return new Oa({...this._def,minLength:{value:r,message:Xe.toString(t)}})}max(r,t){return new Oa({...this._def,maxLength:{value:r,message:Xe.toString(t)}})}length(r,t){return new Oa({...this._def,exactLength:{value:r,message:Xe.toString(t)}})}nonempty(r){return this.min(1,r)}}Oa.create=(n,r)=>new Oa({type:n,minLength:null,maxLength:null,exactLength:null,typeName:nr.ZodArray,...vr(r)});function Zd(n){if(n instanceof Zi){const r={};for(const t in n.shape){const o=n.shape[t];r[t]=nc.create(Zd(o))}return new Zi({...n._def,shape:()=>r})}else return n instanceof Oa?new Oa({...n._def,type:Zd(n.element)}):n instanceof nc?nc.create(Zd(n.unwrap())):n instanceof Ch?Ch.create(Zd(n.unwrap())):n instanceof gl?gl.create(n.items.map(r=>Zd(r))):n}class Zi extends xr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t=di.objectKeys(r);return this._cached={shape:r,keys:t}}_parse(r){if(this._getType(r)!==Ie.object){const m=this._getOrReturnCtx(r);return Oe(m,{code:fe.invalid_type,expected:Ie.object,received:m.parsedType}),pr}const{status:t,ctx:o}=this._processInputParams(r),{shape:l,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof cc&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const p=[];for(const m of u){const v=l[m],_=o.data[m];p.push({key:{status:"valid",value:m},value:v._parse(new fl(o,_,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof cc){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)p.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(m==="strict")d.length>0&&(Oe(o,{code:fe.unrecognized_keys,keys:d}),t.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const _=o.data[v];p.push({key:{status:"valid",value:v},value:m._parse(new fl(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of p){const _=await v.key;m.push({key:_,value:await v.value,alwaysSet:v.alwaysSet})}return m}).then(m=>mo.mergeObjectSync(t,m)):mo.mergeObjectSync(t,p)}get shape(){return this._def.shape()}strict(r){return Xe.errToObj,new Zi({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t,o)=>{var l,u,d,p;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,t,o).message)!==null&&d!==void 0?d:o.defaultError;return t.code==="unrecognized_keys"?{message:(p=Xe.errToObj(r).message)!==null&&p!==void 0?p:m}:{message:m}}}:{}})}strip(){return new Zi({...this._def,unknownKeys:"strip"})}passthrough(){return new Zi({...this._def,unknownKeys:"passthrough"})}extend(r){return new Zi({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Zi({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:nr.ZodObject})}setKey(r,t){return this.augment({[r]:t})}catchall(r){return new Zi({...this._def,catchall:r})}pick(r){const t={};return di.objectKeys(r).forEach(o=>{r[o]&&this.shape[o]&&(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}omit(r){const t={};return di.objectKeys(this.shape).forEach(o=>{r[o]||(t[o]=this.shape[o])}),new Zi({...this._def,shape:()=>t})}deepPartial(){return Zd(this)}partial(r){const t={};return di.objectKeys(this.shape).forEach(o=>{const l=this.shape[o];r&&!r[o]?t[o]=l:t[o]=l.optional()}),new Zi({...this._def,shape:()=>t})}required(r){const t={};return di.objectKeys(this.shape).forEach(o=>{if(r&&!r[o])t[o]=this.shape[o];else{let l=this.shape[o];for(;l instanceof nc;)l=l._def.innerType;t[o]=l}}),new Zi({...this._def,shape:()=>t})}keyof(){return QC(di.objectKeys(this.shape))}}Zi.create=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strip",catchall:cc.create(),typeName:nr.ZodObject,...vr(r)});Zi.strictCreate=(n,r)=>new Zi({shape:()=>n,unknownKeys:"strict",catchall:cc.create(),typeName:nr.ZodObject,...vr(r)});Zi.lazycreate=(n,r)=>new Zi({shape:n,unknownKeys:"strip",catchall:cc.create(),typeName:nr.ZodObject,...vr(r)});class Hg extends xr{_parse(r){const{ctx:t}=this._processInputParams(r),o=this._def.options;function l(u){for(const p of u)if(p.result.status==="valid")return p.result;for(const p of u)if(p.result.status==="dirty")return t.common.issues.push(...p.ctx.common.issues),p.result;const d=u.map(p=>new Aa(p.ctx.common.issues));return Oe(t,{code:fe.invalid_union,unionErrors:d}),pr}if(t.common.async)return Promise.all(o.map(async u=>{const d={...t,common:{...t.common,issues:[]},parent:null};return{result:await u._parseAsync({data:t.data,path:t.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of o){const v={...t,common:{...t.common,issues:[]},parent:null},_=m._parseSync({data:t.data,path:t.path,parent:v});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:v}),v.common.issues.length&&d.push(v.common.issues)}if(u)return t.common.issues.push(...u.ctx.common.issues),u.result;const p=d.map(m=>new Aa(m));return Oe(t,{code:fe.invalid_union,unionErrors:p}),pr}}get options(){return this._def.options}}Hg.create=(n,r)=>new Hg({options:n,typeName:nr.ZodUnion,...vr(r)});const bv=n=>n instanceof qg?bv(n.schema):n instanceof Na?bv(n.innerType()):n instanceof Vg?[n.value]:n instanceof mu?n.options:n instanceof Wg?Object.keys(n.enum):n instanceof Zg?bv(n._def.innerType):n instanceof Bg?[void 0]:n instanceof jg?[null]:null;class Iy extends xr{_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.object)return Oe(t,{code:fe.invalid_type,expected:Ie.object,received:t.parsedType}),pr;const o=this.discriminator,l=t.data[o],u=this.optionsMap.get(l);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(Oe(t,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),pr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t,o){const l=new Map;for(const u of t){const d=bv(u.shape[r]);if(!d)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const p of d){if(l.has(p))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(p)}`);l.set(p,u)}}return new Iy({typeName:nr.ZodDiscriminatedUnion,discriminator:r,options:t,optionsMap:l,...vr(o)})}}function E1(n,r){const t=tu(n),o=tu(r);if(n===r)return{valid:!0,data:n};if(t===Ie.object&&o===Ie.object){const l=di.objectKeys(r),u=di.objectKeys(n).filter(p=>l.indexOf(p)!==-1),d={...n,...r};for(const p of u){const m=E1(n[p],r[p]);if(!m.valid)return{valid:!1};d[p]=m.data}return{valid:!0,data:d}}else if(t===Ie.array&&o===Ie.array){if(n.length!==r.length)return{valid:!1};const l=[];for(let u=0;u<n.length;u++){const d=n[u],p=r[u],m=E1(d,p);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return t===Ie.date&&o===Ie.date&&+n==+r?{valid:!0,data:n}:{valid:!1}}class Ug extends xr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=(u,d)=>{if(_1(u)||_1(d))return pr;const p=E1(u.value,d.value);return p.valid?((k1(u)||k1(d))&&t.dirty(),{status:t.value,value:p.data}):(Oe(o,{code:fe.invalid_intersection_types}),pr)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ug.create=(n,r,t)=>new Ug({left:n,right:r,typeName:nr.ZodIntersection,...vr(t)});class gl extends xr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.array)return Oe(o,{code:fe.invalid_type,expected:Ie.array,received:o.parsedType}),pr;if(o.data.length<this._def.items.length)return Oe(o,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pr;!this._def.rest&&o.data.length>this._def.items.length&&(Oe(o,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const l=[...o.data].map((u,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new fl(o,u,o.path,d)):null}).filter(u=>!!u);return o.common.async?Promise.all(l).then(u=>mo.mergeArray(t,u)):mo.mergeArray(t,l)}get items(){return this._def.items}rest(r){return new gl({...this._def,rest:r})}}gl.create=(n,r)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gl({items:n,typeName:nr.ZodTuple,rest:null,...vr(r)})};class Gg extends xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.object)return Oe(o,{code:fe.invalid_type,expected:Ie.object,received:o.parsedType}),pr;const l=[],u=this._def.keyType,d=this._def.valueType;for(const p in o.data)l.push({key:u._parse(new fl(o,p,o.path,p)),value:d._parse(new fl(o,o.data[p],o.path,p))});return o.common.async?mo.mergeObjectAsync(t,l):mo.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(r,t,o){return t instanceof xr?new Gg({keyType:r,valueType:t,typeName:nr.ZodRecord,...vr(o)}):new Gg({keyType:Pa.create(),valueType:r,typeName:nr.ZodRecord,...vr(t)})}}class Jv extends xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.map)return Oe(o,{code:fe.invalid_type,expected:Ie.map,received:o.parsedType}),pr;const l=this._def.keyType,u=this._def.valueType,d=[...o.data.entries()].map(([p,m],v)=>({key:l._parse(new fl(o,p,o.path,[v,"key"])),value:u._parse(new fl(o,m,o.path,[v,"value"]))}));if(o.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const m of d){const v=await m.key,_=await m.value;if(v.status==="aborted"||_.status==="aborted")return pr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),p.set(v.value,_.value)}return{status:t.value,value:p}})}else{const p=new Map;for(const m of d){const v=m.key,_=m.value;if(v.status==="aborted"||_.status==="aborted")return pr;(v.status==="dirty"||_.status==="dirty")&&t.dirty(),p.set(v.value,_.value)}return{status:t.value,value:p}}}}Jv.create=(n,r,t)=>new Jv({valueType:r,keyType:n,typeName:nr.ZodMap,...vr(t)});class Sh extends xr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.parsedType!==Ie.set)return Oe(o,{code:fe.invalid_type,expected:Ie.set,received:o.parsedType}),pr;const l=this._def;l.minSize!==null&&o.data.size<l.minSize.value&&(Oe(o,{code:fe.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&o.data.size>l.maxSize.value&&(Oe(o,{code:fe.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const u=this._def.valueType;function d(m){const v=new Set;for(const _ of m){if(_.status==="aborted")return pr;_.status==="dirty"&&t.dirty(),v.add(_.value)}return{status:t.value,value:v}}const p=[...o.data.values()].map((m,v)=>u._parse(new fl(o,m,o.path,v)));return o.common.async?Promise.all(p).then(m=>d(m)):d(p)}min(r,t){return new Sh({...this._def,minSize:{value:r,message:Xe.toString(t)}})}max(r,t){return new Sh({...this._def,maxSize:{value:r,message:Xe.toString(t)}})}size(r,t){return this.min(r,t).max(r,t)}nonempty(r){return this.min(1,r)}}Sh.create=(n,r)=>new Sh({valueType:n,minSize:null,maxSize:null,typeName:nr.ZodSet,...vr(r)});class ap extends xr{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.function)return Oe(t,{code:fe.invalid_type,expected:Ie.function,received:t.parsedType}),pr;function o(p,m){return Zv({data:p,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Ng].filter(v=>!!v),issueData:{code:fe.invalid_arguments,argumentsError:m}})}function l(p,m){return Zv({data:p,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Wv(),Ng].filter(v=>!!v),issueData:{code:fe.invalid_return_type,returnTypeError:m}})}const u={errorMap:t.common.contextualErrorMap},d=t.data;if(this._def.returns instanceof xp){const p=this;return Lo(async function(...m){const v=new Aa([]),_=await p._def.args.parseAsync(m,u).catch(C=>{throw v.addIssue(o(m,C)),v}),k=await Reflect.apply(d,this,_);return await p._def.returns._def.type.parseAsync(k,u).catch(C=>{throw v.addIssue(l(k,C)),v})})}else{const p=this;return Lo(function(...m){const v=p._def.args.safeParse(m,u);if(!v.success)throw new Aa([o(m,v.error)]);const _=Reflect.apply(d,this,v.data),k=p._def.returns.safeParse(_,u);if(!k.success)throw new Aa([l(_,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new ap({...this._def,args:gl.create(r).rest(bh.create())})}returns(r){return new ap({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t,o){return new ap({args:r||gl.create([]).rest(bh.create()),returns:t||bh.create(),typeName:nr.ZodFunction,...vr(o)})}}class qg extends xr{get schema(){return this._def.getter()}_parse(r){const{ctx:t}=this._processInputParams(r);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qg.create=(n,r)=>new qg({getter:n,typeName:nr.ZodLazy,...vr(r)});class Vg extends xr{_parse(r){if(r.data!==this._def.value){const t=this._getOrReturnCtx(r);return Oe(t,{received:t.data,code:fe.invalid_literal,expected:this._def.value}),pr}return{status:"valid",value:r.data}}get value(){return this._def.value}}Vg.create=(n,r)=>new Vg({value:n,typeName:nr.ZodLiteral,...vr(r)});function QC(n,r){return new mu({values:n,typeName:nr.ZodEnum,...vr(r)})}class mu extends xr{_parse(r){if(typeof r.data!="string"){const t=this._getOrReturnCtx(r),o=this._def.values;return Oe(t,{expected:di.joinValues(o),received:t.parsedType,code:fe.invalid_type}),pr}if(this._def.values.indexOf(r.data)===-1){const t=this._getOrReturnCtx(r),o=this._def.values;return Oe(t,{received:t.data,code:fe.invalid_enum_value,options:o}),pr}return Lo(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t of this._def.values)r[t]=t;return r}get Values(){const r={};for(const t of this._def.values)r[t]=t;return r}get Enum(){const r={};for(const t of this._def.values)r[t]=t;return r}extract(r){return mu.create(r)}exclude(r){return mu.create(this.options.filter(t=>!r.includes(t)))}}mu.create=QC;class Wg extends xr{_parse(r){const t=di.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(r);if(o.parsedType!==Ie.string&&o.parsedType!==Ie.number){const l=di.objectValues(t);return Oe(o,{expected:di.joinValues(l),received:o.parsedType,code:fe.invalid_type}),pr}if(t.indexOf(r.data)===-1){const l=di.objectValues(t);return Oe(o,{received:o.data,code:fe.invalid_enum_value,options:l}),pr}return Lo(r.data)}get enum(){return this._def.values}}Wg.create=(n,r)=>new Wg({values:n,typeName:nr.ZodNativeEnum,...vr(r)});class xp extends xr{unwrap(){return this._def.type}_parse(r){const{ctx:t}=this._processInputParams(r);if(t.parsedType!==Ie.promise&&t.common.async===!1)return Oe(t,{code:fe.invalid_type,expected:Ie.promise,received:t.parsedType}),pr;const o=t.parsedType===Ie.promise?t.data:Promise.resolve(t.data);return Lo(o.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xp.create=(n,r)=>new xp({type:n,typeName:nr.ZodPromise,...vr(r)});class Na extends xr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t,ctx:o}=this._processInputParams(r),l=this._def.effect||null,u={addIssue:d=>{Oe(o,d),d.fatal?t.abort():t.dirty()},get path(){return o.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(o.data,u);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(d).then(p=>this._def.schema._parseAsync({data:p,path:o.path,parent:o})):this._def.schema._parseSync({data:d,path:o.path,parent:o})}if(l.type==="refinement"){const d=p=>{const m=l.refinement(p,u);if(o.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(o.common.async===!1){const p=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return p.status==="aborted"?pr:(p.status==="dirty"&&t.dirty(),d(p.value),{status:t.value,value:p.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(p=>p.status==="aborted"?pr:(p.status==="dirty"&&t.dirty(),d(p.value).then(()=>({status:t.value,value:p.value}))))}if(l.type==="transform")if(o.common.async===!1){const d=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Dg(d))return d;const p=l.transform(d.value,u);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:p}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(d=>Dg(d)?Promise.resolve(l.transform(d.value,u)).then(p=>({status:t.value,value:p})):d);di.assertNever(l)}}Na.create=(n,r,t)=>new Na({schema:n,typeName:nr.ZodEffects,effect:r,...vr(t)});Na.createWithPreprocess=(n,r,t)=>new Na({schema:r,effect:{type:"preprocess",transform:n},typeName:nr.ZodEffects,...vr(t)});class nc extends xr{_parse(r){return this._getType(r)===Ie.undefined?Lo(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}nc.create=(n,r)=>new nc({innerType:n,typeName:nr.ZodOptional,...vr(r)});class Ch extends xr{_parse(r){return this._getType(r)===Ie.null?Lo(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Ch.create=(n,r)=>new Ch({innerType:n,typeName:nr.ZodNullable,...vr(r)});class Zg extends xr{_parse(r){const{ctx:t}=this._processInputParams(r);let o=t.data;return t.parsedType===Ie.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Zg.create=(n,r)=>new Zg({innerType:n,typeName:nr.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...vr(r)});class Qv extends xr{_parse(r){const{ctx:t}=this._processInputParams(r),o={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Yv(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Aa(o.common.issues)},input:o.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Aa(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Qv.create=(n,r)=>new Qv({innerType:n,typeName:nr.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...vr(r)});class $v extends xr{_parse(r){if(this._getType(r)!==Ie.nan){const t=this._getOrReturnCtx(r);return Oe(t,{code:fe.invalid_type,expected:Ie.nan,received:t.parsedType}),pr}return{status:"valid",value:r.data}}}$v.create=n=>new $v({typeName:nr.ZodNaN,...vr(n)});const B6=Symbol("zod_brand");class $C extends xr{_parse(r){const{ctx:t}=this._processInputParams(r),o=t.data;return this._def.type._parse({data:o,path:t.path,parent:t})}unwrap(){return this._def.type}}class am extends xr{_parse(r){const{status:t,ctx:o}=this._processInputParams(r);if(o.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?pr:l.status==="dirty"?(t.dirty(),JC(l.value)):this._def.out._parseAsync({data:l.value,path:o.path,parent:o})})();{const l=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return l.status==="aborted"?pr:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:o.path,parent:o})}}static create(r,t){return new am({in:r,out:t,typeName:nr.ZodPipeline})}}class ty extends xr{_parse(r){const t=this._def.innerType._parse(r);return Dg(t)&&(t.value=Object.freeze(t.value)),t}}ty.create=(n,r)=>new ty({innerType:n,typeName:nr.ZodReadonly,...vr(r)});const tP=(n,r={},t)=>n?wp.create().superRefine((o,l)=>{var u,d;if(!n(o)){const p=typeof r=="function"?r(o):typeof r=="string"?{message:r}:r,m=(d=(u=p.fatal)!==null&&u!==void 0?u:t)!==null&&d!==void 0?d:!0,v=typeof p=="string"?{message:p}:p;l.addIssue({code:"custom",...v,fatal:m})}}):wp.create(),j6={object:Zi.lazycreate};var nr;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(nr||(nr={}));const H6=(n,r={message:`Input not instance of ${n.name}`})=>tP(t=>t instanceof n,r),eP=Pa.create,rP=fu.create,U6=$v.create,G6=gu.create,iP=Fg.create,q6=Th.create,V6=Xv.create,W6=Bg.create,Z6=jg.create,Y6=wp.create,X6=bh.create,K6=cc.create,J6=Kv.create,Q6=Oa.create,$6=Zi.create,t8=Zi.strictCreate,e8=Hg.create,r8=Iy.create,i8=Ug.create,n8=gl.create,o8=Gg.create,s8=Jv.create,a8=Sh.create,l8=ap.create,c8=qg.create,u8=Vg.create,h8=mu.create,d8=Wg.create,p8=xp.create,oT=Na.create,f8=nc.create,g8=Ch.create,m8=Na.createWithPreprocess,v8=am.create,y8=()=>eP().optional(),b8=()=>rP().optional(),w8=()=>iP().optional(),x8={string:n=>Pa.create({...n,coerce:!0}),number:n=>fu.create({...n,coerce:!0}),boolean:n=>Fg.create({...n,coerce:!0}),bigint:n=>gu.create({...n,coerce:!0}),date:n=>Th.create({...n,coerce:!0})},_8=pr;var bt=Object.freeze({__proto__:null,defaultErrorMap:Ng,setErrorMap:S6,getErrorMap:Wv,makeIssue:Zv,EMPTY_PATH:C6,addIssueToContext:Oe,ParseStatus:mo,INVALID:pr,DIRTY:JC,OK:Lo,isAborted:_1,isDirty:k1,isValid:Dg,isAsync:Yv,get util(){return di},get objectUtil(){return x1},ZodParsedType:Ie,getParsedType:tu,ZodType:xr,ZodString:Pa,ZodNumber:fu,ZodBigInt:gu,ZodBoolean:Fg,ZodDate:Th,ZodSymbol:Xv,ZodUndefined:Bg,ZodNull:jg,ZodAny:wp,ZodUnknown:bh,ZodNever:cc,ZodVoid:Kv,ZodArray:Oa,ZodObject:Zi,ZodUnion:Hg,ZodDiscriminatedUnion:Iy,ZodIntersection:Ug,ZodTuple:gl,ZodRecord:Gg,ZodMap:Jv,ZodSet:Sh,ZodFunction:ap,ZodLazy:qg,ZodLiteral:Vg,ZodEnum:mu,ZodNativeEnum:Wg,ZodPromise:xp,ZodEffects:Na,ZodTransformer:Na,ZodOptional:nc,ZodNullable:Ch,ZodDefault:Zg,ZodCatch:Qv,ZodNaN:$v,BRAND:B6,ZodBranded:$C,ZodPipeline:am,ZodReadonly:ty,custom:tP,Schema:xr,ZodSchema:xr,late:j6,get ZodFirstPartyTypeKind(){return nr},coerce:x8,any:Y6,array:Q6,bigint:G6,boolean:iP,date:q6,discriminatedUnion:r8,effect:oT,enum:h8,function:l8,instanceof:H6,intersection:i8,lazy:c8,literal:u8,map:s8,nan:U6,nativeEnum:d8,never:K6,null:Z6,nullable:g8,number:rP,object:$6,oboolean:w8,onumber:b8,optional:f8,ostring:y8,pipeline:v8,preprocess:m8,promise:p8,record:o8,set:a8,strictObject:t8,string:eP,symbol:V6,transformer:oT,tuple:n8,undefined:W6,union:e8,unknown:X6,void:J6,NEVER:_8,ZodIssueCode:fe,quotelessJson:T6,ZodError:Aa});const Ly=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,nP=bt.string().regex(Ly),k8=nP,ey="http://library.stanford.edu/iiif/image-api/1.1/context.json",oP="http://iiif.io/api/image/1/context.json",sP=bt.literal(ey),aP=bt.object({"@context":sP,"@id":bt.string().url(),profile:nP.optional(),width:bt.number().int(),height:bt.number().int(),scale_factors:bt.number().array().optional(),tile_width:bt.number().optional(),tile_height:bt.number().optional()}),lP=bt.object({width:bt.number().int(),height:bt.number().int()}),cP=bt.object({width:bt.number().int(),height:bt.number().int().optional(),scaleFactors:bt.array(bt.number().int())}),Ry=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,sT=bt.string().regex(Ry),E8=bt.object({formats:bt.string().array().optional(),maxArea:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxWidth:bt.number().int().optional(),qualities:bt.string().array().optional(),supports:bt.string().array().optional()}),ry=sT.or(bt.array(bt.union([sT,E8,bt.any()]))),iy="http://iiif.io/api/image/2/context.json",uP=bt.literal(iy).or(bt.literal("https://iiif.io/api/image/2/context.json")),Ox=bt.object({"@id":bt.string().url(),"@type":bt.literal("iiif:Image").optional(),"@context":uP,protocol:bt.literal("http://iiif.io/api/image"),width:bt.number().int(),height:bt.number().int(),profile:ry,sizes:lP.array().optional(),tiles:cP.array().optional()}),T8=["level0","level1","level2"],zx=bt.object({id:bt.string().url(),type:bt.literal("ImageService3"),protocol:bt.literal("http://iiif.io/api/image"),profile:bt.enum(T8),width:bt.number().int(),height:bt.number().int(),maxWidth:bt.number().int().optional(),maxHeight:bt.number().int().optional(),maxArea:bt.number().int().optional(),sizes:lP.array().optional(),tiles:cP.array().optional(),extraFeatures:bt.string().array().optional()}),S8=bt.object({"@id":bt.string().url(),profile:k8.or(ry),width:bt.number().int().optional(),height:bt.number().int().optional(),"@context":sP.or(bt.literal("http://iiif.io/api/image/1/context.json")).or(uP).optional()}),C8=["level0","level1","level2"],P8=["ImageService1","ImageService2","ImageService3"],M8=bt.object({id:bt.string().url(),type:bt.literal("ImageService2"),profile:ry}).or(bt.object({"@id":bt.string().url(),"@type":bt.literal("ImageService2"),profile:ry})),I8=bt.object({id:bt.string().url(),type:bt.enum(P8),profile:bt.enum(C8)}),L8=bt.union([M8,I8]),hP=S8.or(L8),aT=bt.string().or(bt.number()).or(bt.boolean()),dP=aT.or(aT.array()),lT=bt.object({"@language":bt.string().optional(),"@value":dP}),Ph=dP.or(lT).or(lT.array()),R8=bt.object({label:Ph.optional(),value:Ph.optional()}),pP=R8.array(),A8=bt.object({width:bt.number().int().optional(),height:bt.number().int().optional(),service:hP}),O8=bt.object({resource:A8}),fP=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Canvas"),width:bt.number().int(),height:bt.number().int(),images:O8.array().length(1),label:Ph.optional(),metadata:pP.optional()}),z8=bt.object({canvases:fP.array().nonempty()}),gP=bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),sequences:z8.array().length(1),label:Ph.optional(),description:Ph.optional(),metadata:pP.optional()}),cT=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Manifest"),label:Ph.optional()})),T1=bt.lazy(()=>bt.object({"@id":bt.string().url(),"@type":bt.literal("sc:Collection"),label:Ph.optional(),manifests:cT.array().optional(),collections:T1.array().optional(),members:cT.or(T1).array().optional()})),N8=bt.string().or(bt.number()).or(bt.boolean()),Mh=bt.record(bt.string(),N8.array()),D8=bt.object({label:Mh.optional(),value:Mh.optional()}),mP=D8.array(),uT=bt.object({type:bt.literal("Image"),width:bt.number().int().optional(),height:bt.number().int().optional(),service:hP.array()}),F8=bt.object({type:bt.literal("Annotation"),body:uT.or(uT.array().length(1))}),B8=bt.object({type:bt.literal("AnnotationPage"),items:F8.array().length(1)}),vP=bt.object({id:bt.string().url(),type:bt.literal("Canvas"),width:bt.number().int(),height:bt.number().int(),items:B8.array().length(1),label:Mh.optional(),metadata:mP.optional()}),yP=bt.object({id:bt.string().url(),type:bt.literal("Manifest"),items:vP.array().nonempty(),label:Mh.optional(),description:Mh.optional(),metadata:mP.optional()}),j8=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Manifest"),label:Mh.optional()})),bP=bt.lazy(()=>bt.object({id:bt.string().url(),type:bt.literal("Collection"),label:Mh.optional(),items:j8.or(bP).array()})),wP=aP.or(Ox).or(zx);fP.or(vP);const H8=gP.or(yP);T1.or(bP);gP.or(Ox);yP.or(zx);H8.or(wP);function xP({width:n,height:r},t,o,l){const u=o*t.originalWidth,d=l*t.originalHeight,p=o*t.originalWidth+t.width*t.scaleFactor>n?n-o*t.originalWidth:t.width*t.scaleFactor,m=l*t.originalHeight+t.height*t.scaleFactor>r?r-l*t.originalHeight:t.height*t.scaleFactor;let v=t.width,_=t.height;return u+t.width*t.scaleFactor>n&&(v=Math.floor((n-u+t.scaleFactor-1)/t.scaleFactor)),d+t.height*t.scaleFactor>r&&(_=Math.floor((r-d+t.scaleFactor-1)/t.scaleFactor)),{region:{x:u,y:d,width:p,height:m},size:{width:v,height:_}}}function U8({width:n,height:r},t=768){const o=Math.max(n,r)/t,l=Math.ceil(Math.log(o)/Math.log(2));return{scaleFactors:Array.from({length:l},(u,d)=>2**d),width:t}}function G8({width:n,height:r},t,o){const l=t.height||t.width,u=t.width*o,d=l*o;return{scaleFactor:o,width:t.width,height:l,originalWidth:u,originalHeight:d,columns:Math.ceil(n/u),rows:Math.ceil(r/d)}}function q8(n,r){return r.map(t=>t.scaleFactors.map(o=>G8(n,t,o))).flat()}function V8(n){return!!n.some(r=>r.width&&r.scaleFactors&&r.scaleFactors.length)}function W8(n,r,t){if(!r||!V8(r))if(t)r=[U8(n)];else throw new Error("Image does not support tiles or custom regions and sizes.");return q8(n,r)}function Z8(n,r,t="cover"){if(t==="cover"||t==="contain"){const o=r.width/n.width,l=r.height/n.height,u=t==="cover"?Math.max(o,l):Math.min(o,l),d=n.width*u,p=n.height*u;return{width:d,height:p}}else throw new Error('Mode must be either "cover" or "contain"')}const Y8=.8,X8=1.5;function _P(n,r,t="cover",{sizes:o,tileZoomLevels:l,supportsAnyRegionAndSize:u,maxWidth:d,maxHeight:p,maxArea:m}){let{width:v,height:_}=Z8(n,r,t);if(d&&v>d&&(_=_/v*d,v=d),p&&_>p&&(v=v/_*p,_=p),m&&v*_>m){const C=_/v,M=Math.floor(Math.sqrt(m/C))*C;v=Math.floor(M)/C,_=v*C}const k=n.width/n.height;if(v=Math.floor(v),_=Math.round(v/k),o){let C;for(const M of o){const A=M.width/v;if(A>=Y8&&A<=X8){C=M;break}}if(C)return{size:C}}if(u)return{size:{width:Math.round(v),height:Math.round(_)}};if(l){const C=n.width/v,M=l.map(({scaleFactor:W},j)=>({index:j,scaleFactor:W,diff:Math.abs(W-C)})).sort((W,j)=>W.diff-j.diff),A=l[M[0].index],F=Math.ceil(n.width/(A.scaleFactor*l[0].width)),U=Math.ceil(n.height/(A.scaleFactor*l[0].height)),H=[];for(let W=0;W<U;W++){const j=[];for(let q=0;q<F;q++){const nt=xP(n,A,q,W);j.push(nt)}H.push(j)}return H}throw new Error("Unable to create thumbnail")}const kP=["regionByPx","sizeByWh"];function K8(n){const r=n.match(Ly);if(r&&r.groups)return parseInt(r.groups.level)}function hT(n){const r=n.match(Ry);if(r&&r.groups)return parseInt(r.groups.level)}function J8(n){return{maxWidth:n==null?void 0:n.maxWidth,maxHeight:n==null?void 0:n.maxHeight,maxArea:n==null?void 0:n.maxArea,supportsAnyRegionAndSize:kP.every(r=>{var t;return(n==null?void 0:n.supports)&&((t=n==null?void 0:n.supports)==null?void 0:t.includes(r))})}}function Q8(n){if("type"in n&&n.type==="ImageService3")return 3;if("type"in n&&n.type==="ImageService2"||"@type"in n&&n["@type"]==="ImageService2"||"@context"in n&&n["@context"]===iy)return 2;if("@context"in n&&(n["@context"]===ey||n["@context"]===oP))return 1;if("profile"in n){let r;return Array.isArray(n.profile)?r=n.profile[0]:r=n.profile,r.match(Ly)?1:r.match(Ry)?2:3}else throw new Error("Unsupported IIIF Image Service")}function S1(n){if("type"in n){const r=n.profile;let t=!1;return r==="level0"||typeof r=="string"&&r.endsWith("level0.json")?"extraFeatures"in n&&(t=kP.every(o=>n.extraFeatures&&n.extraFeatures.includes(o))):t=!0,{maxWidth:"maxWidth"in n?n.maxWidth:void 0,maxHeight:"maxHeight"in n?n.maxHeight:void 0,maxArea:"maxArea"in n?n.maxArea:void 0,supportsAnyRegionAndSize:t}}else if(Array.isArray(n.profile)){let r=!1,t=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.profile.forEach(u=>{if(typeof u=="string"){const d=hT(u);d&&(r=r||d>=1)}else{const{maxWidth:d,maxHeight:p,maxArea:m,supportsAnyRegionAndSize:v}=J8(u);d!==void 0&&(o=Math.max(d,o)),p!==void 0&&(t=Math.max(p,t)),m!==void 0&&(l=Math.max(m,l)),r=r||v}}),{maxWidth:o>=0?o:void 0,maxHeight:t>=0?t:void 0,maxArea:l>=0?l:void 0,supportsAnyRegionAndSize:r}}else if("profile"in n&&n.profile){const r=K8(n.profile),t=hT(n.profile);return r?{supportsAnyRegionAndSize:r>=1}:t?{supportsAnyRegionAndSize:t>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const $8="image";class tF{constructor(r,t){if(this.embedded=!0,this.type=$8,t){const o=r;let l,u;if(Array.isArray(o.service)?o.service.forEach(d=>{try{const p=Q8(d);(!u||p>u)&&(u=p,l=d)}catch{}}):l=o.service,!l)throw new Error("Unsupported IIIF Image Service");if("@id"in l)this.uri=l["@id"];else if("id"in l)this.uri=l.id;else throw new Error("Unsupported IIIF Image Service");if("type"in l&&l.type==="ImageService3")this.majorVersion=3;else if("type"in l&&l.type==="ImageService2"||"@type"in l&&l["@type"]==="ImageService2"||"@context"in l&&l["@context"]===iy)this.majorVersion=2;else if("@context"in l&&(l["@context"]===ey||l["@context"]===oP))this.majorVersion=1;else if("profile"in l){let d;Array.isArray(l.profile)?d=l.profile[0]:d=l.profile,d.match(Ly)?this.majorVersion=1:d.match(Ry)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in l){const d=S1(l);this.supportsAnyRegionAndSize=d.supportsAnyRegionAndSize,this.maxWidth=d.maxWidth,this.maxHeight=d.maxHeight,this.maxArea=d.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in r)this.uri=r["@id"];else if("id"in r)this.uri=r.id;else throw new Error("Unsupported IIIF Image");if("type"in r&&r.type==="ImageService3")this.majorVersion=3;else if("@type"in r&&r["@type"]==="iiif:Image"||"@context"in r&&r["@context"]===iy)this.majorVersion=2;else if("@context"in r&&r["@context"]===ey)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in r){const o=S1(r);this.supportsAnyRegionAndSize=o.supportsAnyRegionAndSize,this.maxWidth=o.maxWidth,this.maxHeight=o.maxHeight,this.maxArea=o.maxArea}else this.supportsAnyRegionAndSize=!1}if(r.width!==void 0)this.width=r.width;else if(t)this.width=t.width;else throw new Error("Width not present on either Canvas or Image Resource");if(r.height!==void 0)this.height=r.height;else if(t)this.height=t.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(r){const{region:t,size:o}=r;let l,u,d,p,m;t?(m=`${t.x},${t.y},${t.width},${t.height}`,d=t.height,p=t.width):(m="full",d=this.height,p=this.width);let v;if(o){l=Math.round(o.width),u=Math.round(o.height);const C=String(l);let M=String(u);const A=p/d,F=u*A/A;u===Math.round(F)&&(M=""),v=`${C},${M}`}else l=this.width,u=this.height,v=this.majorVersion===2?"full":"max";const _=l*u;if(this.maxWidth!==void 0&&l>this.maxWidth)throw new Error(`Width of requested image is too large: ${l} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&u>this.maxHeight)throw new Error(`Height of requested image is too large: ${u} > ${this.maxHeight}`);if(this.maxArea!==void 0&&_>this.maxArea)throw new Error(`Area of requested image is too large: ${_} > ${this.maxArea}`);const k=this.majorVersion===1?"native":"default";return`${this.uri}/${m}/${v}/0/${k}.jpg`}getThumbnail(r,t="cover"){return _P({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let eF=class EP extends tF{constructor(r){super(r),this.embedded=!1;const t=S1(r);let o;"tiles"in r&&(o=r.tiles),this.tileZoomLevels=W8({width:this.width,height:this.height},o,t.supportsAnyRegionAndSize),"sizes"in r&&(this.sizes=r.sizes)}static parse(r,t=null){let o;return t===1?o=aP.parse(r):t===2?o=Ox.parse(r):t===3?o=zx.parse(r):o=wP.parse(r),new EP(o)}getIiifTile(r,t,o){return xP({width:this.width,height:this.height},r,t,o)}getThumbnail(r,t="cover"){return _P({width:this.width,height:this.height},r,t,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const dT=bt.record(bt.string(),bt.string().array());bt.object({label:dT.optional(),value:dT.optional()});var Go=63710088e-1,TP={centimeters:Go*100,centimetres:Go*100,degrees:Go/111325,feet:Go*3.28084,inches:Go*39.37,kilometers:Go/1e3,kilometres:Go/1e3,meters:Go,metres:Go,miles:Go/1609.344,millimeters:Go*1e3,millimetres:Go*1e3,nauticalmiles:Go/1852,radians:1,yards:Go*1.0936};function rF(n,r,t){t===void 0&&(t={});var o={type:"Feature"};return(t.id===0||t.id)&&(o.id=t.id),t.bbox&&(o.bbox=t.bbox),o.properties=r||{},o.geometry=n,o}function iF(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pT(n[0])||!pT(n[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:n};return rF(o,r,t)}function nF(n,r){r===void 0&&(r="kilometers");var t=TP[r];if(!t)throw new Error(r+" units is invalid");return n*t}function oF(n,r){r===void 0&&(r="kilometers");var t=TP[r];if(!t)throw new Error(r+" units is invalid");return n/t}function C1(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ma(n){var r=n%360;return r*Math.PI/180}function pT(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function _p(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function sF(n){return n.type==="Feature"?n.geometry:n}function SP(n,r,t){if(t===void 0&&(t={}),t.final===!0)return aF(n,r);var o=_p(n),l=_p(r),u=Ma(o[0]),d=Ma(l[0]),p=Ma(o[1]),m=Ma(l[1]),v=Math.sin(d-u)*Math.cos(m),_=Math.cos(p)*Math.sin(m)-Math.sin(p)*Math.cos(m)*Math.cos(d-u);return C1(Math.atan2(v,_))}function aF(n,r){var t=SP(r,n);return t=(t+180)%360,t}function lF(n,r,t,o){o===void 0&&(o={});var l=_p(n),u=Ma(l[0]),d=Ma(l[1]),p=Ma(t),m=oF(r,o.units),v=Math.asin(Math.sin(d)*Math.cos(m)+Math.cos(d)*Math.sin(m)*Math.cos(p)),_=u+Math.atan2(Math.sin(p)*Math.sin(m)*Math.cos(d),Math.cos(m)-Math.sin(d)*Math.sin(v)),k=C1(_),C=C1(v);return iF([k,C],o.properties)}function Nx(n,r,t){t===void 0&&(t={});var o=_p(n),l=_p(r),u=Ma(l[1]-o[1]),d=Ma(l[0]-o[0]),p=Ma(o[1]),m=Ma(l[1]),v=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(d/2),2)*Math.cos(p)*Math.cos(m);return nF(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)),t.units)}function ny(n,r){var t=Nx(n,r),o=SP(n,r),l=lF(n,t/2,o);return l}async function CP(n,r={}){let t;if(r.cache&&(t=await r.cache.match(n)),t||(t=await fetch(n,{signal:r.abortSignal}),r.cache&&r.cache.put(n,t.clone())),!t.ok)throw new Error(t.statusText);return t}async function cF(n,r={}){return await(await CP(n,r)).json()}async function uF(n,r={}){return await cF(`${n}/info.json`,r)}function hF(n,r){return new Promise((t,o)=>{const l=new Image;let u=!1;l.addEventListener("load",()=>t(l)),l.addEventListener("error",async()=>{if(u)o(new DOMException("Loading image aborted by user","AbortError"));else try{throw await CP(n,{abortSignal:r}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(d){o(d)}}),l.crossOrigin="anonymous",l.src=n,r&&r.addEventListener("abort",()=>{u=!0,l.src=""})})}function PP(n,r=!1){switch(n.type){case"Polygon":return n.coordinates?{...n,coordinates:fT(n.coordinates,r)}:n;case"MultiPolygon":return n.coordinates?{...n,coordinates:n.coordinates.map(t=>fT(t,r))}:n;case"GeometryCollection":return{...n,geometries:n.geometries.map(t=>PP(t,r))};default:return n}}function fT(n,r){if(n.length===0)return n;const t=[];for(let o=0;o<n.length;o++)t.push(dF(n[o],o===0?r:!r));return t}function dF(n,r){let t=0,o=0;for(let l=0,u=n.length,d=u-1;l<u;d=l++){const p=(n[l][0]-n[d][0])*(n[d][1]+n[l][1]),m=t+p;o+=Math.abs(t)>=Math.abs(p)?t-m+p:p-m+t,t=m}return t+o>=0!=!!r?n.slice().reverse():n}function Vo(n){return Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}function nl(n){return Array.isArray(n)&&n.every(Vo)}function pF(n){return Array.isArray(n)&&n.every(Vo)}function ol(n){return Array.isArray(n)&&n.every(pF)}function MP(n){if(n=n.filter(function(r,t,o){return t===0||!Fx(r,o[t-1])}),n.length<2)throw new Error("LineString should contain at least 2 points");return n}function Dx(n){if(n=n.filter(function(r,t,o){return t===0||!Fx(r,o[t-1])}),gF(n)&&n.splice(-1),n.length<3)throw new Error("Ring should contain at least 3 points");return n}function fF(n){return n.map(r=>Dx(r))}function Y0(n){return{type:"Point",coordinates:n}}function X0(n){return{type:"LineString",coordinates:n}}function K0(n,r=!0){const t={type:"Polygon",coordinates:r?n.map(o=>[...o,o[0]]):n};return PP(t)}function gF(n){return Array.isArray(n)&&n.length>=2&&Fx(n[0],n[n.length-1])}function Fx(n,r){return n===r?!0:n==null||r==null?!1:n[0]==r[0]&&n[1]==r[1]}function oy(n,r){return[(r[0]-n[0])/2+n[0],(r[1]-n[1])/2+n[1]]}function mF(n,r,t){return[n[0]*t+r[0]*(1-t),n[1]*t+r[1]*(1-t)]}function oc(n,r){if(nl(n)&&n.length==2)return oc(n[0],n[1]);if(Vo(n)&&Vo(r))return Math.sqrt((r[0]-n[0])**2+(r[1]-n[1])**2);throw new Error("Input type not supported")}function vF(n){return n*(Math.PI/180)}function Xl(n){return typeof n=="object"&&n!==null&&n.type==="Point"&&Vo(n.coordinates)}function Kl(n){return typeof n=="object"&&n!==null&&n.type==="LineString"&&nl(n.coordinates)}function Jl(n){return typeof n=="object"&&n!==null&&n.type==="Polygon"&&Array.isArray(n.coordinates)&&ol(n.coordinates)}function yF(n){const r=typeof n=="object"&&n!==null,t=r&&"type"in n&&typeof n.type=="string"&&(n.type==="Point"||n.type==="LineString"||n.type==="Polygon"),o=r&&"coordinates"in n&&Array.isArray(n.coordinates);return t&&o}function sg(n){return n.coordinates}function ag(n){return n.coordinates}function lg(n,r=!1){let t=n.coordinates;return t=fF(t),r?t.map(o=>[...o,o[0]]):t}function bF(n){if(Xl(n))return sg(n);if(Kl(n))return ag(n);if(Jl(n))return lg(n);throw new Error("Geometry type not supported")}function gT(n){let r=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const o of n)r===void 0?o>=o&&(r=t=o):(r>o&&(r=o),t<o&&(t=o));return[r,t]}function Gn(n){if(Vo(n)&&(n=[n]),ol(n)&&(n=n.flat()),yF(n))return Gn(bF(n));const r=[],t=[];for(const p of n)r.push(p[0]),t.push(p[1]);const[o,l]=gT(r),[u,d]=gT(t);return[o,u,l,d]}function mT(n,r){return[Math.min(n[0],r[0]),Math.min(n[1],r[1]),Math.max(n[2],r[2]),Math.max(n[3],r[3])]}function wF(n,r){const t=n[2]>=r[0]&&r[2]>=n[0],o=n[3]>=r[1]&&r[3]>=n[1];return t&&o}function Yg(n){return[[n[0],n[1]],[n[2],n[1]],[n[2],n[3]],[n[0],n[3]]]}function xF(n){return[Yg(n)]}function IP(n){return[[n[0],n[1]],[n[2],n[3]]]}function _F(n){return oc(IP(n))}function kF(n){return oc(IP(Gn(n)))}function P1(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function sy(n){return[n[2]-n[0],n[3]-n[1]]}function LP(n,r){const t=n[0]/r[0],o=n[1]/r[1];return Math.min(t,o)}function zw(n,r){return LP(sy(n),sy(r))}function EF(n){const r=parseInt(n.replace(/^#/,""),16),t=r>>16&255,o=r>>8&255,l=r&255;return[t,o,l]}function vT(n){return EF(n).map(r=>r/255)}function TF(n,r){return!n||!r||n.size!==r.size?!1:[...n].every(t=>r.has(t))}function yT(n,r){if(n!==void 0&&r!==void 0)return Math.max(n,r);if(n!==void 0)return n;if(r!==void 0)return r}function SF(n){let r;try{r=new URL(n)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}function CF([n,r]){const t=6378137*vF(n),o=t/n,l=180/Math.PI*Math.log(Math.tan(Math.PI/4+r*(Math.PI/180)/2))*o;return[t,l]}function bT([n,r]){const t=Math.PI*6378137,o=n/t*180;let l=r/t*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),[o,l]}var PF=Object.defineProperty,MF=(n,r,t)=>r in n?PF(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t,IF=(n,r,t)=>(MF(n,typeof r!="symbol"?r+"":r,t),t),Bx=(n,r,t)=>{if(!r.has(n))throw TypeError("Cannot "+t)},il=(n,r,t)=>(Bx(n,r,"read from private field"),t?t.call(n):r.get(n)),xg=(n,r,t)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,t)},Nw=(n,r,t,o)=>(Bx(n,r,"write to private field"),o?o.call(n,t):r.set(n,t),t),kp=(n,r,t)=>(Bx(n,r,"access private method"),t);function RP(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var t=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),t}var ri={};const LF=Object.prototype.toString;function Xg(n){const r=LF.call(n);return r.endsWith("Array]")&&!r.includes("Big")}const RF=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Xg},Symbol.toStringTag,{value:"Module"})),AF=RP(RF);function OF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],p=o+1;p<u;p++)n[p]>d&&(d=n[p]);return d}function zF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Xg(n))throw new TypeError("input must be an array");if(n.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,o=t===void 0?0:t,l=r.toIndex,u=l===void 0?n.length:l;if(o<0||o>=n.length||!Number.isInteger(o))throw new Error("fromIndex must be a positive integer smaller than length");if(u<=o||u>n.length||!Number.isInteger(u))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var d=n[o],p=o+1;p<u;p++)n[p]<d&&(d=n[p]);return d}function NF(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Xg(n)){if(n.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!Xg(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(n.length);var o=zF(n),l=OF(n);if(o===l)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var u=r.min,d=u===void 0?r.autoMinMax?o:0:u,p=r.max,m=p===void 0?r.autoMinMax?l:1:p;if(d>=m)throw new RangeError("min option must be smaller than max option");for(var v=(m-d)/(l-o),_=0;_<n.length;_++)t[_]=(n[_]-o)*v+d;return t}const DF=Object.freeze(Object.defineProperty({__proto__:null,default:NF},Symbol.toStringTag,{value:"Module"})),FF=RP(DF);Object.defineProperty(ri,"__esModule",{value:!0});var Wo=AF,wT=FF;const J0=" ".repeat(2),AP=" ".repeat(4);function BF(){return OP(this)}function OP(n,r={}){const{maxRows:t=15,maxColumns:o=10,maxNumSize:l=8,padMinus:u="auto"}=r;return`${n.constructor.name} {
${J0}[
${AP}${jF(n,t,o,l,u)}
${J0}]
${J0}rows: ${n.rows}
${J0}columns: ${n.columns}
}`}function jF(n,r,t,o,l){const{rows:u,columns:d}=n,p=Math.min(u,r),m=Math.min(d,t),v=[];if(l==="auto"){l=!1;t:for(let _=0;_<p;_++)for(let k=0;k<m;k++)if(n.get(_,k)<0){l=!0;break t}}for(let _=0;_<p;_++){let k=[];for(let C=0;C<m;C++)k.push(HF(n.get(_,C),o,l));v.push(`${k.join(" ")}`)}return m!==d&&(v[v.length-1]+=` ... ${d-t} more columns`),p!==u&&v.push(`... ${u-r} more rows`),v.join(`
${AP}`)}function HF(n,r,t){return(n>=0&&t?` ${xT(n,r-1)}`:xT(n,r)).padEnd(r)}function xT(n,r){let t=n.toString();if(t.length<=r)return t;let o=n.toFixed(r);if(o.length>r&&(o=n.toFixed(Math.max(0,r-(o.length-r)))),o.length<=r&&!o.startsWith("0.000")&&!o.startsWith("-0.000"))return o;let l=n.toExponential(r);return l.length>r&&(l=n.toExponential(Math.max(0,r-(l.length-r)))),l.slice(0)}function UF(n,r){n.prototype.add=function(t){return typeof t=="number"?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t);return this},n.prototype.addM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)+t.get(o,l));return this},n.add=function(t,o){return new r(t).add(o)},n.prototype.sub=function(t){return typeof t=="number"?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t);return this},n.prototype.subM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)-t.get(o,l));return this},n.sub=function(t,o){return new r(t).sub(o)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return typeof t=="number"?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t);return this},n.prototype.mulM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)*t.get(o,l));return this},n.mul=function(t,o){return new r(t).mul(o)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return typeof t=="number"?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t);return this},n.prototype.divM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)/t.get(o,l));return this},n.div=function(t,o){return new r(t).div(o)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return typeof t=="number"?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t);return this},n.prototype.modM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)%t.get(o,l));return this},n.mod=function(t,o){return new r(t).mod(o)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return typeof t=="number"?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t);return this},n.prototype.andM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)&t.get(o,l));return this},n.and=function(t,o){return new r(t).and(o)},n.prototype.or=function(t){return typeof t=="number"?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t);return this},n.prototype.orM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)|t.get(o,l));return this},n.or=function(t,o){return new r(t).or(o)},n.prototype.xor=function(t){return typeof t=="number"?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t);return this},n.prototype.xorM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)^t.get(o,l));return this},n.xor=function(t,o){return new r(t).xor(o)},n.prototype.leftShift=function(t){return typeof t=="number"?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t);return this},n.prototype.leftShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)<<t.get(o,l));return this},n.leftShift=function(t,o){return new r(t).leftShift(o)},n.prototype.signPropagatingRightShift=function(t){return typeof t=="number"?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>t.get(o,l));return this},n.signPropagatingRightShift=function(t,o){return new r(t).signPropagatingRightShift(o)},n.prototype.rightShift=function(t){return typeof t=="number"?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,this.get(o,l)>>>t.get(o,l));return this},n.rightShift=function(t,o){return new r(t).rightShift(o)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,~this.get(t,o));return this},n.not=function(t){return new r(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.abs(this.get(t,o)));return this},n.abs=function(t){return new r(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acos(this.get(t,o)));return this},n.acos=function(t){return new r(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.acosh(this.get(t,o)));return this},n.acosh=function(t){return new r(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asin(this.get(t,o)));return this},n.asin=function(t){return new r(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.asinh(this.get(t,o)));return this},n.asinh=function(t){return new r(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atan(this.get(t,o)));return this},n.atan=function(t){return new r(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.atanh(this.get(t,o)));return this},n.atanh=function(t){return new r(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cbrt(this.get(t,o)));return this},n.cbrt=function(t){return new r(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.ceil(this.get(t,o)));return this},n.ceil=function(t){return new r(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.clz32(this.get(t,o)));return this},n.clz32=function(t){return new r(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cos(this.get(t,o)));return this},n.cos=function(t){return new r(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.cosh(this.get(t,o)));return this},n.cosh=function(t){return new r(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.exp(this.get(t,o)));return this},n.exp=function(t){return new r(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.expm1(this.get(t,o)));return this},n.expm1=function(t){return new r(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.floor(this.get(t,o)));return this},n.floor=function(t){return new r(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.fround(this.get(t,o)));return this},n.fround=function(t){return new r(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log(this.get(t,o)));return this},n.log=function(t){return new r(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log1p(this.get(t,o)));return this},n.log1p=function(t){return new r(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log10(this.get(t,o)));return this},n.log10=function(t){return new r(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.log2(this.get(t,o)));return this},n.log2=function(t){return new r(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.round(this.get(t,o)));return this},n.round=function(t){return new r(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sign(this.get(t,o)));return this},n.sign=function(t){return new r(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sin(this.get(t,o)));return this},n.sin=function(t){return new r(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sinh(this.get(t,o)));return this},n.sinh=function(t){return new r(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.sqrt(this.get(t,o)));return this},n.sqrt=function(t){return new r(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tan(this.get(t,o)));return this},n.tan=function(t){return new r(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.tanh(this.get(t,o)));return this},n.tanh=function(t){return new r(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,Math.trunc(this.get(t,o)));return this},n.trunc=function(t){return new r(t).trunc()},n.pow=function(t,o){return new r(t).pow(o)},n.prototype.pow=function(t){return typeof t=="number"?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t));return this},n.prototype.powM=function(t){if(t=r.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.set(o,l,Math.pow(this.get(o,l),t.get(o,l)));return this}}function Zs(n,r,t){let o=t?n.rows:n.rows-1;if(r<0||r>o)throw new RangeError("Row index out of range")}function Ys(n,r,t){let o=t?n.columns:n.columns-1;if(r<0||r>o)throw new RangeError("Column index out of range")}function Yd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Xd(n,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function jx(n,r){if(!Wo.isAnyArray(r))throw new TypeError("row indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.rows)throw new RangeError("row indices are out of range")}function Hx(n,r){if(!Wo.isAnyArray(r))throw new TypeError("column indices must be an array");for(let t=0;t<r.length;t++)if(r[t]<0||r[t]>=n.columns)throw new RangeError("column indices are out of range")}function M1(n,r,t,o,l){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Q0("startRow",r),Q0("endRow",t),Q0("startColumn",o),Q0("endColumn",l),r>t||o>l||r<0||r>=n.rows||t<0||t>=n.rows||o<0||o>=n.columns||l<0||l>=n.columns)throw new RangeError("Submatrix indices are out of range")}function Ay(n,r=0){let t=[];for(let o=0;o<n;o++)t.push(r);return t}function Q0(n,r){if(typeof r!="number")throw new TypeError(`${n} must be a number`)}function qd(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}function GF(n){let r=Ay(n.rows);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]+=n.get(t,o);return r}function qF(n){let r=Ay(n.columns);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]+=n.get(t,o);return r}function VF(n){let r=0;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r+=n.get(t,o);return r}function WF(n){let r=Ay(n.rows,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[t]*=n.get(t,o);return r}function ZF(n){let r=Ay(n.columns,1);for(let t=0;t<n.rows;++t)for(let o=0;o<n.columns;++o)r[o]*=n.get(t,o);return r}function YF(n){let r=1;for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)r*=n.get(t,o);return r}function XF(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<o;d++){let p=0,m=0,v=0;for(let _=0;_<l;_++)v=n.get(d,_)-t[d],p+=v,m+=v*v;r?u.push((m-p*p/l)/(l-1)):u.push((m-p*p/l)/l)}return u}function KF(n,r,t){const o=n.rows,l=n.columns,u=[];for(let d=0;d<l;d++){let p=0,m=0,v=0;for(let _=0;_<o;_++)v=n.get(_,d)-t[d],p+=v,m+=v*v;r?u.push((m-p*p/o)/(o-1)):u.push((m-p*p/o)/o)}return u}function JF(n,r,t){const o=n.rows,l=n.columns,u=o*l;let d=0,p=0,m=0;for(let v=0;v<o;v++)for(let _=0;_<l;_++)m=n.get(v,_)-t,d+=m,p+=m*m;return r?(p-d*d/u)/(u-1):(p-d*d/u)/u}function QF(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[t])}function $F(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r[o])}function tB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)-r)}function eB(n){const r=[];for(let t=0;t<n.rows;t++){let o=0;for(let l=0;l<n.columns;l++)o+=Math.pow(n.get(t,l),2)/(n.columns-1);r.push(Math.sqrt(o))}return r}function rB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[t])}function iB(n){const r=[];for(let t=0;t<n.columns;t++){let o=0;for(let l=0;l<n.rows;l++)o+=Math.pow(n.get(l,t),2)/(n.rows-1);r.push(Math.sqrt(o))}return r}function nB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r[o])}function oB(n){const r=n.size-1;let t=0;for(let o=0;o<n.columns;o++)for(let l=0;l<n.rows;l++)t+=Math.pow(n.get(l,o),2)/r;return Math.sqrt(t)}function sB(n,r){for(let t=0;t<n.rows;t++)for(let o=0;o<n.columns;o++)n.set(t,o,n.get(t,o)/r)}class mr{static from1DArray(r,t,o){if(r*t!==o.length)throw new RangeError("data length does not match given dimensions");let l=new be(r,t);for(let u=0;u<r;u++)for(let d=0;d<t;d++)l.set(u,d,o[u*t+d]);return l}static rowVector(r){let t=new be(1,r.length);for(let o=0;o<r.length;o++)t.set(0,o,r[o]);return t}static columnVector(r){let t=new be(r.length,1);for(let o=0;o<r.length;o++)t.set(o,0,r[o]);return t}static zeros(r,t){return new be(r,t)}static ones(r,t){return new be(r,t).fill(1)}static rand(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{random:l=Math.random}=o;let u=new be(r,t);for(let d=0;d<r;d++)for(let p=0;p<t;p++)u.set(d,p,l());return u}static randInt(r,t,o={}){if(typeof o!="object")throw new TypeError("options must be an object");const{min:l=0,max:u=1e3,random:d=Math.random}=o;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(u))throw new TypeError("max must be an integer");if(l>=u)throw new RangeError("min must be smaller than max");let p=u-l,m=new be(r,t);for(let v=0;v<r;v++)for(let _=0;_<t;_++){let k=l+Math.round(d()*p);m.set(v,_,k)}return m}static eye(r,t,o){t===void 0&&(t=r),o===void 0&&(o=1);let l=Math.min(r,t),u=this.zeros(r,t);for(let d=0;d<l;d++)u.set(d,d,o);return u}static diag(r,t,o){let l=r.length;t===void 0&&(t=l),o===void 0&&(o=t);let u=Math.min(l,t,o),d=this.zeros(t,o);for(let p=0;p<u;p++)d.set(p,p,r[p]);return d}static min(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new be(o,l);for(let d=0;d<o;d++)for(let p=0;p<l;p++)u.set(d,p,Math.min(r.get(d,p),t.get(d,p)));return u}static max(r,t){r=this.checkMatrix(r),t=this.checkMatrix(t);let o=r.rows,l=r.columns,u=new this(o,l);for(let d=0;d<o;d++)for(let p=0;p<l;p++)u.set(d,p,Math.max(r.get(d,p),t.get(d,p)));return u}static checkMatrix(r){return mr.isMatrix(r)?r:new be(r)}static isMatrix(r){return r!=null&&r.klass==="Matrix"}get size(){return this.rows*this.columns}apply(r){if(typeof r!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.call(this,t,o);return this}to1DArray(){let r=[];for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.push(this.get(t,o));return r}to2DArray(){let r=[];for(let t=0;t<this.rows;t++){r.push([]);for(let o=0;o<this.columns;o++)r[t].push(this.get(t,o))}return r}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let r=0;r<this.rows;r++)for(let t=0;t<=r;t++)if(this.get(r,t)!==this.get(t,r))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let r=0;r<this.rows;r++)if(this.get(r,r)!==0)return!1;return!0}isEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);r++}return l}isReducedEchelonForm(){let r=0,t=0,o=-1,l=!0,u=!1;for(;r<this.rows&&l;){for(t=0,u=!1;t<this.columns&&u===!1;)this.get(r,t)===0?t++:this.get(r,t)===1&&t>o?(u=!0,o=t):(l=!1,u=!0);for(let d=t+1;d<this.rows;d++)this.get(r,d)!==0&&(l=!1);r++}return l}echelonForm(){let r=this.clone(),t=0,o=0;for(;t<r.rows&&o<r.columns;){let l=t;for(let u=t;u<r.rows;u++)r.get(u,o)>r.get(l,o)&&(l=u);if(r.get(l,o)===0)o++;else{r.swapRows(t,l);let u=r.get(t,o);for(let d=o;d<r.columns;d++)r.set(t,d,r.get(t,d)/u);for(let d=t+1;d<r.rows;d++){let p=r.get(d,o)/r.get(t,o);r.set(d,o,0);for(let m=o+1;m<r.columns;m++)r.set(d,m,r.get(d,m)-r.get(t,m)*p)}t++,o++}}return r}reducedEchelonForm(){let r=this.echelonForm(),t=r.columns,o=r.rows,l=o-1;for(;l>=0;)if(r.maxRow(l)===0)l--;else{let u=0,d=!1;for(;u<o&&d===!1;)r.get(l,u)===1?d=!0:u++;for(let p=0;p<l;p++){let m=r.get(p,u);for(let v=u;v<t;v++){let _=r.get(p,v)-m*r.get(l,v);r.set(p,v,_)}}l--}return r}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{rows:t=1,columns:o=1}=r;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");let l=new be(this.rows*t,this.columns*o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)l.setSubMatrix(this,this.rows*u,this.columns*d);return l}fill(r){for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,r);return this}neg(){return this.mulS(-1)}getRow(r){Zs(this,r);let t=[];for(let o=0;o<this.columns;o++)t.push(this.get(r,o));return t}getRowVector(r){return be.rowVector(this.getRow(r))}setRow(r,t){Zs(this,r),t=Yd(this,t);for(let o=0;o<this.columns;o++)this.set(r,o,t[o]);return this}swapRows(r,t){Zs(this,r),Zs(this,t);for(let o=0;o<this.columns;o++){let l=this.get(r,o);this.set(r,o,this.get(t,o)),this.set(t,o,l)}return this}getColumn(r){Ys(this,r);let t=[];for(let o=0;o<this.rows;o++)t.push(this.get(o,r));return t}getColumnVector(r){return be.columnVector(this.getColumn(r))}setColumn(r,t){Ys(this,r),t=Xd(this,t);for(let o=0;o<this.rows;o++)this.set(o,r,t[o]);return this}swapColumns(r,t){Ys(this,r),Ys(this,t);for(let o=0;o<this.rows;o++){let l=this.get(o,r);this.set(o,r,this.get(o,t)),this.set(o,t,l)}return this}addRowVector(r){r=Yd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[o]);return this}subRowVector(r){r=Yd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[o]);return this}mulRowVector(r){r=Yd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[o]);return this}divRowVector(r){r=Yd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[o]);return this}addColumnVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)+r[t]);return this}subColumnVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)-r[t]);return this}mulColumnVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)*r[t]);return this}divColumnVector(r){r=Xd(this,r);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)this.set(t,o,this.get(t,o)/r[t]);return this}mulRow(r,t){Zs(this,r);for(let o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*t);return this}mulColumn(r,t){Ys(this,r);for(let o=0;o<this.rows;o++)this.set(o,r,this.get(o,r)*t);return this}max(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}maxIndex(){qd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)>r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}min(r){if(this.isEmpty())return NaN;switch(r){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[o]&&(t[o]=this.get(o,l));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t[l]&&(t[l]=this.get(o,l));return t}case void 0:{let t=this.get(0,0);for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<t&&(t=this.get(o,l));return t}default:throw new Error(`invalid option: ${r}`)}}minIndex(){qd(this);let r=this.get(0,0),t=[0,0];for(let o=0;o<this.rows;o++)for(let l=0;l<this.columns;l++)this.get(o,l)<r&&(r=this.get(o,l),t[0]=o,t[1]=l);return t}maxRow(r){if(Zs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o));return t}maxRowIndex(r){Zs(this,r),qd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)>t&&(t=this.get(r,l),o[1]=l);return o}minRow(r){if(Zs(this,r),this.isEmpty())return NaN;let t=this.get(r,0);for(let o=1;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o));return t}minRowIndex(r){Zs(this,r),qd(this);let t=this.get(r,0),o=[r,0];for(let l=1;l<this.columns;l++)this.get(r,l)<t&&(t=this.get(r,l),o[1]=l);return o}maxColumn(r){if(Ys(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)>t&&(t=this.get(o,r));return t}maxColumnIndex(r){Ys(this,r),qd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)>t&&(t=this.get(l,r),o[0]=l);return o}minColumn(r){if(Ys(this,r),this.isEmpty())return NaN;let t=this.get(0,r);for(let o=1;o<this.rows;o++)this.get(o,r)<t&&(t=this.get(o,r));return t}minColumnIndex(r){Ys(this,r),qd(this);let t=this.get(0,r),o=[0,r];for(let l=1;l<this.rows;l++)this.get(l,r)<t&&(t=this.get(l,r),o[0]=l);return o}diag(){let r=Math.min(this.rows,this.columns),t=[];for(let o=0;o<r;o++)t.push(this.get(o,o));return t}norm(r="frobenius"){switch(r){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${r}`)}}cumulativeSum(){let r=0;for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r+=this.get(t,o),this.set(t,o,r);return this}dot(r){mr.isMatrix(r)&&(r=r.to1DArray());let t=this.to1DArray();if(t.length!==r.length)throw new RangeError("vectors do not have the same size");let o=0;for(let l=0;l<t.length;l++)o+=t[l]*r[l];return o}mmul(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.columns,u=new be(t,l),d=new Float64Array(o);for(let p=0;p<l;p++){for(let m=0;m<o;m++)d[m]=r.get(m,p);for(let m=0;m<t;m++){let v=0;for(let _=0;_<o;_++)v+=this.get(m,_)*d[_];u.set(m,p,v)}}return u}strassen2x2(r){r=be.checkMatrix(r);let t=new be(2,2);const o=this.get(0,0),l=r.get(0,0),u=this.get(0,1),d=r.get(0,1),p=this.get(1,0),m=r.get(1,0),v=this.get(1,1),_=r.get(1,1),k=(o+v)*(l+_),C=(p+v)*l,M=o*(d-_),A=v*(m-l),F=(o+u)*_,U=(p-o)*(l+d),H=(u-v)*(m+_),W=k+A-F+H,j=M+F,q=C+A,nt=k-C+M+U;return t.set(0,0,W),t.set(0,1,j),t.set(1,0,q),t.set(1,1,nt),t}strassen3x3(r){r=be.checkMatrix(r);let t=new be(3,3);const o=this.get(0,0),l=this.get(0,1),u=this.get(0,2),d=this.get(1,0),p=this.get(1,1),m=this.get(1,2),v=this.get(2,0),_=this.get(2,1),k=this.get(2,2),C=r.get(0,0),M=r.get(0,1),A=r.get(0,2),F=r.get(1,0),U=r.get(1,1),H=r.get(1,2),W=r.get(2,0),j=r.get(2,1),q=r.get(2,2),nt=(o+l+u-d-p-_-k)*U,pt=(o-d)*(-M+U),ut=p*(-C+M+F-U-H-W+q),ct=(-o+d+p)*(C-M+U),V=(d+p)*(-C+M),at=o*C,ht=(-o+v+_)*(C-A+H),mt=(-o+v)*(A-H),Qt=(v+_)*(-C+A),ie=(o+l+u-p-m-v-_)*H,ye=_*(-C+A+F-U-H-W+j),Gt=(-u+_+k)*(U+W-j),de=(u-k)*(U-j),Jt=u*W,Qe=(_+k)*(-W+j),wt=(-u+p+m)*(H+W-q),Ot=(u-m)*(H-q),Wt=(p+m)*(-W+q),ee=l*F,me=m*j,se=d*A,he=v*M,er=k*q,Ft=at+Jt+ee,qt=nt+ct+V+at+Gt+Jt+Qe,Yt=at+ht+Qt+ie+Jt+wt+Wt,Xt=pt+ut+ct+at+Jt+wt+Ot,ot=pt+ct+V+at+me,ft=Jt+wt+Ot+Wt+se,vt=at+ht+mt+ye+Gt+de+Jt,O=Gt+de+Jt+Qe+he,X=at+ht+mt+Qt+er;return t.set(0,0,Ft),t.set(0,1,qt),t.set(0,2,Yt),t.set(1,0,Xt),t.set(1,1,ot),t.set(1,2,ft),t.set(2,0,vt),t.set(2,1,O),t.set(2,2,X),t}mmulStrassen(r){r=be.checkMatrix(r);let t=this.clone(),o=t.rows,l=t.columns,u=r.rows,d=r.columns;l!==u&&console.warn(`Multiplying ${o} x ${l} and ${u} x ${d} matrix: dimensions do not match.`);function p(k,C,M){let A=k.rows,F=k.columns;if(A===C&&F===M)return k;{let U=mr.zeros(C,M);return U=U.setSubMatrix(k,0,0),U}}let m=Math.max(o,u),v=Math.max(l,d);t=p(t,m,v),r=p(r,m,v);function _(k,C,M,A){if(M<=512||A<=512)return k.mmul(C);M%2===1&&A%2===1?(k=p(k,M+1,A+1),C=p(C,M+1,A+1)):M%2===1?(k=p(k,M+1,A),C=p(C,M+1,A)):A%2===1&&(k=p(k,M,A+1),C=p(C,M,A+1));let F=parseInt(k.rows/2,10),U=parseInt(k.columns/2,10),H=k.subMatrix(0,F-1,0,U-1),W=C.subMatrix(0,F-1,0,U-1),j=k.subMatrix(0,F-1,U,k.columns-1),q=C.subMatrix(0,F-1,U,C.columns-1),nt=k.subMatrix(F,k.rows-1,0,U-1),pt=C.subMatrix(F,C.rows-1,0,U-1),ut=k.subMatrix(F,k.rows-1,U,k.columns-1),ct=C.subMatrix(F,C.rows-1,U,C.columns-1),V=_(mr.add(H,ut),mr.add(W,ct),F,U),at=_(mr.add(nt,ut),W,F,U),ht=_(H,mr.sub(q,ct),F,U),mt=_(ut,mr.sub(pt,W),F,U),Qt=_(mr.add(H,j),ct,F,U),ie=_(mr.sub(nt,H),mr.add(W,q),F,U),ye=_(mr.sub(j,ut),mr.add(pt,ct),F,U),Gt=mr.add(V,mt);Gt.sub(Qt),Gt.add(ye);let de=mr.add(ht,Qt),Jt=mr.add(at,mt),Qe=mr.sub(V,at);Qe.add(ht),Qe.add(ie);let wt=mr.zeros(2*Gt.rows,2*Gt.columns);return wt=wt.setSubMatrix(Gt,0,0),wt=wt.setSubMatrix(de,Gt.rows,0),wt=wt.setSubMatrix(Jt,0,Gt.columns),wt=wt.setSubMatrix(Qe,Gt.rows,Gt.columns),wt.subMatrix(0,M-1,0,A-1)}return _(t,r,m,v)}scaleRows(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.rows;u++){const d=this.getRow(u);d.length>0&&wT(d,{min:t,max:o,output:d}),l.setRow(u,d)}return l}scaleColumns(r={}){if(typeof r!="object")throw new TypeError("options must be an object");const{min:t=0,max:o=1}=r;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(t>=o)throw new RangeError("min must be smaller than max");let l=new be(this.rows,this.columns);for(let u=0;u<this.columns;u++){const d=this.getColumn(u);d.length&&wT(d,{min:t,max:o,output:d}),l.setColumn(u,d)}return l}flipRows(){const r=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let o=0;o<r;o++){let l=this.get(t,o),u=this.get(t,this.columns-1-o);this.set(t,o,u),this.set(t,this.columns-1-o,l)}return this}flipColumns(){const r=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let o=0;o<r;o++){let l=this.get(o,t),u=this.get(this.rows-1-o,t);this.set(o,t,u),this.set(this.rows-1-o,t,l)}return this}kroneckerProduct(r){r=be.checkMatrix(r);let t=this.rows,o=this.columns,l=r.rows,u=r.columns,d=new be(t*l,o*u);for(let p=0;p<t;p++)for(let m=0;m<o;m++)for(let v=0;v<l;v++)for(let _=0;_<u;_++)d.set(l*p+v,u*m+_,this.get(p,m)*r.get(v,_));return d}kroneckerSum(r){if(r=be.checkMatrix(r),!this.isSquare()||!r.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,o=r.rows,l=this.kroneckerProduct(be.eye(o,o)),u=be.eye(t,t).kroneckerProduct(r);return l.add(u)}transpose(){let r=new be(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let o=0;o<this.columns;o++)r.set(o,t,this.get(t,o));return r}sortRows(r=_T){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(r));return this}sortColumns(r=_T){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(r));return this}subMatrix(r,t,o,l){M1(this,r,t,o,l);let u=new be(t-r+1,l-o+1);for(let d=r;d<=t;d++)for(let p=o;p<=l;p++)u.set(d-r,p-o,this.get(d,p));return u}subMatrixRow(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.columns-1),t>o||t<0||t>=this.columns||o<0||o>=this.columns)throw new RangeError("Argument out of range");let l=new be(r.length,o-t+1);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.rows)throw new RangeError(`Row index out of range: ${r[u]}`);l.set(u,d-t,this.get(r[u],d))}return l}subMatrixColumn(r,t,o){if(t===void 0&&(t=0),o===void 0&&(o=this.rows-1),t>o||t<0||t>=this.rows||o<0||o>=this.rows)throw new RangeError("Argument out of range");let l=new be(o-t+1,r.length);for(let u=0;u<r.length;u++)for(let d=t;d<=o;d++){if(r[u]<0||r[u]>=this.columns)throw new RangeError(`Column index out of range: ${r[u]}`);l.set(d-t,u,this.get(d,r[u]))}return l}setSubMatrix(r,t,o){if(r=be.checkMatrix(r),r.isEmpty())return this;let l=t+r.rows-1,u=o+r.columns-1;M1(this,t,l,o,u);for(let d=0;d<r.rows;d++)for(let p=0;p<r.columns;p++)this.set(t+d,o+p,r.get(d,p));return this}selection(r,t){jx(this,r),Hx(this,t);let o=new be(r.length,t.length);for(let l=0;l<r.length;l++){let u=r[l];for(let d=0;d<t.length;d++){let p=t[d];o.set(l,d,this.get(u,p))}}return o}trace(){let r=Math.min(this.rows,this.columns),t=0;for(let o=0;o<r;o++)t+=this.get(o,o);return t}clone(){return this.constructor.copy(this,new be(this.rows,this.columns))}static copy(r,t){for(const[o,l,u]of r.entries())t.set(o,l,u);return t}sum(r){switch(r){case"row":return GF(this);case"column":return qF(this);case void 0:return VF(this);default:throw new Error(`invalid option: ${r}`)}}product(r){switch(r){case"row":return WF(this);case"column":return ZF(this);case void 0:return YF(this);default:throw new Error(`invalid option: ${r}`)}}mean(r){const t=this.sum(r);switch(r){case"row":{for(let o=0;o<this.rows;o++)t[o]/=this.columns;return t}case"column":{for(let o=0;o<this.columns;o++)t[o]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${r}`)}}variance(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{unbiased:o=!0,mean:l=this.mean(r)}=t;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(r){case"row":{if(!Wo.isAnyArray(l))throw new TypeError("mean must be an array");return XF(this,o,l)}case"column":{if(!Wo.isAnyArray(l))throw new TypeError("mean must be an array");return KF(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return JF(this,o,l)}default:throw new Error(`invalid option: ${r}`)}}standardDeviation(r,t){typeof r=="object"&&(t=r,r=void 0);const o=this.variance(r,t);if(r===void 0)return Math.sqrt(o);for(let l=0;l<o.length;l++)o[l]=Math.sqrt(o[l]);return o}center(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");const{center:o=this.mean(r)}=t;switch(r){case"row":{if(!Wo.isAnyArray(o))throw new TypeError("center must be an array");return QF(this,o),this}case"column":{if(!Wo.isAnyArray(o))throw new TypeError("center must be an array");return $F(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return tB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}scale(r,t={}){if(typeof r=="object"&&(t=r,r=void 0),typeof t!="object")throw new TypeError("options must be an object");let o=t.scale;switch(r){case"row":{if(o===void 0)o=eB(this);else if(!Wo.isAnyArray(o))throw new TypeError("scale must be an array");return rB(this,o),this}case"column":{if(o===void 0)o=iB(this);else if(!Wo.isAnyArray(o))throw new TypeError("scale must be an array");return nB(this,o),this}case void 0:{if(o===void 0)o=oB(this);else if(typeof o!="number")throw new TypeError("scale must be a number");return sB(this,o),this}default:throw new Error(`invalid option: ${r}`)}}toString(r){return OP(this,r)}[Symbol.iterator](){return this.entries()}*entries(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield[r,t,this.get(r,t)]}*values(){for(let r=0;r<this.rows;r++)for(let t=0;t<this.columns;t++)yield this.get(r,t)}}mr.prototype.klass="Matrix";typeof Symbol<"u"&&(mr.prototype[Symbol.for("nodejs.util.inspect.custom")]=BF);function _T(n,r){return n-r}function aB(n){return n.every(r=>typeof r=="number")}mr.random=mr.rand;mr.randomInt=mr.randInt;mr.diagonal=mr.diag;mr.prototype.diagonal=mr.prototype.diag;mr.identity=mr.eye;mr.prototype.negate=mr.prototype.neg;mr.prototype.tensorProduct=mr.prototype.kroneckerProduct;var $0,Dw,tv;let be=(tv=class extends mr{constructor(n,r){if(super(),xg(this,$0),IF(this,"data"),tv.isMatrix(n))kp(this,$0,Dw).call(this,n.rows,n.columns),tv.copy(n,this);else if(Number.isInteger(n)&&n>=0)kp(this,$0,Dw).call(this,n,r);else if(Wo.isAnyArray(n)){const t=n;if(n=t.length,r=n?t[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let o=0;o<n;o++){if(t[o].length!==r)throw new RangeError("Inconsistent array dimensions");if(!aB(t[o]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[o]))}this.rows=n,this.columns=r}else throw new TypeError("First argument must be a positive number or an array")}set(n,r,t){return this.data[n][r]=t,this}get(n,r){return this.data[n][r]}removeRow(n){return Zs(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,r){return r===void 0&&(r=n,n=this.rows),Zs(this,n,!0),r=Float64Array.from(Yd(this,r)),this.data.splice(n,0,r),this.rows+=1,this}removeColumn(n){Ys(this,n);for(let r=0;r<this.rows;r++){const t=new Float64Array(this.columns-1);for(let o=0;o<n;o++)t[o]=this.data[r][o];for(let o=n+1;o<this.columns;o++)t[o-1]=this.data[r][o];this.data[r]=t}return this.columns-=1,this}addColumn(n,r){typeof r>"u"&&(r=n,n=this.columns),Ys(this,n,!0),r=Xd(this,r);for(let t=0;t<this.rows;t++){const o=new Float64Array(this.columns+1);let l=0;for(;l<n;l++)o[l]=this.data[t][l];for(o[l++]=r[t];l<this.columns+1;l++)o[l]=this.data[t][l-1];this.data[t]=o}return this.columns+=1,this}},$0=new WeakSet,Dw=function(n,r){if(this.data=[],Number.isInteger(r)&&r>=0)for(let t=0;t<n;t++)this.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");this.rows=n,this.columns=r},tv);UF(mr,be);var Mo;const lB=class I1 extends mr{constructor(r){if(super(),xg(this,Mo,void 0),be.isMatrix(r)){if(!r.isSymmetric())throw new TypeError("not symmetric data");Nw(this,Mo,be.copy(r,new be(r.rows,r.rows)))}else if(Number.isInteger(r)&&r>=0)Nw(this,Mo,new be(r,r));else if(Nw(this,Mo,new be(r)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return il(this,Mo).size}get rows(){return il(this,Mo).rows}get columns(){return il(this,Mo).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(r){return be.isMatrix(r)&&r.klassType==="SymmetricMatrix"}static zeros(r){return new this(r)}static ones(r){return new this(r).fill(1)}clone(){const r=new I1(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())r.set(t,o,l);return r}toMatrix(){return new be(this)}get(r,t){return il(this,Mo).get(r,t)}set(r,t,o){return il(this,Mo).set(r,t,o),il(this,Mo).set(t,r,o),this}removeCross(r){return il(this,Mo).removeRow(r),il(this,Mo).removeColumn(r),this}addCross(r,t){t===void 0&&(t=r,r=this.diagonalSize);const o=t.slice();return o.splice(r,1),il(this,Mo).addRow(r,o),il(this,Mo).addColumn(r,t),this}applyMask(r){if(r.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[o,l]of r.entries())l||t.push(o);t.reverse();for(const o of t)this.removeCross(o);return this}toCompact(){const{diagonalSize:r}=this,t=new Array(r*(r+1)/2);for(let o=0,l=0,u=0;u<t.length;u++)t[u]=this.get(l,o),++o>=r&&(o=++l);return t}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(r)}`);const l=new I1(o);for(let u=0,d=0,p=0;p<t;p++)l.set(u,d,r[p]),++u>=o&&(u=++d);return l}*upperRightEntries(){for(let r=0,t=0;r<this.diagonalSize;void 0){const o=this.get(r,t);yield[r,t,o],++t>=this.diagonalSize&&(t=++r)}}*upperRightValues(){for(let r=0,t=0;r<this.diagonalSize;void 0)yield this.get(r,t),++t>=this.diagonalSize&&(t=++r)}};Mo=new WeakMap;let _g=lB;_g.prototype.klassType="SymmetricMatrix";class Oy extends _g{static isDistanceMatrix(r){return _g.isSymmetricMatrix(r)&&r.klassSubType==="DistanceMatrix"}constructor(r){if(super(r),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(r,t,o){return r===t&&(o=0),super.set(r,t,o)}addCross(r,t){return t===void 0&&(t=r,r=this.diagonalSize),t=t.slice(),t[r]=0,super.addCross(r,t)}toSymmetricMatrix(){return new _g(this)}clone(){const r=new Oy(this.diagonalSize);for(const[t,o,l]of this.upperRightEntries())t!==o&&r.set(t,o,l);return r}toCompact(){const{diagonalSize:r}=this,t=(r-1)*r/2,o=new Array(t);for(let l=1,u=0,d=0;d<o.length;d++)o[d]=this.get(u,l),++l>=r&&(l=++u+1);return o}static fromCompact(r){const t=r.length,o=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(o))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(r)}`);const l=new this(o);for(let u=1,d=0,p=0;p<t;p++)l.set(u,d,r[p]),++u>=o&&(u=++d+1);return l}}Oy.prototype.klassSubType="DistanceMatrix";class pc extends mr{constructor(r,t,o){super(),this.matrix=r,this.rows=t,this.columns=o}}class cB extends pc{constructor(r,t){Ys(r,t),super(r,r.rows,1),this.column=t}set(r,t,o){return this.matrix.set(r,this.column,o),this}get(r){return this.matrix.get(r,this.column)}}class uB extends pc{constructor(r,t){Hx(r,t),super(r,r.rows,t.length),this.columnIndices=t}set(r,t,o){return this.matrix.set(r,this.columnIndices[t],o),this}get(r,t){return this.matrix.get(r,this.columnIndices[t])}}class hB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(r,this.columns-t-1,o),this}get(r,t){return this.matrix.get(r,this.columns-t-1)}}class dB extends pc{constructor(r){super(r,r.rows,r.columns)}set(r,t,o){return this.matrix.set(this.rows-r-1,t,o),this}get(r,t){return this.matrix.get(this.rows-r-1,t)}}class pB extends pc{constructor(r,t){Zs(r,t),super(r,1,r.columns),this.row=t}set(r,t,o){return this.matrix.set(this.row,t,o),this}get(r,t){return this.matrix.get(this.row,t)}}class fB extends pc{constructor(r,t){jx(r,t),super(r,t.length,r.columns),this.rowIndices=t}set(r,t,o){return this.matrix.set(this.rowIndices[r],t,o),this}get(r,t){return this.matrix.get(this.rowIndices[r],t)}}class wv extends pc{constructor(r,t,o){jx(r,t),Hx(r,o),super(r,t.length,o.length),this.rowIndices=t,this.columnIndices=o}set(r,t,o){return this.matrix.set(this.rowIndices[r],this.columnIndices[t],o),this}get(r,t){return this.matrix.get(this.rowIndices[r],this.columnIndices[t])}}class gB extends pc{constructor(r,t,o,l,u){M1(r,t,o,l,u),super(r,o-t+1,u-l+1),this.startRow=t,this.startColumn=l}set(r,t,o){return this.matrix.set(this.startRow+r,this.startColumn+t,o),this}get(r,t){return this.matrix.get(this.startRow+r,this.startColumn+t)}}class mB extends pc{constructor(r){super(r,r.columns,r.rows)}set(r,t,o){return this.matrix.set(t,r,o),this}get(r,t){return this.matrix.get(t,r)}}class zP extends mr{constructor(r,t={}){const{rows:o=1}=t;if(r.length%o!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=o,this.columns=r.length/o,this.data=r}set(r,t,o){let l=this._calculateIndex(r,t);return this.data[l]=o,this}get(r,t){let o=this._calculateIndex(r,t);return this.data[o]}_calculateIndex(r,t){return r*this.columns+t}}class ws extends mr{constructor(r){super(),this.data=r,this.rows=r.length,this.columns=r[0].length}set(r,t,o){return this.data[r][t]=o,this}get(r,t){return this.data[r][t]}}function vB(n,r){if(Wo.isAnyArray(n))return n[0]&&Wo.isAnyArray(n[0])?new ws(n):new zP(n,r);throw new Error("the argument is not an array")}class zy{constructor(r){r=ws.checkMatrix(r);let t=r.clone(),o=t.rows,l=t.columns,u=new Float64Array(o),d=1,p,m,v,_,k,C,M,A,F;for(p=0;p<o;p++)u[p]=p;for(A=new Float64Array(o),m=0;m<l;m++){for(p=0;p<o;p++)A[p]=t.get(p,m);for(p=0;p<o;p++){for(F=Math.min(p,m),k=0,v=0;v<F;v++)k+=t.get(p,v)*A[v];A[p]-=k,t.set(p,m,A[p])}for(_=m,p=m+1;p<o;p++)Math.abs(A[p])>Math.abs(A[_])&&(_=p);if(_!==m){for(v=0;v<l;v++)C=t.get(_,v),t.set(_,v,t.get(m,v)),t.set(m,v,C);M=u[_],u[_]=u[m],u[m]=M,d=-d}if(m<o&&t.get(m,m)!==0)for(p=m+1;p<o;p++)t.set(p,m,t.get(p,m)/t.get(m,m))}this.LU=t,this.pivotVector=u,this.pivotSign=d}isSingular(){let r=this.LU,t=r.columns;for(let o=0;o<t;o++)if(r.get(o,o)===0)return!0;return!1}solve(r){r=be.checkMatrix(r);let t=this.LU;if(t.rows!==r.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let o=r.columns,l=r.subMatrixRow(this.pivotVector,0,o-1),u=t.columns,d,p,m;for(m=0;m<u;m++)for(d=m+1;d<u;d++)for(p=0;p<o;p++)l.set(d,p,l.get(d,p)-l.get(m,p)*t.get(d,m));for(m=u-1;m>=0;m--){for(p=0;p<o;p++)l.set(m,p,l.get(m,p)/t.get(m,m));for(d=0;d<m;d++)for(p=0;p<o;p++)l.set(d,p,l.get(d,p)-l.get(m,p)*t.get(d,m))}return l}get determinant(){let r=this.LU;if(!r.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,o=r.columns;for(let l=0;l<o;l++)t*=r.get(l,l);return t}get lowerTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u>d?l.set(u,d,r.get(u,d)):u===d?l.set(u,d,1):l.set(u,d,0);return l}get upperTriangularMatrix(){let r=this.LU,t=r.rows,o=r.columns,l=new be(t,o);for(let u=0;u<t;u++)for(let d=0;d<o;d++)u<=d?l.set(u,d,r.get(u,d)):l.set(u,d,0);return l}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function $l(n,r){let t=0;return Math.abs(n)>Math.abs(r)?(t=r/n,Math.abs(n)*Math.sqrt(1+t*t)):r!==0?(t=n/r,Math.abs(r)*Math.sqrt(1+t*t)):0}class Ux{constructor(r){r=ws.checkMatrix(r);let t=r.clone(),o=r.rows,l=r.columns,u=new Float64Array(l),d,p,m,v;for(m=0;m<l;m++){let _=0;for(d=m;d<o;d++)_=$l(_,t.get(d,m));if(_!==0){for(t.get(m,m)<0&&(_=-_),d=m;d<o;d++)t.set(d,m,t.get(d,m)/_);for(t.set(m,m,t.get(m,m)+1),p=m+1;p<l;p++){for(v=0,d=m;d<o;d++)v+=t.get(d,m)*t.get(d,p);for(v=-v/t.get(m,m),d=m;d<o;d++)t.set(d,p,t.get(d,p)+v*t.get(d,m))}}u[m]=-_}this.QR=t,this.Rdiag=u}solve(r){r=be.checkMatrix(r);let t=this.QR,o=t.rows;if(r.rows!==o)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let l=r.columns,u=r.clone(),d=t.columns,p,m,v,_;for(v=0;v<d;v++)for(m=0;m<l;m++){for(_=0,p=v;p<o;p++)_+=t.get(p,v)*u.get(p,m);for(_=-_/t.get(v,v),p=v;p<o;p++)u.set(p,m,u.get(p,m)+_*t.get(p,v))}for(v=d-1;v>=0;v--){for(m=0;m<l;m++)u.set(v,m,u.get(v,m)/this.Rdiag[v]);for(p=0;p<v;p++)for(m=0;m<l;m++)u.set(p,m,u.get(p,m)-u.get(v,m)*t.get(p,v))}return u.subMatrix(0,d-1,0,l-1)}isFullRank(){let r=this.QR.columns;for(let t=0;t<r;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let r=this.QR,t=r.columns,o=new be(t,t),l,u;for(l=0;l<t;l++)for(u=0;u<t;u++)l<u?o.set(l,u,r.get(l,u)):l===u?o.set(l,u,this.Rdiag[l]):o.set(l,u,0);return o}get orthogonalMatrix(){let r=this.QR,t=r.rows,o=r.columns,l=new be(t,o),u,d,p,m;for(p=o-1;p>=0;p--){for(u=0;u<t;u++)l.set(u,p,0);for(l.set(p,p,1),d=p;d<o;d++)if(r.get(p,p)!==0){for(m=0,u=p;u<t;u++)m+=r.get(u,p)*l.get(u,d);for(m=-m/r.get(p,p),u=p;u<t;u++)l.set(u,d,l.get(u,d)+m*r.get(u,p))}}return l}}let Mp=class{constructor(n,r={}){if(n=ws.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,o=n.columns;const{computeLeftSingularVectors:l=!0,computeRightSingularVectors:u=!0,autoTranspose:d=!1}=r;let p=!!l,m=!!u,v=!1,_;if(t<o)if(!d)_=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{_=n.transpose(),t=_.rows,o=_.columns,v=!0;let V=p;p=m,m=V}else _=n.clone();let k=Math.min(t,o),C=Math.min(t+1,o),M=new Float64Array(C),A=new be(t,k),F=new be(o,o),U=new Float64Array(o),H=new Float64Array(t),W=new Float64Array(C);for(let V=0;V<C;V++)W[V]=V;let j=Math.min(t-1,o),q=Math.max(0,Math.min(o-2,t)),nt=Math.max(j,q);for(let V=0;V<nt;V++){if(V<j){M[V]=0;for(let at=V;at<t;at++)M[V]=$l(M[V],_.get(at,V));if(M[V]!==0){_.get(V,V)<0&&(M[V]=-M[V]);for(let at=V;at<t;at++)_.set(at,V,_.get(at,V)/M[V]);_.set(V,V,_.get(V,V)+1)}M[V]=-M[V]}for(let at=V+1;at<o;at++){if(V<j&&M[V]!==0){let ht=0;for(let mt=V;mt<t;mt++)ht+=_.get(mt,V)*_.get(mt,at);ht=-ht/_.get(V,V);for(let mt=V;mt<t;mt++)_.set(mt,at,_.get(mt,at)+ht*_.get(mt,V))}U[at]=_.get(V,at)}if(p&&V<j)for(let at=V;at<t;at++)A.set(at,V,_.get(at,V));if(V<q){U[V]=0;for(let at=V+1;at<o;at++)U[V]=$l(U[V],U[at]);if(U[V]!==0){U[V+1]<0&&(U[V]=0-U[V]);for(let at=V+1;at<o;at++)U[at]/=U[V];U[V+1]+=1}if(U[V]=-U[V],V+1<t&&U[V]!==0){for(let at=V+1;at<t;at++)H[at]=0;for(let at=V+1;at<t;at++)for(let ht=V+1;ht<o;ht++)H[at]+=U[ht]*_.get(at,ht);for(let at=V+1;at<o;at++){let ht=-U[at]/U[V+1];for(let mt=V+1;mt<t;mt++)_.set(mt,at,_.get(mt,at)+ht*H[mt])}}if(m)for(let at=V+1;at<o;at++)F.set(at,V,U[at])}}let pt=Math.min(o,t+1);if(j<o&&(M[j]=_.get(j,j)),t<pt&&(M[pt-1]=0),q+1<pt&&(U[q]=_.get(q,pt-1)),U[pt-1]=0,p){for(let V=j;V<k;V++){for(let at=0;at<t;at++)A.set(at,V,0);A.set(V,V,1)}for(let V=j-1;V>=0;V--)if(M[V]!==0){for(let at=V+1;at<k;at++){let ht=0;for(let mt=V;mt<t;mt++)ht+=A.get(mt,V)*A.get(mt,at);ht=-ht/A.get(V,V);for(let mt=V;mt<t;mt++)A.set(mt,at,A.get(mt,at)+ht*A.get(mt,V))}for(let at=V;at<t;at++)A.set(at,V,-A.get(at,V));A.set(V,V,1+A.get(V,V));for(let at=0;at<V-1;at++)A.set(at,V,0)}else{for(let at=0;at<t;at++)A.set(at,V,0);A.set(V,V,1)}}if(m)for(let V=o-1;V>=0;V--){if(V<q&&U[V]!==0)for(let at=V+1;at<o;at++){let ht=0;for(let mt=V+1;mt<o;mt++)ht+=F.get(mt,V)*F.get(mt,at);ht=-ht/F.get(V+1,V);for(let mt=V+1;mt<o;mt++)F.set(mt,at,F.get(mt,at)+ht*F.get(mt,V))}for(let at=0;at<o;at++)F.set(at,V,0);F.set(V,V,1)}let ut=pt-1,ct=Number.EPSILON;for(;pt>0;){let V,at;for(V=pt-2;V>=-1&&V!==-1;V--){const ht=Number.MIN_VALUE+ct*Math.abs(M[V]+Math.abs(M[V+1]));if(Math.abs(U[V])<=ht||Number.isNaN(U[V])){U[V]=0;break}}if(V===pt-2)at=4;else{let ht;for(ht=pt-1;ht>=V&&ht!==V;ht--){let mt=(ht!==pt?Math.abs(U[ht]):0)+(ht!==V+1?Math.abs(U[ht-1]):0);if(Math.abs(M[ht])<=ct*mt){M[ht]=0;break}}ht===V?at=3:ht===pt-1?at=1:(at=2,V=ht)}switch(V++,at){case 1:{let ht=U[pt-2];U[pt-2]=0;for(let mt=pt-2;mt>=V;mt--){let Qt=$l(M[mt],ht),ie=M[mt]/Qt,ye=ht/Qt;if(M[mt]=Qt,mt!==V&&(ht=-ye*U[mt-1],U[mt-1]=ie*U[mt-1]),m)for(let Gt=0;Gt<o;Gt++)Qt=ie*F.get(Gt,mt)+ye*F.get(Gt,pt-1),F.set(Gt,pt-1,-ye*F.get(Gt,mt)+ie*F.get(Gt,pt-1)),F.set(Gt,mt,Qt)}break}case 2:{let ht=U[V-1];U[V-1]=0;for(let mt=V;mt<pt;mt++){let Qt=$l(M[mt],ht),ie=M[mt]/Qt,ye=ht/Qt;if(M[mt]=Qt,ht=-ye*U[mt],U[mt]=ie*U[mt],p)for(let Gt=0;Gt<t;Gt++)Qt=ie*A.get(Gt,mt)+ye*A.get(Gt,V-1),A.set(Gt,V-1,-ye*A.get(Gt,mt)+ie*A.get(Gt,V-1)),A.set(Gt,mt,Qt)}break}case 3:{const ht=Math.max(Math.abs(M[pt-1]),Math.abs(M[pt-2]),Math.abs(U[pt-2]),Math.abs(M[V]),Math.abs(U[V])),mt=M[pt-1]/ht,Qt=M[pt-2]/ht,ie=U[pt-2]/ht,ye=M[V]/ht,Gt=U[V]/ht,de=((Qt+mt)*(Qt-mt)+ie*ie)/2,Jt=mt*ie*(mt*ie);let Qe=0;(de!==0||Jt!==0)&&(de<0?Qe=0-Math.sqrt(de*de+Jt):Qe=Math.sqrt(de*de+Jt),Qe=Jt/(de+Qe));let wt=(ye+mt)*(ye-mt)+Qe,Ot=ye*Gt;for(let Wt=V;Wt<pt-1;Wt++){let ee=$l(wt,Ot);ee===0&&(ee=Number.MIN_VALUE);let me=wt/ee,se=Ot/ee;if(Wt!==V&&(U[Wt-1]=ee),wt=me*M[Wt]+se*U[Wt],U[Wt]=me*U[Wt]-se*M[Wt],Ot=se*M[Wt+1],M[Wt+1]=me*M[Wt+1],m)for(let he=0;he<o;he++)ee=me*F.get(he,Wt)+se*F.get(he,Wt+1),F.set(he,Wt+1,-se*F.get(he,Wt)+me*F.get(he,Wt+1)),F.set(he,Wt,ee);if(ee=$l(wt,Ot),ee===0&&(ee=Number.MIN_VALUE),me=wt/ee,se=Ot/ee,M[Wt]=ee,wt=me*U[Wt]+se*M[Wt+1],M[Wt+1]=-se*U[Wt]+me*M[Wt+1],Ot=se*U[Wt+1],U[Wt+1]=me*U[Wt+1],p&&Wt<t-1)for(let he=0;he<t;he++)ee=me*A.get(he,Wt)+se*A.get(he,Wt+1),A.set(he,Wt+1,-se*A.get(he,Wt)+me*A.get(he,Wt+1)),A.set(he,Wt,ee)}U[pt-2]=wt;break}case 4:{if(M[V]<=0&&(M[V]=M[V]<0?-M[V]:0,m))for(let ht=0;ht<=ut;ht++)F.set(ht,V,-F.get(ht,V));for(;V<ut&&!(M[V]>=M[V+1]);){let ht=M[V];if(M[V]=M[V+1],M[V+1]=ht,m&&V<o-1)for(let mt=0;mt<o;mt++)ht=F.get(mt,V+1),F.set(mt,V+1,F.get(mt,V)),F.set(mt,V,ht);if(p&&V<t-1)for(let mt=0;mt<t;mt++)ht=A.get(mt,V+1),A.set(mt,V+1,A.get(mt,V)),A.set(mt,V,ht);V++}pt--;break}}}if(v){let V=F;F=A,A=V}this.m=t,this.n=o,this.s=M,this.U=A,this.V=F}solve(n){let r=n,t=this.threshold,o=this.s.length,l=be.zeros(o,o);for(let k=0;k<o;k++)Math.abs(this.s[k])<=t?l.set(k,k,0):l.set(k,k,1/this.s[k]);let u=this.U,d=this.rightSingularVectors,p=d.mmul(l),m=d.rows,v=u.rows,_=be.zeros(m,v);for(let k=0;k<m;k++)for(let C=0;C<v;C++){let M=0;for(let A=0;A<o;A++)M+=p.get(k,A)*u.get(C,A);_.set(k,C,M)}return _.mmul(r)}solveForDiagonal(n){return this.solve(be.diag(n))}inverse(){let n=this.V,r=this.threshold,t=n.rows,o=n.columns,l=new be(t,this.s.length);for(let v=0;v<t;v++)for(let _=0;_<o;_++)Math.abs(this.s[_])>r&&l.set(v,_,n.get(v,_)/this.s[_]);let u=this.U,d=u.rows,p=u.columns,m=new be(t,d);for(let v=0;v<t;v++)for(let _=0;_<d;_++){let k=0;for(let C=0;C<p;C++)k+=l.get(v,C)*u.get(_,C);m.set(v,_,k)}return m}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,t=this.s;for(let o=0,l=t.length;o<l;o++)t[o]>n&&r++;return r}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return be.diag(this.s)}};function yB(n,r=!1){return n=ws.checkMatrix(n),r?new Mp(n).inverse():NP(n,be.eye(n.rows))}function NP(n,r,t=!1){return n=ws.checkMatrix(n),r=ws.checkMatrix(r),t?new Mp(n).solve(r):n.isSquare()?new zy(n).solve(r):new Ux(n).solve(r)}function xv(n){if(n=be.checkMatrix(n),n.isSquare()){if(n.columns===0)return 1;let r,t,o,l;if(n.columns===2)return r=n.get(0,0),t=n.get(0,1),o=n.get(1,0),l=n.get(1,1),r*l-t*o;if(n.columns===3){let u,d,p;return u=new wv(n,[1,2],[1,2]),d=new wv(n,[1,2],[0,2]),p=new wv(n,[1,2],[0,1]),r=n.get(0,0),t=n.get(0,1),o=n.get(0,2),r*xv(u)-t*xv(d)+o*xv(p)}else return new zy(n).determinant}else throw Error("determinant can only be calculated for a square matrix")}function bB(n,r){let t=[];for(let o=0;o<n;o++)o!==r&&t.push(o);return t}function wB(n,r,t,o=1e-9,l=1e-9){if(n>l)return new Array(r.rows+1).fill(0);{let u=r.addRow(t,[0]);for(let d=0;d<u.rows;d++)Math.abs(u.get(d,0))<o&&u.set(d,0,0);return u.to1DArray()}}function xB(n,r={}){const{thresholdValue:t=1e-9,thresholdError:o=1e-9}=r;n=be.checkMatrix(n);let l=n.rows,u=new be(l,l);for(let d=0;d<l;d++){let p=be.columnVector(n.getRow(d)),m=n.subMatrixRow(bB(l,d)).transpose(),v=new Mp(m).solve(p),_=be.sub(p,m.mmul(v)).abs().max();u.setRow(d,wB(_,v,d,t,o))}return u}function _B(n,r=Number.EPSILON){if(n=be.checkMatrix(n),n.isEmpty())return n.transpose();let t=new Mp(n,{autoTranspose:!0}),o=t.leftSingularVectors,l=t.rightSingularVectors,u=t.diagonal;for(let d=0;d<u.length;d++)Math.abs(u[d])>r?u[d]=1/u[d]:u[d]=0;return l.mmul(be.diag(u).mmul(o.transpose()))}function kB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Wo.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0}=t;l&&(n=n.center("column"),o||(r=r.center("column")));const u=n.transpose().mmul(r);for(let d=0;d<u.rows;d++)for(let p=0;p<u.columns;p++)u.set(d,p,u.get(d,p)*(1/(n.rows-1)));return u}function EB(n,r=n,t={}){n=new be(n);let o=!1;if(typeof r=="object"&&!be.isMatrix(r)&&!Wo.isAnyArray(r)?(t=r,r=n,o=!0):r=new be(r),n.rows!==r.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:l=!0,scale:u=!0}=t;l&&(n.center("column"),o||r.center("column")),u&&(n.scale("column"),o||r.scale("column"));const d=n.standardDeviation("column",{unbiased:!0}),p=o?d:r.standardDeviation("column",{unbiased:!0}),m=n.transpose().mmul(r);for(let v=0;v<m.rows;v++)for(let _=0;_<m.columns;_++)m.set(v,_,m.get(v,_)*(1/(d[v]*p[_]))*(1/(n.rows-1)));return m}class DP{constructor(r,t={}){const{assumeSymmetric:o=!1}=t;if(r=ws.checkMatrix(r),!r.isSquare())throw new Error("Matrix is not a square matrix");if(r.isEmpty())throw new Error("Matrix must be non-empty");let l=r.columns,u=new be(l,l),d=new Float64Array(l),p=new Float64Array(l),m=r,v,_,k=!1;if(o?k=!0:k=r.isSymmetric(),k){for(v=0;v<l;v++)for(_=0;_<l;_++)u.set(v,_,m.get(v,_));TB(l,p,d,u),SB(l,p,d,u)}else{let C=new be(l,l),M=new Float64Array(l);for(_=0;_<l;_++)for(v=0;v<l;v++)C.set(v,_,m.get(v,_));CB(l,C,M,u),PB(l,p,d,u,C)}this.n=l,this.e=p,this.d=d,this.V=u}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let r=this.n,t=this.e,o=this.d,l=new be(r,r),u,d;for(u=0;u<r;u++){for(d=0;d<r;d++)l.set(u,d,0);l.set(u,u,o[u]),t[u]>0?l.set(u,u+1,t[u]):t[u]<0&&l.set(u,u-1,t[u])}return l}}function TB(n,r,t,o){let l,u,d,p,m,v,_,k;for(m=0;m<n;m++)t[m]=o.get(n-1,m);for(p=n-1;p>0;p--){for(k=0,d=0,v=0;v<p;v++)k=k+Math.abs(t[v]);if(k===0)for(r[p]=t[p-1],m=0;m<p;m++)t[m]=o.get(p-1,m),o.set(p,m,0),o.set(m,p,0);else{for(v=0;v<p;v++)t[v]/=k,d+=t[v]*t[v];for(l=t[p-1],u=Math.sqrt(d),l>0&&(u=-u),r[p]=k*u,d=d-l*u,t[p-1]=l-u,m=0;m<p;m++)r[m]=0;for(m=0;m<p;m++){for(l=t[m],o.set(m,p,l),u=r[m]+o.get(m,m)*l,v=m+1;v<=p-1;v++)u+=o.get(v,m)*t[v],r[v]+=o.get(v,m)*l;r[m]=u}for(l=0,m=0;m<p;m++)r[m]/=d,l+=r[m]*t[m];for(_=l/(d+d),m=0;m<p;m++)r[m]-=_*t[m];for(m=0;m<p;m++){for(l=t[m],u=r[m],v=m;v<=p-1;v++)o.set(v,m,o.get(v,m)-(l*r[v]+u*t[v]));t[m]=o.get(p-1,m),o.set(p,m,0)}}t[p]=d}for(p=0;p<n-1;p++){if(o.set(n-1,p,o.get(p,p)),o.set(p,p,1),d=t[p+1],d!==0){for(v=0;v<=p;v++)t[v]=o.get(v,p+1)/d;for(m=0;m<=p;m++){for(u=0,v=0;v<=p;v++)u+=o.get(v,p+1)*o.get(v,m);for(v=0;v<=p;v++)o.set(v,m,o.get(v,m)-u*t[v])}}for(v=0;v<=p;v++)o.set(v,p+1,0)}for(m=0;m<n;m++)t[m]=o.get(n-1,m),o.set(n-1,m,0);o.set(n-1,n-1,1),r[0]=0}function SB(n,r,t,o){let l,u,d,p,m,v,_,k,C,M,A,F,U,H,W,j;for(d=1;d<n;d++)r[d-1]=r[d];r[n-1]=0;let q=0,nt=0,pt=Number.EPSILON;for(v=0;v<n;v++){for(nt=Math.max(nt,Math.abs(t[v])+Math.abs(r[v])),_=v;_<n&&!(Math.abs(r[_])<=pt*nt);)_++;if(_>v)do{for(l=t[v],k=(t[v+1]-l)/(2*r[v]),C=$l(k,1),k<0&&(C=-C),t[v]=r[v]/(k+C),t[v+1]=r[v]*(k+C),M=t[v+1],u=l-t[v],d=v+2;d<n;d++)t[d]-=u;for(q=q+u,k=t[_],A=1,F=A,U=A,H=r[v+1],W=0,j=0,d=_-1;d>=v;d--)for(U=F,F=A,j=W,l=A*r[d],u=A*k,C=$l(k,r[d]),r[d+1]=W*C,W=r[d]/C,A=k/C,k=A*t[d]-W*l,t[d+1]=u+W*(A*l+W*t[d]),m=0;m<n;m++)u=o.get(m,d+1),o.set(m,d+1,W*o.get(m,d)+A*u),o.set(m,d,A*o.get(m,d)-W*u);k=-W*j*U*H*r[v]/M,r[v]=W*k,t[v]=A*k}while(Math.abs(r[v])>pt*nt);t[v]=t[v]+q,r[v]=0}for(d=0;d<n-1;d++){for(m=d,k=t[d],p=d+1;p<n;p++)t[p]<k&&(m=p,k=t[p]);if(m!==d)for(t[m]=t[d],t[d]=k,p=0;p<n;p++)k=o.get(p,d),o.set(p,d,o.get(p,m)),o.set(p,m,k)}}function CB(n,r,t,o){let l=0,u=n-1,d,p,m,v,_,k,C;for(k=l+1;k<=u-1;k++){for(C=0,v=k;v<=u;v++)C=C+Math.abs(r.get(v,k-1));if(C!==0){for(m=0,v=u;v>=k;v--)t[v]=r.get(v,k-1)/C,m+=t[v]*t[v];for(p=Math.sqrt(m),t[k]>0&&(p=-p),m=m-t[k]*p,t[k]=t[k]-p,_=k;_<n;_++){for(d=0,v=u;v>=k;v--)d+=t[v]*r.get(v,_);for(d=d/m,v=k;v<=u;v++)r.set(v,_,r.get(v,_)-d*t[v])}for(v=0;v<=u;v++){for(d=0,_=u;_>=k;_--)d+=t[_]*r.get(v,_);for(d=d/m,_=k;_<=u;_++)r.set(v,_,r.get(v,_)-d*t[_])}t[k]=C*t[k],r.set(k,k-1,C*p)}}for(v=0;v<n;v++)for(_=0;_<n;_++)o.set(v,_,v===_?1:0);for(k=u-1;k>=l+1;k--)if(r.get(k,k-1)!==0){for(v=k+1;v<=u;v++)t[v]=r.get(v,k-1);for(_=k;_<=u;_++){for(p=0,v=k;v<=u;v++)p+=t[v]*o.get(v,_);for(p=p/t[k]/r.get(k,k-1),v=k;v<=u;v++)o.set(v,_,o.get(v,_)+p*t[v])}}}function PB(n,r,t,o,l){let u=n-1,d=0,p=n-1,m=Number.EPSILON,v=0,_=0,k=0,C=0,M=0,A=0,F=0,U=0,H,W,j,q,nt,pt,ut,ct,V,at,ht,mt,Qt,ie,ye;for(H=0;H<n;H++)for((H<d||H>p)&&(t[H]=l.get(H,H),r[H]=0),W=Math.max(H-1,0);W<n;W++)_=_+Math.abs(l.get(H,W));for(;u>=d;){for(q=u;q>d&&(A=Math.abs(l.get(q-1,q-1))+Math.abs(l.get(q,q)),A===0&&(A=_),!(Math.abs(l.get(q,q-1))<m*A));)q--;if(q===u)l.set(u,u,l.get(u,u)+v),t[u]=l.get(u,u),r[u]=0,u--,U=0;else if(q===u-1){if(ut=l.get(u,u-1)*l.get(u-1,u),k=(l.get(u-1,u-1)-l.get(u,u))/2,C=k*k+ut,F=Math.sqrt(Math.abs(C)),l.set(u,u,l.get(u,u)+v),l.set(u-1,u-1,l.get(u-1,u-1)+v),ct=l.get(u,u),C>=0){for(F=k>=0?k+F:k-F,t[u-1]=ct+F,t[u]=t[u-1],F!==0&&(t[u]=ct-ut/F),r[u-1]=0,r[u]=0,ct=l.get(u,u-1),A=Math.abs(ct)+Math.abs(F),k=ct/A,C=F/A,M=Math.sqrt(k*k+C*C),k=k/M,C=C/M,W=u-1;W<n;W++)F=l.get(u-1,W),l.set(u-1,W,C*F+k*l.get(u,W)),l.set(u,W,C*l.get(u,W)-k*F);for(H=0;H<=u;H++)F=l.get(H,u-1),l.set(H,u-1,C*F+k*l.get(H,u)),l.set(H,u,C*l.get(H,u)-k*F);for(H=d;H<=p;H++)F=o.get(H,u-1),o.set(H,u-1,C*F+k*o.get(H,u)),o.set(H,u,C*o.get(H,u)-k*F)}else t[u-1]=ct+k,t[u]=ct+k,r[u-1]=F,r[u]=-F;u=u-2,U=0}else{if(ct=l.get(u,u),V=0,ut=0,q<u&&(V=l.get(u-1,u-1),ut=l.get(u,u-1)*l.get(u-1,u)),U===10){for(v+=ct,H=d;H<=u;H++)l.set(H,H,l.get(H,H)-ct);A=Math.abs(l.get(u,u-1))+Math.abs(l.get(u-1,u-2)),ct=V=.75*A,ut=-.4375*A*A}if(U===30&&(A=(V-ct)/2,A=A*A+ut,A>0)){for(A=Math.sqrt(A),V<ct&&(A=-A),A=ct-ut/((V-ct)/2+A),H=d;H<=u;H++)l.set(H,H,l.get(H,H)-A);v+=A,ct=V=ut=.964}for(U=U+1,nt=u-2;nt>=q&&(F=l.get(nt,nt),M=ct-F,A=V-F,k=(M*A-ut)/l.get(nt+1,nt)+l.get(nt,nt+1),C=l.get(nt+1,nt+1)-F-M-A,M=l.get(nt+2,nt+1),A=Math.abs(k)+Math.abs(C)+Math.abs(M),k=k/A,C=C/A,M=M/A,!(nt===q||Math.abs(l.get(nt,nt-1))*(Math.abs(C)+Math.abs(M))<m*(Math.abs(k)*(Math.abs(l.get(nt-1,nt-1))+Math.abs(F)+Math.abs(l.get(nt+1,nt+1))))));)nt--;for(H=nt+2;H<=u;H++)l.set(H,H-2,0),H>nt+2&&l.set(H,H-3,0);for(j=nt;j<=u-1&&(ie=j!==u-1,j!==nt&&(k=l.get(j,j-1),C=l.get(j+1,j-1),M=ie?l.get(j+2,j-1):0,ct=Math.abs(k)+Math.abs(C)+Math.abs(M),ct!==0&&(k=k/ct,C=C/ct,M=M/ct)),ct!==0);j++)if(A=Math.sqrt(k*k+C*C+M*M),k<0&&(A=-A),A!==0){for(j!==nt?l.set(j,j-1,-A*ct):q!==nt&&l.set(j,j-1,-l.get(j,j-1)),k=k+A,ct=k/A,V=C/A,F=M/A,C=C/k,M=M/k,W=j;W<n;W++)k=l.get(j,W)+C*l.get(j+1,W),ie&&(k=k+M*l.get(j+2,W),l.set(j+2,W,l.get(j+2,W)-k*F)),l.set(j,W,l.get(j,W)-k*ct),l.set(j+1,W,l.get(j+1,W)-k*V);for(H=0;H<=Math.min(u,j+3);H++)k=ct*l.get(H,j)+V*l.get(H,j+1),ie&&(k=k+F*l.get(H,j+2),l.set(H,j+2,l.get(H,j+2)-k*M)),l.set(H,j,l.get(H,j)-k),l.set(H,j+1,l.get(H,j+1)-k*C);for(H=d;H<=p;H++)k=ct*o.get(H,j)+V*o.get(H,j+1),ie&&(k=k+F*o.get(H,j+2),o.set(H,j+2,o.get(H,j+2)-k*M)),o.set(H,j,o.get(H,j)-k),o.set(H,j+1,o.get(H,j+1)-k*C)}}}if(_!==0){for(u=n-1;u>=0;u--)if(k=t[u],C=r[u],C===0)for(q=u,l.set(u,u,1),H=u-1;H>=0;H--){for(ut=l.get(H,H)-k,M=0,W=q;W<=u;W++)M=M+l.get(H,W)*l.get(W,u);if(r[H]<0)F=ut,A=M;else if(q=H,r[H]===0?l.set(H,u,ut!==0?-M/ut:-M/(m*_)):(ct=l.get(H,H+1),V=l.get(H+1,H),C=(t[H]-k)*(t[H]-k)+r[H]*r[H],pt=(ct*A-F*M)/C,l.set(H,u,pt),l.set(H+1,u,Math.abs(ct)>Math.abs(F)?(-M-ut*pt)/ct:(-A-V*pt)/F)),pt=Math.abs(l.get(H,u)),m*pt*pt>1)for(W=H;W<=u;W++)l.set(W,u,l.get(W,u)/pt)}else if(C<0)for(q=u-1,Math.abs(l.get(u,u-1))>Math.abs(l.get(u-1,u))?(l.set(u-1,u-1,C/l.get(u,u-1)),l.set(u-1,u,-(l.get(u,u)-k)/l.get(u,u-1))):(ye=ev(0,-l.get(u-1,u),l.get(u-1,u-1)-k,C),l.set(u-1,u-1,ye[0]),l.set(u-1,u,ye[1])),l.set(u,u-1,0),l.set(u,u,1),H=u-2;H>=0;H--){for(at=0,ht=0,W=q;W<=u;W++)at=at+l.get(H,W)*l.get(W,u-1),ht=ht+l.get(H,W)*l.get(W,u);if(ut=l.get(H,H)-k,r[H]<0)F=ut,M=at,A=ht;else if(q=H,r[H]===0?(ye=ev(-at,-ht,ut,C),l.set(H,u-1,ye[0]),l.set(H,u,ye[1])):(ct=l.get(H,H+1),V=l.get(H+1,H),mt=(t[H]-k)*(t[H]-k)+r[H]*r[H]-C*C,Qt=(t[H]-k)*2*C,mt===0&&Qt===0&&(mt=m*_*(Math.abs(ut)+Math.abs(C)+Math.abs(ct)+Math.abs(V)+Math.abs(F))),ye=ev(ct*M-F*at+C*ht,ct*A-F*ht-C*at,mt,Qt),l.set(H,u-1,ye[0]),l.set(H,u,ye[1]),Math.abs(ct)>Math.abs(F)+Math.abs(C)?(l.set(H+1,u-1,(-at-ut*l.get(H,u-1)+C*l.get(H,u))/ct),l.set(H+1,u,(-ht-ut*l.get(H,u)-C*l.get(H,u-1))/ct)):(ye=ev(-M-V*l.get(H,u-1),-A-V*l.get(H,u),F,C),l.set(H+1,u-1,ye[0]),l.set(H+1,u,ye[1]))),pt=Math.max(Math.abs(l.get(H,u-1)),Math.abs(l.get(H,u))),m*pt*pt>1)for(W=H;W<=u;W++)l.set(W,u-1,l.get(W,u-1)/pt),l.set(W,u,l.get(W,u)/pt)}for(H=0;H<n;H++)if(H<d||H>p)for(W=H;W<n;W++)o.set(H,W,l.get(H,W));for(W=n-1;W>=d;W--)for(H=d;H<=p;H++){for(F=0,j=d;j<=Math.min(W,p);j++)F=F+o.get(H,j)*l.get(j,W);o.set(H,W,F)}}}function ev(n,r,t,o){let l,u;return Math.abs(t)>Math.abs(o)?(l=o/t,u=t+l*o,[(n+l*r)/u,(r-l*n)/u]):(l=t/o,u=o+l*t,[(l*n+r)/u,(l*r-n)/u])}class FP{constructor(r){if(r=ws.checkMatrix(r),!r.isSymmetric())throw new Error("Matrix is not symmetric");let t=r,o=t.rows,l=new be(o,o),u=!0,d,p,m;for(p=0;p<o;p++){let v=0;for(m=0;m<p;m++){let _=0;for(d=0;d<m;d++)_+=l.get(m,d)*l.get(p,d);_=(t.get(p,m)-_)/l.get(m,m),l.set(p,m,_),v=v+_*_}for(v=t.get(p,p)-v,u&=v>0,l.set(p,p,Math.sqrt(Math.max(v,0))),m=p+1;m<o;m++)l.set(p,m,0)}this.L=l,this.positiveDefinite=!!u}isPositiveDefinite(){return this.positiveDefinite}solve(r){r=ws.checkMatrix(r);let t=this.L,o=t.rows;if(r.rows!==o)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let l=r.columns,u=r.clone(),d,p,m;for(m=0;m<o;m++)for(p=0;p<l;p++){for(d=0;d<m;d++)u.set(m,p,u.get(m,p)-u.get(d,p)*t.get(m,d));u.set(m,p,u.get(m,p)/t.get(m,m))}for(m=o-1;m>=0;m--)for(p=0;p<l;p++){for(d=m+1;d<o;d++)u.set(m,p,u.get(m,p)-u.get(d,p)*t.get(d,m));u.set(m,p,u.get(m,p)/t.get(m,m))}return u}get lowerTriangularMatrix(){return this.L}}class BP{constructor(r,t={}){r=ws.checkMatrix(r);let{Y:o}=t;const{scaleScores:l=!1,maxIterations:u=1e3,terminationCriteria:d=1e-10}=t;let p;if(o){if(Wo.isAnyArray(o)&&typeof o[0]=="number"?o=be.columnVector(o):o=ws.checkMatrix(o),o.rows!==r.rows)throw new Error("Y should have the same number of rows as X");p=o.getColumnVector(0)}else p=r.getColumnVector(0);let m=1,v,_,k,C;for(let M=0;M<u&&m>d;M++)k=r.transpose().mmul(p).div(p.transpose().mmul(p).get(0,0)),k=k.div(k.norm()),v=r.mmul(k).div(k.transpose().mmul(k).get(0,0)),M>0&&(m=v.clone().sub(C).pow(2).sum()),C=v.clone(),o?(_=o.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),_=_.div(_.norm()),p=o.mmul(_).div(_.transpose().mmul(_).get(0,0))):p=v;if(o){let M=r.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0));M=M.div(M.norm());let A=r.clone().sub(v.clone().mmul(M.transpose())),F=p.transpose().mmul(v).div(v.transpose().mmul(v).get(0,0)),U=o.clone().sub(v.clone().mulS(F.get(0,0)).mmul(_.transpose()));this.t=v,this.p=M.transpose(),this.w=k.transpose(),this.q=_,this.u=p,this.s=v.transpose().mmul(v),this.xResidual=A,this.yResidual=U,this.betas=F}else this.w=k.transpose(),this.s=v.transpose().mmul(v).sqrt(),l?this.t=v.clone().div(this.s.get(0,0)):this.t=v,this.xResidual=r.sub(v.mmul(k.transpose()))}}ri.AbstractMatrix=mr;ri.CHO=FP;ri.CholeskyDecomposition=FP;ri.DistanceMatrix=Oy;ri.EVD=DP;ri.EigenvalueDecomposition=DP;ri.LU=zy;ri.LuDecomposition=zy;var MB=ri.Matrix=be;ri.MatrixColumnSelectionView=uB;ri.MatrixColumnView=cB;ri.MatrixFlipColumnView=hB;ri.MatrixFlipRowView=dB;ri.MatrixRowSelectionView=fB;ri.MatrixRowView=pB;ri.MatrixSelectionView=wv;ri.MatrixSubView=gB;ri.MatrixTransposeView=mB;ri.NIPALS=BP;ri.Nipals=BP;ri.QR=Ux;ri.QrDecomposition=Ux;ri.SVD=Mp;var IB=ri.SingularValueDecomposition=Mp;ri.SymmetricMatrix=_g;ri.WrapperMatrix1D=zP;ri.WrapperMatrix2D=ws;ri.correlation=EB;ri.covariance=kB;var kT=ri.default=be;ri.determinant=xv;var LB=ri.inverse=yB;ri.linearDependencies=xB;var RB=ri.pseudoInverse=_B;ri.solve=NP;ri.wrap=vB;const uo=MB,AB=IB;kT.Matrix&&kT.Matrix;const OB=LB,jP=RB;class zB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const o=uo.columnVector(t.flat()),l=uo.zeros(2*this.pointCount,4);for(let d=0;d<this.pointCount;d++)l.set(2*d,0,1),l.set(2*d,1,0),l.set(2*d,2,r[d][0]),l.set(2*d,3,-r[d][1]),l.set(2*d+1,0,0),l.set(2*d+1,1,1),l.set(2*d+1,2,r[d][1]),l.set(2*d+1,3,r[d][0]);const u=jP(l);this.helmertParametersMatrix=u.mmul(o)}interpolate(r){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*r[0]-this.helmertParametersMatrix.get(3,0)*r[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*r[0]+this.helmertParametersMatrix.get(2,0)*r[1]]}}class Fw{constructor(r,t,o){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.order=o||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const l=[uo.columnVector(t.map(p=>p[0])),uo.columnVector(t.map(p=>p[1]))],u=uo.zeros(this.pointCount,this.nCoefs);for(let p=0;p<this.pointCount;p++)switch(this.order){case 1:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]);break;case 2:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]),u.set(p,3,r[p][0]**2),u.set(p,4,r[p][1]**2),u.set(p,5,r[p][0]*r[p][1]);break;case 3:u.set(p,0,1),u.set(p,1,r[p][0]),u.set(p,2,r[p][1]),u.set(p,3,r[p][0]**2),u.set(p,4,r[p][1]**2),u.set(p,5,r[p][0]*r[p][1]),u.set(p,6,r[p][0]**3),u.set(p,7,r[p][1]**3),u.set(p,8,r[p][0]**2*r[p][1]),u.set(p,9,r[p][0]*r[p][1]**2);break}const d=jP(u);this.polynomialParametersMatrices=[d.mmul(l[0]),d.mmul(l[1])]}interpolate(r){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const t=[0,0];for(let o=0;o<2;o++)switch(this.order){case 1:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1];break;case 2:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1];break;case 3:t[o]+=this.polynomialParametersMatrices[o].get(0,0)+this.polynomialParametersMatrices[o].get(1,0)*r[0]+this.polynomialParametersMatrices[o].get(2,0)*r[1]+this.polynomialParametersMatrices[o].get(3,0)*r[0]**2+this.polynomialParametersMatrices[o].get(4,0)*r[1]**2+this.polynomialParametersMatrices[o].get(5,0)*r[0]*r[1]+this.polynomialParametersMatrices[o].get(6,0)*r[0]**3+this.polynomialParametersMatrices[o].get(7,0)*r[1]**3+this.polynomialParametersMatrices[o].get(8,0)*r[0]**2*r[1]+this.polynomialParametersMatrices[o].get(9,0)*r[0]*r[1]**2;break}return t}}class NB{constructor(r,t){if(this.sourcePoints=r,this.destinationPoints=t,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const o=uo.zeros(2*this.pointCount,9);for(let u=0;u<this.pointCount;u++)o.set(2*u,0,-r[u][0]),o.set(2*u,1,-r[u][1]),o.set(2*u,2,-1),o.set(2*u,3,0),o.set(2*u,4,0),o.set(2*u,5,0),o.set(2*u,6,t[u][0]*r[u][0]),o.set(2*u,7,t[u][0]*r[u][1]),o.set(2*u,8,t[u][0]),o.set(2*u+1,0,0),o.set(2*u+1,1,0),o.set(2*u+1,2,0),o.set(2*u+1,3,-r[u][0]),o.set(2*u+1,4,-r[u][1]),o.set(2*u+1,5,-1),o.set(2*u+1,6,t[u][1]*r[u][0]),o.set(2*u+1,7,t[u][1]*r[u][1]),o.set(2*u+1,8,t[u][1]);const l=new AB(o);this.projectiveParametersMatrix=uo.from1DArray(3,3,l.rightSingularVectors.getColumn(8)).transpose()}interpolate(r){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const t=this.projectiveParametersMatrix.get(0,2)*r[0]+this.projectiveParametersMatrix.get(1,2)*r[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*r[0]+this.projectiveParametersMatrix.get(1,0)*r[1]+this.projectiveParametersMatrix.get(2,0))/t,(this.projectiveParametersMatrix.get(0,1)*r[0]+this.projectiveParametersMatrix.get(1,1)*r[1]+this.projectiveParametersMatrix.get(2,1))/t]}}function DB(n,r){if(n=uo.checkMatrix(n),r=uo.checkMatrix(r),n.rows!=r.rows||n.columns!=r.columns)throw new Error("Matrices have different dimensions");const t=uo.zeros(n.rows,n.columns);for(let o=0;o<n.rows;o++)for(let l=0;l<n.columns;l++)t.set(o,l,n.get(o,l)*r.get(o,l));return t}class FB{constructor(r,t,o,l,u){if(this.sourcePoints=r,this.destinationPoints=t,this.kernelFunction=o,this.normFunction=l,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const d=[uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[0])),uo.columnVector([...t,[0,0],[0,0],[0,0]].map(k=>k[1]))],p=uo.zeros(this.pointCount,this.pointCount);for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)p.set(k,C,l(r[k],r[C]));u===void 0&&(u=p.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=u;for(let k=0;k<this.pointCount;k++)for(let C=0;C<this.pointCount;C++)p.set(k,C,o(p.get(k,C),u));const m=uo.zeros(this.pointCount,3),v=uo.zeros(this.pointCount+3,this.pointCount+3);for(let k=0;k<this.pointCount;k++)m.set(k,0,1),m.set(k,1,r[k][0]),m.set(k,2,r[k][1]);for(let k=0;k<this.pointCount+3;k++)for(let C=0;C<this.pointCount+3;C++)k<this.pointCount&&C<this.pointCount?v.set(k,C,p.get(k,C)):k>=this.pointCount&&C<this.pointCount?v.set(k,C,m.transpose().get(k-this.pointCount,C)):k<this.pointCount&&C>=this.pointCount&&v.set(k,C,m.get(k,C-this.pointCount));const _=OB(v);this.weightsMatrices=[_.mmul(d[0]),_.mmul(d[1])]}interpolate(r){if(!this.weightsMatrices)throw new Error("Weights not computed");const t=uo.zeros(this.pointCount,1);for(let l=0;l<this.pointCount;l++)t.set(l,0,this.kernelFunction(this.normFunction(r,this.sourcePoints[l]),this.epsilon));const o=[0,0];for(let l=0;l<2;l++){o[l]=DB(t,this.weightsMatrices[l].selection([...Array(this.pointCount).keys()],[0])).sum();const u=this.weightsMatrices[l].get(this.pointCount,0),d=this.weightsMatrices[l].get(this.pointCount+1,0),p=this.weightsMatrices[l].get(this.pointCount+2,0);o[l]+=u+d*r[0]+p*r[1]}return o}}function BB(n){return n===0?0:Math.pow(n,2)*Math.log(n)}function jB(n,r){const t=[r[0]-n[0],r[1]-n[1]];return Math.sqrt(t[0]**2+t[1]**2)}function Ny(n){const r={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return n&&n.maxDepth!==void 0&&(r.maxDepth=n.maxDepth),n&&n.maxOffsetRatio!==void 0&&(r.maxOffsetRatio=n.maxOffsetRatio),n&&n.destinationIsGeographic!==void 0&&(r.destinationIsGeographic=n.destinationIsGeographic),n&&n.sourceIsGeographic!==void 0&&(r.sourceIsGeographic=n.sourceIsGeographic),r}function rv(n,r,t){const o=Ny(t);r=MP(r);const l=r.map(p=>({source:p,destination:n.transformForward(p)})),u=Dy(l,!1),d=HP(n,u,o);return Fy(d,!0).map(p=>p.destination)}function iv(n,r,t){const o=Ny(t);r=MP(r);const l=r.map(p=>({source:n.transformBackward(p),destination:p})),u=Dy(l,!1),d=UP(n,u,o);return Fy(d,!0).map(p=>p.source)}function HB(n,r,t){const o=Ny(t);r=Dx(r);const l=r.map(p=>({source:p,destination:n.transformForward(p)})),u=Dy(l,!0),d=HP(n,u,o);return Fy(d,!1).map(p=>p.destination)}function UB(n,r,t){const o=Ny(t);r=Dx(r);const l=r.map(p=>({source:n.transformBackward(p),destination:p})),u=Dy(l,!0),d=UP(n,u,o);return Fy(d,!1).map(p=>p.source)}function nv(n,r,t){return r.map(o=>HB(n,o,t))}function ov(n,r,t){return r.map(o=>UB(n,o,t))}function Dy(n,r=!1){const t=n.length-(r?0:1),o=[];for(let l=0;l<t;l++)o.push({from:n[l],to:n[(l+1)%n.length]});return o}function Fy(n,r=!1){const t=n.map(o=>o.from);return r&&t.push(n[n.length-1].to),t}function HP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>L1(n,o,t,0)).flat(1)}function UP(n,r,t){return t.maxDepth<=0||t.maxOffsetRatio<=0?r:r.map(o=>R1(n,o,t,0)).flat(1)}function L1(n,r,t,o){const l=(t.sourceIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.source,r.to.source),u=(t.destinationIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),d=n.transformForward(l),p=t.destinationIsGeographic?Nx:oc,m=p(r.from.destination,r.to.destination),v=p(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:l,destination:d};return[L1(n,{from:r.from,to:_},t,o+1),L1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}function R1(n,r,t,o){const l=(t.destinationIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.destination,r.to.destination),u=(t.sourceIsGeographic?(_,k)=>ny(_,k).geometry.coordinates:oy)(r.from.source,r.to.source),d=n.transformBackward(l),p=t.sourceIsGeographic?Nx:oc,m=p(r.from.source,r.to.source),v=p(u,d);if(o<t.maxDepth&&t.maxOffsetRatio&&v/m>t.maxOffsetRatio&&m>0){const _={source:d,destination:l};return[R1(n,{from:r.from,to:_},t,o+1),R1(n,{from:_,to:r.to},t,o+1)].flat(1)}else return r}var A1,GP,O1,qP,_v,Bw;class ET{constructor(r,t="polynomial"){if(xg(this,A1),xg(this,O1),xg(this,_v),r.length==0)throw new Error("No control points.");this.gcps=r.map(o=>{if("resource"in o&&"geo"in o)return{source:o.resource,destination:o.geo};if("source"in o&&"destination"in o)return o;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(o=>o.source),this.destinationPoints=this.gcps.map(o=>o.destination),this.type=t}transformForward(r,t){if(Vo(r))return this.forwardTransformation||(this.forwardTransformation=kp(this,A1,GP).call(this)),this.forwardTransformation.interpolate(r);if(Xl(r))return this.transformForward(sg(r));if(nl(r))return rv(this,r,t);if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),rv(this,ag(r),t);if(ol(r))return nv(this,r,t);if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),nv(this,lg(r),t);throw new Error("Input type not supported")}transformForwardAsGeojson(r,t){if(Vo(r))return Y0(this.transformForward(r));if(Xl(r))return Y0(this.transformForward(sg(r)));if(nl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),X0(rv(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),X0(rv(this,ag(r),t));if(ol(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(nv(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(nv(this,lg(r),t));throw new Error("Input type not supported")}transformBackward(r,t){if(Vo(r))return this.backwardTransformation||(this.backwardTransformation=kp(this,O1,qP).call(this)),this.backwardTransformation.interpolate(r);if(Xl(r))return this.transformBackward(sg(r));if(nl(r))return iv(this,r,t);if(Kl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),iv(this,ag(r),t);if(ol(r))return ov(this,r,t);if(Jl(r))return t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),ov(this,lg(r),t);throw new Error("Input type not supported")}transformBackwardAsGeojson(r,t){if(Vo(r))return Y0(this.transformBackward(r));if(Xl(r))return Y0(this.transformBackward(sg(r)));if(nl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),X0(iv(this,r,t));if(Kl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),X0(iv(this,ag(r),t));if(ol(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),K0(ov(this,r,t));if(Jl(r))return t&&!("sourceIsGeographic"in t)&&(t.sourceIsGeographic=!0),t&&!("destinationIsGeographic"in t)&&(t.destinationIsGeographic=!0),K0(ov(this,lg(r),t));throw new Error("Input type not supported")}transformToGeo(r,t){if(Vo(r))return this.transformForward(r,t);if(Xl(r))return this.transformForward(r,t);if(nl(r))return this.transformForward(r,t);if(Kl(r))return this.transformForward(r,t);if(ol(r))return this.transformForward(r,t);if(Jl(r))return this.transformForward(r,t);throw new Error("Input type not supported")}transformToGeoAsGeojson(r,t){if(Vo(r))return this.transformForwardAsGeojson(r,t);if(Xl(r))return this.transformForwardAsGeojson(r,t);if(nl(r))return this.transformForwardAsGeojson(r,t);if(Kl(r))return this.transformForwardAsGeojson(r,t);if(ol(r))return this.transformForwardAsGeojson(r,t);if(Jl(r))return this.transformForwardAsGeojson(r,t);throw new Error("Input type not supported")}transformToResource(r,t){if(Vo(r))return this.transformBackward(r,t);if(Xl(r))return this.transformBackward(r,t);if(nl(r))return this.transformBackward(r,t);if(Kl(r))return this.transformBackward(r,t);if(ol(r))return this.transformBackward(r,t);if(Jl(r))return this.transformBackward(r,t);throw new Error("Input type not supported")}transformToResourceAsGeojson(r,t){if(Vo(r))return this.transformBackwardAsGeojson(r,t);if(Xl(r))return this.transformBackwardAsGeojson(r,t);if(nl(r))return this.transformBackwardAsGeojson(r,t);if(Kl(r))return this.transformBackwardAsGeojson(r,t);if(ol(r))return this.transformBackwardAsGeojson(r,t);if(Jl(r))return this.transformBackwardAsGeojson(r,t);throw new Error("Input type not supported")}transformSvgToGeojson(r,t){if(r.type==="circle")return this.transformForwardAsGeojson(r.coordinates);if(r.type==="line")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="polyline")return this.transformForwardAsGeojson(r.coordinates,t);if(r.type==="rect")return this.transformForwardAsGeojson([r.coordinates],t);if(r.type==="polygon")return this.transformForwardAsGeojson([r.coordinates],t);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(r,t){if(r.type==="Point")return{type:"circle",coordinates:this.transformBackward(r)};if(r.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(r,t)};if(r.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(r,t)[0]};throw new Error("Unsupported GeoJSON geometry")}}A1=new WeakSet,GP=function(){return kp(this,_v,Bw).call(this,this.sourcePoints,this.destinationPoints)},O1=new WeakSet,qP=function(){return kp(this,_v,Bw).call(this,this.destinationPoints,this.sourcePoints)},_v=new WeakSet,Bw=function(n,r){if(this.type==="helmert")return new zB(n,r);if(this.type==="polynomial1"||this.type==="polynomial")return new Fw(n,r);if(this.type==="polynomial2")return new Fw(n,r,2);if(this.type==="polynomial3")return new Fw(n,r,3);if(this.type==="projective")return new NB(n,r);if(this.type==="thinPlateSpline")return new FB(n,r,BB,jB);throw new Error(`Unsupported transformation type: ${this.type}`)};function GB(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function qB(n){return Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0])}function VB(n,r,t){return[n[0]+Math.cos(t)*r,n[1]+Math.sin(t)*r]}function WB(n,r){let t=n[0];const o=[t];for(;GB([t,n[1]])>r;){const l=VB(t,r,qB(n));o.push(l),t=l}return o}function ZB(n,r){n=[...n,n[0]];let t=[];for(let o=0;o<n.length-1;o++)t=t.concat(WB([n[o],n[o+1]],r));return t}function YB(n,r){const t=[],o=Gn(n);for(let l=o[0]+r,u=0;l<=o[2];u++,l+=r)for(let d=o[1]+r,p=0;d<=o[3];p++,d+=r)t.push([l,d]);return t}var z1={},XB={get exports(){return z1},set exports(n){z1=n}},VP=KB,TT=+(Math.pow(2,27)+1);function KB(n,r,t){var o=n*r,l=TT*n,u=l-n,d=l-u,p=n-d,m=TT*r,v=m-r,_=m-v,k=r-_,C=o-d*_,M=C-p*_,A=M-d*k,F=p*k-A;return t?(t[0]=F,t[1]=o,t):[F,o]}var JB=$B;function QB(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,p=d+u;return p?[p,t]:[t]}function $B(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return QB(n[0],r[0]);var l=t+o,u=new Array(l),d=0,p=0,m=0,v=Math.abs,_=n[p],k=v(_),C=r[m],M=v(C),A,F;k<M?(F=_,p+=1,p<t&&(_=n[p],k=v(_))):(F=C,m+=1,m<o&&(C=r[m],M=v(C))),p<t&&k<M||m>=o?(A=_,p+=1,p<t&&(_=n[p],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C)));for(var U=A+F,H=U-A,W=F-H,j=W,q=U,nt,pt,ut,ct,V;p<t&&m<o;)k<M?(A=_,p+=1,p<t&&(_=n[p],k=v(_))):(A=C,m+=1,m<o&&(C=r[m],M=v(C))),F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt;for(;p<t;)A=_,F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt,p+=1,p<t&&(_=n[p]);for(;m<o;)A=C,F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt,m+=1,m<o&&(C=r[m]);return j&&(u[d++]=j),q&&(u[d++]=q),d||(u[d++]=0),u.length=d,u}var t7=e7;function e7(n,r,t){var o=n+r,l=o-n,u=o-l,d=r-l,p=n-u;return t?(t[0]=p+d,t[1]=o,t):[p+d,o]}var jw=VP,r7=t7,i7=n7;function n7(n,r){var t=n.length;if(t===1){var o=jw(n[0],r);return o[0]?o:[o[1]]}var l=new Array(2*t),u=[.1,.1],d=[.1,.1],p=0;jw(n[0],r,u),u[0]&&(l[p++]=u[0]);for(var m=1;m<t;++m){jw(n[m],r,d);var v=u[1];r7(v,d[0],u),u[0]&&(l[p++]=u[0]);var _=d[1],k=u[1],C=_+k,M=C-_,A=k-M;u[1]=C,A&&(l[p++]=A)}return u[1]&&(l[p++]=u[1]),p===0&&(l[p++]=0),l.length=p,l}var o7=a7;function s7(n,r){var t=n+r,o=t-n,l=t-o,u=r-o,d=n-l,p=d+u;return p?[p,t]:[t]}function a7(n,r){var t=n.length|0,o=r.length|0;if(t===1&&o===1)return s7(n[0],-r[0]);var l=t+o,u=new Array(l),d=0,p=0,m=0,v=Math.abs,_=n[p],k=v(_),C=-r[m],M=v(C),A,F;k<M?(F=_,p+=1,p<t&&(_=n[p],k=v(_))):(F=C,m+=1,m<o&&(C=-r[m],M=v(C))),p<t&&k<M||m>=o?(A=_,p+=1,p<t&&(_=n[p],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C)));for(var U=A+F,H=U-A,W=F-H,j=W,q=U,nt,pt,ut,ct,V;p<t&&m<o;)k<M?(A=_,p+=1,p<t&&(_=n[p],k=v(_))):(A=C,m+=1,m<o&&(C=-r[m],M=v(C))),F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt;for(;p<t;)A=_,F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt,p+=1,p<t&&(_=n[p]);for(;m<o;)A=C,F=j,U=A+F,H=U-A,W=F-H,W&&(u[d++]=W),nt=q+U,pt=nt-q,ut=nt-pt,ct=U-pt,V=q-ut,j=V+ct,q=nt,m+=1,m<o&&(C=-r[m]);return j&&(u[d++]=j),q&&(u[d++]=q),d||(u[d++]=0),u.length=d,u}(function(n){var r=VP,t=JB,o=i7,l=o7,u=5,d=11102230246251565e-32,p=(3+16*d)*d,m=(7+56*d)*d;function v(j,q,nt,pt){return function(ut,ct,V){var at=j(j(q(ct[1],V[0]),q(-V[1],ct[0])),j(q(ut[1],ct[0]),q(-ct[1],ut[0]))),ht=j(q(ut[1],V[0]),q(-V[1],ut[0])),mt=pt(at,ht);return mt[mt.length-1]}}function _(j,q,nt,pt){return function(ut,ct,V,at){var ht=j(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ct[2]),j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),-V[2]),nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),at[2]))),j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),at[2])))),mt=j(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-V[2]),nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),at[2]))),j(nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),ut[2]),j(nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),V[2])))),Qt=pt(ht,mt);return Qt[Qt.length-1]}}function k(j,q,nt,pt){return function(ut,ct,V,at,ht){var mt=j(j(j(nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),V[2]),j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),-at[2]),nt(j(q(V[1],at[0]),q(-at[1],V[0])),ht[2]))),ct[3]),j(nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),ct[2]),j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),-at[2]),nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),ht[2]))),-V[3]),nt(j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),ct[2]),j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),-V[2]),nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),ht[2]))),at[3]))),j(nt(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ct[2]),j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),-V[2]),nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),at[2]))),-ht[3]),j(nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),ct[2]),j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),-at[2]),nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),ht[2]))),ut[3]),nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-at[2]),nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),ht[2]))),-ct[3])))),j(j(nt(j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),ht[2]))),at[3]),j(nt(j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),at[2]))),-ht[3]),nt(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ct[2]),j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),-V[2]),nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),at[2]))),ut[3]))),j(nt(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-V[2]),nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),at[2]))),-ct[3]),j(nt(j(nt(j(q(ct[1],at[0]),q(-at[1],ct[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),at[2]))),V[3]),nt(j(nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),ut[2]),j(nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),V[2]))),-at[3]))))),Qt=j(j(j(nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),V[2]),j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),-at[2]),nt(j(q(V[1],at[0]),q(-at[1],V[0])),ht[2]))),ut[3]),nt(j(nt(j(q(at[1],ht[0]),q(-ht[1],at[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-at[2]),nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),ht[2]))),-V[3])),j(nt(j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-V[2]),nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),ht[2]))),at[3]),nt(j(nt(j(q(V[1],at[0]),q(-at[1],V[0])),ut[2]),j(nt(j(q(ut[1],at[0]),q(-at[1],ut[0])),-V[2]),nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),at[2]))),-ht[3]))),j(j(nt(j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),ct[2]),j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),-V[2]),nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),ht[2]))),ut[3]),nt(j(nt(j(q(V[1],ht[0]),q(-ht[1],V[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-V[2]),nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),ht[2]))),-ct[3])),j(nt(j(nt(j(q(ct[1],ht[0]),q(-ht[1],ct[0])),ut[2]),j(nt(j(q(ut[1],ht[0]),q(-ht[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),ht[2]))),V[3]),nt(j(nt(j(q(ct[1],V[0]),q(-V[1],ct[0])),ut[2]),j(nt(j(q(ut[1],V[0]),q(-V[1],ut[0])),-ct[2]),nt(j(q(ut[1],ct[0]),q(-ct[1],ut[0])),V[2]))),-ht[3])))),ie=pt(mt,Qt);return ie[ie.length-1]}}function C(j){var q=j===3?v:j===4?_:k;return q(t,r,o,l)}var M=C(3),A=C(4),F=[function(){return 0},function(){return 0},function(j,q){return q[0]-j[0]},function(j,q,nt){var pt=(j[1]-nt[1])*(q[0]-nt[0]),ut=(j[0]-nt[0])*(q[1]-nt[1]),ct=pt-ut,V;if(pt>0){if(ut<=0)return ct;V=pt+ut}else if(pt<0){if(ut>=0)return ct;V=-(pt+ut)}else return ct;var at=p*V;return ct>=at||ct<=-at?ct:M(j,q,nt)},function(j,q,nt,pt){var ut=j[0]-pt[0],ct=q[0]-pt[0],V=nt[0]-pt[0],at=j[1]-pt[1],ht=q[1]-pt[1],mt=nt[1]-pt[1],Qt=j[2]-pt[2],ie=q[2]-pt[2],ye=nt[2]-pt[2],Gt=ct*mt,de=V*ht,Jt=V*at,Qe=ut*mt,wt=ut*ht,Ot=ct*at,Wt=Qt*(Gt-de)+ie*(Jt-Qe)+ye*(wt-Ot),ee=(Math.abs(Gt)+Math.abs(de))*Math.abs(Qt)+(Math.abs(Jt)+Math.abs(Qe))*Math.abs(ie)+(Math.abs(wt)+Math.abs(Ot))*Math.abs(ye),me=m*ee;return Wt>me||-Wt>me?Wt:A(j,q,nt,pt)}];function U(j){var q=F[j.length];return q||(q=F[j.length]=C(j.length)),q.apply(void 0,j)}function H(j,q,nt,pt,ut,ct,V){return function(at,ht,mt,Qt,ie){switch(arguments.length){case 0:case 1:return 0;case 2:return pt(at,ht);case 3:return ut(at,ht,mt);case 4:return ct(at,ht,mt,Qt);case 5:return V(at,ht,mt,Qt,ie)}for(var ye=new Array(arguments.length),Gt=0;Gt<arguments.length;++Gt)ye[Gt]=arguments[Gt];return j(ye)}}function W(){for(;F.length<=u;)F.push(C(F.length));n.exports=H.apply(void 0,[U].concat(F));for(var j=0;j<=u;++j)n.exports[j]=F[j]}W()})(XB);var l7=c7,sv=z1;function c7(n,r){for(var t=r[0],o=r[1],l=n.length,u=1,d=l,p=0,m=l-1;p<d;m=p++){var v=n[p],_=n[m],k=v[1],C=_[1];if(C<k){if(C<o&&o<k){var M=sv(v,_,r);if(M===0)return 0;u^=0<M|0}else if(o===k){var A=n[(p+1)%l],F=A[1];if(k<F){var M=sv(v,_,r);if(M===0)return 0;u^=0<M|0}}}else if(k<C){if(k<o&&o<C){var M=sv(v,_,r);if(M===0)return 0;u^=M<0|0}else if(o===k){var A=n[(p+1)%l],F=A[1];if(F<k){var M=sv(v,_,r);if(M===0)return 0;u^=M<0|0}}}else if(o===k){var U=Math.min(v[0],_[0]),H=Math.max(v[0],_[0]);if(p===0){for(;m>0;){var W=(m+l-1)%l,j=n[W];if(j[1]!==o)break;var q=j[0];U=Math.min(U,q),H=Math.max(H,q),m=W}if(m===0)return U<=t&&t<=H?0:1;d=m+1}for(var nt=n[(m+l-1)%l][1];p+1<d;){var j=n[p+1];if(j[1]!==o)break;var q=j[0];U=Math.min(U,q),H=Math.max(H,q),p+=1}if(U<=t&&t<=H)return 0;var pt=n[(p+1)%l][1];t<U&&nt<o!=pt<o&&(u^=1)}}return 2*u-1}var kv={};const u7="1.5.0",h7={version:u7};function WP(n){return"("+n.x+";"+n.y+")"}function d7(n){var r=n.toString();return r==="[object Object]"?WP(n):r}function p7(n,r){return n.y===r.y?n.x-r.x:n.y-r.y}function f7(n,r){return n.x===r.x&&n.y===r.y}var Gx={toString:d7,toStringBase:WP,compare:p7,equals:f7},g7=Gx,ay=function(n,r){this.name="PointError",this.points=r=r||[],this.message=n||"Invalid Points!";for(var t=0;t<r.length;t++)this.message+=" "+g7.toString(r[t])};ay.prototype=new Error;ay.prototype.constructor=ay;var qx=ay,lm=Gx,yi=function(n,r){this.x=+n||0,this.y=+r||0,this._p2t_edge_list=null};yi.prototype.toString=function(){return lm.toStringBase(this)};yi.prototype.toJSON=function(){return{x:this.x,y:this.y}};yi.prototype.clone=function(){return new yi(this.x,this.y)};yi.prototype.set_zero=function(){return this.x=0,this.y=0,this};yi.prototype.set=function(n,r){return this.x=+n||0,this.y=+r||0,this};yi.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};yi.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this};yi.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this};yi.prototype.mul=function(n){return this.x*=n,this.y*=n,this};yi.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};yi.prototype.normalize=function(){var n=this.length();return this.x/=n,this.y/=n,n};yi.prototype.equals=function(n){return this.x===n.x&&this.y===n.y};yi.negate=function(n){return new yi(-n.x,-n.y)};yi.add=function(n,r){return new yi(n.x+r.x,n.y+r.y)};yi.sub=function(n,r){return new yi(n.x-r.x,n.y-r.y)};yi.mul=function(n,r){return new yi(n*r.x,n*r.y)};yi.cross=function(n,r){return typeof n=="number"?typeof r=="number"?n*r:new yi(-n*r.y,n*r.x):typeof r=="number"?new yi(r*n.y,-r*n.x):n.x*r.y-n.y*r.x};yi.toString=lm.toString;yi.compare=lm.compare;yi.cmp=lm.compare;yi.equals=lm.equals;yi.dot=function(n,r){return n.x*r.x+n.y*r.y};var ZP=yi,m7=Gx,ei=function(n,r,t){this.points_=[n,r,t],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Hw=m7.toString;ei.prototype.toString=function(){return"["+Hw(this.points_[0])+Hw(this.points_[1])+Hw(this.points_[2])+"]"};ei.prototype.getPoint=function(n){return this.points_[n]};ei.prototype.GetPoint=ei.prototype.getPoint;ei.prototype.getPoints=function(){return this.points_};ei.prototype.getNeighbor=function(n){return this.neighbors_[n]};ei.prototype.containsPoint=function(n){var r=this.points_;return n===r[0]||n===r[1]||n===r[2]};ei.prototype.containsEdge=function(n){return this.containsPoint(n.p)&&this.containsPoint(n.q)};ei.prototype.containsPoints=function(n,r){return this.containsPoint(n)&&this.containsPoint(r)};ei.prototype.isInterior=function(){return this.interior_};ei.prototype.setInterior=function(n){return this.interior_=n,this};ei.prototype.markNeighborPointers=function(n,r,t){var o=this.points_;if(n===o[2]&&r===o[1]||n===o[1]&&r===o[2])this.neighbors_[0]=t;else if(n===o[0]&&r===o[2]||n===o[2]&&r===o[0])this.neighbors_[1]=t;else if(n===o[0]&&r===o[1]||n===o[1]&&r===o[0])this.neighbors_[2]=t;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};ei.prototype.markNeighbor=function(n){var r=this.points_;n.containsPoints(r[1],r[2])?(this.neighbors_[0]=n,n.markNeighborPointers(r[1],r[2],this)):n.containsPoints(r[0],r[2])?(this.neighbors_[1]=n,n.markNeighborPointers(r[0],r[2],this)):n.containsPoints(r[0],r[1])&&(this.neighbors_[2]=n,n.markNeighborPointers(r[0],r[1],this))};ei.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};ei.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};ei.prototype.pointCW=function(n){var r=this.points_;return n===r[0]?r[2]:n===r[1]?r[0]:n===r[2]?r[1]:null};ei.prototype.pointCCW=function(n){var r=this.points_;return n===r[0]?r[1]:n===r[1]?r[2]:n===r[2]?r[0]:null};ei.prototype.neighborCW=function(n){return n===this.points_[0]?this.neighbors_[1]:n===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};ei.prototype.neighborCCW=function(n){return n===this.points_[0]?this.neighbors_[2]:n===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};ei.prototype.getConstrainedEdgeCW=function(n){return n===this.points_[0]?this.constrained_edge[1]:n===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};ei.prototype.getConstrainedEdgeCCW=function(n){return n===this.points_[0]?this.constrained_edge[2]:n===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};ei.prototype.getConstrainedEdgeAcross=function(n){return n===this.points_[0]?this.constrained_edge[0]:n===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};ei.prototype.setConstrainedEdgeCW=function(n,r){n===this.points_[0]?this.constrained_edge[1]=r:n===this.points_[1]?this.constrained_edge[2]=r:this.constrained_edge[0]=r};ei.prototype.setConstrainedEdgeCCW=function(n,r){n===this.points_[0]?this.constrained_edge[2]=r:n===this.points_[1]?this.constrained_edge[0]=r:this.constrained_edge[1]=r};ei.prototype.getDelaunayEdgeCW=function(n){return n===this.points_[0]?this.delaunay_edge[1]:n===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};ei.prototype.getDelaunayEdgeCCW=function(n){return n===this.points_[0]?this.delaunay_edge[2]:n===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};ei.prototype.setDelaunayEdgeCW=function(n,r){n===this.points_[0]?this.delaunay_edge[1]=r:n===this.points_[1]?this.delaunay_edge[2]=r:this.delaunay_edge[0]=r};ei.prototype.setDelaunayEdgeCCW=function(n,r){n===this.points_[0]?this.delaunay_edge[2]=r:n===this.points_[1]?this.delaunay_edge[0]=r:this.delaunay_edge[1]=r};ei.prototype.neighborAcross=function(n){return n===this.points_[0]?this.neighbors_[0]:n===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};ei.prototype.oppositePoint=function(n,r){var t=n.pointCW(r);return this.pointCW(t)};ei.prototype.legalize=function(n,r){var t=this.points_;if(n===t[0])t[1]=t[0],t[0]=t[2],t[2]=r;else if(n===t[1])t[2]=t[1],t[1]=t[0],t[0]=r;else if(n===t[2])t[0]=t[2],t[2]=t[1],t[1]=r;else throw new Error("poly2tri Invalid Triangle.legalize() call")};ei.prototype.index=function(n){var r=this.points_;if(n===r[0])return 0;if(n===r[1])return 1;if(n===r[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};ei.prototype.edgeIndex=function(n,r){var t=this.points_;if(n===t[0]){if(r===t[1])return 2;if(r===t[2])return 1}else if(n===t[1]){if(r===t[2])return 0;if(r===t[0])return 2}else if(n===t[2]){if(r===t[0])return 1;if(r===t[1])return 0}return-1};ei.prototype.markConstrainedEdgeByIndex=function(n){this.constrained_edge[n]=!0};ei.prototype.markConstrainedEdgeByEdge=function(n){this.markConstrainedEdgeByPoints(n.p,n.q)};ei.prototype.markConstrainedEdgeByPoints=function(n,r){var t=this.points_;r===t[0]&&n===t[1]||r===t[1]&&n===t[0]?this.constrained_edge[2]=!0:r===t[0]&&n===t[2]||r===t[2]&&n===t[0]?this.constrained_edge[1]=!0:(r===t[1]&&n===t[2]||r===t[2]&&n===t[1])&&(this.constrained_edge[0]=!0)};var Vx=ei,Wx={};function v7(n,r){if(!n)throw new Error(r||"Assert Failed")}var y7=v7,Kg={},b7={get exports(){return Kg},set exports(n){Kg=n}},w7=function(n,r){this.point=n,this.triangle=r||null,this.next=null,this.prev=null,this.value=n.x},bl=function(n,r){this.head_=n,this.tail_=r,this.search_node_=n};bl.prototype.head=function(){return this.head_};bl.prototype.setHead=function(n){this.head_=n};bl.prototype.tail=function(){return this.tail_};bl.prototype.setTail=function(n){this.tail_=n};bl.prototype.search=function(){return this.search_node_};bl.prototype.setSearch=function(n){this.search_node_=n};bl.prototype.findSearchNode=function(){return this.search_node_};bl.prototype.locateNode=function(n){var r=this.search_node_;if(n<r.value){for(;r=r.prev;)if(n>=r.value)return this.search_node_=r,r}else for(;r=r.next;)if(n<r.value)return this.search_node_=r.prev,r.prev;return null};bl.prototype.locatePoint=function(n){var r=n.x,t=this.findSearchNode(r),o=t.point.x;if(r===o){if(n!==t.point)if(n===t.prev.point)t=t.prev;else if(n===t.next.point)t=t.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(r<o)for(;(t=t.prev)&&n!==t.point;);else for(;(t=t.next)&&n!==t.point;);return t&&(this.search_node_=t),t};b7.exports=bl;Kg.Node=w7;var Ip={},Jg=1e-12;Ip.EPSILON=Jg;var Ev={CW:1,CCW:-1,COLLINEAR:0};Ip.Orientation=Ev;function x7(n,r,t){var o=(n.x-t.x)*(r.y-t.y),l=(n.y-t.y)*(r.x-t.x),u=o-l;return u>-Jg&&u<Jg?Ev.COLLINEAR:u>0?Ev.CCW:Ev.CW}Ip.orient2d=x7;function _7(n,r,t,o){var l=(n.x-r.x)*(o.y-r.y)-(o.x-r.x)*(n.y-r.y);if(l>=-Jg)return!1;var u=(n.x-t.x)*(o.y-t.y)-(o.x-t.x)*(n.y-t.y);return!(u<=Jg)}Ip.inScanArea=_7;function k7(n,r,t){var o=r.x-n.x,l=r.y-n.y,u=t.x-n.x,d=t.y-n.y;return o*u+l*d<0}Ip.isAngleObtuse=k7;var Zx=y7,ly=qx,YP=Vx,E7=Kg.Node,cm=Ip,T7=cm.EPSILON,ln=cm.Orientation,Ln=cm.orient2d,XP=cm.inScanArea,ST=cm.isAngleObtuse;function S7(n){n.initTriangulation(),n.createAdvancingFront(),C7(n),P7(n)}function C7(n){var r,t=n.pointCount();for(r=1;r<t;++r)for(var o=n.getPoint(r),l=M7(n,o),u=o._p2t_edge_list,d=0;u&&d<u.length;++d)I7(n,u[d],l)}function P7(n){for(var r=n.front().head().next.triangle,t=n.front().head().next.point;!r.getConstrainedEdgeCW(t);)r=r.neighborCCW(t);n.meshClean(r)}function M7(n,r){var t=n.locateNode(r),o=L7(n,r,t);return r.x<=t.point.x+T7&&Ep(n,t),R7(n,o),o}function I7(n,r,t){n.edge_event.constrained_edge=r,n.edge_event.right=r.p.x>r.q.x,!KP(t.triangle,r.p,r.q)&&(D7(n,r,t),Yx(n,r.p,r.q,t.triangle,r.q))}function Yx(n,r,t,o,l){if(!KP(o,r,t)){var u=o.pointCCW(l),d=Ln(t,u,r);if(d===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,u,r]);var p=o.pointCW(l),m=Ln(t,p,r);if(m===ln.COLLINEAR)throw new ly("poly2tri EdgeEvent: Collinear not supported!",[t,p,r]);d===m?(d===ln.CW?o=o.neighborCCW(l):o=o.neighborCW(l),Yx(n,r,t,o,l)):Jx(n,r,t,o,l)}}function KP(n,r,t){var o=n.edgeIndex(r,t);if(o!==-1){n.markConstrainedEdgeByIndex(o);var l=n.getNeighbor(o);return l&&l.markConstrainedEdgeByPoints(r,t),!0}return!1}function L7(n,r,t){var o=new YP(r,t.point,t.next.point);o.markNeighbor(t.triangle),n.addToMap(o);var l=new E7(r);return l.next=t.next,l.prev=t,t.next.prev=l,t.next=l,vu(n,o)||n.mapTriangleToNodes(o),l}function Ep(n,r){var t=new YP(r.prev.point,r.point,r.next.point);t.markNeighbor(r.prev.triangle),t.markNeighbor(r.triangle),n.addToMap(t),r.prev.next=r.next,r.next.prev=r.prev,vu(n,t)||n.mapTriangleToNodes(t)}function R7(n,r){for(var t=r.next;t.next&&!ST(t.point,t.next.point,t.prev.point);)Ep(n,t),t=t.next;for(t=r.prev;t.prev&&!ST(t.point,t.next.point,t.prev.point);)Ep(n,t),t=t.prev;r.next&&r.next.next&&A7(r)&&z7(n,r)}function A7(n){var r=n.point.x-n.next.next.point.x,t=n.point.y-n.next.next.point.y;return Zx(t>=0,"unordered y"),r>=0||Math.abs(r)<t}function vu(n,r){for(var t=0;t<3;++t)if(!r.delaunay_edge[t]){var o=r.getNeighbor(t);if(o){var l=r.getPoint(t),u=o.oppositePoint(r,l),d=o.index(u);if(o.constrained_edge[d]||o.delaunay_edge[d]){r.constrained_edge[t]=o.constrained_edge[d];continue}var p=O7(l,r.pointCCW(l),r.pointCW(l),u);if(p){r.delaunay_edge[t]=!0,o.delaunay_edge[d]=!0,JP(r,l,o,u);var m=!vu(n,r);return m&&n.mapTriangleToNodes(r),m=!vu(n,o),m&&n.mapTriangleToNodes(o),r.delaunay_edge[t]=!1,o.delaunay_edge[d]=!1,!0}}}return!1}function O7(n,r,t,o){var l=n.x-o.x,u=n.y-o.y,d=r.x-o.x,p=r.y-o.y,m=l*p,v=d*u,_=m-v;if(_<=0)return!1;var k=t.x-o.x,C=t.y-o.y,M=k*u,A=l*C,F=M-A;if(F<=0)return!1;var U=d*C,H=k*p,W=l*l+u*u,j=d*d+p*p,q=k*k+C*C,nt=W*(U-H)+j*F+q*_;return nt>0}function JP(n,r,t,o){var l,u,d,p;l=n.neighborCCW(r),u=n.neighborCW(r),d=t.neighborCCW(o),p=t.neighborCW(o);var m,v,_,k;m=n.getConstrainedEdgeCCW(r),v=n.getConstrainedEdgeCW(r),_=t.getConstrainedEdgeCCW(o),k=t.getConstrainedEdgeCW(o);var C,M,A,F;C=n.getDelaunayEdgeCCW(r),M=n.getDelaunayEdgeCW(r),A=t.getDelaunayEdgeCCW(o),F=t.getDelaunayEdgeCW(o),n.legalize(r,o),t.legalize(o,r),t.setDelaunayEdgeCCW(r,C),n.setDelaunayEdgeCW(r,M),n.setDelaunayEdgeCCW(o,A),t.setDelaunayEdgeCW(o,F),t.setConstrainedEdgeCCW(r,m),n.setConstrainedEdgeCW(r,v),n.setConstrainedEdgeCCW(o,_),t.setConstrainedEdgeCW(o,k),n.clearNeighbors(),t.clearNeighbors(),l&&t.markNeighbor(l),u&&n.markNeighbor(u),d&&n.markNeighbor(d),p&&t.markNeighbor(p),n.markNeighbor(t)}function z7(n,r){for(Ln(r.point,r.next.point,r.next.next.point)===ln.CCW?n.basin.left_node=r.next.next:n.basin.left_node=r.next,n.basin.bottom_node=n.basin.left_node;n.basin.bottom_node.next&&n.basin.bottom_node.point.y>=n.basin.bottom_node.next.point.y;)n.basin.bottom_node=n.basin.bottom_node.next;if(n.basin.bottom_node!==n.basin.left_node){for(n.basin.right_node=n.basin.bottom_node;n.basin.right_node.next&&n.basin.right_node.point.y<n.basin.right_node.next.point.y;)n.basin.right_node=n.basin.right_node.next;n.basin.right_node!==n.basin.bottom_node&&(n.basin.width=n.basin.right_node.point.x-n.basin.left_node.point.x,n.basin.left_highest=n.basin.left_node.point.y>n.basin.right_node.point.y,QP(n,n.basin.bottom_node))}}function QP(n,r){if(!N7(n,r)){Ep(n,r);var t;if(!(r.prev===n.basin.left_node&&r.next===n.basin.right_node)){if(r.prev===n.basin.left_node){if(t=Ln(r.point,r.next.point,r.next.next.point),t===ln.CW)return;r=r.next}else if(r.next===n.basin.right_node){if(t=Ln(r.point,r.prev.point,r.prev.prev.point),t===ln.CCW)return;r=r.prev}else r.prev.point.y<r.next.point.y?r=r.prev:r=r.next;QP(n,r)}}}function N7(n,r){var t;return n.basin.left_highest?t=n.basin.left_node.point.y-r.point.y:t=n.basin.right_node.point.y-r.point.y,n.basin.width>t}function D7(n,r,t){n.edge_event.right?F7(n,r,t):B7(n,r,t)}function F7(n,r,t){for(;t.next.point.x<r.p.x;)Ln(r.q,t.next.point,r.p)===ln.CCW?$P(n,r,t):t=t.next}function $P(n,r,t){t.point.x<r.p.x&&(Ln(t.point,t.next.point,t.next.next.point)===ln.CCW?Xx(n,r,t):(tM(n,r,t),$P(n,r,t)))}function Xx(n,r,t){Ep(n,t.next),t.next.point!==r.p&&Ln(r.q,t.next.point,r.p)===ln.CCW&&Ln(t.point,t.next.point,t.next.next.point)===ln.CCW&&Xx(n,r,t)}function tM(n,r,t){Ln(t.next.point,t.next.next.point,t.next.next.next.point)===ln.CCW?Xx(n,r,t.next):Ln(r.q,t.next.next.point,r.p)===ln.CCW&&tM(n,r,t.next)}function B7(n,r,t){for(;t.prev.point.x>r.p.x;)Ln(r.q,t.prev.point,r.p)===ln.CW?eM(n,r,t):t=t.prev}function eM(n,r,t){t.point.x>r.p.x&&(Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW?Kx(n,r,t):(rM(n,r,t),eM(n,r,t)))}function rM(n,r,t){Ln(t.prev.point,t.prev.prev.point,t.prev.prev.prev.point)===ln.CW?Kx(n,r,t.prev):Ln(r.q,t.prev.prev.point,r.p)===ln.CW&&rM(n,r,t.prev)}function Kx(n,r,t){Ep(n,t.prev),t.prev.point!==r.p&&Ln(r.q,t.prev.point,r.p)===ln.CW&&Ln(t.point,t.prev.point,t.prev.prev.point)===ln.CW&&Kx(n,r,t)}function Jx(n,r,t,o,l){var u=o.neighborAcross(l);Zx(u,"FLIP failed due to missing triangle!");var d=u.oppositePoint(o,l);if(o.getConstrainedEdgeAcross(l)){var p=o.index(l);throw new ly("poly2tri Intersecting Constraints",[l,d,o.getPoint((p+1)%3),o.getPoint((p+2)%3)])}if(XP(l,o.pointCCW(l),o.pointCW(l),d))if(JP(o,l,u,d),n.mapTriangleToNodes(o),n.mapTriangleToNodes(u),l===t&&d===r)t===n.edge_event.constrained_edge.q&&r===n.edge_event.constrained_edge.p&&(o.markConstrainedEdgeByPoints(r,t),u.markConstrainedEdgeByPoints(r,t),vu(n,o),vu(n,u));else{var m=Ln(t,d,r);o=j7(n,m,o,u,l,d),Jx(n,r,t,o,l)}else{var v=iM(r,t,u,d);nM(n,r,t,o,u,v),Yx(n,r,t,o,l)}}function j7(n,r,t,o,l,u){var d;return r===ln.CCW?(d=o.edgeIndex(l,u),o.delaunay_edge[d]=!0,vu(n,o),o.clearDelaunayEdges(),t):(d=t.edgeIndex(l,u),t.delaunay_edge[d]=!0,vu(n,t),t.clearDelaunayEdges(),o)}function iM(n,r,t,o){var l=Ln(r,o,n);if(l===ln.CW)return t.pointCCW(o);if(l===ln.CCW)return t.pointCW(o);throw new ly("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[r,o,n])}function nM(n,r,t,o,l,u){var d=l.neighborAcross(u);Zx(d,"FLIP failed due to missing triangle");var p=d.oppositePoint(l,u);if(XP(t,o.pointCCW(t),o.pointCW(t),p))Jx(n,t,p,d,p);else{var m=iM(r,t,d,p);nM(n,r,t,o,d,m)}}Wx.triangulate=S7;var H7=qx,eg=ZP,U7=Vx,G7=Wx,oM=Kg,Uw=oM.Node,CT=.3,q7=function(n,r){if(this.p=n,this.q=r,n.y>r.y)this.q=n,this.p=r;else if(n.y===r.y){if(n.x>r.x)this.q=n,this.p=r;else if(n.x===r.x)throw new H7("poly2tri Invalid Edge constructor: repeated points!",[n])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},sM=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};sM.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var V7=function(){this.constrained_edge=null,this.right=!1},mi=function(n,r){r=r||{},this.triangles_=[],this.map_=[],this.points_=r.cloneArrays?n.slice(0):n,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new sM,this.edge_event=new V7,this.initEdges(this.points_)};mi.prototype.addHole=function(n){this.initEdges(n);var r,t=n.length;for(r=0;r<t;r++)this.points_.push(n[r]);return this};mi.prototype.AddHole=mi.prototype.addHole;mi.prototype.addHoles=function(n){var r,t=n.length;for(r=0;r<t;r++)this.initEdges(n[r]);return this.points_=this.points_.concat.apply(this.points_,n),this};mi.prototype.addPoint=function(n){return this.points_.push(n),this};mi.prototype.AddPoint=mi.prototype.addPoint;mi.prototype.addPoints=function(n){return this.points_=this.points_.concat(n),this};mi.prototype.triangulate=function(){return G7.triangulate(this),this};mi.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};mi.prototype.getTriangles=function(){return this.triangles_};mi.prototype.GetTriangles=mi.prototype.getTriangles;mi.prototype.front=function(){return this.front_};mi.prototype.pointCount=function(){return this.points_.length};mi.prototype.head=function(){return this.head_};mi.prototype.setHead=function(n){this.head_=n};mi.prototype.tail=function(){return this.tail_};mi.prototype.setTail=function(n){this.tail_=n};mi.prototype.getMap=function(){return this.map_};mi.prototype.initTriangulation=function(){var n=this.points_[0].x,r=this.points_[0].x,t=this.points_[0].y,o=this.points_[0].y,l,u=this.points_.length;for(l=1;l<u;l++){var d=this.points_[l];d.x>n&&(n=d.x),d.x<r&&(r=d.x),d.y>t&&(t=d.y),d.y<o&&(o=d.y)}this.pmin_=new eg(r,o),this.pmax_=new eg(n,t);var p=CT*(n-r),m=CT*(t-o);this.head_=new eg(n+p,o-m),this.tail_=new eg(r-p,o-m),this.points_.sort(eg.compare)};mi.prototype.initEdges=function(n){var r,t=n.length;for(r=0;r<t;++r)this.edge_list.push(new q7(n[r],n[(r+1)%t]))};mi.prototype.getPoint=function(n){return this.points_[n]};mi.prototype.addToMap=function(n){this.map_.push(n)};mi.prototype.locateNode=function(n){return this.front_.locateNode(n.x)};mi.prototype.createAdvancingFront=function(){var n,r,t,o=new U7(this.points_[0],this.tail_,this.head_);this.map_.push(o),n=new Uw(o.getPoint(1),o),r=new Uw(o.getPoint(0),o),t=new Uw(o.getPoint(2)),this.front_=new oM(n,t),n.next=r,r.next=t,r.prev=n,t.prev=r};mi.prototype.removeNode=function(n){};mi.prototype.mapTriangleToNodes=function(n){for(var r=0;r<3;++r)if(!n.getNeighbor(r)){var t=this.front_.locatePoint(n.pointCW(n.getPoint(r)));t&&(t.triangle=n)}};mi.prototype.removeFromMap=function(n){var r,t=this.map_,o=t.length;for(r=0;r<o;r++)if(t[r]===n){t.splice(r,1);break}};mi.prototype.meshClean=function(n){for(var r=[n],t,o;t=r.pop();)if(!t.isInterior())for(t.setInterior(!0),this.triangles_.push(t),o=0;o<3;o++)t.constrained_edge[o]||r.push(t.getNeighbor(o))};var W7=mi;(function(n){var r=globalThis.poly2tri;n.noConflict=function(){return globalThis.poly2tri=r,n},n.VERSION=h7.version,n.PointError=qx,n.Point=ZP,n.Triangle=Vx,n.SweepContext=W7;var t=Wx;n.triangulate=t.triangulate,n.sweep={Triangulate:t.triangulate}})(kv);function Z7(n,r){const t=YB(n,r),o=new kv.SweepContext(ZB(n,r).map(l=>new kv.Point(l[0],l[1])));for(let l=0;l<t.length;l++)l7(n,t[l])===-1&&o.addPoint(new kv.Point(t[l][0],t[l][1]));try{o.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return o.getTriangles()}function Y7(n,r){return Z7(n,r).map(t=>t.getPoints().map(o=>[o.x,o.y]))}function ep(n,r){const t=r[0],o=r[1];return[n[0]*t+n[2]*o+n[4],n[1]*t+n[3]*o+n[5]]}function X7(){return[1,0,0,1,0,0]}function K7(n,r){const t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],p=n[5],m=r[0],v=r[1],_=r[2],k=r[3],C=r[4],M=r[5];return[t*m+l*v,o*m+u*v,t*_+l*k,o*_+u*k,t*C+l*M+d,o*C+u*M+p]}function PT(n,r,t,o,l,u,d){const p=Math.sin(l),m=Math.cos(l);return[t*m,o*p,-t*p,o*m,u*t*m-d*t*p+n,u*o*p+d*o*m+r]}function J7(n){const r=Q7(n),t=n[0],o=n[1],l=n[2],u=n[3],d=n[4],p=n[5];return[u/r,-o/r,-l/r,t/r,(l*p-u*d)/r,-(t*p-o*d)/r]}function Q7(n){return n[0]*n[3]-n[1]*n[2]}function $7(n){const r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r[0]=n[0],r[1]=n[1],r[4]=n[2],r[5]=n[3],r[12]=n[4],r[13]=n[5],r}var Te;(function(n){n.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",n.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",n.WARPEDMAPADDED="warpedmapadded",n.WARPEDMAPREMOVED="warpedmapremoved",n.WARPEDMAPENTER="warpedmapenter",n.WARPEDMAPLEAVE="warpedmapleave",n.IMAGEINFOLOADED="imageinfoloaded",n.TILEFETCHED="tilefetched",n.TILEFETCHERROR="tilefetcherror",n.MAPTILELOADED="maptileloaded",n.MAPTILEREMOVED="maptileremoved",n.FIRSTMAPTILELOADED="firstmaptileloaded",n.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",n.TEXTURESUPDATED="texturesupdated",n.ZINDICESCHANGES="zindiceschanged",n.RESOURCEMASKUPDATED="resourcemaskupdated",n.VISIBILITYCHANGED="visibilitychanged",n.TRANSFORMATIONCHANGED="transformationchanged",n.CHANGED="changed",n.CLEARED="cleared"})(Te||(Te={}));class Yr extends Event{constructor(r,t){super(r),this.data=t}}const t9=80,MT={maxOffsetRatio:.05,maxDepth:2},IT={maxOffsetRatio:.05,maxDepth:2};class e9 extends EventTarget{constructor(r,t,o,l=!0){var u;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=r,this.georeferencedMap=t,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:d,resource:p})=>({geo:CF(d),resource:p})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=Gn(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=Gn(this.resourceFullMask),this.imageInfoCache=o,this.visible=l,this.transformationType=((u=this.georeferencedMap.transformation)==null?void 0:u.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(r){return this.projectedGeoMask.map(t=>ep(r.projectedGeoToViewportTransform,t))}getViewportMaskBbox(r){return Gn(this.getViewportMask(r))}getApproxViewportMaskBbox(r){return Gn(Yg(this.projectedGeoMaskBbox).map(t=>ep(r.projectedGeoToViewportTransform,t)))}getViewportFullMask(r){return this.projectedGeoFullMask.map(t=>ep(r.projectedGeoToViewportTransform,t))}getViewportFullMaskBbox(r){return Gn(this.getViewportFullMask(r))}getApproxViewportFullMaskBbox(r){return Gn(Yg(this.projectedGeoFullMaskBbox).map(t=>ep(r.projectedGeoToViewportTransform,t)))}getResourceToViewportScale(r){return zw(this.resourceMaskBbox,this.getViewportMaskBbox(r))}getResourceToCanvasScale(r){return this.getResourceToViewportScale(r)/r.devicePixelRatio}getApproxResourceToViewportScale(r){return zw(this.resourceMaskBbox,this.getApproxViewportMaskBbox(r))}getApproxResourceToCanvasScale(r){return this.getApproxResourceToViewportScale(r)/r.devicePixelRatio}setResourceViewportRing(r){this.resourceViewportRing=r,this.resourceViewportRingBbox=Gn(r)}setResourceMask(r){this.resourceMask=r,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(r){this.transformationType=r,this.updateTransformerProperties()}setGcps(r){this.gcps=r,this.updateTransformerProperties()}updateBestScaleFactor(r){this.bestScaleFactor!=r&&(this.bestScaleFactor=r,this.updateTriangulation(!0))}updateTriangulation(r=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const t=kF(this.resourceMask)*this.bestScaleFactor/t9;this.resourceTrianglePoints=Y7(this.resourceMask,t).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(r)}updateProjectedGeoTrianglePoints(r=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(t=>this.projectedTransformer.transformToGeo(t)),(r||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(r){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((t,o)=>mF(t,this.projectedGeoCurrentTrianglePoints[o],r))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const r=this.georeferencedMap.resource.id,t=await uF(r,{cache:this.imageInfoCache});this.parsedImage=eF.parse(t),this.imageId=await XC(r),this.dispatchEvent(new Yr(Te.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new ET(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new ET(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],MT),this.geoMaskBbox=Gn(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],MT),this.geoFullMaskBbox=Gn(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],IT)[0],this.projectedGeoMaskBbox=Gn(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],IT)[0],this.projectedGeoFullMaskBbox=Gn(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=zw(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const r9=bt.string().or(bt.number()).or(bt.boolean()),i9=bt.record(bt.string(),r9.array()),yu=bt.tuple([bt.number(),bt.number()]),aM=bt.object({type:bt.literal("Point"),coordinates:yu}),lM=yu.array().min(3),um=bt.enum(["ImageService1","ImageService2","ImageService3"]),n9=bt.object({id:bt.string().url(),type:bt.string(),label:i9.optional()}),By=n9.extend({partOf:bt.lazy(()=>By.array()).optional()}),o9=bt.object({type:bt.literal("polynomial"),options:bt.object({order:bt.number().min(1).max(3)}).optional()}),s9=bt.object({type:bt.literal("thinPlateSpline")}),jy=o9.or(s9),a9=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,l9=bt.object({type:bt.literal("SvgSelector"),value:bt.string().regex(a9)}),c9=bt.object({source:bt.string().url(),service:bt.array(bt.object({"@id":bt.string().url(),type:um})).length(1),selector:l9}),cM=bt.object({pixelCoords:yu}),u9=bt.object({type:bt.literal("FeatureCollection"),transformation:jy.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:cM,geometry:aM}))}),Qx=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:c9,body:u9}),uM=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(Qx)}),$x=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,h9=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${$x.source}\\s*</svg>$`),d9=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${$x.source}\\s*</svg>$`),p9=new RegExp(`^<svg\\s*>\\s*${$x.source}\\s*</svg>$`),f9=bt.string().regex(p9),g9=bt.string().regex(h9),m9=bt.string().regex(d9),v9=bt.object({type:bt.literal("SvgSelector"),value:f9.or(g9).or(m9)}),y9=bt.object({"@id":bt.string().url(),type:um,height:bt.number().positive(),width:bt.number().positive(),partOf:By.array().optional()}),b9=bt.object({id:bt.string().url(),type:um,height:bt.number().positive(),width:bt.number().positive(),partOf:By.array().optional()}),w9=bt.object({type:bt.literal("SpecificResource"),source:y9.or(b9),selector:v9}),hM=bt.object({resourceCoords:yu}),x9=bt.object({type:bt.literal("FeatureCollection"),transformation:jy.optional(),features:bt.array(bt.object({type:bt.literal("Feature"),properties:hM,geometry:aM}))}),t_=bt.object({id:bt.string().optional(),type:bt.literal("Annotation"),"@context":bt.string().url().array().optional(),motivation:bt.string().default("georeferencing").optional(),target:w9,body:x9}),dM=bt.object({id:bt.string().optional(),type:bt.literal("AnnotationPage"),"@context":bt.string().url().array().optional(),items:bt.array(t_)});Qx.or(t_);uM.or(dM);cM.or(hM);function pM(n){return Array.isArray(n)}function _9(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="AnnotationPage")}function cy(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="GeoreferencedMap")}function LT(n){return!!(n&&typeof n=="object"&&"target"in n&&n.target&&typeof n.target=="object"&&"source"in n.target&&typeof n.target.source=="string")}function e_(n){return"type"in n&&n.type==="GeoreferencedMap"}function r_(n){return"source"in n.target&&typeof n.target.source=="object"}function k9(n){return{id:E9(n),...M9(n),type:T9(n),partOf:S9(n)}}function E9(n){if(r_(n)){const r=n.target.source;return"id"in r?r.id:r["@id"]}else return n.target.service[0]["@id"]}function T9(n){return"service"in n.target?n.target.service[0].type:n.target.source.type}function S9(n){if(r_(n))return n.target.source.partOf}function C9(n){return"pixelCoords"in n?n.pixelCoords:n.resourceCoords}function P9(n){return n.body.features.map(r=>({resource:C9(r.properties),geo:r.geometry.coordinates}))}function M9(n){var d,p;if(r_(n))return{width:n.target.source.width,height:n.target.source.height};const r=n.target.selector.value,t=/width="(?<width>\d+)"/.exec(r),o=/height="(?<height>\d+)"/.exec(r),l=(d=t==null?void 0:t.groups)==null?void 0:d.width,u=(p=o==null?void 0:o.groups)==null?void 0:p.height;if(!l||!u)throw new Error("Could not parse image dimensions");return{width:parseInt(l),height:parseInt(u)}}function I9(n){var o;const r=n.target.selector.value,t=(o=/points="(?<points>.+)"/.exec(r))==null?void 0:o.groups;if(t&&t.points){const l=t.points.trim().split(/\s+/);if(l[0]===l[l.length-1]&&l.splice(-1),l.length>=3)return l.map(u=>{const d=u.split(",");if(d.length===2)return[parseFloat(d[0]),parseFloat(d[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function RT(n){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:n.id,resource:k9(n),gcps:P9(n),resourceMask:I9(n),transformation:n.body.transformation}}function N1(n){if(_9(n)){let r;return"items"in n&&Array.isArray(n.items)&&LT(n.items[0])?r=uM.parse(n):r=dM.parse(n),r.items.map(t=>RT(t))}else{let r;return LT(n)?r=Qx.parse(n):r=t_.parse(n),[RT(r)]}}const fM=bt.object({image:yu,world:yu}),L9=bt.object({uri:bt.string().url(),width:bt.number(),height:bt.number(),type:um}),Hy=bt.object({id:bt.string().optional(),version:bt.number().min(1).max(1).default(1),image:L9,gcps:fM.array(),pixelMask:lM,transformation:jy.optional()}),i_=bt.array(Hy),gM=bt.object({resource:yu,geo:yu}),R9=bt.object({id:bt.string().url(),width:bt.number(),height:bt.number(),type:um,partOf:By.array().optional()}),Uy=bt.object({"@context":bt.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:bt.literal("GeoreferencedMap"),id:bt.string().optional(),resource:R9,gcps:gM.array(),resourceMask:lM,transformation:jy.optional()}),n_=bt.array(Uy);Hy.or(Uy);i_.or(n_);fM.or(gM);function A9(n){let r,t,o;return e_(n)?(r=n.resource.width,t=n.resource.height,o=n.resourceMask):(r=n.image.width,t=n.image.height,o=n.pixelMask),{type:"SvgSelector",value:`<svg width="${r}" height="${t}"><polygon points="${o.map(l=>l.join(",")).join(" ")}" /></svg>`}}function O9(n){let r,t,o,l,u;return e_(n)?(r=n.resource.id,t=n.resource.type,o=n.resource.width,l=n.resource.height,u=n.resource.partOf):(r=n.image.uri,t=n.image.type,o=n.image.width,l=n.image.height),{id:r,type:t,height:l,width:o,partOf:u}}function mM(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function z9(n){let r,t;return"resource"in n?(r=n.resource,t=n.geo):(r=n.image,t=n.world),{type:"Feature",properties:{resourceCoords:r},geometry:{type:"Point",coordinates:t}}}function AT(n,r=!0){const t={type:"SpecificResource",source:O9(n),selector:A9(n)},o={type:"FeatureCollection",transformation:n.transformation,features:n.gcps.map(l=>z9(l))};return{id:n.id,type:"Annotation","@context":r?mM():void 0,motivation:"georeferencing",target:t,body:o}}function N9(n){if(pM(n)){let r;cy(n[0])?r=n_.parse(n):r=i_.parse(n);const t=r.map(o=>AT(o,!1));return{type:"AnnotationPage","@context":mM(),items:t}}else{let r;return cy(n)?r=Uy.parse(n):r=Hy.parse(n),AT(r)}}function vM(n){return e_(n)?n:N1(N9(n))[0]}function D9(n){return n.map(vM)}function OT(n){if(pM(n)){let r;return cy(n[0])?r=n_.parse(n):r=i_.parse(n),D9(r)}else{let r;return cy(n)?r=Uy.parse(n):r=Hy.parse(n),vM(r)}}function F9(n,r,t,o,l){yM(n,r,t||0,o||n.length-1,l||B9)}function yM(n,r,t,o,l){for(;o>t;){if(o-t>600){var u=o-t+1,d=r-t+1,p=Math.log(u),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(u-m)/u)*(d-u/2<0?-1:1),_=Math.max(t,Math.floor(r-d*m/u+v)),k=Math.min(o,Math.floor(r+(u-d)*m/u+v));yM(n,r,_,k,l)}var C=n[r],M=t,A=o;for(rg(n,t,r),l(n[o],C)>0&&rg(n,t,o);M<A;){for(rg(n,M,A),M++,A--;l(n[M],C)<0;)M++;for(;l(n[A],C)>0;)A--}l(n[t],C)===0?rg(n,t,A):(A++,rg(n,A,o)),A<=r&&(t=A+1),r<=A&&(o=A-1)}}function rg(n,r,t){var o=n[r];n[r]=n[t],n[t]=o}function B9(n,r){return n<r?-1:n>r?1:0}class j9{constructor(r=9){this._maxEntries=Math.max(4,r),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(r){let t=this.data;const o=[];if(!lv(r,t))return o;const l=this.toBBox,u=[];for(;t;){for(let d=0;d<t.children.length;d++){const p=t.children[d],m=t.leaf?l(p):p;lv(r,m)&&(t.leaf?o.push(p):qw(r,m)?this._all(p,o):u.push(p))}t=u.pop()}return o}collides(r){let t=this.data;if(!lv(r,t))return!1;const o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],d=t.leaf?this.toBBox(u):u;if(lv(r,d)){if(t.leaf||qw(r,d))return!0;o.push(u)}}t=o.pop()}return!1}load(r){if(!(r&&r.length))return this;if(r.length<this._minEntries){for(let o=0;o<r.length;o++)this.insert(r[o]);return this}let t=this._build(r.slice(),0,r.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const o=this.data;this.data=t,t=o}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(r){return r&&this._insert(r,this.data.height-1),this}clear(){return this.data=Kd([]),this}remove(r,t){if(!r)return this;let o=this.data;const l=this.toBBox(r),u=[],d=[];let p,m,v;for(;o||u.length;){if(o||(o=u.pop(),m=u[u.length-1],p=d.pop(),v=!0),o.leaf){const _=H9(r,o.children,t);if(_!==-1)return o.children.splice(_,1),u.push(o),this._condense(u),this}!v&&!o.leaf&&qw(o,l)?(u.push(o),d.push(p),p=0,m=o,o=o.children[0]):m?(p++,o=m.children[p],v=!1):o=null}return this}toBBox(r){return r}compareMinX(r,t){return r.minX-t.minX}compareMinY(r,t){return r.minY-t.minY}toJSON(){return this.data}fromJSON(r){return this.data=r,this}_all(r,t){const o=[];for(;r;)r.leaf?t.push(...r.children):o.push(...r.children),r=o.pop();return t}_build(r,t,o,l){const u=o-t+1;let d=this._maxEntries,p;if(u<=d)return p=Kd(r.slice(t,o+1)),Vd(p,this.toBBox),p;l||(l=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,l-1))),p=Kd([]),p.leaf=!1,p.height=l;const m=Math.ceil(u/d),v=m*Math.ceil(Math.sqrt(d));zT(r,t,o,v,this.compareMinX);for(let _=t;_<=o;_+=v){const k=Math.min(_+v-1,o);zT(r,_,k,m,this.compareMinY);for(let C=_;C<=k;C+=m){const M=Math.min(C+m-1,k);p.children.push(this._build(r,C,M,l-1))}}return Vd(p,this.toBBox),p}_chooseSubtree(r,t,o,l){for(;l.push(t),!(t.leaf||l.length-1===o);){let u=1/0,d=1/0,p;for(let m=0;m<t.children.length;m++){const v=t.children[m],_=Gw(v),k=q9(r,v)-_;k<d?(d=k,u=_<u?_:u,p=v):k===d&&_<u&&(u=_,p=v)}t=p||t.children[0]}return t}_insert(r,t,o){const l=o?r:this.toBBox(r),u=[],d=this._chooseSubtree(l,this.data,t,u);for(d.children.push(r),ug(d,l);t>=0&&u[t].children.length>this._maxEntries;)this._split(u,t),t--;this._adjustParentBBoxes(l,u,t)}_split(r,t){const o=r[t],l=o.children.length,u=this._minEntries;this._chooseSplitAxis(o,u,l);const d=this._chooseSplitIndex(o,u,l),p=Kd(o.children.splice(d,o.children.length-d));p.height=o.height,p.leaf=o.leaf,Vd(o,this.toBBox),Vd(p,this.toBBox),t?r[t-1].children.push(p):this._splitRoot(o,p)}_splitRoot(r,t){this.data=Kd([r,t]),this.data.height=r.height+1,this.data.leaf=!1,Vd(this.data,this.toBBox)}_chooseSplitIndex(r,t,o){let l,u=1/0,d=1/0;for(let p=t;p<=o-t;p++){const m=cg(r,0,p,this.toBBox),v=cg(r,p,o,this.toBBox),_=V9(m,v),k=Gw(m)+Gw(v);_<u?(u=_,l=p,d=k<d?k:d):_===u&&k<d&&(d=k,l=p)}return l||o-t}_chooseSplitAxis(r,t,o){const l=r.leaf?this.compareMinX:U9,u=r.leaf?this.compareMinY:G9,d=this._allDistMargin(r,t,o,l),p=this._allDistMargin(r,t,o,u);d<p&&r.children.sort(l)}_allDistMargin(r,t,o,l){r.children.sort(l);const u=this.toBBox,d=cg(r,0,t,u),p=cg(r,o-t,o,u);let m=av(d)+av(p);for(let v=t;v<o-t;v++){const _=r.children[v];ug(d,r.leaf?u(_):_),m+=av(d)}for(let v=o-t-1;v>=t;v--){const _=r.children[v];ug(p,r.leaf?u(_):_),m+=av(p)}return m}_adjustParentBBoxes(r,t,o){for(let l=o;l>=0;l--)ug(t[l],r)}_condense(r){for(let t=r.length-1,o;t>=0;t--)r[t].children.length===0?t>0?(o=r[t-1].children,o.splice(o.indexOf(r[t]),1)):this.clear():Vd(r[t],this.toBBox)}}function H9(n,r,t){if(!t)return r.indexOf(n);for(let o=0;o<r.length;o++)if(t(n,r[o]))return o;return-1}function Vd(n,r){cg(n,0,n.children.length,r,n)}function cg(n,r,t,o,l){l||(l=Kd(null)),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let u=r;u<t;u++){const d=n.children[u];ug(l,n.leaf?o(d):d)}return l}function ug(n,r){return n.minX=Math.min(n.minX,r.minX),n.minY=Math.min(n.minY,r.minY),n.maxX=Math.max(n.maxX,r.maxX),n.maxY=Math.max(n.maxY,r.maxY),n}function U9(n,r){return n.minX-r.minX}function G9(n,r){return n.minY-r.minY}function Gw(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function av(n){return n.maxX-n.minX+(n.maxY-n.minY)}function q9(n,r){return(Math.max(r.maxX,n.maxX)-Math.min(r.minX,n.minX))*(Math.max(r.maxY,n.maxY)-Math.min(r.minY,n.minY))}function V9(n,r){const t=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY),l=Math.min(n.maxX,r.maxX),u=Math.min(n.maxY,r.maxY);return Math.max(0,l-t)*Math.max(0,u-o)}function qw(n,r){return n.minX<=r.minX&&n.minY<=r.minY&&r.maxX<=n.maxX&&r.maxY<=n.maxY}function lv(n,r){return r.minX<=n.maxX&&r.minY<=n.maxY&&r.maxX>=n.minX&&r.maxY>=n.minY}function Kd(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zT(n,r,t,o,l){const u=[r,t];for(;u.length;){if(t=u.pop(),r=u.pop(),t-r<=o)continue;const d=r+Math.ceil((t-r)/o/2)*o;F9(n,d,r,t,l),u.push(r,d,d,t)}}function W9(n,r,t){if(t===void 0&&(t={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var o=_p(n),l=sF(r),u=l.type,d=r.bbox,p=l.coordinates;if(d&&Z9(o,d)===!1)return!1;u==="Polygon"&&(p=[p]);for(var m=!1,v=0;v<p.length&&!m;v++)if(NT(o,p[v][0],t.ignoreBoundary)){for(var _=!1,k=1;k<p[v].length&&!_;)NT(o,p[v][k],!t.ignoreBoundary)&&(_=!0),k++;_||(m=!0)}return m}function NT(n,r,t){var o=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var l=0,u=r.length-1;l<r.length;u=l++){var d=r[l][0],p=r[l][1],m=r[u][0],v=r[u][1],_=n[1]*(d-m)+p*(m-n[0])+v*(n[0]-d)===0&&(d-n[0])*(m-n[0])<=0&&(p-n[1])*(v-n[1])<=0;if(_)return!t;var k=p>n[1]!=v>n[1]&&n[0]<(m-d)*(n[1]-p)/(v-p)+d;k&&(o=!o)}return o}function Z9(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}const Y9=!0;class X9{constructor(){this.rbush=new j9,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(r,t){this.removeItem(r);const o=Gn(t),l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],id:r};this.polygonsById.set(r,t),this.bboxesById.set(r,o),this.itemsById.set(r,l),this.rbush.insert(l)}removeItem(r){const t=this.itemsById.get(r);t&&(this.rbush.remove(t),this.polygonsById.delete(r),this.bboxesById.delete(r),this.itemsById.delete(r))}clear(){this.rbush.clear()}search(r,t,o,l){return this.rbush.search({minX:r,minY:t,maxX:o,maxY:l})}getBbox(r){return this.bboxesById.get(r)}getPolygon(r){return this.polygonsById.get(r)}searchFromBbox(r){const[t,o,l,u]=r;return this.search(t,o,l,u).map(d=>d.id)}searchFromPoint(r,t=Y9){const[o,l,u,d]=[r[0],r[1],r[0],r[1]],p=this.search(o,l,u,d);return t?p.filter(m=>{const v=this.polygonsById.get(m.id);return v?W9(r,v):!1}).map(m=>m.id):p.map(m=>m.id)}}class K9 extends EventTarget{constructor(r,t){super(),this.warpedMapsById=new Map,this.zIndices=new Map,t=Object.assign({createRTree:!0},t),this.imageInfoCache=r,t.createRTree&&(this.rtree=new X9)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(r){if(r===void 0)return this.warpedMapsById.values();{const t=[];for(const o of r){const l=this.warpedMapsById.get(o);l&&t.push(l)}return t}}getWarpedMap(r){return this.warpedMapsById.get(r)}getMapZIndex(r){return this.zIndices.get(r)}getTotalBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=mT(r,t.geoMaskBbox):r=t.geoMaskBbox);return r}getTotalProjectedGeoMaskBbox(){let r;for(const t of this.getWarpedMaps())t.visible&&(r?r=mT(r,t.projectedGeoMaskBbox):r=t.projectedGeoMaskBbox);return r}getMapsByGeoBbox(r){return this.rtree?this.rtree.searchFromBbox(r):Array.from(this.warpedMapsById.keys())}setImageInfoCache(r){this.imageInfoCache=r}setMapResourceMask(r,t){const o=this.warpedMapsById.get(r);o&&(o.setResourceMask(t),this.addToOrUpdateRtree(o),this.dispatchEvent(new Yr(Te.RESOURCEMASKUPDATED,r)))}setMapsTransformationType(r,t){for(const o of r){const l=this.warpedMapsById.get(o);l&&(l.setTransformationType(t),this.addToOrUpdateRtree(l))}this.dispatchEvent(new Yr(Te.TRANSFORMATIONCHANGED,r))}bringMapsToFront(r){let t=this.warpedMapsById.size;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES))}sendMapsToBack(r){let t=-Array.from(r).length;for(const o of r)this.zIndices.has(o)&&(this.zIndices.set(o,t),t++);this.removeZIndexHoles(),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES))}bringMapsForward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o+3)}this.removeZIndexHoles(),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES))}sendMapsBackward(r){for(const[t,o]of this.zIndices.entries())this.zIndices.set(t,o*2);for(const t of r){const o=this.zIndices.get(t);o!==void 0&&this.zIndices.set(t,o-3)}this.removeZIndexHoles(),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES))}showMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!0)}this.dispatchEvent(new Yr(Te.VISIBILITYCHANGED,r))}hideMaps(r){for(const t of r){const o=this.warpedMapsById.get(t);o&&(o.visible=!1)}this.dispatchEvent(new Yr(Te.VISIBILITYCHANGED,r))}async addGeoreferencedMap(r){const t=OT(r),o=Array.isArray(t)?t[0]:t;return this.addGeoreferencedMapInternal(o)}async removeGeoreferencedMap(r){const t=OT(r),o=Array.isArray(t)?t[0]:t;return this.removeGeoreferencedMapInternal(o)}async addGeoreferenceAnnotation(r){const t=[],o=N1(r),l=await Promise.allSettled(o.map(u=>this.addGeoreferencedMapInternal(u)));for(const u of l)u.status==="fulfilled"?t.push(u.value):t.push(u.reason);return this.dispatchEvent(new Yr(Te.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES)),t}async removeGeoreferenceAnnotation(r){const t=[],o=N1(r);for(const l of o){const u=await this.removeGeoreferencedMapInternal(l);t.push(u)}return this.dispatchEvent(new Yr(Te.GEOREFERENCEANNOTATIONREMOVED)),t}clear(){var r;this.warpedMapsById=new Map,this.zIndices=new Map,(r=this.rtree)==null||r.clear(),this.dispatchEvent(new Yr(Te.CLEARED))}dispose(){for(const r of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(r),r.dispose()}async addGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=new e9(t,r,this.imageInfoCache);return this.warpedMapsById.set(t,o),this.zIndices.set(t,this.warpedMapsById.size-1),this.addToOrUpdateRtree(o),this.addEventListenersToWarpedMap(o),this.dispatchEvent(new Yr(Te.WARPEDMAPADDED,t)),t}async removeGeoreferencedMapInternal(r){const t=await this.getOrComputeMapId(r),o=this.warpedMapsById.get(t);if(o)this.warpedMapsById.delete(t),this.zIndices.delete(t),this.removeFromRtree(o),this.dispatchEvent(new Yr(Te.WARPEDMAPREMOVED,t)),this.removeZIndexHoles(),this.dispatchEvent(new Yr(Te.ZINDICESCHANGES));else throw new Error(`No map found with ID ${t}`);return t}async getOrComputeMapId(r){return r.id||await E6(r)}addToOrUpdateRtree(r){this.rtree&&(this.rtree.removeItem(r.mapId),this.rtree.addItem(r.mapId,r.geoMask))}removeFromRtree(r){this.rtree&&this.rtree.removeItem(r.mapId)}removeZIndexHoles(){const r=[...this.zIndices.entries()].sort((o,l)=>o[1]-l[1]);let t=0;for(const o of r){const l=o[0];this.zIndices.set(l,t),t++}}imageInfoLoaded(){this.dispatchEvent(new Yr(Te.IMAGEINFOLOADED))}addEventListenersToWarpedMap(r){r.addEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(r){r.removeEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class J9 extends EventTarget{constructor(r,t,o,l,u=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=r,this.projectedGeoPerViewportScale=l,this.rotation=o,this.viewportSize=t,this.devicePixelRatio=u,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=Gn(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*l,this.viewportSize[1]*l],this.geoCenter=bT(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(d=>bT(d)),this.geoBbox=Gn(this.geoRectangle),this.geoSize=sy(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=Yg(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=Yg(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return PT(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return PT(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(r,t,o,l){const u=t*l[0]/2,d=t*l[1]/2,p=Math.cos(o),m=Math.sin(o),v=u*p,_=u*m,k=d*p,C=d*m,M=r[0],A=r[1];return[[M-v+C,A-_-k],[M-v-C,A-_+k],[M+v-C,A+_+k],[M+v+C,A+_-k]]}}class Q9 extends EventTarget{constructor(r){super(),this.tile=r.tile,this.imageRequest=r.imageRequest,this.tileUrl=r.tileUrl,this.abortController=new AbortController}async fetch(){try{const r=await hF(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(r),this.dispatchEvent(new Yr(Te.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(r){r instanceof Error&&r.name==="AbortError"||this.dispatchEvent(new Yr(Te.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const $9=.75;function bM(n,r){return`${n}:${r}`}function wM(n){return bM(n.mapId,n.tileUrl)}function Vw(n){return new Set(n.map(r=>wM(r)))}function tj(n,r,t={maxOffsetRatio:1e-5,maxDepth:2}){const o=xF(r)[0];return n.transformBackward(o,t)}function ej(n,r,t=$9){let o=Number.POSITIVE_INFINITY,l=n.tileZoomLevels.at(-1);for(const u of n.tileZoomLevels){const d=Math.abs(Math.log(u.scaleFactor)-(Math.log(r)-Math.log(t)));d<o&&(o=d,l=u)}return l}function rj(n,r,t){const o=ij(n,r),l=nj(o),u=sj(l,t,r),d=P1(Gn(n));return u.sort((p,m)=>DT(p,d)-DT(m,d)),u}function ij(n,r){return n.map(t=>[t[0]/r.originalWidth,t[1]/r.originalHeight])}function nj(n){const r={};for(let t=0;t<n.length;t++){const o=[n[t],n[(t+1)%n.length]];oj(o).forEach(([l,u])=>{r[l]||(r[l]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),u<r[l][0]&&(r[l][0]=u),u>r[l][1]&&(r[l][1]=u)})}return r}function oj([n,r]){let t=Math.floor(n[0]),o=Math.floor(n[1]);const l=Math.floor(r[0]),u=Math.floor(r[1]),d=[[t,o]];if(t===l&&o===u)return d;const p=Math.sign(r[0]-n[0]),m=Math.sign(r[1]-n[1]),v=Math.abs(n[0]-t-Math.max(0,p)),_=Math.abs(n[1]-o-Math.max(0,m)),k=Math.abs(n[0]-r[0]),C=Math.abs(n[1]-r[1]);let M=v/k,A=_/C;const F=1/k,U=1/C;for(;!(t===l&&o===u);)M<A?(M=M+F,t=t+p):(A=A+U,o=o+m),d.push([t,o]);return d}function sj(n,r,t){const o=[];for(const l in n){const u=parseInt(l);if(u<0||u>=t.columns)break;const d=Math.max(n[u][0],0),p=Math.min(n[u][1],t.rows-1);for(let m=d;m<=p;m++)o.push({column:u,row:m,tileZoomLevel:t,imageSize:[r.width,r.height]})}return o}function aj(n){var r,t;return(((r=n.imageRequest.size)==null?void 0:r.height)||0)*(((t=n.imageRequest.size)==null?void 0:t.width)||0)*3}function DT(n,r){return oc(lj(n),r)}function lj(n){const r=xM(n);return[(r[2]-r[0])/2+r[0],(r[3]-r[1])/2+r[1]]}function cj(n){const r=n.column*n.tileZoomLevel.originalWidth,t=n.row*n.tileZoomLevel.originalHeight;return[r,t]}function xM(n){const r=cj(n),t=Math.min(r[0]+n.tileZoomLevel.originalWidth,n.imageSize[0]),o=Math.min(r[1]+n.tileZoomLevel.originalHeight,n.imageSize[1]);return[r[0],r[1],t,o]}const uj=50,hj=32*1e3*1e3;class dj extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(r){return this.tilesByTileUrl.get(r)}getCachedTile(r){const t=this.tilesByTileUrl.get(r);if(t&&t.isCachedTile())return t}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const r=Array.from(this.tilesByTileUrl.values()),t=[];return r.forEach(o=>{o.isCachedTile()&&t.push(o)}),t}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(r){const t=Vw(this.previousRequestedTiles),o=Vw(r);if(TF(t,o))return;const l=[];for(const p of this.previousRequestedTiles)o.has(wM(p))||l.push(p);this.updateOutgoingTilesHistory(l,r.length);const u=Vw(this.outgoingTilesHistory),d=new Set([...o,...u]);for(const[p,m]of this.mapIdsByTileUrl)for(const v of m)d.has(bM(v,p))||this.removeMapTile(v,p);for(const p of r)this.addMapTile(p);this.previousRequestedTiles=r}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const r of this.getCacheableTiles())this.removeEventListenersFromTile(r)}addMapTile(r){const t=r.mapId,o=r.tileUrl;if(this.tilesByTileUrl.has(o))this.dispatchEvent(new Yr(Te.MAPTILELOADED,{mapId:t,tileUrl:o}));else{const l=new Q9(r);this.addEventListenersToTile(l),this.tilesByTileUrl.set(o,l),this.updateTilesFetchingCount(1),l.fetch()}this.addTileUrlForMapId(t,o),this.addMapIdForTileUrl(t,o)}removeMapTile(r,t){const o=this.tilesByTileUrl.get(t);if(!o)return;const l=this.removeMapIdForTileUrl(r,t);this.removeTileUrlForMapId(r,t),l.size||(o.isCachedTile()||(o.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(t)),this.dispatchEvent(new Yr(Te.MAPTILEREMOVED,{mapId:r,tileUrl:t}))}updateOutgoingTilesHistory(r,t){for(let d=r.length-1;d>=0;d--){const p=r[d];this.outgoingTilesHistory.unshift(p)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let o=0,l=0,u=0;for(const d of this.outgoingTilesHistory){if(o+=1,u=aj(d),l+=u,o+t>uj){o-=1,l-=u;break}if(l>hj){o-=1,l-=u;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,o)}tileFetched(r){var t;if(r instanceof Yr){const o=r.data;this.updateTilesFetchingCount(-1);for(const l of this.mapIdsByTileUrl.get(o)||[])this.dispatchEvent(new Yr(Te.MAPTILELOADED,{mapId:l,tileUrl:o})),((t=this.tileUrlsByMapId.get(l))==null?void 0:t.values().next().value)===o&&this.dispatchEvent(new Yr(Te.FIRSTMAPTILELOADED,{mapId:l,tileUrl:o}))}}tileFetchError(r){if(r instanceof Yr){const t=r.data;this.tilesByTileUrl.has(t)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(t))}}addMapIdForTileUrl(r,t){let o=this.mapIdsByTileUrl.get(t);return o?o.add(r):o=new Set([r]),this.mapIdsByTileUrl.set(t,o),o}removeMapIdForTileUrl(r,t){const o=this.mapIdsByTileUrl.get(t);if(o)o.delete(r);else return new Set;return o.size?this.mapIdsByTileUrl.set(t,o):this.mapIdsByTileUrl.delete(t),o}addTileUrlForMapId(r,t){let o=this.tileUrlsByMapId.get(r);return o?o.add(t):o=new Set([t]),this.tileUrlsByMapId.set(r,o),o}removeTileUrlForMapId(r,t){const o=this.tileUrlsByMapId.get(r);return o?(o.delete(t),o.size?this.tileUrlsByMapId.set(r,o):this.tileUrlsByMapId.delete(r),o):new Set}updateTilesFetchingCount(r){this.tilesFetchingCount+=r,this.tilesFetchingCount===0&&this.dispatchEvent(new Yr(Te.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(r){r.addEventListener(Te.TILEFETCHED,this.tileFetched.bind(this)),r.addEventListener(Te.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(r){r.removeEventListener(Te.TILEFETCHED,this.tileFetched.bind(this)),r.removeEventListener(Te.TILEFETCHERROR,this.tileFetchError.bind(this))}}class pj{constructor(r,t){this.mapId=t.mapId,this.tile=r;const o=t.parsedImage.getIiifTile(r.tileZoomLevel,r.column,r.row);this.imageRequest=o;const l=t.parsedImage.getImageUrl(o);this.tileUrl=l}}var fj=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const gj=fj;var mj=typeof self=="object"&&self&&self.Object===Object&&self,vj=gj||mj||Function("return this")();const _M=vj;var yj=_M.Symbol;const uy=yj;var kM=Object.prototype,bj=kM.hasOwnProperty,wj=kM.toString,ig=uy?uy.toStringTag:void 0;function xj(n){var r=bj.call(n,ig),t=n[ig];try{n[ig]=void 0;var o=!0}catch{}var l=wj.call(n);return o&&(r?n[ig]=t:delete n[ig]),l}var _j=Object.prototype,kj=_j.toString;function Ej(n){return kj.call(n)}var Tj="[object Null]",Sj="[object Undefined]",FT=uy?uy.toStringTag:void 0;function Cj(n){return n==null?n===void 0?Sj:Tj:FT&&FT in Object(n)?xj(n):Ej(n)}function Pj(n){return n!=null&&typeof n=="object"}var Mj="[object Symbol]";function Ij(n){return typeof n=="symbol"||Pj(n)&&Cj(n)==Mj}var Lj=/\s/;function Rj(n){for(var r=n.length;r--&&Lj.test(n.charAt(r)););return r}var Aj=/^\s+/;function Oj(n){return n&&n.slice(0,Rj(n)+1).replace(Aj,"")}function hy(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}var BT=0/0,zj=/^[-+]0x[0-9a-f]+$/i,Nj=/^0b[01]+$/i,Dj=/^0o[0-7]+$/i,Fj=parseInt;function jT(n){if(typeof n=="number")return n;if(Ij(n))return BT;if(hy(n)){var r=typeof n.valueOf=="function"?n.valueOf():n;n=hy(r)?r+"":r}if(typeof n!="string")return n===0?n:+n;n=Oj(n);var t=Nj.test(n);return t||Dj.test(n)?Fj(n.slice(2),t?2:8):zj.test(n)?BT:+n}var Bj=function(){return _M.Date.now()};const Ww=Bj;var jj="Expected a function",Hj=Math.max,Uj=Math.min;function Gj(n,r,t){var o,l,u,d,p,m,v=0,_=!1,k=!1,C=!0;if(typeof n!="function")throw new TypeError(jj);r=jT(r)||0,hy(t)&&(_=!!t.leading,k="maxWait"in t,u=k?Hj(jT(t.maxWait)||0,r):u,C="trailing"in t?!!t.trailing:C);function M(pt){var ut=o,ct=l;return o=l=void 0,v=pt,d=n.apply(ct,ut),d}function A(pt){return v=pt,p=setTimeout(H,r),_?M(pt):d}function F(pt){var ut=pt-m,ct=pt-v,V=r-ut;return k?Uj(V,u-ct):V}function U(pt){var ut=pt-m,ct=pt-v;return m===void 0||ut>=r||ut<0||k&&ct>=u}function H(){var pt=Ww();if(U(pt))return W(pt);p=setTimeout(H,F(pt))}function W(pt){return p=void 0,C&&o?M(pt):(o=l=void 0,d)}function j(){p!==void 0&&clearTimeout(p),v=0,o=m=l=p=void 0}function q(){return p===void 0?d:W(Ww())}function nt(){var pt=Ww(),ut=U(pt);if(o=arguments,l=this,m=pt,ut){if(p===void 0)return A(m);if(k)return clearTimeout(p),p=setTimeout(H,r),M(m)}return p===void 0&&(p=setTimeout(H,r)),d}return nt.cancel=j,nt.flush=q,nt}var qj="Expected a function";function D1(n,r,t){var o=!0,l=!0;if(typeof n!="function")throw new TypeError(qj);return hy(t)&&(o="leading"in t?!!t.leading:o,l="trailing"in t?!!t.trailing:l),Gj(n,r,{leading:o,maxWait:r,trailing:l})}function Vj(n){let r=0,t=0;for(const d of n)r+=d.w*d.h,t=Math.max(t,d.w);n.sort((d,p)=>p.h-d.h);const o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),t),h:1/0}];let l=0,u=0;for(const d of n)for(let p=o.length-1;p>=0;p--){const m=o[p];if(!(d.w>m.w||d.h>m.h)){if(d.x=m.x,d.y=m.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===m.w&&d.h===m.h){const v=o.pop();p<o.length&&(o[p]=v)}else d.h===m.h?(m.x+=d.w,m.w-=d.w):d.w===m.w?(m.y+=d.h,m.h-=d.h):(o.push({x:m.x+d.w,y:m.y,w:m.w-d.w,h:d.h}),m.y+=d.h,m.h-=d.h);break}}return{w:l,h:u,fill:r/(l*u)||0}}function HT(n,r,t){const o=n.createShader(r);if(o){if(n.shaderSource(o,t),n.compileShader(o),n.getShaderParameter(o,n.COMPILE_STATUS))return o;{const l=n.getShaderInfoLog(o);throw n.deleteShader(o),new Error("Failed to compile shader: "+l)}}else throw new Error("Failed to create shader")}function Wj(n,r,t){const o=n.createProgram();if(o){if(n.attachShader(o,r),n.attachShader(o,t),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS))return o;{const l=n.getProgramInfoLog(o);throw n.deleteProgram(o),new Error("Failed to link program: "+l)}}else throw new Error("Failed to create program")}function cv(n,r,t,o,l){const u=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW);const d=n.FLOAT,p=!1,m=0,v=0,_=n.getAttribLocation(r,l);n.vertexAttribPointer(_,o,d,p,m,v),n.enableVertexAttribArray(_)}const Zj=250,Yj={leading:!0,trailing:!0},Xj=1,Kj=1;class Jj extends EventTarget{constructor(r,t,o){super(),this.CachedTilesByTileUrl=new Map,this.opacity=Xj,this.saturation=Kj,this.renderOptions={},this.warpedMap=o,this.gl=r,this.program=t,this.vao=r.createVertexArray(),this.packedTilesTexture=r.createTexture(),this.packedTilesScaleFactorsTexture=r.createTexture(),this.packedTilesPositionsTexture=r.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=r.createTexture(),this.throttledUpdateTextures=D1(this.updateTextures.bind(this),Zj,Yj)}updateVertexBuffers(r){this.projectedGeoToClipTransform=r,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.set(r.tileUrl,r),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(r){this.CachedTilesByTileUrl.delete(r),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),cv(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const r=this.warpedMap.projectedGeoCurrentTrianglePoints.map(l=>ep(this.projectedGeoToClipTransform,l));cv(this.gl,this.program,new Float32Array(r.flat()),2,"a_clipCurrentTrianglePoint");const t=this.warpedMap.projectedGeoNewTrianglePoints.map(l=>ep(this.projectedGeoToClipTransform,l));cv(this.gl,this.program,new Float32Array(t.flat()),2,"a_clipNewTrianglePoint");let o=new Float32Array(this.warpedMap.resourceTrianglePoints.length);o=o.map((l,u)=>Math.round((u-1)/3)),cv(this.gl,this.program,o,1,"a_triangleIndex")}async updateTextures(){const r=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let t=[...this.CachedTilesByTileUrl.values()];t=t.filter(_=>this.warpedMap.resourceViewportRingBbox?wF(xM(_.tile),this.warpedMap.resourceViewportRingBbox):!0);const o=t.length,l=t.map((_,k)=>({w:_.imageBitmap.width,h:_.imageBitmap.height,x:0,y:0,index:k})),{w:u,h:d}=Vj(l);r.pixelStorei(r.UNPACK_ALIGNMENT,4),r.bindTexture(r.TEXTURE_2D,this.packedTilesTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,u,d,0,r.RGBA,r.UNSIGNED_BYTE,null);for(const _ of l){const k=t[_.index].imageBitmap;r.texSubImage2D(r.TEXTURE_2D,0,_.x,_.y,k.width,k.height,r.RGBA,r.UNSIGNED_BYTE,k)}r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const p=l.map(_=>[_.x,_.y]);r.bindTexture(r.TEXTURE_2D,this.packedTilesPositionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RG32I,1,o,0,r.RG_INTEGER,r.INT,new Int32Array(p.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const m=l.map(_=>{const k=t[_.index];if(k&&k.imageRequest&&k.imageRequest.region)return[k.imageRequest.region.x,k.imageRequest.region.y,k.imageRequest.region.width,k.imageRequest.region.height]});r.bindTexture(r.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA32I,1,o,0,r.RGBA_INTEGER,r.INT,new Int32Array(m.flat())),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);const v=l.map(({index:_})=>t[_].tile.tileZoomLevel.scaleFactor);r.bindTexture(r.TEXTURE_2D,this.packedTilesScaleFactorsTexture),r.texImage2D(r.TEXTURE_2D,0,r.R32I,1,o,0,r.RED_INTEGER,r.INT,new Int32Array(v)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.dispatchEvent(new Yr(Te.TEXTURESUPDATED))}}const Qj=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,$j=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,tH=500,eH={leading:!0,trailing:!0},rH=50,iH={leading:!0,trailing:!0},Zw=1,Yw=1,nH=0,oH=.7,sH=5,aH=5,UT=750;class lH extends EventTarget{constructor(r,t){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new dj,this.mapsInViewport=new Set,this.opacity=Zw,this.saturation=Yw,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=t,this.gl=r;const o=HT(r,r.VERTEX_SHADER,Qj),l=HT(r,r.FRAGMENT_SHADER,$j);this.program=Wj(r,o,l),r.deleteShader(o),r.deleteShader(l),r.disable(r.DEPTH_TEST),this.invertedRenderTransform=X7(),this.addEventListeners(),this.throttledPrepareRenderInternal=D1(this.prepareRenderInternal.bind(this),tH,eH),this.throttledChanged=D1(this.changed.bind(this),rH,iH)}getOpacity(){return this.opacity}setOpacity(r){this.opacity=r}resetOpacity(){this.opacity=Zw}getMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.opacity}setMapOpacity(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.opacity=Math.min(Math.max(t,0),1))}resetMapOpacity(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.opacity=Zw)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(r){this.renderOptions.removeColorOptions=r}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.removeColorOptions}setMapRemoveColorOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.removeColorOptions=t)}resetMapRemoveColorOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(r){this.renderOptions.colorizeOptions=r}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.renderOptions.colorizeOptions}setMapColorizeOptions(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.renderOptions.colorizeOptions=t)}resetMapColorizeOptions(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(r){this.saturation=r}resetSaturation(){this.saturation=Yw}getMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);if(t)return t.saturation}setMapSaturation(r,t){const o=this.webgl2WarpedMapsById.get(r);o&&(o.saturation=t)}resetMapSaturation(r){const t=this.webgl2WarpedMapsById.get(r);t&&(t.saturation=Yw)}render(r){this.viewport=r,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const r of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(r),r.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(r){if(this.transformationTransitionStart||(this.transformationTransitionStart=r),r-this.transformationTransitionStart<UT)this.animationProgress=(r-this.transformationTransitionStart)/UT,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const t of this.warpedMapList.getWarpedMaps())t.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=J7(this.viewport.projectedGeoToClipTransform);for(const r of this.mapsInViewport){const t=this.webgl2WarpedMapsById.get(r);if(!t)break;t.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const r=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((o,l)=>oc(P1(this.warpedMapList.getWarpedMap(o).geoMaskBbox),this.viewport.geoCenter)-oc(P1(this.warpedMapList.getWarpedMap(l).geoMaskBbox),this.viewport.geoCenter)),t=[];for(const o of r){const l=this.warpedMapList.getWarpedMap(o);if(!l||!l.visible)continue;if(!l.hasImageInfo()){l.loadImageInfo();continue}if(_F(l.getApproxViewportMaskBbox(this.viewport))<sH)continue;const u=ej(l.parsedImage,l.getApproxResourceToCanvasScale(this.viewport));l.updateBestScaleFactor(u.scaleFactor);const d={maxDepth:0},p=tj(l.projectedTransformer,this.viewport.projectedGeoBbox,d);l.setResourceViewportRing(p);const m=rj(p,u,l.parsedImage);for(const v of m)t.push(new pj(v,l))}this.tileCache.requestFetcableMapTiles(t),this.updateMapsInViewport(t)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const r=[];for(let o=0;o<4;o++)r.push(oc(this.previousSignificantViewport.projectedGeoRectangle[o],this.viewport.projectedGeoRectangle[o])/this.viewport.projectedGeoPerViewportScale);const t=Math.max(...r);return t==0?!0:t>aH?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(r){const t=Array.from(this.mapsInViewport),o=r.map(d=>d.mapId).filter((d,p,m)=>m.indexOf(d)===p);this.mapsInViewport=new Set(o.sort((d,p)=>{const m=this.warpedMapList.getMapZIndex(d),v=this.warpedMapList.getMapZIndex(p);return m!==void 0&&v!==void 0?m-v:0}));const l=o.filter(d=>!t.includes(d)),u=t.filter(d=>!o.includes(d));for(const d in l)this.dispatchEvent(new Yr(Te.WARPEDMAPENTER,d));for(const d in u)this.dispatchEvent(new Yr(Te.WARPEDMAPLEAVE,d))}renderInternal(){if(!this.viewport)return;const r=K7(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.program);const o=t.getUniformLocation(this.program,"u_renderTransform");t.uniformMatrix4fv(o,!1,$7(r));const l=t.getUniformLocation(this.program,"u_animationProgress");t.uniform1f(l,this.animationProgress);for(const u of this.mapsInViewport){const d=this.webgl2WarpedMapsById.get(u);if(!d)continue;this.setRenderOptionsUniforms(this.renderOptions,d.renderOptions);const p=t.getUniformLocation(this.program,"u_opacity");t.uniform1f(p,this.opacity*d.opacity);const m=t.getUniformLocation(this.program,"u_saturation");t.uniform1f(m,this.saturation*d.saturation);const v=t.getUniformLocation(this.program,"u_bestScaleFactor"),_=d.warpedMap.bestScaleFactor;t.uniform1i(v,_);const k=t.getUniformLocation(this.program,"u_packedTilesTexture");t.uniform1i(k,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,d.packedTilesTexture);const C=t.getUniformLocation(this.program,"u_packedTilesPositionsTexture");t.uniform1i(C,1),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,d.packedTilesPositionsTexture);const M=t.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");t.uniform1i(M,2),t.activeTexture(t.TEXTURE2),t.bindTexture(t.TEXTURE_2D,d.packedTilesResourcePositionsAndDimensionsTexture);const A=t.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");t.uniform1i(A,3),t.activeTexture(t.TEXTURE3),t.bindTexture(t.TEXTURE_2D,d.packedTilesScaleFactorsTexture);const F=d.vao,U=d.warpedMap.resourceTrianglePoints.length,H=this.gl.TRIANGLES,W=0;t.bindVertexArray(F),t.drawArrays(H,W,U)}}setRenderOptionsUniforms(r,t){var v,_,k,C,M,A,F,U,H,W;const o=this.gl,l={removeColorOptions:{color:((v=t.removeColorOptions)==null?void 0:v.color)||((_=r.removeColorOptions)==null?void 0:_.color),hardness:yT((k=t.removeColorOptions)==null?void 0:k.hardness,(C=r.removeColorOptions)==null?void 0:C.hardness),threshold:yT((M=t.removeColorOptions)==null?void 0:M.threshold,(A=r.removeColorOptions)==null?void 0:A.threshold)},colorizeOptions:{...r.colorizeOptions,...t.colorizeOptions}},u=(F=l.removeColorOptions)==null?void 0:F.color,d=o.getUniformLocation(this.program,"u_removeColor");if(o.uniform1f(d,u?1:0),u){const j=o.getUniformLocation(this.program,"u_removeColorOptionsColor");o.uniform3fv(j,u);const q=o.getUniformLocation(this.program,"u_removeColorOptionsThreshold");o.uniform1f(q,((U=l.removeColorOptions)==null?void 0:U.threshold)||nH);const nt=o.getUniformLocation(this.program,"u_removeColorOptionsHardness");o.uniform1f(nt,((H=l.removeColorOptions)==null?void 0:H.hardness)||oH)}const p=(W=l.colorizeOptions)==null?void 0:W.color,m=o.getUniformLocation(this.program,"u_colorize");if(o.uniform1f(m,p?1:0),p){const j=o.getUniformLocation(this.program,"u_colorizeOptionsColor");o.uniform3fv(j,p)}}changed(){this.dispatchEvent(new Yr(Te.CHANGED))}imageInfoLoaded(r){r instanceof Yr&&this.dispatchEvent(new Yr(Te.IMAGEINFOLOADED))}mapTileLoaded(r){if(r instanceof Yr){const{mapId:t,tileUrl:o}=r.data,l=this.tileCache.getCacheableTile(o);if(!l||!l.isCachedTile())return;const u=this.webgl2WarpedMapsById.get(t);if(!u)return;u.addCachedTileAndUpdateTextures(l)}}mapTileRemoved(r){if(r instanceof Yr){const{mapId:t,tileUrl:o}=r.data,l=this.webgl2WarpedMapsById.get(t);if(!l)return;l.removeCachedTileAndUpdateTextures(o)}}warpedMapAdded(r){if(r instanceof Yr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);if(o){const l=new Jj(this.gl,this.program,o);this.webgl2WarpedMapsById.set(o.mapId,l),this.addEventListenersToWebGL2WarpedMap(l)}}}transformationChanged(r){if(r instanceof Yr){const t=r.data;for(const o of this.warpedMapList.getWarpedMaps(t))this.animating&&o.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),o.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(r){if(r instanceof Yr){const t=r.data,o=this.warpedMapList.getWarpedMap(t);o&&(o.clearResourceTrianglePointsByBestScaleFactor(),o.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(r){r.addEventListener(Te.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(r){r.removeEventListener(Te.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(Te.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(Te.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(Te.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(Te.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(Te.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(Te.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(Te.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(Te.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(Te.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(Te.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(Te.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(Te.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(Te.CLEARED,this.clear.bind(this))}}const cH=$n.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(n,r){this._annotation=n,$n.setOptions(this,r),this._initGl()},async onAdd(n){const r=this.getPaneName();return this._map.getPane(r).appendChild(this.container),n.on("zoomend viewreset move",this._update,this),n.on("zoomanim",this._animateZoom,this),n.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(SF(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(n){this.container.remove(),n.off("zoomend viewreset move",this._update,this),n.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.addGeoreferenceAnnotation(n);return this._update(),r},async removeGeoreferenceAnnotation(n){const r=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(n);return this._update(),r},async addGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.addGeoreferenceAnnotation(r)},async removeGeoreferenceAnnotationByUrl(n){const r=await fetch(n).then(t=>t.json());return this.removeGeoreferenceAnnotation(r)},async addGeoreferencedMap(n){const r=this.renderer.warpedMapList.addGeoreferencedMap(n);return this._update(),r},async removeGeoreferencedMap(n){const r=this.renderer.warpedMapList.removeGeoreferencedMap(n);return this._update(),r},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(n){return this.renderer.warpedMapList.getWarpedMap(n)},showMap(n){this.renderer.warpedMapList.showMaps([n]),this._update()},showMaps(n){this.renderer.warpedMapList.showMaps(n),this._update()},hideMap(n){this.renderer.warpedMapList.hideMaps([n]),this._update()},hideMaps(n){this.renderer.warpedMapList.hideMaps(n),this._update()},isMapVisible(n){var r;return(r=this.renderer.warpedMapList.getWarpedMap(n))==null?void 0:r.visible},setMapResourceMask(n,r){this.renderer.warpedMapList.setMapResourceMask(n,r),this._update()},setMapsTransformationType(n,r){this.renderer.warpedMapList.setMapsTransformationType(n,r),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const n=this.getTotalBbox();return $n.latLngBounds($n.latLng(n[1],n[0]),$n.latLng(n[3],n[2]))},getTotalProjectedBounds(){const n=this.getTotalProjectedBbox();return $n.latLngBounds($n.latLng(n[1],n[0]),$n.latLng(n[3],n[2]))},bringMapsToFront(n){this.renderer.warpedMapList.bringMapsToFront(n),this._update()},sendMapsToBack(n){this.renderer.warpedMapList.sendMapsToBack(n),this._update()},bringMapsForward(n){this.renderer.warpedMapList.bringMapsForward(n),this._update()},sendMapsBackward(n){this.renderer.warpedMapList.sendMapsBackward(n),this._update()},bringToFront(){return this._map&&$n.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&$n.DomUtil.toBack(this.container),this},getMapZIndex(n){return this.renderer.warpedMapList.getMapZIndex(n)},getZIndex(){return this.options.zIndex},setZIndex(n){return this.options.zIndex=n,this._updateZIndex(),this},setImageInfoCache(n){this.renderer.warpedMapList.setImageInfoCache(n)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(n){return this.options.opacity=n,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(n){return this.renderer.getMapOpacity(n)},setMapOpacity(n,r){return this.renderer.setMapOpacity(n,r),this._update(),this},resetMapOpacity(n){return this.renderer.resetMapOpacity(n),this._update(),this},setSaturation(n){return this.renderer.setSaturation(n),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(n,r){return this.renderer.setMapSaturation(n,r),this._update(),this},resetMapSaturation(n){return this.renderer.resetMapSaturation(n),this._update(),this},setRemoveColor(n){const r=n.hexColor?vT(n.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:r,threshold:n.threshold,hardness:n.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(n,r){const t=r.hexColor?vT(r.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(n,{color:t,threshold:r.threshold,hardness:r.hardness}),this._update(),this},resetMapRemoveColor(n){return this.renderer.resetMapRemoveColorOptions(n),this},setColorize(n){const r=this.hexToRgb(n);return r&&(this.renderer.setColorizeOptions({color:r}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(n,r){const t=this.hexToRgb(r);return t&&(this.renderer.setMapColorizeOptions(n,{color:t}),this._update()),this},resetMapColorize(n){return this.renderer.resetMapColorizeOptions(n),this._update(),this},_initGl(){if(this.container=$n.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=$n.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const n=new K9(this.options.imageInfoCache);this.renderer=new lH(this.gl,n),this._addEventListeners()},_resized(n){for(const r of n){const t=r.contentRect.width,o=r.contentRect.height,l=window.devicePixelRatio,u=Math.round(t*l),d=Math.round(o*l);this.canvas.width=u,this.canvas.height=d,this.canvas.style.width=t+"px",this.canvas.style.height=o+"px"}this._update()},_animateZoom(n){const r=this._map.getZoomScale(n.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),n.zoom,n.center).min;$n.DomUtil.setTransform(this.canvas,t,r)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const n=this._map.containerPointToLayerPoint([0,0]);$n.DomUtil.setPosition(this.canvas,n),this.renderer.setOpacity(this.getOpacity());const r=this._map.getCenter(),t=this._map.options.crs.project(r),o=[t.x,t.y],l=this._map.getSize(),u=[l.x,l.y],d=this._map.getBounds(),p=this._map.options.crs.project(d.getNorthEast()),m=this._map.options.crs.project(d.getSouthWest()),v=[m.x,m.y,p.x,p.y],_=sy(v),k=LP(_,u),C=new J9(o,u,0,k,window.devicePixelRatio);return this.renderer.render(C),this.container},_addEventListeners(){this.renderer.addEventListener(Te.CHANGED,this._update.bind(this)),this.renderer.addEventListener(Te.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(Te.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(Te.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Te.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(Te.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(Te.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(Te.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(Te.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(Te.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(Te.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(Te.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Te.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(Te.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(Te.CLEARED,this._update.bind(this))},_passWarpedMapEvent(n){n instanceof Yr&&this._map&&this._map.fire(n.type,n.data)},_unload(){this.renderer.dispose();const n=this.gl.getExtension("WEBGL_lose_context");n&&n.loseContext();const r=this.gl.canvas;r.width=1,r.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),uH={class:"content",ref:"content"},hH=["innerHTML"],dH=["innerHTML"],pH=Qo({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"32.32347,-80.97122"},data:{type:String},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},entities:{type:String},preferGeojson:{type:Boolean},popupOnHover:{type:Boolean},zoomOnClick:{type:Boolean},scrollWheelZoom:{type:Boolean},essayBase:{type:String}},setup(n){const r=n,t=window.turf,o={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},l={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},u=ke(null),d=wr(()=>{var Ft,qt;return(qt=(Ft=u.value)==null?void 0:Ft.getRootNode())==null?void 0:qt.host}),p=ke(null),m=ke(1),v=ke(),_=ke([]),k=ke(),C=ke([]),M=ke(),A=ke(),F=ke(),U=ke(10),H=ke(),W=ke(),j=ke();sr(p,Ft=>{Ft&&(Ft.clientHeight===0&&(Ft.style.height=`${Ft.clientWidth*m.value}px`),new ResizeObserver(qt=>Ft.style.height=`${qt[0].contentRect.width*m.value}px`).observe(Ft),q())}),sr(C,async()=>{let Ft=await Promise.all(C.value);console.log(oi(Ft));let qt=Ft.filter(vt=>vt.geojson&&vt.preferGeojson).map(vt=>{if(vt.geojson.indexOf("http")!==0)if(vt.geojson[0]==="/"){let[O,X,...dt]=vt.geojson.split("/").filter(zt=>zt),kt=dt.join("/"),xt="main";vt.geojson=`https://raw.githubusercontent.com/${O}/${X}/${xt}/${kt}`}else vt.geojson=`https://raw.githubusercontent.com/${r.essayBase}/${vt.geojson}`;return vt}).map(vt=>({url:vt.geojson,item:vt})),Yt=await Promise.all(qt.map(vt=>fetch(vt.url))),Xt=await Promise.all(Yt.map(vt=>vt.json())),ot={};for(let vt=0;vt<qt.length;vt++){qt[vt].item.id&&/^Q[0-9]+$/.test(qt[vt].item.id)&&(qt[vt].item.qid=qt[vt].item.id,delete qt[vt].item.id),Xt[vt].type==="FeatureCollection"?Xt[vt].features.forEach(X=>X.properties={...X.properties,...qt[vt].item}):Xt[vt].properties={...Xt[vt].properties,...qt[vt].item};let O=qt[vt].item.layer||"Locations";ot[O]||(ot[O]=[]),ot[O].push(Xt[vt])}let ft={};Ft.filter(vt=>!vt.geojson||!vt.preferGeojson).filter(vt=>!vt.allmaps).forEach(vt=>{let O=vt.layer||"Locations";ft[O]||(ft[O]=[]),ft[O].push(vt)}),Ft.filter(vt=>!vt.allmaps).forEach(vt=>{let O=vt.layer||"Locations";ot[O]?ft[O]&&(ot[O].push(at(ft[O])),delete ft[O]):(ot[O]=[at(ft[O])],delete ft[O])}),F.value=ot,A.value=Ft.filter(vt=>vt.allmaps).map(vt=>{let O=new cH(`https://annotations.allmaps.org/images/${vt.allmaps}`);return{name:vt.layer||"Image layer",type:"allmaps",disabled:vt.disabled,opacity:vt.opacity||100,layer:O}})}),sr(F,()=>V()),sr(A,()=>V()),sr(v,()=>V());function q(){_.value=r.entities?r.entities.split(/\s+/).filter(Ft=>Ft):[],ht(),mt(),nt(),ee()}async function nt(){U.value=r.zoom;let Ft;if(r.center)if(Aw(r.center)){let Xt=await Gd(r.center);Ft=Qe(Xt.coords)}else Ft=Qe(r.center);else if(r.entities){let Xt=await Gd(_.value[0]);Ft=Qe(Xt.coords),U.value=9}else Ft=new ms.LatLng(0,0),U.value=6;if(v.value&&(v.value.off(),v.value.remove()),!p.value)return;yv()&&ms.Map.addInitHook("addHandler","gestureHandling",x6.GestureHandling),p.value.style.cursor="default";let qt=r.basemaps.split(",").map(Xt=>{let[ot,ft]=l[Xt];return[Xt.replace(/_/," "),ms.tileLayer(ot,ft)]}),Yt={preferCanvas:!1,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:Ft,zoom:U.value,zoomAnimation:!0,gestureHandling:yv(),layers:[qt[0][1]]};v.value=ms.map(p.value,Yt),(qt.length>1||Object.keys(F.value||{}).length>1)&&(M.value=ms.control.layers(Object.fromEntries(qt),{}).addTo(v.value)),v.value.on("click",Xt=>{var ot;pt(Xt),k.value&&wt((ot=k.value)==null?void 0:ot.split(" ")[0]),r.zoomOnClick&&er()}),v.value.on("zoomend",Xt=>{pt(Xt),j.value&&j.value.layer.openPopup()}),v.value.on("movestart",()=>{p.value&&(p.value.style.cursor="move")}),v.value.on("moveend",Xt=>{p.value&&(p.value.style.cursor="default"),pt(Xt)}),v.value.on("layeradd",Xt=>{var ot,ft;if(Xt.layer.feature){let vt=Xt.layer;((ot=vt.feature)==null?void 0:ot.type)=="Feature"&&((ft=vt.feature)!=null&&ft.properties.qid)&&vt.feature}}),k.value=`${Number(Ft.lat.toFixed(5))},${Number(Ft.lng.toFixed(5))} ${U.value}`,H.value=`${Number(Ft.lat.toFixed(5))},${Number(Ft.lng.toFixed(5))},${U.value}`}function pt(Ft){let qt=Ft.type==="click"?Ft.latlng:Ft.target.getCenter(),Yt=Ft.target.getZoom(),Xt=[qt.lat,qt.lng,Yt];return k.value=`${Number(qt.lat.toFixed(5))},${Number(qt.lng.toFixed(5))} ${Yt}`,W.value||(H.value=`${Number(qt.lat.toFixed(5))},${Number(qt.lng.toFixed(5))},${Yt}`),Xt}function ut(Ft){return ms.geoJSON(Ft,{pointToLayer:(qt,Yt)=>{const Xt=qt.properties;let ot={...o};return qt.properties.icon&&(ot.iconUrl=qt.properties.icon),qt.properties.shadowUrl&&(ot.shadowUrl=qt.properties.shadowUrl),qt.properties.iconRetinaUrl&&(ot.iconRetinaUrl=qt.properties.iconRetinaUrl),Xt.markerType==="circle"?ms.circleMarker(Yt,{radius:Xt.radius||4}):ms.marker(Yt,{icon:new ms.Icon(ot)})},onEachFeature:async(qt,Yt)=>{var ot;let Xt=Yt;if(!qt.properties.coords){if((ot=Xt.feature)!=null&&ot.bbox){let ft=Xt.getBounds().getCenter();qt.properties.coords=`${ft.lat},${ft.lng}`}else if(qt.geometry.type==="Polygon"){let ft=t.centroid(qt);qt.properties.coords=`${ft.geometry.coordinates[1]},${ft.geometry.coordinates[0]}`}}if(qt.properties.qid){let ft=await Gd(qt.properties.qid);qt.properties.entityData=ft;let O=`<ve-info-card data="${JSON.stringify(ft).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Yt.bindPopup(O)}else{let vt=`<ve-info-card data="${JSON.stringify(qt.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Yt.bindPopup(vt)}r.popupOnHover&&(Yt.on("mouseover",()=>Yt.openPopup()),Yt.on("mouseout",()=>Yt.closePopup())),Yt.on("click",()=>{W.value?(Yt.closePopup(),W.value=void 0):(Yt.openPopup(),W.value={},r.zoomOnClick&&he(qt.properties.coords))})},style:qt=>{const Yt=qt==null?void 0:qt.properties,Xt=qt==null?void 0:qt.geometry.type;for(let[ft,vt]of Object.entries(Yt))vt==="null"&&(Yt[ft]=null);return{color:Yt.color||"#FB683F",weight:Yt.weight||(Xt==="Polygon"||Xt==="MultiPolygon"?0:4),opacity:Yt.opacity||1,fillColor:Yt.fillColor||"#32C125",fillOpacity:Yt.fillOpacity||.5}}})}let ct=!1;function V(){var Ft;if(v.value&&F.value&&A.value&&!ct){ct=!0;let qt=Object.keys(F.value||{}),Yt=A.value?A.value.length:0;!M.value&&(qt.length>1||qt.length===1&&qt[0]!=="Locations"||Yt>0)&&(M.value=ms.control.layers(Object.fromEntries([]),{}).addTo(v.value));let Xt={};if((Ft=A.value)==null||Ft.forEach(ot=>{var ft;M.value&&M.value.addOverlay(ot.layer,ot.name),ot.disabled||(ft=v.value)==null||ft.addLayer(ot.layer),Xt[ot.name]=ot.layer}),Object.keys(F.value||{}).forEach(ot=>{var O;let ft=new ms.LayerGroup,vt=!1;F.value[ot].forEach(X=>{var kt;let dt=ut(X);ft.addLayer(dt),(kt=X.properties)!=null&&kt.disabled&&(vt=!0)}),vt||(O=v.value)==null||O.addLayer(ft),M.value&&M.value.addOverlay(ft,ot)}),Object.keys(Xt).length>0){let ot=ms.control.opacity(Xt,{label:null,collapsed:!0,position:"topright"});ot.addTo(v.value),Array.from(ot.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(ft=>{var X;let vt=ft.children[0].textContent.trim(),O;if((X=A.value)==null||X.forEach(dt=>{dt.name===vt&&(O=dt)}),O){let dt=O.opacity,kt=ft.children[1].children[0];kt.value=dt,O.layer.setOpacity(dt/100),kt.addEventListener("input",xt=>{xt.preventDefault(),xt.stopPropagation(),O.layer.setOpacity(parseInt(kt.value)/100)})}})}}}function at(Ft){const qt={type:"FeatureCollection",features:[]};return Ft.filter(Yt=>Yt.coords).forEach(Yt=>{let[Xt,ot]=Yt.coords.split(",").map(ft=>parseFloat(ft.trim()));qt.features.push({type:"Feature",properties:Yt,geometry:{type:"Point",coordinates:[ot,Xt]}})}),qt}async function ht(){let Ft=r.data?document.getElementById(r.data):d.value,qt=Array.from(Ft.querySelectorAll("li")).map(Yt=>{var Xt;return Jt((Xt=Yt.firstChild)==null?void 0:Xt.textContent)});if(r.marker&&r.center)if(Aw(r.center)){let Yt=await Gd(r.center);qt.push(Promise.resolve(de(Yt)))}else qt.push(Promise.resolve({coords:r.center,zoom:r.zoom||10}));C.value=[...C.value,...qt]}function mt(){const Ft=Yt=>{for(let Xt of Yt)Xt.type==="childList"&&Array.from(Xt.target.classList).indexOf("hydrated")>=0&&ht()};new MutationObserver(Ft).observe(d.value,{childList:!0,subtree:!0,characterData:!0})}function Qt(Ft){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(Ft)}function ie(Ft){return/^\d{1,2}(\.\d{1})?$/.test(Ft)}function ye(Ft){Ft=Ft||"";let qt=[];Ft=Ft.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let Yt=Ft.match(/[^\s"]+|"([^"]*)"/gmi);return Yt&&Yt.forEach(Xt=>{qt.length>0&&qt[qt.length-1].indexOf("=")===qt[qt.length-1].length-1?qt[qt.length-1]=`${qt[qt.length-1]}${Xt}`:qt.push(Xt)}),qt}function Gt(Ft,qt){let Yt={id:qt},Xt=ID(Ft);return Xt.location&&(Yt.coords=Xt.location[0]),Xt.coordinates_of_the_point_of_view&&(Yt.coords=Xt.coordinates_of_the_point_of_view[0]),Ft.label&&(Yt.label=Ft.label.en),Ft.summary&&(Yt.description=Ft.summary.en[0]),Ft.thumbnail&&(Yt.image=Ft.thumbnail[0].id),Yt}function de(Ft,qt=""){let Yt={id:qt||Ft.id};return Ft.coords&&(Yt.coords=Ft.coords),Ft.geojson&&(Yt.geojson=Ft.geojson),Ft.label&&(Yt.label=Ft.label),Ft.description&&(Yt.description=Ft.description),Ft.thumbnail&&(Yt.image=Ft.thumbnail),Yt}async function Jt(Ft){let qt=ye(Ft),Yt=/\.(geo)?json$/i,Xt=/^[a-z0-9\-]+:.+/,ot={},ft=new Set(["disabled","prefer-geojson"]);for(let vt=0;vt<qt.length;vt++){let O=qt[vt];if(O.indexOf("=")>0){let[X,...dt]=O.split("="),kt=dt.join("=");if(kt=kt[kt.length-1]==='"'?kt.slice(1,-1):kt,X==="qid"){let xt=await Gd(O);ot={...de(xt,O),...ot}}else if(X==="iiif"){let xt=await Vv(O);ot={...Gt(xt,O),...ot}}else ot[X]=kt}else if(ie(O))ot.zoom=parseInt(O);else if(Qt(O))ot.coords=O,ot.id=O;else if(Aw(O)){let X=await Gd(O);ot={...de(X,O),...ot}}else if(Yt.test(O))ot.geojson=O;else if(Xt.test(O)){let X=await Vv(O);ot={...Gt(X,O),...ot}}else if(ft.has(O))ot[PD(O)]=!0;else{let X=O[0]==='"'&&O[O.length-1]==='"'?O.slice(1,-1):O;ot.label?ot.description=X:ot.label=X}}return ot.preferGeojson=ot.preferGeojson||r.preferGeojson&&ot.geojson||ot.geojson&&!ot.coords,ot}function Qe(Ft){let[qt,Yt]=Ft.split(",").map(Xt=>parseFloat(Xt.trim()));return new $n.LatLng(qt,Yt)}function wt(Ft){navigator.clipboard&&navigator.clipboard.writeText(Ft)}function Ot(Ft="",qt=""){return Object.values(F.value).map(Xt=>{let ot=Xt[0];return ot.type==="FeatureCollection"?ot.features:[ot]}).flat().find(Xt=>{var ot,ft;return Xt.id===Ft||((ot=Xt.properties)==null?void 0:ot.id)===Ft||((ft=Xt.properties)==null?void 0:ft.coords)===qt})}function Wt(Ft=""){var ft,vt,O,X;Ft=Ft.replace(/^flyto\|/i,"");let qt="",Yt=10,Xt=Ft.split(",");if(Xt.length===1){qt=Xt[0];let dt=Ot(qt);Yt=((ft=dt==null?void 0:dt.properties)==null?void 0:ft.zoom)||Yt}else if(Xt.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(Xt[0])){qt=Xt.join(",");let dt=Ot("",qt);Yt=((vt=dt==null?void 0:dt.properties)==null?void 0:vt.zoom)||Yt}else qt=Xt[0],Yt=parseFloat(Xt[1]);else qt=Xt.slice(0,2).join(","),Yt=parseFloat(Xt[2]);let ot;return(O=v.value)==null||O.eachLayer(dt=>{var kt,xt,zt,_t;(((xt=(kt=dt==null?void 0:dt.feature)==null?void 0:kt.properties)==null?void 0:xt.id)===qt||((_t=(zt=dt==null?void 0:dt.feature)==null?void 0:zt.properties)==null?void 0:_t.coords)===qt)&&(ot=dt)}),ot||(X=v.value)==null||X.eachLayer(dt=>ot=dt),{id:qt,zoom:Yt,layer:ot}}function ee(){let Ft=d.value.parentElement,qt=new Set;for(;Ft!=null&&Ft.parentElement&&Ft.tagName!=="MAIN";)Ft=Ft.parentElement,Array.from(Ft.querySelectorAll("[enter],[exit]")).forEach(Xt=>{se(Xt)&&!qt.has(Xt)&&(me(Xt),qt.add(Xt))});let Yt=d.value.parentElement;for(;Yt!=null&&Yt.parentElement&&Yt.tagName!=="BODY";)Yt=Yt.parentElement;Yt&&Array.from(Yt.querySelectorAll("mark")).forEach(Xt=>{let ot=Array.from(Xt.attributes).find(ft=>ft.name==="flyto");if(ot&&se(Xt.parentElement)){let vt=ot==null?void 0:ot.value;Xt.classList.add(ot.name),Xt.addEventListener("click",()=>he(vt)),r.popupOnHover&&(Xt.addEventListener("mouseover",()=>{let O=Wt(vt).layer;O.openPopup(),yv()&&setTimeout(()=>O.closePopup(),2e3)}),Xt.addEventListener("mouseleave",()=>{var O;j.value=Wt(vt),j.value.id!==W.value&&((O=j.value.layer)==null||O.closePopup())}))}})}function me(Ft){let qt=Ft.classList.contains("active");new MutationObserver(Xt=>{Xt.forEach(ot=>{if(ot.attributeName=="class"){let ft=ot.target.classList.contains("active");if(qt!==ft){qt=ft;let vt=Ft.attributes.getNamedItem(ft?"enter":"exit");if(vt){const[O,...X]=vt.value.split(":");let dt=X.join(":");O==="flyto"&&he(dt,!0),vt.name==="exit"&&er()}}}})}).observe(Ft,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function se(Ft){let qt=Ft.previousSibling;for(;qt;){if(qt.nodeName==="VE-MAP")return qt===d.value?qt:null;qt=qt.previousSibling}for(;Ft.parentElement&&Ft.tagName!=="MAIN";){Ft=Ft.parentElement;let Yt=Ft.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(Yt)return Yt===d.value?Yt:null}}async function he(Ft,qt=!1){var Yt,Xt;if(j.value=Wt(Ft),j.value.layer){if(j.value.id===W.value&&!qt)j.value.layer.closePopup(),er();else if(W.value=j.value.id,(Yt=j.value.layer.feature)!=null&&Yt.properties){let ot=Qe(j.value.layer.feature.properties.coords);(Xt=v.value)==null||Xt.flyTo(ot,j.value.zoom)}}else er()}function er(){var Ft,qt;if(j.value=null,H.value){let[Yt,Xt,ot]=H.value.split(",").map(vt=>parseFloat(vt)),ft=new ms.LatLng(Yt,Xt);(Ft=v.value)==null||Ft.flyTo(ft,ot),(qt=v.value)==null||qt.closePopup()}W.value=void 0}return(Ft,qt)=>(Pe(),Ae("div",{ref_key:"root",ref:u,style:{width:"100%",height:"100%"}},[Kt("div",uH,[Kt("div",{id:"lat-lng-zoom",innerHTML:k.value,onClick:qt[0]||(qt[0]=Yt=>wt(`${k.value}`))},null,8,hH),Kt("div",{id:"map",ref_key:"mapEl",ref:p},null,512),n.caption?(Pe(),Ae("div",{key:0,id:"caption",innerHTML:n.caption},null,8,dH)):ci("",!0)],512)],512))}}),fH=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit}.content{width:100%;height:100%;margin:auto}#map{width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}
`,gH=ta(pH,[["styles",[fH]]]),mH=Kt("sl-button",{slot:"trigger"},[Kt("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[Kt("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),vH=["onClick"],yH=["innerHTML"],bH=["innerHTML"],wH={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},xH=Kt("span",null,"Download as PDF",-1),_H=Kt("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),kH=[xH,_H],EH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},TH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},SH={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},CH=Kt("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),PH=["innerHTML"],MH=Qo({__name:"Menu.ce",props:{contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(n){const r=n,t=ke(null),o=wr(()=>{var H,W;return(W=(H=t.value)==null?void 0:H.getRootNode())==null?void 0:W.host});sr(o,()=>{C()});const l=ke(null),u=wr(()=>l==null?void 0:l.value),d=wr(()=>new Px(u.value)),p=ke(null),m=wr(()=>p==null?void 0:p.value),v=ke("Generating PDF...");sr(m,H=>{d.value.init(),H.addEventListener("open.hs.overlay",W=>_.value=!0),H.addEventListener("close.hs.overlay",W=>_.value=!1)});const _=ke(!1);sr(_,H=>{H?d.value.open(m.value):d.value.close(m.value)});const k=ke([]);function C(){function H(){let W=Array.from(o.value.querySelectorAll("li")).map(j=>{var ut,ct;const q=j.querySelector("a");let nt=q.innerText.trim(),pt=(ut=j.querySelector("svg"))==null?void 0:ut.outerHTML;if(!pt){let V=((ct=q.href.split("/").filter(at=>at).pop())==null?void 0:ct.toLowerCase())||"";V=location.host===V?"home":V,U[V]&&(pt=U[V])}return{label:nt,icon:pt,href:q.href}});r.contact&&W.push({label:"Contact Us",icon:U.contact,href:"/contact"}),k.value=W}H(),new MutationObserver(W=>{for(let j of W)j.type==="childList"&&H()}).observe(o.value,{childList:!0,subtree:!0})}function M(H,W){var q;let j=H.href.split("/").filter(nt=>nt).pop().toLowerCase();if(j=location.host===j?"home":j,j==="contact")A();else{let nt=new URL(H.href);if(nt.origin===location.origin){let ut=`${((q=(window==null?void 0:window.config)||{})==null?void 0:q.baseurl)||""}${nt.pathname}`;location.pathname=ut}else location.href=H.href}}function A(){const H=r.contact,W=`${window.config.title} Contact`,q=`mailto:${H}?subject=${W}&body=`;window.open(q,"_blank")}async function F(){console.log(`Generating PDF for ${location.href}`),v.value="Generating PDF...",_.value=!_.value;let H=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${location.href}`);if(H.ok){v.value="Downloading PDF...";let W=await H.blob();const j=document.createElement("a");j.setAttribute("download","resume.pdf");const q=URL.createObjectURL(W);j.href=q,j.setAttribute("target","_blank"),j.click(),j.addEventListener,URL.revokeObjectURL(q)}setTimeout(()=>_.value=!1,2e3)}const U={home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>'};return(H,W)=>(Pe(),Ae(Yi,null,[Kt("sl-dropdown",{ref_key:"root",ref:t},[mH,Kt("sl-menu",null,[(Pe(!0),Ae(Yi,null,nu(k.value,j=>(Pe(),Ae("sl-menu-item",{onClick:q=>M(j)},[Kt("span",{innerHTML:j.label},null,8,yH),j.icon?(Pe(),Ae("svg",{key:0,slot:"prefix",innerHTML:j.icon},null,8,bH)):(Pe(),Ae("span",wH))],8,vH))),256)),n.pdfDownloadEnabled?(Pe(),Ae("sl-menu-item",{key:0,onClick:F},kH)):ci("",!0)])],512),Kt("div",{ref_key:"overlayRef",ref:l},[Kt("div",{ref_key:"modalRef",ref:p,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Kt("div",EH,[Kt("div",TH,[Kt("div",SH,[CH,Kt("p",{innerHTML:v.value},null,8,PH)])])])],512)],512)],64))}}),IH=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,LH=ta(MH,[["styles",[IH]]]),RH=Qo({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(n){return()=>{}}}),AH={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},OH={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},zH={class:"p-4 overflow-y-auto"},NH={class:"mt-1 text-gray-800 dark:text-gray-400"},DH=Qo({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(n){const r=n,t=ke(null),o=ke(null),l=wr(()=>{var v,_;return(_=(v=t.value)==null?void 0:v.getRootNode())==null?void 0:_.host}),u=wr(()=>t==null?void 0:t.value),d=wr(()=>o==null?void 0:o.value),p=wr(()=>new Px(u.value));sr(d,()=>{p.value.init(),d.value.addEventListener("open.hs.overlay",v=>m.value=!0),d.value.addEventListener("close.hs.overlay",v=>m.value=!1)});const m=ke(!1);return sr(m,v=>{v?(p.value.open(d.value),l.value.setAttribute("open","")):(p.value.close(d.value),l.value.removeAttribute("open"))}),sr(r,()=>{m.value=r.open}),ml(()=>{m.value=r.open}),(v,_)=>(Pe(),Ae("div",{ref_key:"overlayRef",ref:t},[Kt("div",{ref_key:"modalRef",ref:o,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[Kt("div",AH,[Kt("div",OH,[Kt("div",zH,[Kt("p",NH,[A5(v.$slots,"default")])])])])],512)],512))}}),FH=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,BH=ta(DH,[["styles",[FH]]]),jH=Kt("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),HH={class:"wrapper"},UH={class:"search-form"},GH={class:"input-wrapper relative"},qH=Kt("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),VH=[qH],WH={key:0,class:"search-results"},ZH=["href"],YH=["innerHTML"],XH=["innerHTML"],KH={key:0},JH=Kt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[Kt("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),QH=[JH],$H="https://www.googleapis.com/customsearch/v1",tU=Qo({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(n){const r=n,t=ke(U(r.searchDomain||"",r.searchKey||"")),o=ke(null),l=wr(()=>{var H;return(H=o==null?void 0:o.value)==null?void 0:H.parentNode}),u=ke(),d=ke(),p=ke(""),m=ke([]),v=ke(0),_=ke(!1);ml(()=>C());function k(H){console.log("open",H),H.preventDefault(),_.value=!0}function C(){var H,W;u.value=(H=l.value)==null?void 0:H.querySelector("#search-input"),u.value.value="",d.value=(W=l.value)==null?void 0:W.querySelector("#search-btn"),m.value=[]}sr(_,()=>{var H;d.value&&(d.value.checked=_.value),_&&((H=u.value)==null||H.focus())});function M(){var nt;let H=(nt=u.value)==null?void 0:nt.value.replace(/ /,"%20"),W={q:H,start:H===p.value?m.value.length+1:1,key:t.value,cx:r.searchCx},j=Object.keys(W).map(pt=>`${pt}=${W[pt]}`).join("&"),q=`${$H}?${j}`;fetch(q).then(pt=>pt.json()).then(pt=>{v.value=parseInt(pt.searchInformation.totalResults);let ut=pt.items.map(ct=>{var at;let V=new URL(ct.link);return ct.link=`${location.origin}${((at=window.config)==null?void 0:at.baseurl)||""}${V.pathname}`,ct});m.value=H!==p.value?ut:[...m.value,...ut],p.value=H||""})}function A(H){H.key==="Enter"&&M()}function F(H){H.preventDefault(),H.stopPropagation(),_.value=!1,u.value&&(u.value.value=""),p.value="",v.value=0,m.value=[]}function U(H,W){const j=ut=>ut.split("").map(ct=>ct.charCodeAt(0)),q=ut=>j(H).reduce((ct,V)=>ct^V,ut);let nt=W.match(/.{1,2}/g);return nt?nt.map(ut=>parseInt(ut,16)).map(q).map(ut=>String.fromCharCode(ut)).join(""):""}return(H,W)=>(Pe(),Ae("div",{ref_key:"root",ref:o,class:"search"},[jH,Kt("div",HH,[Kt("div",UH,[Kt("div",GH,[Kt("input",{type:"text",id:"search-input",class:"search-input",onKeyup:A,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(Pe(),Ae("svg",{onClick:F,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},VH))]),m.value.length>0?(Pe(),Ae("ul",WH,[(Pe(!0),Ae(Yi,null,nu(m.value,(j,q)=>(Pe(),Ae("li",{key:`sr=${q}`},[Kt("a",{href:j.link},[Kt("h3",{innerHTML:j.htmlTitle},null,8,YH),Kt("p",{innerHTML:j.htmlSnippet},null,8,XH)],8,ZH)]))),128)),v.value>m.value.length?(Pe(),Ae("li",KH,[Kt("div",{class:"more",onClick:M},"More")])):ci("",!0)])):ci("",!0)]),Kt("label",{class:"search-icon",htmlFor:"search-btn"},[Kt("span",{onClick:k},QH)])],512))}}),eU=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.end-1{inset-inline-end:.25rem}.right-0{right:0}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-2{margin:.5rem}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mb-2{margin-bottom:.5rem}.ml-1{margin-left:.25rem}.ml-4{margin-left:1rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-8{height:2rem}.h-\\[100\\%\\]{height:100%}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-copy{cursor:copy}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pb-2{padding-bottom:.5rem}.pl-4{padding-left:1rem}.pr-4{padding-right:1rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-6{line-height:1.5rem}.text-\\[\\#0645ad\\]{--tw-text-opacity: 1;color:rgb(6 69 173 / var(--tw-text-opacity))}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}mdp-header ul,mdp-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.hover\\:underline:hover{text-decoration-line:underline}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.group:hover .group-hover\\:visible,.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,rU=ta(tU,[["styles",[eU]]]);cL(()=>import("./preline-7d6f83a6.js").then(n=>n.p),[]);function iU(){customElements.define("mdp-breadcrumbs",gs(VO)),customElements.define("mdp-entity-infobox",gs(d3)),customElements.define("mdp-footer",gs(D3)),customElements.define("mdp-gallery",gs(qD)),customElements.define("mdp-header",gs(o4)),customElements.define("mdp-image",gs(g4)),customElements.define("mdp-manifest",gs(h6)),customElements.define("mdp-manifest-popup",gs(w6)),customElements.define("mdp-map",gs(gH)),customElements.define("mdp-menu",gs(LH)),customElements.define("mdp-meta",gs(RH)),customElements.define("mdp-modal",gs(BH)),customElements.define("mdp-site-search",gs(rU))}console.log("mdpress: version=0.1.0");iU();export{ZC as g};
